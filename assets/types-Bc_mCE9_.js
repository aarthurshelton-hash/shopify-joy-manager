const e="/**\n * En Pensent Code - Type Definitions\n * \n * Code-specific types for analyzing software development patterns\n */\n\nimport { TemporalSignature, QuadrantProfile, TemporalFlow, CriticalMoment } from '../pensent-core/types';\n\n// ============================================================================\n// CODE DOMAIN TYPES\n// ============================================================================\n\n/**\n * A single commit in the code evolution\n */\nexport interface CodeCommit {\n  /** Commit hash/ID */\n  id: string;\n  /** Commit message */\n  message: string;\n  /** Author name or ID */\n  author: string;\n  /** Timestamp */\n  timestamp: Date;\n  /** Files changed */\n  filesChanged: CodeFileChange[];\n  /** Lines added */\n  additions: number;\n  /** Lines removed */\n  deletions: number;\n  /** Optional: branch name */\n  branch?: string;\n}\n\n/**\n * A file change within a commit\n */\nexport interface CodeFileChange {\n  /** File path */\n  path: string;\n  /** Change type */\n  changeType: 'added' | 'modified' | 'deleted' | 'renamed';\n  /** Lines added */\n  additions: number;\n  /** Lines removed */\n  deletions: number;\n  /** File category (derived from path/extension) */\n  category: FileCategory;\n}\n\n/**\n * File categories for quadrant mapping\n */\nexport type FileCategory = \n  | 'frontend'      // UI components, styles, views\n  | 'backend'       // Server logic, APIs, database\n  | 'tests'         // Test files\n  | 'config'        // Configuration, build, deployment\n  | 'docs'          // Documentation\n  | 'assets'        // Static assets, images\n  | 'types'         // Type definitions\n  | 'utils'         // Utilities, helpers\n  | 'unknown';\n\n/**\n * Code Flow Signature - extends TemporalSignature with code-specific data\n */\nexport interface CodeFlowSignature extends TemporalSignature {\n  /** Code-specific archetype */\n  archetype: CodeArchetype;\n  /** Code quadrant profile maps to file categories */\n  quadrantProfile: CodeQuadrantProfile;\n  /** Code-specific temporal flow */\n  temporalFlow: CodeTemporalFlow;\n  /** Code-specific metrics */\n  codeMetrics: CodeMetrics;\n  /** Domain identifier */\n  domainData: {\n    domain: 'code';\n    totalCommits: number;\n    totalAuthors: number;\n    dateRange: { start: Date; end: Date };\n    primaryLanguage?: string;\n  };\n}\n\n/**\n * Code quadrant profile - maps activity to code regions\n */\nexport interface CodeQuadrantProfile extends QuadrantProfile {\n  /** Frontend activity (UI, styles, components) */\n  q1: number;\n  /** Backend activity (APIs, server, database) */\n  q2: number;\n  /** Test activity (unit, integration, e2e) */\n  q3: number;\n  /** Config/infra activity (build, deploy, docs) */\n  q4: number;\n  /** Utility/shared code activity */\n  center?: number;\n  /** Detailed breakdown by category */\n  custom?: {\n    frontend: number;\n    backend: number;\n    tests: number;\n    config: number;\n    docs: number;\n    types: number;\n    utils: number;\n  };\n}\n\n/**\n * Code temporal flow with development-specific metrics\n */\nexport interface CodeTemporalFlow extends TemporalFlow {\n  /** Development velocity trend */\n  velocityTrend: 'accelerating' | 'stable' | 'declining';\n  /** Bug fix to feature ratio */\n  bugToFeatureRatio: number;\n  /** Refactor to new code ratio */\n  refactorRatio: number;\n  /** Test coverage trend */\n  testCoverageTrend: 'improving' | 'stable' | 'declining';\n}\n\n/**\n * Code-specific metrics\n */\nexport interface CodeMetrics {\n  /** Average commit size (lines changed) */\n  avgCommitSize: number;\n  /** Commit frequency (commits per day) */\n  commitFrequency: number;\n  /** Code churn rate (additions + deletions / total lines) */\n  churnRate: number;\n  /** Number of unique contributors */\n  contributorCount: number;\n  /** File concentration (how focused changes are) */\n  fileConcentration: number;\n  /** Bug indicator keywords in commits */\n  bugIndicatorCount: number;\n  /** Refactor indicator keywords in commits */\n  refactorIndicatorCount: number;\n  /** Feature indicator keywords in commits */\n  featureIndicatorCount: number;\n}\n\n// ============================================================================\n// CODE ARCHETYPES\n// ============================================================================\n\n/**\n * Code-specific strategic archetypes\n */\nexport type CodeArchetype =\n  | 'rapid_growth'          // Fast feature development, high additions\n  | 'refactor_cycle'        // Heavy refactoring, balanced adds/deletes\n  | 'tech_debt_spiral'      // Accumulating complexity, declining tests\n  | 'stability_plateau'     // Maintenance mode, small changes\n  | 'feature_burst'         // Concentrated feature work\n  | 'death_march'           // Unsustainable pace, declining quality\n  | 'test_driven'           // High test coverage, quality focus\n  | 'documentation_push'    // Documentation and cleanup focus\n  | 'infrastructure_shift'  // Major architecture/config changes\n  | 'bug_hunting'           // Bug fix focused period\n  | 'greenfield'            // New project, mostly additions\n  | 'legacy_rescue';        // Fixing/improving old codebase\n\n/**\n * Code archetype definitions with success patterns\n */\nexport const CODE_ARCHETYPE_DEFINITIONS: Record<CodeArchetype, {\n  name: string;\n  description: string;\n  successRate: number;\n  predictedOutcome: 'success' | 'failure' | 'uncertain';\n  confidence: number;\n  keywords: string[];\n  relatedArchetypes: CodeArchetype[];\n  warningSignals: string[];\n  recommendations: string[];\n}> = {\n  rapid_growth: {\n    name: 'Rapid Growth',\n    description: 'Fast feature development with high code additions',\n    successRate: 0.65,\n    predictedOutcome: 'success',\n    confidence: 0.7,\n    keywords: ['add', 'feature', 'implement', 'create', 'new'],\n    relatedArchetypes: ['feature_burst', 'greenfield'],\n    warningSignals: ['Test coverage declining', 'Rising bug reports'],\n    recommendations: ['Maintain test coverage', 'Schedule refactoring sprints']\n  },\n  refactor_cycle: {\n    name: 'Refactor Cycle',\n    description: 'Focused code improvement and restructuring',\n    successRate: 0.75,\n    predictedOutcome: 'success',\n    confidence: 0.8,\n    keywords: ['refactor', 'cleanup', 'improve', 'restructure', 'optimize'],\n    relatedArchetypes: ['tech_debt_spiral', 'legacy_rescue'],\n    warningSignals: ['Scope creep', 'Breaking changes accumulating'],\n    recommendations: ['Complete refactoring before new features', 'Increase test coverage']\n  },\n  tech_debt_spiral: {\n    name: 'Tech Debt Spiral',\n    description: 'Accumulating technical debt with declining quality indicators',\n    successRate: 0.35,\n    predictedOutcome: 'failure',\n    confidence: 0.75,\n    keywords: ['hack', 'workaround', 'todo', 'fixme', 'temporary'],\n    relatedArchetypes: ['death_march', 'bug_hunting'],\n    warningSignals: ['Rising bug count', 'Declining velocity', 'Team burnout'],\n    recommendations: ['Stop feature work', 'Dedicated debt reduction sprint', 'Code review enforcement']\n  },\n  stability_plateau: {\n    name: 'Stability Plateau',\n    description: 'Maintenance mode with minimal changes',\n    successRate: 0.7,\n    predictedOutcome: 'success',\n    confidence: 0.6,\n    keywords: ['fix', 'update', 'bump', 'minor', 'patch'],\n    relatedArchetypes: ['documentation_push', 'test_driven'],\n    warningSignals: ['Stagnation risk', 'Missing innovation'],\n    recommendations: ['Plan next feature cycle', 'Evaluate modernization opportunities']\n  },\n  feature_burst: {\n    name: 'Feature Burst',\n    description: 'Concentrated period of feature development',\n    successRate: 0.6,\n    predictedOutcome: 'uncertain',\n    confidence: 0.65,\n    keywords: ['feature', 'add', 'implement', 'ship', 'release'],\n    relatedArchetypes: ['rapid_growth', 'death_march'],\n    warningSignals: ['Quality degradation', 'Integration issues'],\n    recommendations: ['Plan consolidation period', 'Increase QA resources']\n  },\n  death_march: {\n    name: 'Death March',\n    description: 'Unsustainable development pace with declining quality',\n    successRate: 0.25,\n    predictedOutcome: 'failure',\n    confidence: 0.85,\n    keywords: ['urgent', 'hotfix', 'asap', 'critical', 'emergency'],\n    relatedArchetypes: ['tech_debt_spiral', 'bug_hunting'],\n    warningSignals: ['Team burnout imminent', 'Quality in freefall'],\n    recommendations: ['Reduce scope immediately', 'Prioritize sustainability', 'Consider team health']\n  },\n  test_driven: {\n    name: 'Test Driven',\n    description: 'Quality-focused development with high test coverage',\n    successRate: 0.8,\n    predictedOutcome: 'success',\n    confidence: 0.85,\n    keywords: ['test', 'spec', 'coverage', 'assert', 'mock'],\n    relatedArchetypes: ['refactor_cycle', 'stability_plateau'],\n    warningSignals: ['Over-testing', 'Slow velocity'],\n    recommendations: ['Balance test investment', 'Focus on critical paths']\n  },\n  documentation_push: {\n    name: 'Documentation Push',\n    description: 'Focus on documentation and knowledge sharing',\n    successRate: 0.7,\n    predictedOutcome: 'success',\n    confidence: 0.7,\n    keywords: ['docs', 'readme', 'comment', 'explain', 'guide'],\n    relatedArchetypes: ['stability_plateau', 'refactor_cycle'],\n    warningSignals: ['Documentation debt', 'Knowledge silos'],\n    recommendations: ['Integrate docs into workflow', 'Regular doc reviews']\n  },\n  infrastructure_shift: {\n    name: 'Infrastructure Shift',\n    description: 'Major changes to build, deploy, or architecture',\n    successRate: 0.55,\n    predictedOutcome: 'uncertain',\n    confidence: 0.6,\n    keywords: ['config', 'deploy', 'ci', 'docker', 'infrastructure', 'migrate'],\n    relatedArchetypes: ['refactor_cycle', 'greenfield'],\n    warningSignals: ['Breaking changes', 'Deployment issues'],\n    recommendations: ['Thorough testing', 'Staged rollout', 'Rollback plan']\n  },\n  bug_hunting: {\n    name: 'Bug Hunting',\n    description: 'Focused period of bug fixes and issue resolution',\n    successRate: 0.7,\n    predictedOutcome: 'success',\n    confidence: 0.75,\n    keywords: ['fix', 'bug', 'issue', 'resolve', 'patch', 'error'],\n    relatedArchetypes: ['tech_debt_spiral', 'stability_plateau'],\n    warningSignals: ['Recurring bugs', 'Root cause not addressed'],\n    recommendations: ['Address root causes', 'Improve error handling', 'Add regression tests']\n  },\n  greenfield: {\n    name: 'Greenfield',\n    description: 'New project with mostly additions',\n    successRate: 0.6,\n    predictedOutcome: 'uncertain',\n    confidence: 0.5,\n    keywords: ['init', 'initial', 'setup', 'create', 'scaffold'],\n    relatedArchetypes: ['rapid_growth', 'feature_burst'],\n    warningSignals: ['Architecture decisions pending', 'Foundation quality'],\n    recommendations: ['Establish patterns early', 'Invest in foundation', 'Set up CI/CD']\n  },\n  legacy_rescue: {\n    name: 'Legacy Rescue',\n    description: 'Modernizing and improving old codebase',\n    successRate: 0.5,\n    predictedOutcome: 'uncertain',\n    confidence: 0.55,\n    keywords: ['upgrade', 'migrate', 'modernize', 'deprecate', 'replace'],\n    relatedArchetypes: ['refactor_cycle', 'infrastructure_shift'],\n    warningSignals: ['Compatibility issues', 'Hidden complexity'],\n    recommendations: ['Incremental migration', 'Maintain compatibility', 'Comprehensive testing']\n  }\n};\n\n// ============================================================================\n// COMMIT CLASSIFICATION\n// ============================================================================\n\n/**\n * Commit type classification\n */\nexport type CommitType = \n  | 'feature'\n  | 'bugfix'\n  | 'refactor'\n  | 'test'\n  | 'docs'\n  | 'chore'\n  | 'style'\n  | 'perf'\n  | 'build'\n  | 'ci'\n  | 'revert'\n  | 'unknown';\n\n/**\n * Keywords for classifying commits\n */\nexport const COMMIT_TYPE_KEYWORDS: Record<CommitType, string[]> = {\n  feature: ['feat', 'feature', 'add', 'implement', 'create', 'new', 'support'],\n  bugfix: ['fix', 'bug', 'issue', 'resolve', 'patch', 'error', 'crash', 'hotfix'],\n  refactor: ['refactor', 'restructure', 'cleanup', 'improve', 'optimize', 'simplify'],\n  test: ['test', 'spec', 'coverage', 'jest', 'mocha', 'cypress', 'e2e'],\n  docs: ['docs', 'readme', 'documentation', 'comment', 'jsdoc', 'guide'],\n  chore: ['chore', 'update', 'bump', 'upgrade', 'deps', 'dependencies'],\n  style: ['style', 'format', 'lint', 'prettier', 'eslint', 'whitespace'],\n  perf: ['perf', 'performance', 'optimize', 'speed', 'faster', 'cache'],\n  build: ['build', 'webpack', 'vite', 'bundle', 'compile'],\n  ci: ['ci', 'cd', 'pipeline', 'github actions', 'deploy', 'workflow'],\n  revert: ['revert', 'rollback', 'undo'],\n  unknown: []\n};\n\n/**\n * File extension to category mapping\n */\nexport const FILE_CATEGORY_MAP: Record<string, FileCategory> = {\n  // Frontend\n  '.tsx': 'frontend',\n  '.jsx': 'frontend',\n  '.vue': 'frontend',\n  '.svelte': 'frontend',\n  '.css': 'frontend',\n  '.scss': 'frontend',\n  '.less': 'frontend',\n  '.html': 'frontend',\n  \n  // Backend\n  '.py': 'backend',\n  '.go': 'backend',\n  '.rs': 'backend',\n  '.java': 'backend',\n  '.rb': 'backend',\n  '.php': 'backend',\n  '.sql': 'backend',\n  \n  // Tests\n  '.test.ts': 'tests',\n  '.test.tsx': 'tests',\n  '.test.js': 'tests',\n  '.spec.ts': 'tests',\n  '.spec.js': 'tests',\n  '.cy.ts': 'tests',\n  '.cy.js': 'tests',\n  \n  // Config\n  '.json': 'config',\n  '.yaml': 'config',\n  '.yml': 'config',\n  '.toml': 'config',\n  '.env': 'config',\n  \n  // Docs\n  '.md': 'docs',\n  '.mdx': 'docs',\n  '.txt': 'docs',\n  \n  // Types\n  '.d.ts': 'types',\n  \n  // Utils (determined by path)\n  '.ts': 'utils', // Default, overridden by path analysis\n  '.js': 'utils',\n  \n  // Assets\n  '.png': 'assets',\n  '.jpg': 'assets',\n  '.svg': 'assets',\n  '.gif': 'assets',\n  '.ico': 'assets',\n  '.webp': 'assets',\n  '.mp4': 'assets',\n  '.mp3': 'assets'\n};\n";export{e as default};
