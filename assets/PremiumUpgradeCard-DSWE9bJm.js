const n='import React, { useState } from \'react\';\nimport { useAuth } from \'@/hooks/useAuth\';\nimport { Button } from \'@/components/ui/button\';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \'@/components/ui/card\';\nimport { Badge } from \'@/components/ui/badge\';\nimport { Crown, Loader2 } from \'lucide-react\';\nimport { toast } from \'sonner\';\nimport { VisionaryMembershipCard } from \'./VisionaryMembershipCard\';\n\ninterface PremiumUpgradeCardProps {\n  onAuthRequired?: () => void;\n  compact?: boolean;\n}\n\nconst PremiumUpgradeCard: React.FC<PremiumUpgradeCardProps> = ({ \n  onAuthRequired,\n  compact = false \n}) => {\n  const { user, isPremium, subscriptionStatus, isCheckingSubscription, openCustomerPortal } = useAuth();\n  const [isLoading, setIsLoading] = useState(false);\n  const [showVisionaryModal, setShowVisionaryModal] = useState(false);\n\n  const handleManageSubscription = async () => {\n    setIsLoading(true);\n    try {\n      await openCustomerPortal();\n    } catch (error) {\n      console.error(\'Portal error:\', error);\n      toast.error(\'Failed to open subscription management\', {\n        description: error instanceof Error ? error.message : \'Please try again\',\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  if (isPremium) {\n    return (\n      <Card className={`border-primary/30 bg-gradient-to-br from-primary/5 to-primary/10 ${compact ? \'\' : \'max-w-md\'}`}>\n        <CardHeader className={compact ? \'pb-3\' : \'\'}>\n          <div className="flex items-center gap-2">\n            <Crown className="h-5 w-5 text-primary" />\n            <CardTitle className="text-lg">Visionary Premium</CardTitle>\n            <Badge variant="secondary" className="bg-primary/20 text-primary">\n              Active\n            </Badge>\n          </div>\n          {subscriptionStatus?.subscriptionEnd && (\n            <CardDescription>\n              Renews {new Date(subscriptionStatus.subscriptionEnd).toLocaleDateString()}\n            </CardDescription>\n          )}\n        </CardHeader>\n        <CardContent>\n          <Button\n            variant="outline"\n            className="w-full"\n            onClick={handleManageSubscription}\n            disabled={isLoading}\n          >\n            {isLoading ? (\n              <Loader2 className="h-4 w-4 animate-spin mr-2" />\n            ) : null}\n            Manage Subscription\n          </Button>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  if (compact) {\n    return (\n      <>\n        <Card className="border-primary/20 bg-gradient-to-br from-background to-primary/5">\n          <CardContent className="p-4">\n            <div className="flex items-center justify-between gap-4">\n              <div className="flex items-center gap-2">\n                <Crown className="h-5 w-5 text-primary" />\n                <div>\n                  <p className="font-medium text-sm">Go Premium</p>\n                  <p className="text-xs text-muted-foreground">$7/month â€¢ No watermarks</p>\n                </div>\n              </div>\n              <Button\n                size="sm"\n                onClick={() => setShowVisionaryModal(true)}\n                disabled={isCheckingSubscription}\n                className="btn-luxury"\n              >\n                Upgrade\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n        <VisionaryMembershipCard\n          isOpen={showVisionaryModal}\n          onClose={() => setShowVisionaryModal(false)}\n          onAuthRequired={onAuthRequired}\n          trigger="general"\n        />\n      </>\n    );\n  }\n\n  return (\n    <>\n      <Card className="border-primary/20 bg-gradient-to-br from-background to-primary/5 max-w-md">\n        <CardHeader>\n          <div className="flex items-center gap-2">\n            <Crown className="h-6 w-6 text-primary" />\n            <CardTitle className="text-xl">Visionary Premium</CardTitle>\n          </div>\n          <CardDescription className="text-base">\n            Unlock the full experience for just $7/month\n          </CardDescription>\n        </CardHeader>\n        <CardContent className="space-y-6">\n          <Button\n            className="w-full btn-luxury"\n            size="lg"\n            onClick={() => setShowVisionaryModal(true)}\n            disabled={isCheckingSubscription}\n          >\n            <Crown className="h-4 w-4 mr-2" />\n            Upgrade to Premium\n          </Button>\n\n          <p className="text-xs text-center text-muted-foreground">\n            Cancel anytime. Secure payment via Stripe.\n          </p>\n        </CardContent>\n      </Card>\n      <VisionaryMembershipCard\n        isOpen={showVisionaryModal}\n        onClose={() => setShowVisionaryModal(false)}\n        onAuthRequired={onAuthRequired}\n        trigger="general"\n      />\n    </>\n  );\n};\n\nexport default PremiumUpgradeCard;\n';export{n as default};
