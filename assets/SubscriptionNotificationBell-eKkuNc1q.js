const n='import { Bell, AlertTriangle, CheckCircle, Clock, XCircle } from \'lucide-react\';\nimport { Button } from \'@/components/ui/button\';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \'@/components/ui/dropdown-menu\';\nimport { Badge } from \'@/components/ui/badge\';\nimport { useSubscriptionNotifications } from \'@/hooks/useSubscriptionNotifications\';\nimport { formatDistanceToNow } from \'date-fns\';\nimport { cn } from \'@/lib/utils\';\n\nconst notificationIcons: Record<string, React.ReactNode> = {\n  expiring_soon: <Clock className="h-4 w-4 text-yellow-500" />,\n  grace_period_started: <AlertTriangle className="h-4 w-4 text-orange-500" />,\n  grace_period_ending: <AlertTriangle className="h-4 w-4 text-destructive" />,\n  visions_released: <XCircle className="h-4 w-4 text-destructive" />,\n  subscription_renewed: <CheckCircle className="h-4 w-4 text-green-500" />,\n};\n\nexport function SubscriptionNotificationBell() {\n  const { notifications, unreadCount, markAsRead, markAllAsRead } = useSubscriptionNotifications();\n\n  if (notifications.length === 0) {\n    return null;\n  }\n\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger asChild>\n        <Button variant="ghost" size="icon" className="relative">\n          <Bell className="h-5 w-5" />\n          {unreadCount > 0 && (\n            <Badge\n              variant="destructive"\n              className="absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs"\n            >\n              {unreadCount > 9 ? \'9+\' : unreadCount}\n            </Badge>\n          )}\n        </Button>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent align="end" className="w-80 max-h-96 overflow-y-auto">\n        <div className="flex items-center justify-between px-3 py-2">\n          <span className="font-semibold text-sm">Notifications</span>\n          {unreadCount > 0 && (\n            <Button variant="ghost" size="sm" className="text-xs h-6" onClick={markAllAsRead}>\n              Mark all read\n            </Button>\n          )}\n        </div>\n        <DropdownMenuSeparator />\n        {notifications.length === 0 ? (\n          <div className="px-3 py-4 text-center text-muted-foreground text-sm">\n            No notifications\n          </div>\n        ) : (\n          notifications.map((notification) => (\n            <DropdownMenuItem\n              key={notification.id}\n              className={cn(\n                \'flex items-start gap-3 p-3 cursor-pointer\',\n                !notification.read_at && \'bg-muted/50\'\n              )}\n              onClick={() => !notification.read_at && markAsRead(notification.id)}\n            >\n              <div className="flex-shrink-0 mt-0.5">\n                {notificationIcons[notification.notification_type] || <Bell className="h-4 w-4" />}\n              </div>\n              <div className="flex-1 min-w-0">\n                <p className="text-sm leading-relaxed">{notification.message}</p>\n                <p className="text-xs text-muted-foreground mt-1">\n                  {formatDistanceToNow(new Date(notification.created_at), { addSuffix: true })}\n                </p>\n              </div>\n              {!notification.read_at && (\n                <div className="flex-shrink-0">\n                  <div className="h-2 w-2 rounded-full bg-primary" />\n                </div>\n              )}\n            </DropdownMenuItem>\n          ))\n        )}\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n';export{n as default};
