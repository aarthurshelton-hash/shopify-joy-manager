const e='import { useState } from "react";\nimport { useNavigate } from "react-router-dom";\nimport { z } from "zod";\nimport { supabase } from "@/integrations/supabase/client";\nimport { useAuth } from "@/hooks/useAuth";\nimport { toast } from "sonner";\nimport { Header } from "@/components/shop/Header";\nimport { Footer } from "@/components/shop/Footer";\nimport { Button } from "@/components/ui/button";\nimport { Input } from "@/components/ui/input";\nimport { Textarea } from "@/components/ui/textarea";\nimport { Checkbox } from "@/components/ui/checkbox";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from "@/components/ui/card";\nimport { Label } from "@/components/ui/label";\nimport { Alert, AlertDescription, AlertTitle } from "@/components/ui/alert";\nimport { AlertTriangle, Scale, CheckCircle2, Shield, ArrowLeft } from "lucide-react";\n\nconst counterNotificationSchema = z.object({\n  notifier_name: z.string().min(2, "Full legal name is required"),\n  notifier_email: z.string().email("Valid email is required"),\n  notifier_address: z.string().min(10, "Complete physical address is required"),\n  notifier_phone: z.string().optional(),\n  original_takedown_description: z.string().min(20, "Please describe the original takedown notice"),\n  removed_content_url: z.string().optional(),\n  removed_content_description: z.string().min(20, "Please describe the removed content"),\n  good_faith_statement: z.boolean().refine(val => val === true, { message: "You must confirm this statement" }),\n  perjury_statement: z.boolean().refine(val => val === true, { message: "You must confirm this statement" }),\n  jurisdiction_consent: z.boolean().refine(val => val === true, { message: "You must consent to jurisdiction" }),\n  electronic_signature: z.string().min(2, "Electronic signature is required"),\n});\n\ntype CounterNotificationData = z.infer<typeof counterNotificationSchema>;\n\nconst DMCACounterNotification = () => {\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [isSubmitted, setIsSubmitted] = useState(false);\n  const [errors, setErrors] = useState<Partial<Record<keyof CounterNotificationData, string>>>({});\n  \n  const [formData, setFormData] = useState<CounterNotificationData>({\n    notifier_name: "",\n    notifier_email: "",\n    notifier_address: "",\n    notifier_phone: "",\n    original_takedown_description: "",\n    removed_content_url: "",\n    removed_content_description: "",\n    good_faith_statement: false,\n    perjury_statement: false,\n    jurisdiction_consent: false,\n    electronic_signature: "",\n  });\n\n  const handleInputChange = (field: keyof CounterNotificationData, value: string | boolean) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n    if (errors[field]) {\n      setErrors(prev => ({ ...prev, [field]: undefined }));\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsSubmitting(true);\n    setErrors({});\n\n    const result = counterNotificationSchema.safeParse(formData);\n    \n    if (!result.success) {\n      const fieldErrors: Partial<Record<keyof CounterNotificationData, string>> = {};\n      result.error.errors.forEach(err => {\n        if (err.path[0]) {\n          fieldErrors[err.path[0] as keyof CounterNotificationData] = err.message;\n        }\n      });\n      setErrors(fieldErrors);\n      setIsSubmitting(false);\n      return;\n    }\n\n    try {\n      const insertData = {\n        notifier_name: result.data.notifier_name,\n        notifier_email: result.data.notifier_email,\n        notifier_address: result.data.notifier_address,\n        notifier_phone: result.data.notifier_phone || null,\n        original_takedown_description: result.data.original_takedown_description,\n        removed_content_url: result.data.removed_content_url || null,\n        removed_content_description: result.data.removed_content_description,\n        good_faith_statement: result.data.good_faith_statement,\n        perjury_statement: result.data.perjury_statement,\n        jurisdiction_consent: result.data.jurisdiction_consent,\n        electronic_signature: result.data.electronic_signature,\n        user_id: user?.id || null,\n      };\n\n      const { error } = await supabase\n        .from(\'dmca_counter_notifications\')\n        .insert(insertData);\n\n      if (error) throw error;\n\n      setIsSubmitted(true);\n      toast.success("Counter-notification submitted successfully");\n    } catch (error) {\n      console.error("Error submitting counter-notification:", error);\n      toast.error("Failed to submit counter-notification. Please try again.");\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  if (isSubmitted) {\n    return (\n      <div className="min-h-screen bg-background">\n        <Header />\n        <main className="container mx-auto px-4 py-12 max-w-2xl">\n          <Card className="border-green-500/20 bg-green-500/5">\n            <CardHeader className="text-center">\n              <CheckCircle2 className="w-16 h-16 text-green-500 mx-auto mb-4" />\n              <CardTitle className="text-2xl">Counter-Notification Received</CardTitle>\n              <CardDescription className="text-base mt-2">\n                Your DMCA counter-notification has been submitted successfully.\n              </CardDescription>\n            </CardHeader>\n            <CardContent className="space-y-4">\n              <div className="bg-muted/50 p-4 rounded-lg">\n                <h4 className="font-semibold mb-2">What happens next?</h4>\n                <ol className="list-decimal list-inside space-y-2 text-sm text-muted-foreground">\n                  <li>We will review your counter-notification within 3 business days</li>\n                  <li>If valid, we will forward it to the original complainant</li>\n                  <li>The complainant has 10-14 business days to file a court action</li>\n                  <li>If no action is filed, your content may be restored</li>\n                </ol>\n              </div>\n              <div className="flex gap-4 justify-center pt-4">\n                <Button variant="outline" onClick={() => navigate("/")}>\n                  Return Home\n                </Button>\n                <Button onClick={() => navigate("/dmca")}>\n                  DMCA Information\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n        </main>\n        <Footer />\n      </div>\n    );\n  }\n\n  return (\n    <div className="min-h-screen bg-background">\n      <Header />\n      <main className="container mx-auto px-4 py-8 max-w-4xl">\n        <Button \n          variant="ghost" \n          onClick={() => navigate("/dmca")}\n          className="mb-6"\n        >\n          <ArrowLeft className="w-4 h-4 mr-2" />\n          Back to DMCA Information\n        </Button>\n\n        <div className="flex items-center gap-3 mb-6">\n          <Scale className="w-8 h-8 text-primary" />\n          <div>\n            <h1 className="text-3xl font-bold">DMCA Counter-Notification</h1>\n            <p className="text-muted-foreground">\n              Dispute a DMCA takedown if you believe your content was wrongly removed\n            </p>\n          </div>\n        </div>\n\n        <Alert variant="destructive" className="mb-8">\n          <AlertTriangle className="h-4 w-4" />\n          <AlertTitle>Legal Document Warning</AlertTitle>\n          <AlertDescription>\n            This is a legal document. Filing a false counter-notification can result in legal liability. \n            You should consult with an attorney before submitting this form if you are unsure about your rights.\n          </AlertDescription>\n        </Alert>\n\n        <div className="grid gap-8 lg:grid-cols-3">\n          <div className="lg:col-span-2">\n            <form onSubmit={handleSubmit} className="space-y-6">\n              <Card>\n                <CardHeader>\n                  <CardTitle>Your Information</CardTitle>\n                  <CardDescription>\n                    Provide your complete contact information as required by law\n                  </CardDescription>\n                </CardHeader>\n                <CardContent className="space-y-4">\n                  <div className="space-y-2">\n                    <Label htmlFor="notifier_name">Full Legal Name *</Label>\n                    <Input\n                      id="notifier_name"\n                      value={formData.notifier_name}\n                      onChange={(e) => handleInputChange("notifier_name", e.target.value)}\n                      placeholder="Your full legal name"\n                      className={errors.notifier_name ? "border-destructive" : ""}\n                    />\n                    {errors.notifier_name && (\n                      <p className="text-sm text-destructive">{errors.notifier_name}</p>\n                    )}\n                  </div>\n\n                  <div className="space-y-2">\n                    <Label htmlFor="notifier_email">Email Address *</Label>\n                    <Input\n                      id="notifier_email"\n                      type="email"\n                      value={formData.notifier_email}\n                      onChange={(e) => handleInputChange("notifier_email", e.target.value)}\n                      placeholder="your@email.com"\n                      className={errors.notifier_email ? "border-destructive" : ""}\n                    />\n                    {errors.notifier_email && (\n                      <p className="text-sm text-destructive">{errors.notifier_email}</p>\n                    )}\n                  </div>\n\n                  <div className="space-y-2">\n                    <Label htmlFor="notifier_address">Physical Address *</Label>\n                    <Textarea\n                      id="notifier_address"\n                      value={formData.notifier_address}\n                      onChange={(e) => handleInputChange("notifier_address", e.target.value)}\n                      placeholder="Complete physical address including city, state/province, postal code, and country"\n                      className={errors.notifier_address ? "border-destructive" : ""}\n                    />\n                    {errors.notifier_address && (\n                      <p className="text-sm text-destructive">{errors.notifier_address}</p>\n                    )}\n                  </div>\n\n                  <div className="space-y-2">\n                    <Label htmlFor="notifier_phone">Phone Number (optional)</Label>\n                    <Input\n                      id="notifier_phone"\n                      type="tel"\n                      value={formData.notifier_phone}\n                      onChange={(e) => handleInputChange("notifier_phone", e.target.value)}\n                      placeholder="+1 (555) 123-4567"\n                    />\n                  </div>\n                </CardContent>\n              </Card>\n\n              <Card>\n                <CardHeader>\n                  <CardTitle>Removed Content Details</CardTitle>\n                  <CardDescription>\n                    Describe the content that was removed and the original takedown\n                  </CardDescription>\n                </CardHeader>\n                <CardContent className="space-y-4">\n                  <div className="space-y-2">\n                    <Label htmlFor="original_takedown_description">Original Takedown Description *</Label>\n                    <Textarea\n                      id="original_takedown_description"\n                      value={formData.original_takedown_description}\n                      onChange={(e) => handleInputChange("original_takedown_description", e.target.value)}\n                      placeholder="Describe the DMCA takedown notice you received (date received, complainant if known, etc.)"\n                      rows={3}\n                      className={errors.original_takedown_description ? "border-destructive" : ""}\n                    />\n                    {errors.original_takedown_description && (\n                      <p className="text-sm text-destructive">{errors.original_takedown_description}</p>\n                    )}\n                  </div>\n\n                  <div className="space-y-2">\n                    <Label htmlFor="removed_content_url">Original Content URL (if applicable)</Label>\n                    <Input\n                      id="removed_content_url"\n                      value={formData.removed_content_url}\n                      onChange={(e) => handleInputChange("removed_content_url", e.target.value)}\n                      placeholder="https://enpensent.com/vision/..."\n                    />\n                  </div>\n\n                  <div className="space-y-2">\n                    <Label htmlFor="removed_content_description">Content Description *</Label>\n                    <Textarea\n                      id="removed_content_description"\n                      value={formData.removed_content_description}\n                      onChange={(e) => handleInputChange("removed_content_description", e.target.value)}\n                      placeholder="Describe the content that was removed and why you believe you have the right to use it"\n                      rows={4}\n                      className={errors.removed_content_description ? "border-destructive" : ""}\n                    />\n                    {errors.removed_content_description && (\n                      <p className="text-sm text-destructive">{errors.removed_content_description}</p>\n                    )}\n                  </div>\n                </CardContent>\n              </Card>\n\n              <Card>\n                <CardHeader>\n                  <CardTitle>Legal Statements</CardTitle>\n                  <CardDescription>\n                    You must confirm all of the following statements under penalty of perjury\n                  </CardDescription>\n                </CardHeader>\n                <CardContent className="space-y-6">\n                  <div className="flex items-start space-x-3">\n                    <Checkbox\n                      id="good_faith_statement"\n                      checked={formData.good_faith_statement}\n                      onCheckedChange={(checked) => handleInputChange("good_faith_statement", checked === true)}\n                    />\n                    <div className="space-y-1">\n                      <Label htmlFor="good_faith_statement" className="font-normal cursor-pointer">\n                        I have a good faith belief that the material was removed or disabled as a result of mistake \n                        or misidentification of the material to be removed or disabled.\n                      </Label>\n                      {errors.good_faith_statement && (\n                        <p className="text-sm text-destructive">{errors.good_faith_statement}</p>\n                      )}\n                    </div>\n                  </div>\n\n                  <div className="flex items-start space-x-3">\n                    <Checkbox\n                      id="perjury_statement"\n                      checked={formData.perjury_statement}\n                      onCheckedChange={(checked) => handleInputChange("perjury_statement", checked === true)}\n                    />\n                    <div className="space-y-1">\n                      <Label htmlFor="perjury_statement" className="font-normal cursor-pointer">\n                        I swear, under penalty of perjury, that the information in this notification is accurate \n                        and that I am the owner of the content that was removed, or am authorized to act on behalf \n                        of the owner.\n                      </Label>\n                      {errors.perjury_statement && (\n                        <p className="text-sm text-destructive">{errors.perjury_statement}</p>\n                      )}\n                    </div>\n                  </div>\n\n                  <div className="flex items-start space-x-3">\n                    <Checkbox\n                      id="jurisdiction_consent"\n                      checked={formData.jurisdiction_consent}\n                      onCheckedChange={(checked) => handleInputChange("jurisdiction_consent", checked === true)}\n                    />\n                    <div className="space-y-1">\n                      <Label htmlFor="jurisdiction_consent" className="font-normal cursor-pointer">\n                        I consent to the jurisdiction of the Federal District Court for the judicial district in \n                        which my address is located, or if my address is outside the United States, the judicial \n                        district in which En Pensent is located, and will accept service of process from the \n                        person who provided the original DMCA notification or an agent of such person.\n                      </Label>\n                      {errors.jurisdiction_consent && (\n                        <p className="text-sm text-destructive">{errors.jurisdiction_consent}</p>\n                      )}\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n\n              <Card>\n                <CardHeader>\n                  <CardTitle>Electronic Signature</CardTitle>\n                  <CardDescription>\n                    Type your full legal name as your electronic signature\n                  </CardDescription>\n                </CardHeader>\n                <CardContent className="space-y-4">\n                  <div className="space-y-2">\n                    <Label htmlFor="electronic_signature">Electronic Signature *</Label>\n                    <Input\n                      id="electronic_signature"\n                      value={formData.electronic_signature}\n                      onChange={(e) => handleInputChange("electronic_signature", e.target.value)}\n                      placeholder="Type your full legal name"\n                      className={`font-serif italic ${errors.electronic_signature ? "border-destructive" : ""}`}\n                    />\n                    {errors.electronic_signature && (\n                      <p className="text-sm text-destructive">{errors.electronic_signature}</p>\n                    )}\n                  </div>\n                </CardContent>\n              </Card>\n\n              <Button \n                type="submit" \n                size="lg" \n                className="w-full"\n                disabled={isSubmitting}\n              >\n                {isSubmitting ? "Submitting..." : "Submit Counter-Notification"}\n              </Button>\n            </form>\n          </div>\n\n          <div className="space-y-6">\n            <Card>\n              <CardHeader>\n                <Shield className="w-8 h-8 text-primary mb-2" />\n                <CardTitle>Your Rights</CardTitle>\n              </CardHeader>\n              <CardContent className="text-sm text-muted-foreground space-y-3">\n                <p>\n                  The DMCA provides a mechanism for you to dispute takedowns if you believe \n                  your content was removed by mistake or misidentification.\n                </p>\n                <p>\n                  After we receive your counter-notification, we will forward it to the \n                  original complainant. They then have 10-14 business days to notify us \n                  that they have filed a court action.\n                </p>\n                <p>\n                  If we don\'t receive notice of a court action, we may restore your content.\n                </p>\n              </CardContent>\n            </Card>\n\n            <Card className="border-amber-500/20 bg-amber-500/5">\n              <CardHeader>\n                <AlertTriangle className="w-8 h-8 text-amber-500 mb-2" />\n                <CardTitle>Important Considerations</CardTitle>\n              </CardHeader>\n              <CardContent className="text-sm space-y-3">\n                <p>\n                  <strong>Perjury Risk:</strong> Filing a false counter-notification \n                  is perjury and can result in legal consequences.\n                </p>\n                <p>\n                  <strong>Potential Lawsuit:</strong> The original complainant may \n                  file a lawsuit against you to prevent restoration of your content.\n                </p>\n                <p>\n                  <strong>Legal Advice:</strong> We strongly recommend consulting \n                  with an attorney before filing a counter-notification.\n                </p>\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n      </main>\n      <Footer />\n    </div>\n  );\n};\n\nexport default DMCACounterNotification;\n';export{e as default};
