const n="import { useState } from 'react';\nimport { motion } from 'framer-motion';\nimport { Check, Zap, Building, Loader2 } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { supabase } from '@/integrations/supabase/client';\nimport { toast } from 'sonner';\n\ninterface PricingTier {\n  name: string;\n  price: string;\n  priceNote: string;\n  description: string;\n  features: string[];\n  cta: string;\n  popular?: boolean;\n  enterprise?: boolean;\n}\n\nconst PRICING_TIERS: PricingTier[] = [\n  {\n    name: 'Single Analysis',\n    price: '$9.99',\n    priceNote: 'per repository',\n    description: 'Perfect for evaluating a specific project',\n    features: [\n      'Full trajectory prediction',\n      'Archetype classification',\n      '12 development pattern types',\n      'Strategic recommendations',\n      'Downloadable report',\n    ],\n    cta: 'Analyze Now',\n  },\n  {\n    name: 'Pro',\n    price: '$49',\n    priceNote: 'per month',\n    description: 'For developers and small teams',\n    features: [\n      'Unlimited analyses',\n      'API access',\n      'Priority processing',\n      'Historical tracking',\n      'Team collaboration',\n      'Slack integration',\n    ],\n    cta: 'Coming Soon',\n    popular: true,\n  },\n  {\n    name: 'Enterprise',\n    price: 'Custom',\n    priceNote: 'contact us',\n    description: 'For organizations and VCs',\n    features: [\n      'Everything in Pro',\n      'Custom integrations',\n      'Dedicated support',\n      'SLA guarantee',\n      'On-premise option',\n      'White-label available',\n    ],\n    cta: 'Contact Sales',\n    enterprise: true,\n  },\n];\n\nexport function PricingSection({ repoUrl }: { repoUrl?: string }) {\n  const [loading, setLoading] = useState(false);\n\n  const handlePurchase = async () => {\n    setLoading(true);\n    try {\n      const { data, error } = await supabase.functions.invoke('create-analysis-payment', {\n        body: { repoUrl },\n      });\n\n      if (error) throw error;\n      if (data?.url) {\n        window.open(data.url, '_blank');\n      }\n    } catch (error) {\n      console.error('Payment error:', error);\n      toast.error('Failed to create payment session');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      className=\"mt-16\"\n    >\n      <div className=\"text-center mb-8\">\n        <h2 className=\"text-2xl font-bold mb-2\">Simple, Transparent Pricing</h2>\n        <p className=\"text-muted-foreground\">\n          Start with a single analysis or unlock unlimited predictions\n        </p>\n      </div>\n\n      <div className=\"grid md:grid-cols-3 gap-6 max-w-4xl mx-auto\">\n        {PRICING_TIERS.map((tier, index) => (\n          <motion.div\n            key={tier.name}\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: index * 0.1 }}\n          >\n            <Card className={`relative h-full ${\n              tier.popular \n                ? 'border-primary shadow-lg shadow-primary/20' \n                : tier.enterprise \n                  ? 'border-amber-500/50'\n                  : ''\n            }`}>\n              {tier.popular && (\n                <div className=\"absolute -top-3 left-1/2 -translate-x-1/2\">\n                  <span className=\"px-3 py-1 rounded-full bg-primary text-primary-foreground text-xs font-medium\">\n                    Most Popular\n                  </span>\n                </div>\n              )}\n              <CardHeader>\n                <div className=\"flex items-center gap-2\">\n                  {tier.enterprise ? (\n                    <Building className=\"h-5 w-5 text-amber-500\" />\n                  ) : (\n                    <Zap className={`h-5 w-5 ${tier.popular ? 'text-primary' : 'text-muted-foreground'}`} />\n                  )}\n                  <CardTitle>{tier.name}</CardTitle>\n                </div>\n                <div className=\"mt-4\">\n                  <span className=\"text-3xl font-bold\">{tier.price}</span>\n                  <span className=\"text-muted-foreground text-sm ml-2\">{tier.priceNote}</span>\n                </div>\n                <CardDescription>{tier.description}</CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <ul className=\"space-y-2\">\n                  {tier.features.map((feature) => (\n                    <li key={feature} className=\"flex items-center gap-2 text-sm\">\n                      <Check className=\"h-4 w-4 text-green-500 flex-shrink-0\" />\n                      <span>{feature}</span>\n                    </li>\n                  ))}\n                </ul>\n                <Button \n                  className=\"w-full\" \n                  variant={tier.popular ? 'default' : 'outline'}\n                  disabled={tier.name !== 'Single Analysis' || loading}\n                  onClick={tier.name === 'Single Analysis' ? handlePurchase : undefined}\n                >\n                  {loading && tier.name === 'Single Analysis' ? (\n                    <>\n                      <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\n                      Processing...\n                    </>\n                  ) : (\n                    tier.cta\n                  )}\n                </Button>\n              </CardContent>\n            </Card>\n          </motion.div>\n        ))}\n      </div>\n\n      <div className=\"mt-8 text-center text-sm text-muted-foreground\">\n        <p>\n          All payments processed securely via Stripe. \n          <br />\n          <span className=\"font-medium\">Patent Pending Technology • © 2026 Alec Arthur Shelton</span>\n        </p>\n      </div>\n    </motion.div>\n  );\n}\n";export{n as default};
