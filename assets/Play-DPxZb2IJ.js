import{aJ as e,r as t,bu as n,bv as s,u as r,bw as a,s as i,b as o,bx as c,by as l,j as u,bz as d,aT as m,bi as x,q as h,br as p,aV as f,aY as g,bA as v,b7 as b,bB as w,aZ as y,bC as j,ad as C,aj as N,bD as M,bE as k,af as z,ag as D,ai as B,y as q,bF as L,bG as A,b6 as P,ae as S,bH as H,ah as K,bI as _,B as T,bJ as G,bK as I,bL as Y,bM as U,bN as E,bO as W,bP as O,bQ as Z,bR as X,bS as J,bT as R,bU as F,bV as V,bW as Q,bX as $,bY as ee,bZ as te,aU as ne,b_ as se,bq as re,bt as ae,b$ as ie,c0 as oe,c1 as ce,S as le,am as ue,c2 as de,a as me,ar as xe,c3 as he,as as pe,c4 as fe,a1 as ge,a2 as ve,a3 as be,a4 as we,a5 as ye,c5 as je,L as Ce,ax as Ne,b1 as Me,c6 as ke,c7 as ze,an as De,av as Be,aw as qe,c8 as Le,aM as Ae,c9 as Pe,H as Se,P as He,ca as Ke,b3 as _e,bs as Te,be as Ge,cb as Ie,aP as Ye,cc as Ue,d as Ee,b2 as We,a9 as Oe,cd as Ze,ce as Xe,cf as Je,al as Re,au as Fe}from"./index-D4HOopRf.js";import{L as Ve}from"./LiveColorLegend-CF3kCaHo.js";import{T as Qe}from"./trending-down-v7VGDe_P.js";import $e from"./html2canvas.esm-C2s7aB6S.js";import{b as et}from"./browser-DEPKJqf2.js";import{S as tt,M as nt}from"./sun-toaQE8bE.js";const st=e("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),rt=e("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]),at=e("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]),it=e("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]),ot=e("Volume1",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}]]),ct=e("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),lt=e("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);function ut(e,t){e-=482;const n=ht();let s=n[e];if(void 0===ut.ddJaZt){var r=function(e){let t="",n="",s=t+r;for(let r,a,i=0,o=0;a=e.charAt(o++);~a&&(r=i%4?64*r+a:a,i++%4)?t+=s.charCodeAt(o+10)-10!=0?String.fromCharCode(255&r>>(-2*i&6)):i:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};ut.vZFLKt=r,ut.vUaDTR={},ut.ddJaZt=!0}const a=e+n[0],i=ut.vUaDTR[a];if(i)s=i;else{const e=function(e){this.ehAQwG=e,this.pGRhHZ=[1,0,0],this.xSiAZK=function(){return"newState"},this.yQazTK="\\w+ *\\(\\) *{\\w+ *",this.bzbNYO="['|\"].+['|\"];? *}"};e.prototype.vXIgfy=function(){const e=new RegExp(this.yQazTK+this.bzbNYO).test(this.xSiAZK.toString())?--this.pGRhHZ[1]:--this.pGRhHZ[0];return this.ODFpwk(e)},e.prototype.ODFpwk=function(e){return Boolean(~e)?this.qYZHXG(this.ehAQwG):e},e.prototype.qYZHXG=function(e){for(let t=0,n=this.pGRhHZ.length;t<n;t++)this.pGRhHZ.push(Math.round(Math.random())),n=this.pGRhHZ.length;return e(this.pGRhHZ[0])},new e(ut).vXIgfy(),s=ut.vZFLKt(s),ut.vUaDTR[a]=s}return s}!function(){const e=ut,t=ht();for(;;)try{if(778098===parseInt(e(504))/1*(parseInt(e(520))/2)+parseInt(e(542))/3+parseInt(e(497))/4+-parseInt(e(487))/5*(-parseInt(e(533))/6)+parseInt(e(541))/7*(-parseInt(e(553))/8)+parseInt(e(491))/9*(parseInt(e(532))/10)+-parseInt(e(531))/11)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const dt=function(){const e=ut,t={GvPvA:function(e,t){return e(t)},ZCnEv:function(e,t){return e===t},rYDJU:e(535)};let n=!0;return function(s,r){const a=e,i={RJYKS:function(e,n){return t[ut(489)](e,n)},QvTug:function(e,t){return e+t},SlejQ:function(e,n){return t[ut(501)](e,n)},rqoeK:a(547)};if(t[a(522)]!==a(563)){const e=n?function(){const e=a,t={sGccA:function(e,t){return i[ut(540)](e,t)},FKtLv:function(e,t){return i[ut(492)](e,t)},bbDYg:e(557)+e(495),sVoKJ:function(e){return e()}};if(r){if(i[e(496)](i[e(483)],e(547))){const t=r[e(534)](s,arguments);return r=null,t}{const n=t[e(513)](_0x5395fd,t[e(494)](t[e(567)]+'{}.constructor("retu'+e(549)+" )",");"));_0x191a5c=t.sVoKJ(n)}}}:function(){};return n=!1,e}if(_0x381c8b){const e=_0x20fadd[a(534)](_0x37d702,arguments);return _0x54be1c=null,e}}}()(void 0,function(){const e=ut;return dt[e(514)]().search("(((.+)+)+)+$")[e(514)]()[e(518)+"r"](dt)[e(505)]("(((.+)+)+)+$")});dt();const mt=function(){const e=ut,t={};t[e(543)]="mKVRh",t.AMUul="YQUFp";const n=t;let s=!0;return function(t,r){const a=e;if(n[a(543)]!==n[a(511)]){const e=s?function(){if(r){const e=r[a(534)](t,arguments);return r=null,e}}:function(){};return s=!1,e}{const e=_0xd3338f[a(518)+"r"].prototype[a(546)](_0x128634),t=_0x20247b[_0x417533],n=_0x120409[t]||e;e[a(488)]=_0x1d2556[a(546)](_0x267bd2),e[a(514)]=n[a(514)][a(546)](n),_0x34fa6d[t]=e}}}();function xt(e){const t=ut;return function(e){const t=ut,n={gFmqZ:t(508),sErmj:"Draw by th"+t(499)+"petition.",RPWhM:t(556)+t(550),xfRqs:t(536)+t(519)+"l",ebYPP:function(e,t,n){return e(t,n)},qIdEt:"50-Move Rule",ivhei:t(500),yetSs:t(562)+"!",LZDJU:"Draw"};if(e[t(558)+"e"]()){const e={};return e[t(507)]=t(526),e[t(525)]=t(508)+t(548)+t(570)+t(530),e[t(559)+"ge"]=n[t(555)],e}if(e["isThreefol"+t(573)+"n"]()){const e={};return e[t(507)]=t(537)+t(569),e.message=n[t(506)],e.shortMessage=n[t(482)],e}if(e[t(572)+t(521)+"al"]()){const e={};return e[t(507)]=n[t(502)],e[t(525)]=t(498)+t(515)+t(552),e[t(559)+"ge"]=t(539)+t(517)+"l",e}const s=e[t(561)]();if(n[t(566)](parseInt,s[t(493)](" ")[4],10)>=100){const e={};return e[t(507)]=t(568)+t(545),e[t(525)]=t(485)+t(564)+t(524),e[t(559)+"ge"]=n[t(565)],e}const r={};return r[t(507)]=n[t(490)],r[t(525)]=n[t(486)],r[t(559)+"ge"]=n[t(560)],r}(e)[t(525)]}function ht(){const e=["C3rHBgvTyxrL","DgfIBgu","ExDntxC","Ahfjy0W","BgfIBguU","mJm1ndyYmtvSELLNzNy","otC3nJiZmg5HrNHOsG","mZbiCwTQq3u","yxbWBhK","y2nnAKS","Aw5ZDwzMAwnPzq","DgHYzwvMB2XKxW","D2fYBG","sw5ZDwzMAwnPzq","uKPzs1m","mJfXBuHiCMy","mte3otCXn1bVyMzLvG","BvfAzgu","y3rVCIGICMv0Dq","x3j1Bgu","yMLUza","sxDZBxy","ie5VigXLz2fSia","CM4GDgHPCYiPka","uMvWzxrPDgLVBG","ChjVDg90ExbL","ig1HDgvYAwfSlG","mJeYmZyZmKHNC0f4CW","rMTSqw4","z0zTCvO","vgHYzwvMB2XKia","CMv0DxjUicHMDq","AxntDgfSzw1HDa","C2HVCNrnzxnZyq","tfPesLu","zMvU","r2fTzsbKCMf3BG","DgT3wwO","zsbMAwz0Es1TBW","CuLKrxq","zwjzufa","yMjewwC","zMLMDhLFBw92zq","CMvWzxrPDgLVBG","Bw92zxmGyxzHAq","E30Uy29UC3rYDq","AxnjBNn1zMzPyW","zfjLCgv0AxrPBW","uLbxAe0","CNfVzuS","u1HvuxO","rhjHDYbIEsb0Aa","Ewv0u3m","ntG4oda1AfPmAvPH","x19WCM90B19F","r3zqDKe","AxzOzwK","owzwu0LwtW","uxzuDwC","C3bSAxq","rKT0thy","BMn0Aw9UkcKG","u2XLALe","mJK3mJy0ogX3C1bnwa","rhjHDYbIEsbPBG","CMvLzM9SzcbYzq","Dw5RBM93BG","wKnUrxy","EgzsCxm","y29UC29Szq","nta2mdK4sfDPAKHO","C2vHCMnO","C0vYBwO","CMvHC29U","u3rHBgvTyxrLiq","zxjYB3i","DhjHy2u","qu1vDwW","Aw5MBW","C0DJy0e","Dg9tDhjPBMC","C3vMzMLJAwvUDa","AxneCMf3","BNqGtwf0zxjPyq","y29UC3rYDwn0BW","BNrFBwf0zxjPyq","nhb3ALLUuW","AwvUDe1HDgvYAq","CLLesLu","Bg9N","DMuGCNvSzs4","BwvZC2fNzq"];return(ht=function(){return e})()}mt(void 0,function(){const e=ut,t={ywMMw:function(e,t){return e(t)},THodP:function(e,t){return e+t},hqIcL:e(538),OJeTX:e(512),oBabm:e(509),CwrgO:"exception",FklAn:e(527),SXUQz:e(510)};let n;try{n=t[e(528)](Function,t.THodP("return (fu"+e(495),e(571)+e(544)+e(549)+" )")+");")()}catch(a){n=window}const s=n.console=n[e(503)]||{},r=[e(523),t[e(529)],t.OJeTX,t.oBabm,t.CwrgO,t[e(554)],t[e(484)]];for(let i=0;i<r.length;i++){const t=mt[e(518)+"r"][e(551)][e(546)](mt),n=r[i],a=s[n]||t;t.__proto__=mt.bind(mt),t[e(514)]=a[e(514)][e(546)](a),s[n]=t}})(),function(){const e=gt,t=vt();for(;;)try{if(738054===-parseInt(e(168))/1*(parseInt(e(160))/2)+-parseInt(e(140))/3+parseInt(e(150))/4*(-parseInt(e(231))/5)+parseInt(e(235))/6*(-parseInt(e(173))/7)+-parseInt(e(233))/8*(parseInt(e(135))/9)+parseInt(e(132))/10*(-parseInt(e(149))/11)+parseInt(e(155))/12)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const pt=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[gt(253)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=gt,t={};t.NSUVw=e(245)+"+$";const n=t;return pt[e(147)]()[e(243)](n.NSUVw)[e(147)]().constructor(pt)[e(243)](e(245)+"+$")});pt();const ft=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,s}}();function gt(e,t){e-=132;const n=vt();let s=n[e];if(void 0===gt.iFTcNr){var r=function(e){let t="",n="",s=t+r;for(let r,a,i=0,o=0;a=e.charAt(o++);~a&&(r=i%4?64*r+a:a,i++%4)?t+=s.charCodeAt(o+10)-10!=0?String.fromCharCode(255&r>>(-2*i&6)):i:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};gt.bWiuIA=r,gt.cqmlMI={},gt.iFTcNr=!0}const a=e+n[0],i=gt.cqmlMI[a];if(i)s=i;else{const e=function(e){this.XTessN=e,this.mTamVx=[1,0,0],this.CLDXfN=function(){return"newState"},this.cruzVB="\\w+ *\\(\\) *{\\w+ *",this.RZxCZC="['|\"].+['|\"];? *}"};e.prototype.AgpGtY=function(){const e=new RegExp(this.cruzVB+this.RZxCZC).test(this.CLDXfN.toString())?--this.mTamVx[1]:--this.mTamVx[0];return this.jlabrY(e)},e.prototype.jlabrY=function(e){return Boolean(~e)?this.KKGUOl(this.XTessN):e},e.prototype.KKGUOl=function(e){for(let t=0,n=this.mTamVx.length;t<n;t++)this.mTamVx.push(Math.round(Math.random())),n=this.mTamVx.length;return e(this.mTamVx[0])},new e(gt).AgpGtY(),s=gt.bWiuIA(s),gt.cqmlMI[a]=s}return s}function vt(){const e=["y29UBMvJDa","B0nVBNrLEhq","z2fTzuvUza","Bw92zq","mZq1mtq1CLfMs0De","BfjHBxbuB1zHBa","rNvLDxm","uhfWuhm","y2fWDhvYzq","mJq5mZuXouz1quHzBW","C2v0vMfSDwvbDa","yMT5y1u","vxH4DNu","DMfSDwu","v2vIief1zgLVia","zxjYB3i","E30Uy29UC3rYDq","y1vIy3a","D2fYBG","y2XVC2u","DhjPyw5NBgu","z2fPBG","BgXHDg9Y","u2zOB08","CMv0DxjUicHMDq","B3PWBMS","C2f3Dg9VDgG","C3rVCa","DwvbDfrPBwu","ChjVDg90ExbL","C2LUzq","EKzpsvi","yMLUza","wgnLyMO","BMn0Aw9UkcKG","D2vIA2L0qxvKAq","yNvMzMvY","z2v0q2HHBM5LBa","zhjHDW","C3f1yxjL","rLLuwLK","wLPszMm","Aw1L","y3rVCIGICMv0Dq","ChbVCNrLza","y3vYCMvUDa","BePxEhG","DhjHy2u","Bg93CgfZCW","y3vYCMvUDfrPBq","Bg9N","zgvZDgLUyxrPBW","tKjSDMy","y29UC29Szq","uM9svMK","wNHQwM8","zvvyAwq","y3jLyxrLqNvMzG","zvPdtwW","EM5OuuG","y2HLy2TTyxrL","txD6EKq","vg9wywX1zuf0va","reX2uLa","CM4GDgHPCYiPka","y29UDgv4Da","DMLJDg9YEq","mZmZotGWDNznvKPi","sxrZDNy","mJq4mtuYs3ncwMnq","wMXKquG","mtjrCKjAwhK","y3jLyxrLr2fPBG","C3POExe","z2fTzvn0yxj0","BxLAq0G","y29UC3rYDwn0BW","s1nnve0","y2fZDgXL","C2vHCMnO","y3jLyxrLt3nJAq","kcGOlISPkYKRkq","B1zxrLe","DLfcD0m","EuvcDeW","qxvKAw9dB250zq","BgvUz3rO","vezsyw8","vxjYwLG","yxbWBhK","ndqZnZKYmezuC0vfyW","zxjtB3vYy2u","te9cuhO","ovf6uKPPva","BgTnsMK","C2fTCgXLuMf0zq","CMfUzg9T","y3vjEuW","mJi2mJyYn0nizwLxsa","zvnZzhC","ywrgAwX0zxi","x19WCM90B19F","BMLkwhi","zxHJzxb0Aw9U","z2fPBK5Vzgu","Dg9tDhjPBMC","zxHWB25LBNrPyq","mtfYtuX5uey","ofrXs2Xqtq","rhL3tNe","DNPmueW","tfDzBfG","EwDKCuu","ndyXodi0mJbwuM9XwMK","AgTdCue","BeDPrxu","C3rHCNq","Aw5MBW","nNvewxfHrq","zNjLCxvLBMn5","BgLUzwfYuMfTCa","vgLTzq"];return(vt=function(){return e})()}ft(void 0,function(){const e=gt,t={dvHOK:function(e,t){return e+t},myZCH:e(188)+e(198),SfhoO:function(e){return e()},TFRao:e(159),ZldAH:e(145),eUXid:"table",ZxjZo:function(e,t){return e<t}},n=t[e(187)](function(){const n=e;let s;try{s=Function(t.dvHOK(t[n(239)]+(n(180)+n(207)+n(228)+" )"),");"))()}catch(r){s=window}return s}),s=n[e(217)]=n[e(217)]||{},r=[e(214),e(182),t[e(251)],e(179),t[e(234)],t[e(220)],e(211)];for(let a=0;t[e(219)](a,r[e(250)]);a++){const t=ft[e(240)+"r"][e(193)][e(196)](ft),n=r[a],i=s[n]||t;t[e(143)]=ft[e(196)](ft),t[e(147)]=i[e(147)][e(196)](i),s[n]=t}})();const bt=(e=!0,n=.5)=>{const s=gt,r={LWYlX:"return (function() ",Uxxvu:function(e,t){return e===t},MwzzD:s(205),DLvRP:function(e,t){return e!==t},MOwAI:s(248),vQBwC:s(189),RoRVi:s(178)+"API not su"+s(208),LUSCW:s(223),cUbcp:"ToIKT",SmPmQ:function(e){return e()},FYTZY:function(e,t){return e+t},eZCMl:function(e,t){return e-t},UrrZX:function(e,t){return e*t},zFOIR:s(144),LOBPz:function(e,t){return e-t},Itsvv:function(e,t){return e+t},DywNq:s(194),lJWxx:function(e,t,n,s,r,a){return e(t,n,s,r,a)},hkCqA:"triangle",NBlvf:function(e,t,n){return e(t,n)},lkMJi:"check",eSsdw:function(e,t,n,s,r,a){return e(t,n,s,r,a)},lGiEu:function(e,t,n){return e(t,n)},oVWFQ:function(e,t,n){return e(t,n)},aZMnp:s(166),PqpPs:function(e,t,n,s,r,a){return e(t,n,s,r,a)},Fueus:"defeat",szhyq:function(e,t,n){return e(t,n)},Xcebj:function(e,t,n){return e(t,n)},ygdqE:s(203),eXLwc:function(e,t,n){return e(t,n)},KSMTM:function(e,t,n){return e(t,n)}},a={};a[s(229)]=null,a[s(146)]=null;const i=t.useRef(a),o=r[s(197)](t.useCallback,()=>{const e=s;if(r[e(153)],r[e(176)](r[e(225)],e(175))){const t=new(_0x168fdc[e(249)+"xt"]||_0x455712[e(199)+e(165)]),n=t[e(236)]();n.connect(t[e(215)+"n"]),n[e(185)].value=_0x608e89;const s={};s.context=t,s[e(146)]=n,_0x2f9dc9.current=s}else{if(i[e(209)].context)return;try{if(r[e(227)](r.MOwAI,r[e(247)])){const t=new(window[e(249)+"xt"]||window["webkitAudi"+e(165)]),s=t.createGain();s[e(164)](t[e(215)+"n"]),s[e(185)].value=n;const r={};r.context=t,r[e(146)]=s,i[e(209)]=r}else _0x23b84d=iGsACu[e(152)](_0x2d48c1,iGsACu[e(139)]+"{}.constru"+e(207)+e(228)+" ));")()}catch(t){}}},[n]);t.useEffect(()=>{const e=s;i[e(209)][e(146)]&&(i[e(209)][e(146)][e(185)].value=n)},[n]);const c=t.useCallback((t,n,a="sine",c=.01,l=.1,u)=>{const d=s;if(r.LUSCW!==r[d(181)]){if(!e)return;r.SmPmQ(o);const{context:s,gainNode:m}=i[d(209)];if(!s||!m)return;const x=s[d(244)+d(186)](),h=s[d(236)]();x.type=a,x.frequency[d(174)+d(163)](t,s[d(213)+"e"]),u&&x[d(161)][d(148)+"lRampToVal"+d(192)](u,r.FYTZY(s[d(213)+"e"],n)),h.gain[d(174)+"Time"](0,s.currentTime),h[d(185)]["linearRamp"+d(226)+"ime"](1,r.FYTZY(s[d(213)+"e"],c)),h[d(185)][d(148)+d(169)+d(192)](.01,r[d(222)](r[d(204)](s[d(213)+"e"],n),l)),h.gain[d(162)+d(226)+d(206)](0,r[d(204)](s[d(213)+"e"],n)),x[d(164)](h),h[d(164)](m),x[d(158)](s[d(213)+"e"]),x[d(191)](s.currentTime+n)}else if(_0x3ecd50){const e=_0x45b0e2[d(253)](_0x1f6e53,arguments);return _0x19a5b8=null,e}},[e,o]),l=r.eXLwc(t.useCallback,(t,n=1e3)=>{const a=s;if(r[a(195)]==r[a(195)]){if(!e)return;o();const{context:s,gainNode:c}=i[a(209)];if(!s||!c)return;const l=s.sampleRate*t,u=s.createBuffer(1,l,s[a(137)]),d=u[a(201)+"Data"](0);for(let e=0;e<l;e++)d[e]=r[a(134)](2*Math[a(138)](),1);const m=s[a(221)+a(133)]();m[a(200)]=u;const x=s["createBiqu"+a(142)]();x.type=a(212),x.frequency[a(177)]=n;const h=s[a(236)]();h[a(185)]["setValueAt"+a(163)](.3,s[a(213)+"e"]),h.gain[a(148)+a(169)+"ueAtTime"](.01,s.currentTime+t),m[a(164)](x),x[a(164)](h),h[a(164)](c),m[a(158)](s[a(213)+"e"]),m[a(191)](r[a(232)](s.currentTime,t))}else _0xde842d[_0x5dae9e]=r[a(252)](_0x5ef906[a(138)](),2)-1},[e,o]),u=t.useCallback(t=>{const n=s;if(e)switch(t){case n(167):c(800,.08,r[n(151)],.005,.05),r.lJWxx(c,400,.06,r[n(156)],.005,.04);break;case n(172):r[n(216)](l,.12,2e3),c(300,.1,"square",.005,.08),c(150,.15,n(194),.01,.1);break;case n(242):c(600,.06,r[n(151)],.005,.04),setTimeout(()=>c(700,.06,"sine",.005,.04),80);break;case r[n(136)]:r[n(141)](c,880,.15,r[n(156)],.01,.1),r[n(157)](setTimeout,()=>c(1100,.12,n(184),.01,.08),120);break;case n(224):c(880,.2,r.DywNq,.01,.15),r[n(216)](setTimeout,()=>c(660,.2,n(194),.01,.15),150),setTimeout(()=>c(440,.3,n(194),.01,.2),300),r[n(216)](setTimeout,()=>c(330,.4,n(194),.01,.3),500);break;case n(238):c(523,.12,r.DywNq,.01,.08),setTimeout(()=>c(659,.12,n(194),.01,.08),100),r[n(246)](setTimeout,()=>c(784,.2,n(194),.01,.15),200);break;case r.aZMnp:r[n(171)](c,440,.15,r[n(156)],.01,.1),r[n(157)](setTimeout,()=>c(349,.25,n(184),.01,.2),150);break;case n(230):c(523,.1,"sine",.01,.08),r[n(216)](setTimeout,()=>c(659,.1,n(194),.01,.08),100),r[n(246)](setTimeout,()=>c(784,.1,n(194),.01,.08),200),setTimeout(()=>c(1047,.3,"sine",.01,.25),300);break;case r[n(170)]:c(392,.2,r[n(151)],.02,.15),setTimeout(()=>c(349,.2,"sine",.02,.15),200),r[n(246)](setTimeout,()=>c(330,.3,n(194),.02,.25),400),r[n(237)](setTimeout,()=>c(262,.4,n(194),.02,.35),650);break;case n(202):r[n(210)](c,440,.15,r.DywNq,.01,.1),setTimeout(()=>c(440,.15,n(194),.01,.1),180),r[n(197)](setTimeout,()=>c(523,.2,"sine",.01,.15),360);break;case"illegal":c(200,.1,r[n(154)],.005,.08),r[n(141)](c,150,.08,n(190),.005,.06)}},[e,c,l]);r[s(241)](t.useEffect,()=>()=>{const e=gt;i.current[e(229)]&&i.current[e(229)][e(183)]()},[]);const d={};return d.playSound=u,d.initAudio=o,d},wt=yt;function yt(e,t){e-=369;const n=Nt();let s=n[e];if(void 0===yt.aMjvpi){var r=function(e){let t="",n="",s=t+r;for(let r,a,i=0,o=0;a=e.charAt(o++);~a&&(r=i%4?64*r+a:a,i++%4)?t+=s.charCodeAt(o+10)-10!=0?String.fromCharCode(255&r>>(-2*i&6)):i:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};yt.ItCgBd=r,yt.DCblHE={},yt.aMjvpi=!0}const a=e+n[0],i=yt.DCblHE[a];if(i)s=i;else{const e=function(e){this.sBZooY=e,this.GmykLs=[1,0,0],this.pADpfl=function(){return"newState"},this.bHpcZg="\\w+ *\\(\\) *{\\w+ *",this.xwYfwT="['|\"].+['|\"];? *}"};e.prototype.rmeKpa=function(){const e=new RegExp(this.bHpcZg+this.xwYfwT).test(this.pADpfl.toString())?--this.GmykLs[1]:--this.GmykLs[0];return this.INvqTD(e)},e.prototype.INvqTD=function(e){return Boolean(~e)?this.ujwqFx(this.sBZooY):e},e.prototype.ujwqFx=function(e){for(let t=0,n=this.GmykLs.length;t<n;t++)this.GmykLs.push(Math.round(Math.random())),n=this.GmykLs.length;return e(this.GmykLs[0])},new e(yt).rmeKpa(),s=yt.ItCgBd(s),yt.DCblHE[a]=s}return s}!function(){const e=yt,t=Nt();for(;;)try{if(887296===parseInt(e(369))/1*(parseInt(e(424))/2)+-parseInt(e(376))/3+-parseInt(e(386))/4*(parseInt(e(431))/5)+-parseInt(e(409))/6*(-parseInt(e(388))/7)+-parseInt(e(417))/8*(parseInt(e(411))/9)+parseInt(e(421))/10+-parseInt(e(387))/11)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const jt=function(){const e=yt,t={};t[e(384)]=e(429),t.lTRmI=e(397),t[e(405)]=function(e,t){return e<t};const n=t;let s=!0;return function(t,r){const a=e,i={pviqA:n[a(384)],UdRqp:n[a(402)],YFFeX:"trace",RSrUf:function(e,t){return n[a(405)](e,t)},KOwhq:a(395)},o=s?function(){const e=a,n={AAifd:function(e,t){return e(t)},rcKpG:function(e,t){return e+t},fgcOK:e(413)+e(389)+'rn this")( )',nCnHT:i[e(427)],HxMsg:"error",fSglk:i[e(373)],vnPOd:e(396),czKvE:i[e(394)],NLsya:function(t,n){return i[e(410)](t,n)}};if(i[e(428)]!=i[e(428)]){let t;try{t=n[e(419)](_0x1475f9,n[e(385)](e(383)+"nction() "+n[e(408)],");"))()}catch(s){t=_0x32bddd}const r=t[e(420)]=t.console||{},a=[e(415),n[e(414)],e(371),n[e(407)],n[e(370)],n[e(379)],n[e(418)]];for(let s=0;n[e(392)](s,a[e(380)]);s++){const t=_0x3c8989.constructor[e(412)][e(378)](_0x29abe4),n=a[s],i=r[n]||t;t[e(430)]=_0x4006d7[e(378)](_0x3877c9),t[e(393)]=i[e(393)][e(378)](i),r[n]=t}}else if(r){const n=r[e(372)](t,arguments);return r=null,n}}:function(){};return s=!1,o}}()(void 0,function(){const e=yt,t={};t[e(400)]=e(404)+"+$";const n=t;return jt.toString()[e(425)](n[e(400)])[e(393)]()[e(403)+"r"](jt)[e(425)](e(404)+"+$")});jt();const Ct=function(){const e=yt,t={};t[e(390)]=e(381),t[e(401)]=e(398);const n=t;let s=!0;return function(e,t){const r=s?function(){const s=yt;if(t){if(n[s(390)]!==n[s(401)]){const n=t[s(372)](e,arguments);return t=null,n}{const e=_0x3d7f1e[s(372)](_0x54118c,arguments);return _0x31ff0e=null,e}}}:function(){};return s=!1,r}}();function Nt(){const e=["zc1Zzxr0Aw5NCW","shHnC2C","zMDJt0S","mZi4mLr1ELbHyG","uLnYvwy","ndvJCwzezgS","ChjVDg90ExbL","E30Uy29UC3rYDq","BKnUsfq","Bg9N","zgnLyLy","mtaZnda0mfrltuDotq","y3PlDKu","qufPzMq","y29UC29Szq","mti2nZC0nJbnCK5bBe0","rvnqwfO","uuLds1a","mZi2uvnrs2PL","C2vHCMnO","zuPOuuC","ChzPCue","s093Ahe","D2fYBG","x19WCM90B19F","nwPNDM1oyq","mJG1oeDSAe1kBa","zLnNBgS","Aw5MBW","yxbWBhK","vwrsCxa","Du1bvva","DhjHy2u","mJyWnJqWz2vhq0Pt","tgXprNa","yMLUza","DM5qt2q","BgvUz3rO","EMj3ue4","BMfTzq","CMv0DxjUicHMDq","D3PMs2W","CMnlCeC","mJaWndm3mKDmrwHbqW","mte1mtuYmdDRvfvgsKC","mtGZnJfgB05ZyLK","y3rVCIGICMv0Dq","qNvAs1K","y2HLC3mTC291BG","tKXZEwe","Dg9tDhjPBMC","wuzgzvG","vKzbCeK","DgfIBgu","zxHJzxb0Aw9U","DfHWqvy","zw5HyMXLza","rhj5z0i","BwLXrLO","BfrsBuK","y29UC3rYDwn0BW","kcGOlISPkYKRkq","vMPPB20"];return(Nt=function(){return e})()}Ct(void 0,function(){const e=yt,t={ESPXZ:function(e,t){return e+t},aNvnI:e(383)+"nction() ",eJhQG:e(413)+e(389)+'rn this")( )',uMAUP:function(e){return e()},cRJED:"warn",QICKP:e(371),dcebV:e(375),LlOFp:function(e,t){return e<t}};let n;try{const s=Function(t[e(422)](t[e(422)](t.aNvnI,t[e(426)]),");"));n=t[e(374)](s)}catch(a){n=window}const s=n[e(420)]=n[e(420)]||{},r=[e(415),t.cRJED,t[e(423)],"error",e(397),e(396),t[e(416)]];for(let i=0;t[e(377)](i,r[e(380)]);i++){const t=Ct[e(403)+"r"][e(412)].bind(Ct),n=r[i],a=s[n]||t;t[e(430)]=Ct[e(378)](Ct),t.toString=a[e(393)].bind(a),s[n]=t}})();const Mt={};Mt[wt(382)]=wt(391)+wt(406);const kt=n()(s(e=>({enabled:!0,volume:.5,setEnabled:t=>e({enabled:t}),setVolume:t=>e({volume:t}),toggleEnabled:()=>e(e=>({enabled:!e[wt(399)]}))}),Mt)),zt=Lt;!function(){const e=Lt,t=qt();for(;;)try{if(468649===-parseInt(e(547))/1*(-parseInt(e(596))/2)+parseInt(e(484))/3*(parseInt(e(489))/4)+-parseInt(e(557))/5+-parseInt(e(482))/6+parseInt(e(776))/7*(parseInt(e(660))/8)+-parseInt(e(496))/9*(parseInt(e(611))/10)+parseInt(e(544))/11*(-parseInt(e(487))/12))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const Dt=function(){const e=Lt,t={};t[e(602)]=e(633)+e(684),t[e(681)]="info",t.kianT=e(517);const n=t;let s=!0;return function(e,t){const r=s?function(){const s=Lt,r={};r[s(508)]=n[s(602)],r[s(638)]="warn",r[s(511)]=n[s(681)],r[s(599)]=s(564),r[s(531)]=s(594);const a=r;if(s(542)!==n[s(595)]){if(t){if(s(766)==s(766)){const n=t[s(690)](e,arguments);return t=null,n}{const e=_0x2165c8[s(747)][s(688)];_0x59c8cc.info("Rating: "+_0xf9428d.black[s(687)]+" ("+(e>=0?"+":"")+e+")")}}}else{let e;try{e=_0x1f9d11(a[s(508)]+(s(667)+s(569)+s(601)+" ));"))()}catch(i){e=_0x5ca84a}const t=e.console=e.console||{},n=["log",a.vcyqf,a.NZbvD,a[s(599)],"exception",s(693),a[s(531)]];for(let r=0;r<n[s(777)];r++){const e=_0x3a4f27[s(737)+"r"][s(769)][s(625)](_0x47e632),a=n[r],i=t[a]||e;e[s(526)]=_0x50b095[s(625)](_0x557952),e[s(493)]=i.toString[s(625)](i),t[a]=e}}}:function(){};return s=!1,r}}()(void 0,function(){const e=Lt,t={};t[e(719)]=e(662)+"+$";const n=t;return Dt.toString()[e(715)](e(662)+"+$")[e(493)]()[e(737)+"r"](Dt)[e(715)](n.wGdoY)});Dt();const Bt=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[Lt(690)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}();function qt(){const e=["y1LpAe8","z2fTzvn0yxrL","y29UC29Szq","tLzqt3m","AxnFChvIBgLJ","sM9PBMvKigDHBq","AgfUz2vZ","sK9VuNq","tY1plu8","zM9prLK","BIbPBIb0BYbQBW","CKLK","zMLUza","C2vHCMnO","Bg9HzeDHBwu","lwfJy2vWDhmGAq","D2HPDgvFCgfSzq","D0DKB1K","CgDU","rhjHDYbVzMzLCG","DMjkD28","zxHJzxb0Aw9U","yMXHy2TqywXLDa","D2HPDgvFD2LUCW","swvrsvC","CLbysg4","DgLTzv9JB250CG","rfHxz20","Bwf5yMvtAw5NBa","D2LUBMvYx2LK","vuP1CLm","ENzrv04","zxjFAwq","Eu1UveC","ChjVBw90Aw9U","y29UC3rYDwn0BW","CMvTB3zLq2HHBG","y2fZDgXL","yMXHy2TqBgf5zq","yuDWqMO","C2LVBIK","AvDHveO","EM9Zwva","DvjhAg4","z2fTzvn0yxj0","yMXHy2S","BMv3","wwvfuhC","AwXSzwDHBa","ChvIBgLJ","DKTXExm","ww91ihDVBIe","Awq9zxeU","C3f1yxjL","CMvZDwX0","DxnLCL9PzcWGzq","s1LJwxm","yMXHy2TFDgLTzq","wujtvue","z2fTzv9Pzd1LCq","q1bUBeO","DxDuweG","AM9PBKDHBwu","CNbJ","s0fcAwm","v0rhBNq","ywrK","ChjVDg90ExbL","AgfSBgvUz2vFyW","Aw5Zzxj0","su5trvju","DxnLCL9Pza","CMvZAwDUr2fTzq","BIb0AgLZihzLCG","mtu5nJq5twvWsvfU","BgvUz3rO","y3jLyxrLigDHBq","Bw92zxm","whDLBvm","q0zzBu8","Cg9ZDgDYzxnFyW","mJCYotmYmKDZEvncwa","BIbPBIb0BYbJCG","mZLoCK9Quey","tY1p","Cenhz1K","mtjZufPtEKy","ywjHBMrVBMvK","mJa0ntq4suT5rNzv","yMXHy2TFD2LUCW","CgnTu2m","y29Kzq","Dg9tDhjPBMC","y3jLyxrLzef0","DxvQzuO","mteXmtu5tuj2A0Tq","ywn0AxzL","C2fU","y2HHBgXLBMDLqW","y3DXyvu","Bw92zv91y2K","ruXswxu","C3vIC3rYAw5N","EM1sBLe","zgrYsKW","zhvszxC","yNvcA3a","sMHXrM8","tK9pqMW","zgvMzwf0","tLPIDKq","z2fTzs0","vhvHDNu","y2HHBM5LBa","EM9rwvG","B25LBNqGyxv0BW","s0PVrhy","zw1HAw5PBMC","Aw5MBW","y3vYCMvUDf9Mzq","Dg9vChbLCKnHCW","AgfSBgvUz2uGyW","q0fAqLC","qxDpsva","y29TCgXLDgvK","x19WCM90B19F","uKTtCwO","Bw92zv9JB3vUDa","zePzC3G","sgfiAvK","EMXfrvi","D2zizKy","Dw50Aw1Lza","y0HUywW","AM9PBKj5q29Kzq","y090yKG","zM9YrwfJAa","Aw4GysbNyw1L","zNjVBq","D2HPDgvqywXLDa","AxndAgvJAW","B1rHAgW","wKPdrwy","mtG0nZi2m3juyLPTzG","DMvYyM9Zzq","yMfIwNi","mtyYmwn3tgXPtG","y2HHBgXLBMDLxW","s2rpEuS","ywXS","rfrXt3u","zwqHifDHAxrPBG","tenrzLm","zMDHCha","zMX2A3a","zMvU","mZq3mJi2nuP2rvzlwq","vvbeqvrf","CgXHEwvYx2LK","DxbKyxrLievmtW","C3rHDhvZ","AMnTvMO","AxndAgvJA21HDa","zxjYB3i","uw5my2y","Bw92zq","v3PsBvq","DMLJDg9YEq","y3rVCIGICMv0Dq","BMvS","y3vYCMvUDezLBG","EgnNz0i","C3vIC2nYAwjL","DgLTzunVBNrYBW","zseGww91igfYzq","BwfRzu1VDMu","BwvZC2fNzq","D2fPDgLUzW","B2rL","y2fWDhvYzwq","Axnhyw1Lt3zLCG","ihjHDgLUz3m6","ChjVzMLSzxm","igDHBwu","uMf0Aw5NoIa","rwTushO","y2HLy2TTyxrL","yNvSBgv0xZe","Bw92zv9Zyw4","r2fTzsbHBhjLyq","zND0y0y","C3rHCNrLzef0","ywLPrgS","DhjHy2u","A2LHBLq","odKYsLbJCNPV","sw52ywXPzcbVCG","yMXHy2TuAw1LuG","v2P0sKe","BvnMEuG","CM4GDgHPCYiPka","svvKtuq","Bg9HzcbNyw1L","EfPysMS","DhrL","EvDcr0q","u1jxBNq","r2fTzsbUB3qGzG","BIb5B3vYig93BG","D2HPDgvqBgf5zq","mtbyuuP4Euy","vxvPCw4","DhvYBG","DM5xufy","D2fYBG","z2fTzq","tvfvwfq","B2zMzxjeCMf3","Bw92zunVDw50","y2HLC3nFz2fTzq","A1r5twi","zhKGC3rHCNrLza","zYbMB3iGB3bWBW","v2HPDguGD2LUCW","yMLUza","uhPtz1q","Dg1krhG","yKT4yNa","wfr4te0","q2fUBM90igPVAq","tw92zsbLCNjVCG","AxnnEvr1CM4","CMv0DxjUicHMDq","x3jLBwfPBMLUzW","sgfzDfi","zxvxDge","turithi","DMn5Cwy","vvjxEMC","v0n2vhq","C2vSzwn0","B3jKzxi","uMXjwhu","y2HLC3nFBw92zq","Dg9ju09tDhjPBG","B0jzrhK","ug9ft2u","tg9lvxG","AM9PBIbIEsbJBW","t3D5v0e","BhPIsM8","zhjHDW","D2HPDgvFCgXHEq","B3vUza","y3jLyxrLzf9HDa","ihnLBNqGkg9WCa","DxbKyxrL","CMfWAwrFmtu","CYbcBgfJAY4","mtq0uK5dDNb0","z2vUzxjHDgvFyW","kcGOlISPkYKRkq","BxLdB2XVCG","D21prLC","D2HPDgvuAw1LuG","zwXVx3jHDgLUzW","E30Uy29UC3rYDq","C2LUz2XL","BMvUDc4UlG","D2HPDgu","Aw5JBhvKzxm","BvjrqwW","D2HPDgvFDgLTzq","yxnJzw5KAw5N","q2HHBgXLBMDLia","AxnmB2fKAw5N","z2fTzv9Pza","wvDMrxO","vhHwCeq","yMXHy2TFCgXHEq","qNrbv0m","BgHnu0m","ugXLyxnLihnPzW","BMn0Aw9UkcKG","rMfPBgvKihrVia","zwf0zsbHigDHBq","BMv3uMf0Aw5N","y2HHBMDL","AMTuwgO","yxbWBhK","DMXxsNy","Bw92zxmT","DgfIBgu","rgDNEei","D2LUBMvYswq","yuPMzvC","EKT2rNK","C3vJy2vZCW","y2fWDhvYzq","AM9PBIbNyw1L","qxn1EMK"];return(qt=function(){return e})()}function Lt(e,t){e-=482;const n=qt();let s=n[e];if(void 0===Lt.itnUQl){var r=function(e){let t="",n="",s=t+r;for(let r,a,i=0,o=0;a=e.charAt(o++);~a&&(r=i%4?64*r+a:a,i++%4)?t+=s.charCodeAt(o+10)-10!=0?String.fromCharCode(255&r>>(-2*i&6)):i:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};Lt.eIjImZ=r,Lt.XXXxXZ={},Lt.itnUQl=!0}const a=e+n[0],i=Lt.XXXxXZ[a];if(i)s=i;else{const e=function(e){this.WVGABV=e,this.muuguZ=[1,0,0],this.MYVDQF=function(){return"newState"},this.SjEDNQ="\\w+ *\\(\\) *{\\w+ *",this.lyZTwT="['|\"].+['|\"];? *}"};e.prototype.WdBitM=function(){const e=new RegExp(this.SjEDNQ+this.lyZTwT).test(this.MYVDQF.toString())?--this.muuguZ[1]:--this.muuguZ[0];return this.qtHWev(e)},e.prototype.qtHWev=function(e){return Boolean(~e)?this.QGefnZ(this.WVGABV):e},e.prototype.QGefnZ=function(e){for(let t=0,n=this.muuguZ.length;t<n;t++)this.muuguZ.push(Math.round(Math.random())),n=this.muuguZ.length;return e(this.muuguZ[0])},new e(Lt).WdBitM(),s=Lt.eIjImZ(s),Lt.XXXxXZ[a]=s}return s}Bt(void 0,function(){const e=Lt,t={Uuiqn:function(e,t){return e(t)},LoKUx:function(e,t){return e+t},PoEOe:"return (function() ",oaAPT:"{}.constru"+e(569)+e(601)+" )",gCxfW:function(e){return e()},uwZeL:"log",DggxB:"info",aJfeW:e(564),HaHiY:e(723),YeEPw:e(693)};let n;try{const s=t[e(612)](Function,t[e(648)](t[e(647)]+t.oaAPT,");"));n=t.gCxfW(s)}catch(a){n=window}const s=n[e(704)]=n[e(704)]||{},r=[t.uwZeL,e(615),t[e(694)],t[e(696)],t[e(530)],t[e(749)],e(594)];for(let i=0;i<r[e(777)];i++){const t=Bt.constructor[e(769)][e(625)](Bt),n=r[i],a=s[n]||t;t.__proto__=Bt[e(625)](Bt),t[e(493)]=a[e(493)][e(625)](a),s[n]=t}})();const At={};At[zt(588)]=60,At.blitz_5=300,At[zt(658)]=900,At[zt(533)]=0;const Pt=At,St=Yt;!function(){const e=Yt,t=_t();for(;;)try{if(635011===-parseInt(e(382))/1*(-parseInt(e(423))/2)+-parseInt(e(412))/3*(-parseInt(e(388))/4)+parseInt(e(392))/5+-parseInt(e(394))/6+parseInt(e(404))/7+parseInt(e(396))/8+-parseInt(e(416))/9*(parseInt(e(389))/10))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const Ht=function(){const e={KQGfa:"fQNrD"},t=e;let n=!0;return function(e,s){if("bsSGs"!==t.KQGfa){const t=n?function(){if(s){const t=s[Yt(401)](e,arguments);return s=null,t}}:function(){};return n=!1,t}{const e=_0x130e32?function(){if(_0x3d7378){const e=_0x5ca8a4[Yt(401)](_0x26a38d,arguments);return _0x37ec5c=null,e}}:function(){};return _0x4cd69b=!1,e}}}()(void 0,function(){const e=Yt;return Ht.toString().search(e(385)+"+$")[e(413)]()[e(432)+"r"](Ht).search(e(385)+"+$")});Ht();const Kt=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[Yt(401)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}();function _t(){const e=["r1PUwhu","y29UC3rYDwn0BW","odqXmZfquvnHzhq","x19WCM90B19F","yMLUza","kcGOlISPkYKRkq","y29UC29Szq","AgfWDgLJCW","mtq4mJaXmNDQtvvZyq","mJC0mgfrthftuG","CM4GDgHPCYiPka","CMv0DxjUicHMDq","nde0odKXmhDgAufeza","C2vHCMnO","ndq0mZe4mhDVrLDMAG","ww5uuhm","mtC5ndaWmg92q2nYra","yKHoruO","A0nbCLi","E30Uy29UC3rYDq","q2HXrwy","yxbWBhK","ve1UD1a","AxntDxbWB3j0zq","nZC3mZm4muPovhbRua","zgjHy2SGzMfPBa","vwzIEfG","vhDku1i","u0fMueW","AhnICMG","D2fYBG","C3vJy2vZCW","m2n6BKD3Aq","Dg9tDhjPBMC","DhjHy2u","zxjYB3i","ntC0mJLjwhbps1a","DMLICMf0zq","BgvUz3rO","Bg9N","EfHqsxy","ChjVDg90ExbL","vMnWrfy","mtriuKnrCg0","AgvHDNK","sK1gq0y","BgLNAhq","BwvKAxvT","DgfIBgu","t0jcugm","sgfWDgLJigzLzq"];return(_t=function(){return e})()}Kt(void 0,function(){const e=Yt,t={TMnwP:e(385)+"+$",LXAVi:function(e,t){return e(t)},GZnXu:e(399)+'ctor("retu'+e(390)+" )",NRaSo:function(e){return e()},VcpDV:e(419),OWiBN:e(410),ZDbIN:"error",UfbxX:"exception",kCArR:e(414)};let n;try{if(e(420)!=e(420))return _0x150f48[e(413)]().search(t.TMnwP).toString()[e(432)+"r"](_0x1620b3)[e(393)](t[e(402)]);{const s=t.LXAVi(Function,e(391)+"nction() "+t[e(431)]+");");n=t.NRaSo(s)}}catch(a){n=window}const s=n.console=n[e(386)]||{},r=[t[e(422)],t.OWiBN,"info",t.ZDbIN,t[e(406)],e(428),t[e(398)]];for(let i=0;i<r[e(418)];i++){const t=Kt[e(432)+"r"][e(421)][e(384)](Kt),n=r[i],a=s[n]||t;t.__proto__=Kt[e(384)](Kt),t[e(413)]=a.toString.bind(a),s[n]=t}})();const Tt={};Tt[St(426)]=10,Tt.medium=25,Tt[St(424)]=50,Tt.success=[10,50,20],Tt.error=[50,30,50,30,50],Tt.selection=5;const Gt=Tt,It=()=>{const e=St,n={YnTPs:e(430)+e(405)+"ed:",ChqEf:function(e,t){return e!==t},bHNEJ:e(425),TwJSR:"rgQDM",hsbrh:function(e,t,n){return e(t,n)},OBBPc:function(e,t,n){return e(t,n)},SAfPL:function(e,t,n){return e(t,n)}},s=n[e(400)](typeof navigator,"undefined")&&e(417)in navigator,r=n.hsbrh(t.useCallback,(t=e(426))=>{const n=e;if(!s)return!1;try{const e=Gt[t];return navigator[n(417)](e)}catch(r){return!1}},[s]),a={select:n[e(409)](t.useCallback,()=>r("selection"),[r]),move:t.useCallback(()=>r(e(426)),[r]),capture:t.useCallback(()=>r(e(427)),[r]),check:t.useCallback(()=>r("heavy"),[r]),victory:n[e(429)](t.useCallback,()=>r(e(411)),[r]),error:n[e(429)](t.useCallback,()=>r(e(415)),[r]),castle:t.useCallback(()=>{const t=e;if(n[t(400)](n[t(397)],n[t(407)]))return!!s&&navigator[t(417)]([15,40,15]);{const e=_0xd38838[t(432)+"r"][t(421)][t(384)](_0x397827),n=_0x3a481c[_0x2b5fb8],s=_0xb8be64[n]||e;e[t(383)]=_0x2d2508[t(384)](_0x10e472),e[t(413)]=s[t(413)][t(384)](s),_0x126498[n]=e}},[s]),gameStart:n[e(408)](t.useCallback,()=>!!s&&navigator[e(417)]([10,30,10,30,20]),[s])},i={};return i[e(403)+"d"]=s,i[e(417)]=r,i[e(387)]=a,i};function Yt(e,t){e-=382;const n=_t();let s=n[e];if(void 0===Yt.wuiiao){var r=function(e){let t="",n="",s=t+r;for(let r,a,i=0,o=0;a=e.charAt(o++);~a&&(r=i%4?64*r+a:a,i++%4)?t+=s.charCodeAt(o+10)-10!=0?String.fromCharCode(255&r>>(-2*i&6)):i:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};Yt.LWaswj=r,Yt.CgyPVi={},Yt.wuiiao=!0}const a=e+n[0],i=Yt.CgyPVi[a];if(i)s=i;else{const e=function(e){this.oafmRA=e,this.onsBug=[1,0,0],this.uMeHpO=function(){return"newState"},this.JrbmNo="\\w+ *\\(\\) *{\\w+ *",this.OjBaKd="['|\"].+['|\"];? *}"};e.prototype.bnQJjV=function(){const e=new RegExp(this.JrbmNo+this.OjBaKd).test(this.uMeHpO.toString())?--this.onsBug[1]:--this.onsBug[0];return this.wdBLlU(e)},e.prototype.wdBLlU=function(e){return Boolean(~e)?this.kLKSWm(this.oafmRA):e},e.prototype.kLKSWm=function(e){for(let t=0,n=this.onsBug.length;t<n;t++)this.onsBug.push(Math.round(Math.random())),n=this.onsBug.length;return e(this.onsBug[0])},new e(Yt).bnQJjV(),s=Yt.LWaswj(s),Yt.CgyPVi[a]=s}return s}const Ut={K:"‚ôî",Q:"‚ôï",R:"‚ôñ",B:"‚ôó",N:"‚ôò",P:"‚ôô",k:"‚ôö",q:"‚ôõ",r:"‚ôú",b:"‚ôù",n:"‚ôû",p:"‚ôü"},Et=(e,t)=>`${String.fromCharCode(97+t)}${8-e}`,Wt=({fen:e,onMove:n,getAvailableMoves:s,isMyTurn:r,myColor:a,whitePalette:i,blackPalette:o,movedSquares:c,disabled:x=!1,onMoveResult:h,enPensentEnabled:p=!1,enPensentOpacity:f=1,moveHistory:g=[],showPieces:v=!0})=>{const[b,w]=t.useState(null),[y,j]=t.useState([]),[C,N]=t.useState(null),M=t.useRef(null),{haptics:k}=It();let z=null;try{z=l()}catch{}const D=t.useMemo(()=>(e=>e.split(" ")[0].split("/").map(e=>{const t=[];for(const n of e)if(/\d/.test(n))for(let e=0;e<parseInt(n);e++)t.push(null);else t.push(n);return t}))(e),[e]),B="b"===a,q=t.useMemo(()=>{const e=new Map;for(const t of g){const n=e.get(t.square)||[];n.some(e=>e.pieceType===t.piece&&e.pieceColor===t.color)||(n.push({pieceType:t.piece,pieceColor:t.color}),e.set(t.square,n))}return e},[g]),L=e=>e===e.toUpperCase()?"#1a1a1a":"#f5f5f5",A=t.useCallback(async(e,t)=>{var i,o;if(x||!r)return;const c=Et(B?7-e:e,B?7-t:t),l=null==(i=D[B?7-e:e])?void 0:i[B?7-t:t];if(N(c),setTimeout(()=>N(null),150),b&&y.includes(c)){!!(null==(o=D[B?7-e:e])?void 0:o[B?7-t:t])?k.capture():k.move();return void(await n(b,c)?(w(null),j([])):k.error())}if(l){if("w"===a?l===l.toUpperCase():l===l.toLowerCase())return k.select(),w(c),void j(s(c))}w(null),j([])},[D,b,y,r,a,B,x,n,s,k]),P=t.useCallback(e=>{if(!(null==z?void 0:z.setHoveredSquare))return;const t=q.get(e);t&&t.length>0?z.setHoveredSquare({square:e,pieces:t,moveNumbers:[]}):z.setHoveredSquare(null)},[z,q]),S=t.useCallback(()=>{(null==z?void 0:z.setHoveredSquare)&&z.setHoveredSquare(null)},[z]),H=t.useCallback(e=>{if(!z)return!1;const{highlightedPiece:t,lockedPieces:n}=z,s=n.length>0?n:t?[t]:[];if(0===s.length)return!1;for(const r of g)for(const t of s)if(r.square===e&&r.piece===t.pieceType&&r.color===t.pieceColor)return!0;return!1},[z,g]),K=z&&(null!==z.highlightedPiece||z.lockedPieces.length>0);return u.jsxs("div",{className:"w-full max-w-lg mx-auto px-1 sm:px-0",children:[u.jsx("div",{className:"sm:hidden mb-2 text-center",children:u.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-display uppercase tracking-wider "+(r&&!x?"bg-primary/20 text-primary animate-pulse":"bg-muted text-muted-foreground"),children:x?"Game Over":r?"Your Turn - Tap to Move":"Opponent's Turn"})}),u.jsxs("div",{ref:M,className:"relative grid grid-cols-8 border-2 sm:border-4 border-amber-900 rounded-lg overflow-hidden shadow-2xl touch-manipulation",style:{touchAction:"none"},children:[Array.from({length:64}).map((e,t)=>((e,t)=>{var n;const s=B?7-e:e,a=B?7-t:t,i=Et(s,a),o=null==(n=D[s])?void 0:n[a],l=(e+t)%2==0,d=b===i,h=y.includes(i);c.has(i);const f=C===i,g=q.has(i),w=H(i),j=K&&g&&!w,N=K&&w;return u.jsxs(m.div,{onClick:()=>A(e,t),onMouseEnter:()=>P(i),onMouseLeave:S,onTouchEnd:e=>{p&&g&&(e.stopPropagation(),P(i),setTimeout(()=>S(),2e3))},onTouchStart:e=>{e.stopPropagation()},className:`\n          relative aspect-square cursor-pointer transition-all\n          ${l?"bg-amber-100":"bg-amber-700"}\n          ${d?"ring-4 ring-primary ring-inset z-10":""}\n          ${f?"brightness-125":""}\n          ${!r||x?"cursor-default":""}\n          ${g&&p?"hover:ring-2 hover:ring-amber-400/50":""}\n          ${j?"opacity-30":""}\n          ${N?"ring-2 ring-sky-400/70 z-5":""}\n          touch-manipulation select-none\n        `,style:{WebkitTapHighlightColor:"transparent",transition:"opacity 0.2s ease-out"},whileTap:r&&!x?{scale:.95}:{},children:[h&&u.jsx(m.div,{initial:{scale:0},animate:{scale:1},className:"absolute inset-0 flex items-center justify-center z-20",children:o?u.jsx("div",{className:"absolute inset-1 sm:inset-1.5 rounded-full border-4 sm:border-[5px] border-primary/60"}):u.jsx("div",{className:"w-1/3 h-1/3 sm:w-[30%] sm:h-[30%] rounded-full bg-primary/50"})}),o&&v&&u.jsx(m.div,{layout:!0,initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"absolute inset-0 flex items-center justify-center z-10",style:{color:L(o),textShadow:o===o.toUpperCase()?"0 1px 2px rgba(0,0,0,0.3), 0 0 1px rgba(255,255,255,0.8)":"0 1px 2px rgba(0,0,0,0.5), 0 0 1px rgba(0,0,0,0.3)"},children:u.jsx("span",{className:"text-[2.5rem] sm:text-4xl md:text-5xl lg:text-6xl select-none drop-shadow-lg leading-none",children:Ut[o]})}),0===t&&u.jsx("span",{className:"absolute top-0.5 left-0.5 sm:left-1 text-[10px] sm:text-xs font-display opacity-50 select-none",children:8-s}),7===e&&u.jsx("span",{className:"absolute bottom-0.5 right-0.5 sm:right-1 text-[10px] sm:text-xs font-display opacity-50 select-none",children:String.fromCharCode(97+a)})]},i)})(Math.floor(t/8),t%8)),u.jsx(d,{moveHistory:g,whitePalette:i,blackPalette:o,opacity:f,isEnabled:p,flipped:B})]}),b&&u.jsx("div",{className:"sm:hidden mt-2 text-center",children:u.jsxs("span",{className:"inline-block px-3 py-1 rounded-full bg-primary/20 text-primary text-xs font-display uppercase tracking-wider",children:[y.length," move",1!==y.length?"s":""," available"]})})]})},Ot={capture:{icon:y,color:"text-orange-400",bgColor:"bg-orange-500",borderColor:"border-orange-500/50",label:"Capture",description:"A piece was captured, shifting the material balance.",tacticalInsight:"Material changes can dramatically alter the strategic landscape. Evaluate if this trade favors one side.",emoji:"‚öîÔ∏è"},check:{icon:g,color:"text-yellow-400",bgColor:"bg-yellow-500",borderColor:"border-yellow-500/50",label:"Check",description:"The king is under attack and must escape.",tacticalInsight:"Checks force immediate response, often disrupting the opponent's plans.",emoji:"‚ö°"},checkmate:{icon:h,color:"text-red-400",bgColor:"bg-red-500",borderColor:"border-red-500/50",label:"Checkmate",description:"Game over! The king cannot escape.",tacticalInsight:"The ultimate goal achieved. Study the mating pattern for future games.",emoji:"üëë"},castling:{icon:M,color:"text-blue-400",bgColor:"bg-blue-500",borderColor:"border-blue-500/50",label:"Castle",description:"King moves to safety while activating the rook.",tacticalInsight:"A crucial developmental move that addresses king safety and rook activation.",emoji:"üè∞"},brilliant:{icon:N,color:"text-cyan-400",bgColor:"bg-cyan-500",borderColor:"border-cyan-500/50",label:"Brilliant",description:"An exceptional move that dramatically improves the position.",tacticalInsight:"Often involves a sacrifice or counterintuitive play that creates winning chances.",emoji:"üíé"},great:{icon:C,color:"text-green-400",bgColor:"bg-green-500",borderColor:"border-green-500/50",label:"Great Move",description:"A strong move that significantly improves the position.",tacticalInsight:"Demonstrates deep understanding of the position's requirements.",emoji:"‚ú®"},blunder:{icon:j,color:"text-red-400",bgColor:"bg-red-600",borderColor:"border-red-600/50",label:"Blunder",description:"A severe error that often loses the game.",tacticalInsight:"Critical mistake to avoid. Study what the better alternative was.",emoji:"‚ö†Ô∏è"},mistake:{icon:j,color:"text-orange-400",bgColor:"bg-orange-600",borderColor:"border-orange-600/50",label:"Mistake",description:"A clear error that loses material or advantage.",tacticalInsight:"An oversight that changes the evaluation. Consider what was missed.",emoji:"‚ùå"},inaccuracy:{icon:y,color:"text-yellow-400",bgColor:"bg-yellow-600",borderColor:"border-yellow-600/50",label:"Inaccuracy",description:"Slightly imprecise, giving up some advantage.",tacticalInsight:"A minor slip. The difference between good and best moves.",emoji:"‚ö™"},fork:{icon:w,color:"text-purple-400",bgColor:"bg-purple-500",borderColor:"border-purple-500/50",label:"Fork",description:"One piece attacks two or more enemy pieces simultaneously.",tacticalInsight:"A classic double attack. One of the most common tactical patterns.",emoji:"üî±"},pin:{icon:b,color:"text-indigo-400",bgColor:"bg-indigo-500",borderColor:"border-indigo-500/50",label:"Pin",description:"A piece cannot move without exposing a more valuable piece behind it.",tacticalInsight:"Pins restrict movement and can lead to material wins or positional advantages.",emoji:"üìå"},skewer:{icon:v,color:"text-pink-400",bgColor:"bg-pink-500",borderColor:"border-pink-500/50",label:"Skewer",description:"Attacking a piece through another, forcing it to move.",tacticalInsight:"The reverse of a pin. The more valuable piece must move, exposing the lesser one.",emoji:"üìç"},discovery:{icon:g,color:"text-amber-400",bgColor:"bg-amber-500",borderColor:"border-amber-500/50",label:"Discovery",description:"Moving one piece to reveal an attack from another.",tacticalInsight:"Discovered attacks can be devastating as they create multiple threats.",emoji:"üéØ"},sacrifice:{icon:f,color:"text-cyan-400",bgColor:"bg-cyan-600",borderColor:"border-cyan-600/50",label:"Sacrifice",description:"Intentionally giving up material for advantage.",tacticalInsight:"Sacrifices require deep calculation but can lead to brilliant victories.",emoji:"üí´"},en_passant:{icon:p,color:"text-emerald-400",bgColor:"bg-emerald-500",borderColor:"border-emerald-500/50",label:"En Passant",description:"Special pawn capture immediately after opponent's two-square move.",tacticalInsight:"A unique rule that prevents pawns from escaping capture by advancing two squares.",emoji:"‚ö°"},promotion:{icon:h,color:"text-amber-400",bgColor:"bg-amber-500",borderColor:"border-amber-500/50",label:"Promotion",description:"Pawn reaches the eighth rank and transforms.",tacticalInsight:"Promotion often decides the game. Queen promotion is most common.",emoji:"üë∏"},underpromotion:{icon:x,color:"text-violet-400",bgColor:"bg-violet-500",borderColor:"border-violet-500/50",label:"Underpromotion",description:"Strategic promotion to knight, bishop, or rook instead of queen.",tacticalInsight:"Rare but sometimes necessary to avoid stalemate or deliver mate.",emoji:"üèÜ"}};const Zt=({moment:e,position:n,totalMoves:s,onClick:r,size:a="md"})=>{const i=Ot[e.type],o=i.icon;let c=null;try{c=l()}catch{}const d=e.moveNumber-1,m=Math.floor(d/2)+1,x=d%2==0,h=t.useMemo(()=>function(e,t){if(!e)return null;const n=e.replace(/[+#!?]/g,""),s=t?"w":"b";if("O-O"===n||"O-O-O"===n)return{pieceType:"k",pieceColor:s,targetSquare:"O-O"===n?t?"g1":"g8":t?"c1":"c8",isCapture:!1};const r=n.includes("x");let a,i="p",o=n;/^[KQRBN]/.test(n)&&(i=n[0].toLowerCase(),o=n.slice(1)),o=o.replace("x",""),o.match(/=([QRBN])$/i)&&(o=o.slice(0,-2)),o.length>2&&(a=o.slice(0,-2),o=o.slice(-2));const c=o;return/^[a-h][1-8]$/.test(c)?{pieceType:i,pieceColor:s,targetSquare:c,fromHint:a,isCapture:r}:null}(e.move,x),[e.move,x]),p=t.useMemo(()=>h?{pieceType:h.pieceType,pieceColor:h.pieceColor}:null,[h]),f=t.useMemo(()=>h&&p?{moveNumber:e.moveNumber,san:e.move,piece:p,targetSquare:h.targetSquare,isCapture:h.isCapture}:null,[h,p,e.moveNumber,e.move]),g=t.useCallback(()=>{c&&(f&&c.setHoveredMove(f),p&&c.setHighlightedPiece(p))},[c,f,p]),v=t.useCallback(()=>{c&&(c.setHoveredMove(null),c.setHighlightedPiece(null))},[c]),b=t.useCallback(()=>{c&&(c.setHoveredMove(null),c.setHighlightedPiece(null)),r(e.moveNumber)},[r,e.moveNumber,c]),w=e.quality?k[e.quality]:null;return u.jsxs(z,{children:[u.jsx(D,{asChild:!0,children:u.jsx("button",{onMouseEnter:g,onMouseLeave:v,onClick:b,className:`absolute -translate-x-1/2 -top-1 ${{sm:"w-3.5 h-3.5",md:"w-4 h-4",lg:"w-5 h-5"}[a]} rounded-full ${i.bgColor} \n            flex items-center justify-center cursor-pointer\n            hover:scale-125 transition-all duration-200 shadow-lg ring-1 ring-black/20\n            ${"white"===e.player?"ring-white/30":"ring-black/50"}\n            hover:ring-2 hover:ring-primary/50`,style:{left:`${n}%`},children:u.jsx(o,{className:`${{sm:"w-2 h-2",md:"w-2.5 h-2.5",lg:"w-3 h-3"}[a]} text-white`})})}),u.jsxs(B,{side:"top",className:"max-w-[300px] p-0 overflow-hidden",onPointerDownOutside:e=>e.preventDefault(),children:[u.jsx("div",{className:`${i.bgColor} px-3 py-2`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-lg",children:i.emoji}),u.jsx(o,{className:"w-4 h-4 text-white"}),u.jsx("span",{className:"font-semibold text-white",children:i.label}),u.jsx(q,{variant:"outline",className:"ml-auto text-[9px] bg-white/20 border-white/30 text-white",children:"white"===e.player?"White":"Black"})]})}),u.jsxs("div",{className:"p-3 space-y-3 bg-popover",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2.5 h-2.5 rounded-full "+("white"===e.player?"bg-sky-400":"bg-rose-400")}),u.jsxs("span",{className:"font-mono text-sm font-medium",children:[m,".",x?"":".."," ",e.move]}),h&&u.jsxs(q,{variant:"secondary",className:"text-[9px] gap-1",children:[u.jsx(L,{className:"w-2.5 h-2.5"}),h.targetSquare]})]}),u.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:e.description||i.description}),u.jsxs("div",{className:`text-xs p-2 rounded-md border ${i.borderColor} bg-muted/30`,children:[u.jsxs("div",{className:"font-medium text-muted-foreground mb-1 flex items-center gap-1",children:[u.jsx(N,{className:"w-3 h-3"}),"Tactical Insight"]}),u.jsx("p",{className:"leading-relaxed",children:i.tacticalInsight})]}),w&&u.jsxs("div",{className:"flex items-center gap-2 pt-1 border-t border-border/50",children:[u.jsx("span",{className:"text-xs text-muted-foreground",children:"Engine Analysis:"}),u.jsxs(q,{style:{backgroundColor:w.color},className:"text-white text-[10px]",children:[w.symbol," ",w.label]})]}),e.tactic&&u.jsxs("div",{className:"pt-2 border-t border-border/50",children:[u.jsx("div",{className:"text-[10px] font-medium text-muted-foreground mb-1.5",children:"Tactical Details"}),u.jsxs("div",{className:"grid grid-cols-2 gap-x-3 gap-y-1 text-xs",children:[u.jsx("span",{className:"text-muted-foreground",children:"Attacker:"}),u.jsxs("span",{className:"font-mono",children:[e.tactic.attacker.piece.toUpperCase()," @ ",e.tactic.attacker.square]}),u.jsx("span",{className:"text-muted-foreground",children:"Targets:"}),u.jsx("span",{className:"font-mono text-[10px]",children:e.tactic.targets.map(e=>`${e.piece.toUpperCase()}@${e.square}`).join(", ")}),e.tactic.value&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-muted-foreground",children:"Value:"}),u.jsxs("span",{className:"text-primary font-medium",children:[e.tactic.value," cp"]})]})]})]}),u.jsxs("div",{className:"flex items-center gap-2 pt-1 text-[9px] text-muted-foreground/70",children:[u.jsxs("div",{className:"flex-1 flex items-center gap-1",children:[u.jsx(y,{className:"w-2.5 h-2.5"}),u.jsx("span",{children:"Hover highlights board"})]}),u.jsx("span",{className:"text-primary/70",children:"Click to jump"})]})]})]})]})},Xt={capture:{icon:y,color:"bg-orange-500 text-orange-400",label:"Capture",description:"A piece was captured, shifting material balance.",tactical:"Captures often open new tactical opportunities and change the positional landscape of the game.",emoji:"‚öîÔ∏è"},check:{icon:g,color:"bg-yellow-500 text-yellow-400",label:"Check",description:"The king is under direct attack!",tactical:"The opponent must immediately respond to escape the threat. Checks can disrupt plans and force defensive moves.",emoji:"‚ö°"},checkmate:{icon:h,color:"bg-red-500 text-red-400",label:"Checkmate",description:"Game over! The king cannot escape.",tactical:"The ultimate goal of chess. The king is in check with no legal moves to escape.",emoji:"üëë"},castling:{icon:M,color:"bg-blue-500 text-blue-400",label:"Castle",description:"King moves to safety, rook activates.",tactical:"A crucial defensive and developmental move. Protects the king while connecting the rooks.",emoji:"üè∞"},promotion:{icon:h,color:"bg-purple-500 text-purple-400",label:"Promotion",description:"Pawn promoted to a powerful piece!",tactical:"A pawn reaching the 8th rank transforms into a queen, rook, bishop, or knight. Usually decisive.",emoji:"‚ú®"}},Jt={opening:{name:"Opening",description:"The first 10-15 moves where players develop pieces and fight for center control.",tips:"Control the center, develop pieces, castle early, connect rooks.",icon:I,color:"text-emerald-400",bgColor:"bg-emerald-500/20",borderColor:"border-emerald-500/30"},middlegame:{name:"Middlegame",description:"The strategic battle where tactics, attacks, and positional play dominate.",tips:"Create threats, improve piece activity, target weaknesses.",icon:G,color:"text-amber-400",bgColor:"bg-amber-500/20",borderColor:"border-amber-500/30"},endgame:{name:"Endgame",description:"Few pieces remain. King becomes active, passed pawns are crucial.",tips:"Activate the king, create passed pawns, simplify if ahead.",icon:h,color:"text-purple-400",bgColor:"bg-purple-500/20",borderColor:"border-purple-500/30"}};const Rt=({totalMoves:e,moves:n=[],moveHistory:s=[],currentMove:r,onMoveChange:a,compact:i=!1,vertical:o=!1})=>{var c;const[l,d]=t.useState(!1),[x,p]=t.useState(500),[f,v]=t.useState(!1),[b,w]=t.useState(!0),j=t.useMemo(()=>function(e,t){const n=[];return(e.length>0?e:(null==t?void 0:t.map(()=>""))||[]).forEach((e,t)=>{const s=t+1,r=t%2==0?"white":"black";e.includes("#")?n.push({moveNumber:s,type:"checkmate",move:e,player:r}):e.includes("+")&&n.push({moveNumber:s,type:"check",move:e,player:r}),e.includes("x")&&n.push({moveNumber:s,type:"capture",move:e,player:r}),(e.includes("O-O")||e.includes("0-0"))&&n.push({moveNumber:s,type:"castling",move:e,player:r}),e.includes("=")&&n.push({moveNumber:s,type:"promotion",move:e,player:r})}),n}(n,s),[n,s]),C=t.useMemo(()=>function(e){if(0===e)return[];const t=[],n=Math.min(Math.floor(.25*e),30),s=Math.max(Math.floor(.7*e),Math.min(60,e));return t.push({name:"opening",startMove:1,endMove:n,color:"text-emerald-400",bgColor:"bg-emerald-500/20",icon:I,description:"Development & center control"}),n<s-1&&t.push({name:"middlegame",startMove:n+1,endMove:s-1,color:"text-amber-400",bgColor:"bg-amber-500/20",icon:G,description:"Tactics & attacks"}),s<=e&&t.push({name:"endgame",startMove:s,endMove:e,color:"text-purple-400",bgColor:"bg-purple-500/20",icon:h,description:"King activation & pawns"}),t}(e),[e]);t.useMemo(()=>C.find(e=>r>=e.startMove&&r<=e.endMove),[C,r]);const N=t.useCallback(t=>{if(!(t.target instanceof HTMLInputElement||t.target instanceof HTMLTextAreaElement||t.target.isContentEditable))switch(t.key){case" ":t.preventDefault(),r>=e&&a(0),d(e=>!e),w(!1);break;case"ArrowRight":t.preventDefault(),r<e&&a(r+1),w(!1);break;case"ArrowLeft":t.preventDefault(),r>0&&a(r-1),w(!1);break;case"Home":t.preventDefault(),d(!1),a(0);break;case"End":t.preventDefault(),d(!1),a(e)}},[r,e,a]);t.useEffect(()=>(window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)),[N]),t.useEffect(()=>{if(!l)return;const t=setInterval(()=>{a(r>=e?e:r+1),r>=e&&d(!1)},x);return()=>clearInterval(t)},[l,r,e,x,a]);const k=[{label:"0.25x",value:2e3},{label:"0.5x",value:1e3},{label:"1x",value:500},{label:"2x",value:250},{label:"4x",value:125}],q=(null==(c=k.find(e=>e.value===x))?void 0:c.label)||"1x",L=0===r||r>=e?null:r%2==1?"white":"black",se=t.useMemo(()=>{const e={capture:0,check:0,checkmate:0,castling:0,promotion:0};return j.forEach(t=>e[t.type]++),e},[j]),re=t.useMemo(()=>{const e={capture:[],check:[],checkmate:[],castling:[],promotion:[]};return j.forEach(t=>e[t.type].push(t)),e},[j]),ae=e=>{const t=e.moveNumber-1;return`${Math.floor(t/2)+1}.${t%2==0?"":".."} ${e.move}`};return 0===e?null:f?u.jsxs("button",{onClick:()=>v(!1),className:"flex items-center gap-2 p-2 rounded-lg bg-card/80 backdrop-blur-sm border border-border/50 hover:bg-accent/30 transition-colors",children:[u.jsx(A,{className:"w-3 h-3 text-primary"}),u.jsx("span",{className:"text-xs font-display uppercase tracking-wider",children:"Timeline"}),u.jsx(P,{className:"w-3 h-3"})]}):u.jsx(S,{children:u.jsxs(m.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-card/80 backdrop-blur-sm rounded-lg border border-border/50 p-3 space-y-3 "+(i?"max-w-xs":""),children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-[10px] font-display font-semibold uppercase tracking-widest text-muted-foreground",children:"Timeline"}),L&&u.jsx("div",{className:"w-2 h-2 rounded-full "+("white"===L?"bg-sky-400":"bg-rose-400")})]}),u.jsx("button",{onClick:()=>v(!0),className:"p-1 rounded hover:bg-accent/50 transition-colors",children:u.jsx(H,{className:"w-3 h-3 text-muted-foreground"})})]}),j.length>0&&u.jsxs("div",{className:"flex items-center gap-3 text-[10px] flex-wrap",children:[u.jsxs(z,{children:[u.jsx(D,{asChild:!0,children:u.jsxs("span",{className:"text-muted-foreground flex items-center gap-1 cursor-help",children:[u.jsx(K,{className:"w-3 h-3"}),"Key moments:"]})}),u.jsx(B,{className:"max-w-[220px] p-3",children:u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"font-semibold",children:"Key Moments"}),u.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:"Critical events that shaped the game. Click any marker on the timeline to jump directly to that moment."}),u.jsx("p",{className:"text-[10px] text-primary italic",children:"üí° Hover over icons for details"})]})})]}),u.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:Object.entries(se).map(([e,t])=>{if(0===t)return null;const n=Xt[e],s=n.icon;return u.jsxs(z,{children:[u.jsx(D,{asChild:!0,children:u.jsxs("button",{className:`flex items-center gap-1 ${n.color.split(" ")[1]} hover:scale-110 transition-transform cursor-help`,children:[u.jsx(s,{className:"w-3 h-3"}),u.jsx("span",{children:t})]})}),u.jsx(B,{side:"bottom",className:"max-w-[240px] p-3",children:u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"font-semibold flex items-center gap-2",children:[u.jsx("span",{className:"text-lg",children:n.emoji}),u.jsx(s,{className:`w-4 h-4 ${n.color.split(" ")[1]}`}),n.label]}),u.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:n.description}),u.jsx("p",{className:"text-xs leading-relaxed border-t border-border/50 pt-2",children:n.tactical}),u.jsxs("p",{className:"text-[10px] text-primary mt-1 font-medium",children:[t," occurrence",1!==t?"s":""," in this game"]})]})})]},e)})})]}),C.length>0&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(z,{children:[u.jsx(D,{asChild:!0,children:u.jsx("span",{className:"text-muted-foreground flex items-center gap-1 cursor-help",children:u.jsx(_,{className:"w-3 h-3"})})}),u.jsx(B,{className:"max-w-[220px] p-3",children:u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"font-semibold",children:"Game Phases"}),u.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:"Click any phase to jump to its starting position. View how the game evolved through each stage."})]})})]}),u.jsxs(z,{children:[u.jsx(D,{asChild:!0,children:u.jsx(T,{variant:r>=e?"secondary":"ghost",size:"sm",className:"h-6 px-2 text-[10px] font-medium",onClick:()=>a(e),children:"All Moves"})}),u.jsx(B,{className:"max-w-[200px] p-3",children:u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"font-semibold",children:"All Moves"}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Show the complete visualization with all ",e," moves."]})]})})]}),C.map(t=>{const n=Jt[t.name],s=n.icon,i=r>=t.startMove&&r<=t.endMove&&r<e;return u.jsxs(z,{children:[u.jsx(D,{asChild:!0,children:u.jsxs(T,{variant:i?"secondary":"ghost",size:"sm",className:`h-6 px-2 text-[10px] font-medium gap-1 ${i?n.bgColor:""}`,onClick:()=>a(t.startMove),children:[u.jsx(s,{className:`w-3 h-3 ${n.color}`}),u.jsx("span",{className:"hidden sm:inline capitalize",children:t.name})]})}),u.jsx(B,{className:"max-w-[240px] p-3",children:u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"font-semibold flex items-center gap-2",children:[u.jsx(s,{className:`w-4 h-4 ${n.color}`}),n.name]}),u.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:n.description}),u.jsx("p",{className:"text-xs leading-relaxed border-t border-border/50 pt-2",children:n.tips}),u.jsxs("p",{className:"text-[10px] text-primary mt-1 font-medium",children:["Moves ",t.startMove," - ",t.endMove]}),u.jsxs("p",{className:"text-[10px] text-primary italic",children:["Click to jump to start of ",t.name]})]})})]},t.name)})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-sm font-medium",children:(()=>{if(r>=e||r===1/0)return`All ${e} moves`;if(0===r)return"Start";const t=r-1;if(n[t]){return`${Math.floor(t/2)+1}.${t%2==0?"":".."} ${n[t]}`}return`Move ${r}`})()}),u.jsxs("div",{className:"text-xs text-muted-foreground",children:[r>=e?e:r," / ",e]})]}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-x-0 top-0 h-5 pointer-events-none z-10",children:j.slice(0,20).map((t,n)=>{const s=t.moveNumber/e*100,r={moveNumber:t.moveNumber,type:t.type,move:t.move,player:t.player};return u.jsx("div",{className:"pointer-events-auto",children:u.jsx(Zt,{moment:r,position:s,totalMoves:e,onClick:a,size:"md"})},`${t.moveNumber}-${t.type}-${n}`)})}),u.jsx(Y,{value:[Math.min(r,e)],min:0,max:e,step:1,onValueChange:e=>{a(e[0])},className:"w-full mt-2"})]}),u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsxs(z,{children:[u.jsx(D,{asChild:!0,children:u.jsx(T,{variant:"ghost",size:"sm",onClick:()=>{d(!1),a(e)},className:"h-8 w-8 p-0",children:u.jsx(U,{className:"h-4 w-4"})})}),u.jsx(B,{className:"max-w-[200px] p-3",children:u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"font-semibold",children:"Show Complete Vision"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Reset to display all moves, revealing the full artistic pattern. Press End."}),u.jsx("p",{className:"text-[10px] text-primary italic",children:"üí° Complete visions have higher collector value"})]})})]}),u.jsxs(z,{children:[u.jsx(D,{asChild:!0,children:u.jsx(T,{variant:"ghost",size:"sm",onClick:()=>{r>0&&a(r-1)},disabled:r<=0,className:"h-8 w-8 p-0",children:u.jsx(E,{className:"h-4 w-4"})})}),u.jsx(B,{className:"max-w-[200px] p-3",children:u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"font-semibold",children:"Previous Move"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Step back through the game's evolution. Use ‚Üê arrow key."}),u.jsx("p",{className:"text-[10px] text-primary italic",children:"üí° Watch patterns emerge in reverse"})]})})]}),u.jsxs(z,{children:[u.jsx(D,{asChild:!0,children:u.jsx(T,{variant:l?"secondary":"default",size:"sm",onClick:()=>{r>=e&&a(0),d(!l),w(!1)},className:"h-10 w-10 p-0 rounded-full",children:l?u.jsx(W,{className:"h-5 w-5"}):u.jsx(A,{className:"h-5 w-5 ml-0.5"})})}),u.jsx(B,{className:"max-w-[220px] p-3",children:u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"font-semibold",children:l?"Pause Animation":"Animate Vision"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:l?"Freeze the current state for analysis or capture.":"Watch the visualization build move-by-move, revealing the game's story."}),u.jsx("p",{className:"text-[10px] text-primary italic",children:"‚å®Ô∏è Press Space to toggle"})]})})]}),u.jsxs(z,{children:[u.jsx(D,{asChild:!0,children:u.jsx(T,{variant:"ghost",size:"sm",onClick:()=>{r<e&&a(r+1)},disabled:r>=e,className:"h-8 w-8 p-0",children:u.jsx(O,{className:"h-4 w-4"})})}),u.jsx(B,{className:"max-w-[200px] p-3",children:u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"font-semibold",children:"Next Move"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Advance through the game. Use ‚Üí arrow key."}),u.jsx("p",{className:"text-[10px] text-primary italic",children:"üí° Each move adds new layers to the art"})]})})]}),u.jsxs(Z,{children:[u.jsxs(z,{children:[u.jsx(D,{asChild:!0,children:u.jsx(X,{asChild:!0,children:u.jsxs(T,{variant:"ghost",size:"sm",className:"h-8 px-2 gap-1 text-xs",children:[u.jsx(J,{className:"h-3 w-3"}),q]})})}),u.jsx(B,{children:u.jsx("p",{className:"text-xs",children:"Playback speed"})})]}),u.jsx(R,{align:"end",className:"bg-popover",children:k.map(e=>u.jsx(F,{onClick:()=>p(e.value),className:x===e.value?"bg-accent":"",children:e.label},e.value))})]}),j.length>0&&u.jsxs(Z,{children:[u.jsxs(z,{children:[u.jsx(D,{asChild:!0,children:u.jsx(X,{asChild:!0,children:u.jsxs(T,{variant:"ghost",size:"sm",className:"h-8 px-2 gap-1 text-xs",children:[u.jsx(it,{className:"h-3 w-3"}),u.jsx("span",{className:"hidden sm:inline",children:"Jump"})]})})}),u.jsx(B,{children:u.jsx("p",{className:"text-xs",children:"Jump to key moment"})})]}),u.jsxs(R,{align:"end",className:"w-56 bg-popover max-h-80 overflow-y-auto",children:[u.jsx(V,{className:"text-xs text-muted-foreground",children:"Jump to Key Moment"}),u.jsx(Q,{}),re.capture.length>0&&u.jsxs($,{children:[u.jsxs(ee,{className:"flex items-center gap-2",children:[u.jsx(y,{className:"h-3.5 w-3.5 text-orange-400"}),u.jsx("span",{children:"Captures"}),u.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:re.capture.length})]}),u.jsx(te,{className:"bg-popover max-h-60 overflow-y-auto",children:re.capture.map((e,t)=>u.jsxs(F,{onClick:()=>a(e.moveNumber),className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full "+("white"===e.player?"bg-sky-400":"bg-rose-400")}),u.jsx("span",{className:"font-mono text-xs",children:ae(e)})]},`capture-${t}`))})]}),re.check.length>0&&u.jsxs($,{children:[u.jsxs(ee,{className:"flex items-center gap-2",children:[u.jsx(g,{className:"h-3.5 w-3.5 text-yellow-400"}),u.jsx("span",{children:"Checks"}),u.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:re.check.length})]}),u.jsx(te,{className:"bg-popover max-h-60 overflow-y-auto",children:re.check.map((e,t)=>u.jsxs(F,{onClick:()=>a(e.moveNumber),className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full "+("white"===e.player?"bg-sky-400":"bg-rose-400")}),u.jsx("span",{className:"font-mono text-xs",children:ae(e)})]},`check-${t}`))})]}),re.castling.length>0&&u.jsxs($,{children:[u.jsxs(ee,{className:"flex items-center gap-2",children:[u.jsx(M,{className:"h-3.5 w-3.5 text-blue-400"}),u.jsx("span",{children:"Castling"}),u.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:re.castling.length})]}),u.jsx(te,{className:"bg-popover max-h-60 overflow-y-auto",children:re.castling.map((e,t)=>u.jsxs(F,{onClick:()=>a(e.moveNumber),className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full "+("white"===e.player?"bg-sky-400":"bg-rose-400")}),u.jsx("span",{className:"font-mono text-xs",children:ae(e)})]},`castling-${t}`))})]}),re.promotion.length>0&&u.jsxs($,{children:[u.jsxs(ee,{className:"flex items-center gap-2",children:[u.jsx(h,{className:"h-3.5 w-3.5 text-purple-400"}),u.jsx("span",{children:"Promotions"}),u.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:re.promotion.length})]}),u.jsx(te,{className:"bg-popover max-h-60 overflow-y-auto",children:re.promotion.map((e,t)=>u.jsxs(F,{onClick:()=>a(e.moveNumber),className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full "+("white"===e.player?"bg-sky-400":"bg-rose-400")}),u.jsx("span",{className:"font-mono text-xs",children:ae(e)})]},`promotion-${t}`))})]}),re.checkmate.length>0&&u.jsxs(u.Fragment,{children:[u.jsx(Q,{}),re.checkmate.map((e,t)=>u.jsxs(F,{onClick:()=>a(e.moveNumber),className:"flex items-center gap-2 text-red-400",children:[u.jsx(h,{className:"h-3.5 w-3.5"}),u.jsx("span",{className:"font-semibold",children:"Checkmate!"}),u.jsx("span",{className:"font-mono text-xs ml-auto",children:ae(e)})]},`checkmate-${t}`))]})]})]})]}),u.jsx(ne,{children:b&&u.jsxs(m.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex items-center justify-center gap-2 text-[10px] text-muted-foreground",children:[u.jsx(at,{className:"w-3 h-3"}),u.jsx("span",{children:"Space: Play/Pause ‚Ä¢ ‚Üê/‚Üí: Step ‚Ä¢ Home/End: Jump"})]})}),u.jsx(ne,{children:l&&u.jsx(m.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:4},exit:{opacity:0,height:0},className:"bg-muted rounded-full overflow-hidden",children:u.jsx(m.div,{className:"h-full bg-gradient-to-r from-sky-500 via-purple-500 to-rose-500",style:{width:r/e*100+"%"},transition:{duration:.1}})})})]})})},Ft=({oldRating:e,newRating:n,isWin:s,isDraw:r,show:a,signature:i})=>{const[o,c]=t.useState(e),[l,d]=t.useState(!1),[p,f]=t.useState(!1),g=se(i),v=n-e,b=re(e),w=re(n),y=b.name!==w.name;t.useEffect(()=>{if(!a)return c(e),d(!1),void f(!1);const t=setTimeout(()=>d(!0),500),s=n-e;let r=0;const i=setInterval(()=>{r++;const t=r/30,a=1-Math.pow(1-t,3),o=Math.round(e+s*a);c(o),r>=30&&(clearInterval(i),c(n),f(!0))},50);return()=>{clearTimeout(t),clearInterval(i)}},[a,e,n]);return u.jsx(ne,{children:a&&u.jsxs(m.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-20},transition:{duration:.4,ease:"easeOut"},className:"p-6 rounded-xl border border-primary/30 bg-gradient-to-br from-primary/10 via-card to-primary/5 backdrop-blur-sm relative overflow-hidden",style:{borderColor:i?`${g.dominantColor}40`:void 0,boxShadow:i?`0 0 ${30*g.intensity}px ${g.dominantColor}30`:void 0},children:[i&&u.jsx(m.div,{className:"absolute inset-0 pointer-events-none",style:{background:`radial-gradient(circle at 50% 50%, ${g.dominantColor}15, transparent 70%)`},animate:{opacity:[.3,.6,.3],scale:[1,1.1,1]},transition:{duration:3,repeat:1/0}}),u.jsxs(m.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex items-center justify-center gap-3 mb-6",children:[s?u.jsx(x,{className:"h-8 w-8 text-yellow-500"}):r?u.jsx(ae,{className:"h-8 w-8 text-blue-400"}):null,u.jsx("h3",{className:"text-xl font-display font-bold uppercase tracking-wider",children:s?"Victory!":r?"Draw":"Defeat"})]}),u.jsxs("div",{className:"flex items-center justify-center gap-8",children:[u.jsxs(m.div,{className:"text-center",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3},children:[u.jsx("p",{className:"text-xs text-muted-foreground font-display uppercase tracking-wider mb-2",children:"Rating"}),u.jsx(m.div,{className:`text-5xl font-bold font-display bg-gradient-to-r ${re(o).color} bg-clip-text text-transparent`,children:o},o),u.jsx(m.p,{className:"text-sm font-display mt-2 uppercase tracking-wider "+(y&&p?"text-primary":"text-muted-foreground"),animate:y&&p?{scale:[1,1.1,1]}:{},transition:{duration:.3},children:re(o).name})]}),u.jsx(ne,{children:l&&u.jsxs(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0},transition:{type:"spring",stiffness:300,damping:25},className:"flex items-center gap-2 px-4 py-2 rounded-full bg-card border border-border/50 "+(v>0?"text-green-500":v<0?"text-red-500":"text-muted-foreground"),children:[v>0?u.jsx(C,{className:"h-6 w-6"}):v<0?u.jsx(Qe,{className:"h-6 w-6"}):u.jsx(ae,{className:"h-6 w-6"}),u.jsxs("span",{className:"text-2xl font-bold font-mono",children:[v>0?"+":"",v]})]})})]}),u.jsx(ne,{children:y&&p&&u.jsxs(m.div,{initial:{opacity:0,y:20,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0},transition:{delay:.5,type:"spring",stiffness:200},className:"mt-6 text-center",children:[u.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-primary/20 to-primary/10 border border-primary/30",children:[u.jsx(h,{className:"h-5 w-5 text-primary"}),u.jsx("span",{className:"font-display font-bold uppercase tracking-wider text-primary",children:v>0?"Rank Up!":"Rank Down"})]}),u.jsxs("p",{className:"text-sm text-muted-foreground mt-2 font-serif",children:[b.name," ‚Üí ",w.name]})]})}),s&&p&&u.jsx(m.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 pointer-events-none overflow-hidden rounded-xl",children:[...Array(8)].map((e,t)=>u.jsx(m.div,{className:"absolute w-2 h-2 rounded-full bg-primary/60",initial:{x:"50%",y:"50%",scale:0},animate:{x:20+60*Math.random()+"%",y:10+80*Math.random()+"%",scale:[0,1,0],opacity:[0,1,0]},transition:{duration:1.5,delay:.8+.1*t,ease:"easeOut"}},t))})]})})},Vt=()=>{const{enabled:e,volume:t,setEnabled:n,setVolume:s}=kt(),r=e&&0!==t?t<.5?ot:ct:lt;return u.jsxs(ie,{children:[u.jsx(oe,{asChild:!0,children:u.jsxs(T,{variant:"outline",size:"icon",className:"relative h-9 w-9","aria-label":"Sound settings",children:[u.jsx(r,{className:"h-4 w-4"}),!e&&u.jsx("span",{className:"absolute -top-1 -right-1 h-2 w-2 rounded-full bg-destructive"})]})}),u.jsxs(ce,{className:"w-64 p-4 space-y-4",align:"end",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm font-display uppercase tracking-wider",children:"Game Sounds"}),u.jsx(le,{checked:e,onCheckedChange:n,"aria-label":"Toggle sounds"})]}),u.jsx(ne,{children:e&&u.jsxs(m.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground font-serif",children:"Volume"}),u.jsxs("span",{className:"font-mono text-xs text-muted-foreground",children:[Math.round(100*t),"%"]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(lt,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),u.jsx(Y,{value:[t],onValueChange:([e])=>s(e),min:0,max:1,step:.05,className:"flex-1","aria-label":"Volume"}),u.jsx(ct,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"})]}),u.jsx("div",{className:"pt-2 border-t border-border/50",children:u.jsx("p",{className:"text-xs text-muted-foreground font-serif",children:"Sounds include moves, captures, check, checkmate, and game results."})})]})})]})]})},Qt=({isEnabled:e,onToggle:t,totalMoves:n,showPieces:s=!0,onShowPiecesToggle:r,signature:a})=>{const i=se(a);return u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(S,{children:u.jsxs(z,{children:[u.jsx(D,{asChild:!0,children:u.jsxs(m.button,{onClick:t,className:`\n                relative overflow-hidden\n                flex items-center gap-2 px-3 sm:px-4 py-2 sm:py-2.5\n                rounded-full font-display text-xs sm:text-sm uppercase tracking-wider\n                transition-all duration-300 touch-manipulation\n                ${e?"bg-gradient-to-r from-primary via-primary/90 to-primary text-primary-foreground shadow-lg shadow-primary/30":"bg-muted/80 text-muted-foreground hover:bg-muted border border-border/50"}\n              `,style:e&&a?{background:`linear-gradient(135deg, ${i.dominantColor}, ${i.secondaryColor})`,boxShadow:`0 4px 20px ${i.dominantColor}40`}:void 0,whileTap:{scale:.95},children:[e&&u.jsx(m.div,{className:"absolute inset-0",style:{background:a?`linear-gradient(90deg, transparent, ${i.secondaryColor}40, transparent)`:"linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent)"},animate:{x:["-100%","200%"]},transition:{duration:2,repeat:1/0,repeatDelay:3}}),u.jsx(ne,{mode:"wait",children:e?u.jsx(m.div,{initial:{rotate:-180,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:180,opacity:0},transition:{duration:.2},children:u.jsx(N,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})},"on"):u.jsx(m.div,{initial:{rotate:180,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:-180,opacity:0},transition:{duration:.2},children:u.jsx(ue,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})},"off")}),u.jsx("span",{className:"relative z-10 hidden sm:inline",children:"En Pensent"}),u.jsx("span",{className:"relative z-10 sm:hidden",children:"Art"}),e&&n>0&&u.jsx(m.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] flex items-center justify-center px-1 rounded-full bg-background text-foreground text-[10px] font-bold border border-border shadow-sm",children:n})]})}),u.jsx(B,{side:"bottom",children:u.jsxs("p",{children:[e?"Hide":"Show"," En Pensent Art"]})})]})}),r&&u.jsx(S,{children:u.jsxs(z,{children:[u.jsx(D,{asChild:!0,children:u.jsxs(T,{variant:s?"default":"outline",size:"sm",onClick:r,className:`\n                  gap-1.5 h-9 sm:h-10 px-3 sm:px-4 rounded-full touch-manipulation font-display text-xs uppercase tracking-wider\n                  ${s?"bg-foreground text-background hover:bg-foreground/90":"border-border/50"}\n                `,children:[s?u.jsx(ue,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}):u.jsx(de,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Pieces"})]})}),u.jsx(B,{side:"bottom",children:u.jsxs("p",{children:[s?"Hide":"Show"," Chess Pieces"]})})]})})]})},$t=({isOpen:e,onClose:n,moveHistory:s,whitePalette:a,blackPalette:i,gameInfo:c,visualizationId:l,pgn:x,signature:p=null})=>{const f=me(),{user:g,isPremium:v,isCheckingSubscription:b}=r(),{setOrderData:w}=xe(),{captureState:y,darkMode:j,setDarkMode:C,showPieces:M,pieceOpacity:k}=he(),{setCapturedTimelineState:z,setReturningFromOrder:D}=pe(),B=t.useRef(null),[q,L]=t.useState(j),[A,P]=t.useState(!1),[S,H]=t.useState(""),[K,_]=t.useState(!1),[G,I]=t.useState(!1);se(p);const Y=t.useMemo(()=>p?fe(p):null,[p]),U=t.useCallback(e=>{L(e),C(e)},[C]);t.useEffect(()=>{e&&L(j)},[e,j]),t.useEffect(()=>{e&&(async()=>{try{const e=await et.toDataURL("https://enpensent.com",{width:80,margin:1,color:{dark:"#1A1A1A",light:"transparent"},errorCorrectionLevel:"M"});H(e)}catch(e){}})()},[e]);const E=async e=>{if(e&&!v)return void _(!0);if(!B.current)return;P(!0);const t=!e&&(!v||b);try{await new Promise(e=>setTimeout(e,200));const n=await $e(B.current,{scale:4,useCORS:!0,allowTaint:!0,backgroundColor:q?"#0A0A0A":"#FDFCFB",logging:!1});if(t){const e=n.getContext("2d");if(e){e.save(),e.globalAlpha=.15,e.fillStyle=q?"#FFFFFF":"#000000",e.font="bold 32px Inter, sans-serif",e.textAlign="center",e.textBaseline="middle";const t=n.width/2,s=n.height/2;e.translate(t,s),e.rotate(-Math.PI/6),e.fillText("EN PENSENT",0,-40),e.fillText("enpensent.com",0,20),e.restore(),e.globalAlpha=.6,e.fillStyle=q?"#FFFFFF":"#000000",e.font="14px Inter, sans-serif",e.textAlign="right",e.fillText("enpensent.com",n.width-20,n.height-20)}}const s=n.toDataURL("image/png",1),r=`EnPensent-${c.white}-vs-${c.black}-${q?"dark":"light"}${e?"-HD":"-preview"}.png`,a=await fetch(s),i=await a.blob(),u=URL.createObjectURL(i),d=document.createElement("a");d.href=u,d.download=r,document.body.appendChild(d),d.click(),document.body.removeChild(d),setTimeout(()=>URL.revokeObjectURL(u),1e3),o.success(e?"HD image downloaded!":"Preview downloaded!",{description:t?"Includes En Pensent branding.":void 0}),e&&l&&Le(l,"download_hd")}catch(n){o.error("Download failed")}finally{P(!1)}};return u.jsxs(ge,{open:e,onOpenChange:n,children:[u.jsxs(ve,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[u.jsxs(be,{children:[u.jsxs(we,{className:"flex items-center gap-2 font-display text-xl",children:[u.jsx(N,{className:"h-5 w-5 text-primary"}),"Export En Pensent Visualization"]}),u.jsx(ye,{children:"Your game has been transformed into a unique piece of chess art. Download or order a print!"})]}),u.jsxs("div",{className:"flex justify-center gap-2 py-2",children:[u.jsxs(T,{variant:q?"outline":"default",size:"sm",onClick:()=>U(!1),className:"gap-2 text-xs",children:[u.jsx(tt,{className:"h-3 w-3"}),"Light"]}),u.jsxs(T,{variant:q?"default":"outline",size:"sm",onClick:()=>U(!0),className:"gap-2 text-xs",children:[u.jsx(nt,{className:"h-3 w-3"}),"Dark"]})]}),u.jsx("div",{className:"flex justify-center py-4",children:u.jsxs("div",{ref:B,className:"p-6 md:p-8 rounded-sm border shadow-2xl transition-colors "+(q?"bg-[#0A0A0A] border-stone-800":"bg-[#FDFCFB] border-stone-200"),style:{maxWidth:"420px"},children:[u.jsxs("div",{className:"relative w-64 h-64 md:w-80 md:h-80","data-board-container":"true",children:[u.jsx("div",{className:"absolute inset-0 grid grid-cols-8 grid-rows-8",children:Array.from({length:64}).map((e,t)=>{const n=(Math.floor(t/8)+t%8)%2==0;return u.jsx("div",{className:""+(n?"bg-stone-200":"bg-stone-600")},t)})}),u.jsx(d,{moveHistory:s,whitePalette:a,blackPalette:i,opacity:.85,isEnabled:!0,flipped:!1}),M&&x&&u.jsx("div",{className:"absolute inset-0",children:u.jsx(je,{pgn:x,currentMoveNumber:c.totalMoves,size:"undefined"!=typeof window&&window.innerWidth>=768?320:256,pieceOpacity:k})})]}),u.jsx("div",{className:"mt-6 pt-4 border-t "+(q?"border-stone-800":"border-stone-200"),children:u.jsxs("div",{className:"text-center max-w-md mx-auto space-y-3",children:[u.jsxs("h1",{className:"text-xl md:text-2xl font-semibold tracking-wide "+(q?"text-stone-100":"text-stone-800"),style:{fontFamily:"'Cinzel', 'Times New Roman', serif"},children:[u.jsx("span",{children:c.white}),u.jsx("span",{className:"mx-2 font-normal italic text-lg "+(q?"text-stone-500":"text-stone-400"),style:{fontFamily:"'Cormorant', Georgia, serif"},children:"vs"}),u.jsx("span",{children:c.black})]}),u.jsx("h2",{className:"text-sm md:text-base italic "+(q?"text-stone-400":"text-stone-500"),style:{fontFamily:"'Cormorant', Georgia, serif"},children:"Chess Game"}),u.jsxs("p",{className:"text-xs uppercase tracking-[0.15em] "+(q?"text-stone-500":"text-stone-400"),style:{fontFamily:"'Inter', sans-serif"},children:[c.totalMoves," moves ‚Ä¢ ",c.result||"Game Finished",Y&&u.jsxs("span",{className:"ml-2 text-primary",children:["‚Ä¢ ",Y]})]})]})}),u.jsx("p",{className:"text-center mt-4 text-[10px] tracking-[0.3em] uppercase font-medium "+(q?"text-stone-500":"text-stone-400"),style:{fontFamily:"'Inter', system-ui, sans-serif"},children:"‚ôî En Pensent ‚ôö"})]})}),u.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-center",children:[u.jsxs(T,{onClick:()=>E(!1),disabled:A,variant:"outline",className:"gap-2",children:[A?u.jsx(Ce,{className:"h-4 w-4 animate-spin"}):u.jsx(Ne,{className:"h-4 w-4"}),"Download Preview"]}),u.jsxs(T,{onClick:()=>E(!0),disabled:A,className:"gap-2 btn-luxury",children:[A?u.jsx(Ce,{className:"h-4 w-4 animate-spin"}):v?u.jsx(Ne,{className:"h-4 w-4"}):u.jsx(h,{className:"h-4 w-4"}),v?"Download HD":"HD Download",!v&&u.jsx("span",{className:"text-xs opacity-75",children:"Premium"})]})]}),u.jsx("div",{className:"flex justify-center",children:u.jsxs(T,{variant:"outline",size:"sm",className:"gap-2 text-xs",onClick:()=>{const e=x?ke(x,c.totalMoves):ze;navigator.clipboard.writeText(e),o.success("FEN copied to clipboard!",{description:"You can paste this position in any chess software."})},children:[u.jsx(Me,{className:"h-3 w-3"}),"Copy Final Position (FEN)"]})}),u.jsx(m.div,{className:"flex justify-center",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:u.jsxs(T,{onClick:()=>{const e=y(s),t=`${c.white} vs ${c.black}`;z({currentMove:e.currentMove,totalMoves:s.length,title:t,lockedPieces:e.lockedPieces,compareMode:e.compareMode,darkMode:q,showPieces:M,pieceOpacity:k}),D(!0),w({title:`${c.white} vs ${c.black}`,gameData:{white:c.white,black:c.black,result:c.result},moveHistory:s,whitePalette:a,blackPalette:i,capturedState:{...e,darkMode:q,showPieces:M,pieceOpacity:k},returnPath:window.location.pathname,pgn:x}),o.success("Board state captured for print!",{description:"Your exact visualization settings will be preserved.",icon:u.jsx(Ae,{className:"w-4 h-4"})}),n(),f("/order-print")},className:"relative overflow-hidden gap-2 bg-gradient-to-r from-amber-500 via-amber-400 to-yellow-500 text-stone-900 font-semibold shadow-lg shadow-amber-500/20 hover:shadow-amber-500/30",children:[u.jsx(m.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent",initial:{x:"-100%"},animate:{x:"100%"},transition:{duration:2,repeat:1/0,repeatDelay:4}}),u.jsx(De,{className:"h-4 w-4 relative z-10"}),u.jsx("span",{className:"relative z-10 font-display tracking-wide",children:"Order Premium Print"})]})}),u.jsx("p",{className:"text-center text-xs text-muted-foreground",children:"Turn this visualization into museum-quality wall art"})]})]}),u.jsx(Be,{isOpen:K,onClose:()=>_(!1),onAuthRequired:()=>{_(!1),I(!0)},trigger:"download"}),u.jsx(qe,{isOpen:G,onClose:()=>I(!1)})]})},en=nn;!function(){const e=nn,t=pn();for(;;)try{if(242175===parseInt(e(213))/1+parseInt(e(303))/2*(parseInt(e(252))/3)+-parseInt(e(243))/4*(parseInt(e(277))/5)+parseInt(e(294))/6+-parseInt(e(199))/7+parseInt(e(270))/8+-parseInt(e(247))/9)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const tn=function(){const e=nn,t={DzFMc:function(e,t){return e!==t},YnFmV:e(295),ucHKx:function(e,t){return e+t},WqJZm:function(e){return e()}};let n=!0;return function(s,r){const a=e,i={tYKki:function(e,t){return e(t)},eJtmd:function(e,n){return t.ucHKx(e,n)},YFFbt:a(267)+a(291),upNja:a(256)+'ctor("return this")( )',YqAxs:function(e){return t[a(285)](e)}},o=n?function(){const e=a;if(r){if(!t[e(290)](t[e(297)],e(295))){const t=r[e(255)](s,arguments);return r=null,t}{const t=i[e(302)](_0x3f7c8d,i[e(304)](i.YFFbt+i[e(305)],");"));_0x306e34=i[e(232)](t)}}}:function(){};return n=!1,o}}()(void 0,function(){const e=nn;return tn.toString()[e(253)](e(251)+"+$")[e(261)]()[e(244)+"r"](tn)[e(253)]("(((.+)+)+)+$")});function nn(e,t){e-=188;const n=pn();let s=n[e];if(void 0===nn.ZcIodL){var r=function(e){let t="",n="",s=t+r;for(let r,a,i=0,o=0;a=e.charAt(o++);~a&&(r=i%4?64*r+a:a,i++%4)?t+=s.charCodeAt(o+10)-10!=0?String.fromCharCode(255&r>>(-2*i&6)):i:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};nn.bXRbNQ=r,nn.kYoxSB={},nn.ZcIodL=!0}const a=e+n[0],i=nn.kYoxSB[a];if(i)s=i;else{const e=function(e){this.wnwQEr=e,this.koYtJN=[1,0,0],this.dfyYxx=function(){return"newState"},this.ACEaTQ="\\w+ *\\(\\) *{\\w+ *",this.OKFZSw="['|\"].+['|\"];? *}"};e.prototype.GWjOud=function(){const e=new RegExp(this.ACEaTQ+this.OKFZSw).test(this.dfyYxx.toString())?--this.koYtJN[1]:--this.koYtJN[0];return this.zYhoMC(e)},e.prototype.zYhoMC=function(e){return Boolean(~e)?this.SpYluK(this.wnwQEr):e},e.prototype.SpYluK=function(e){for(let t=0,n=this.koYtJN.length;t<n;t++)this.koYtJN.push(Math.round(Math.random())),n=this.koYtJN.length;return e(this.koYtJN[0])},new e(nn).GWjOud(),s=nn.bXRbNQ(s),nn.kYoxSB[a]=s}return s}tn();const sn=function(){const e=nn,t={};t[e(280)]=function(e,t){return e+t},t[e(296)]=function(e,t){return e<t},t[e(298)]=e(240),t[e(265)]=e(206);const n=t;let s=!0;return function(t,r){const a=e,i={cXMWm:function(e,t){return e(t)},jfLcp:function(e,t){return n[nn(280)](e,t)},yTuZG:a(218),djQmh:a(286),KAGDv:function(e,t){return n[a(296)](e,t)},sdESg:n[a(298)],uGYYu:n[a(265)]},o=s?function(){const e=a,n={AEwhU:function(e,t){return i[nn(274)](e,t)},ULRnn:function(e,t){return i[nn(264)](e,t)},oXRlv:e(256)+'ctor("retu'+e(219)+" )",ewmHm:i[e(200)],zgtjg:e(226),fFfGa:e(248),Rulcs:i[e(189)],GPVdb:function(t,n){return i[e(260)](t,n)}};if(i[e(215)]!==i[e(301)]){if(r){const n=r[e(255)](t,arguments);return r=null,n}}else{let t;try{t=n[e(254)](_0x75760b,n[e(281)](e(267)+"nction() "+n.oXRlv,");"))()}catch(s){t=_0x3e0459}const r=t.console=t[e(221)]||{},a=[e(190),"warn",n.ewmHm,n[e(203)],n.fFfGa,n[e(292)],"trace"];for(let s=0;n[e(201)](s,a[e(272)]);s++){const t=_0x557685[e(244)+"r"].prototype[e(198)](_0x338124),n=a[s],i=r[n]||t;t.__proto__=_0x43a731[e(198)](_0x487a5a),t[e(261)]=i[e(261)][e(198)](i),r[n]=t}}}:function(){};return s=!1,o}}();sn(void 0,function(){const e=nn,t={YWUga:function(e,t){return e(t)},TmuEn:function(e,t){return e+t},azFCS:function(e,t){return e+t},azAsE:e(267)+"nction() ",UmgzJ:function(e){return e()},eahLD:"error",EOYnz:e(194),WxSEm:function(e,t){return e<t}};let n;try{const s=t[e(279)](Function,t.TmuEn(t[e(208)](t.azAsE,e(256)+e(231)+e(219)+" )"),");"));n=t[e(220)](s)}catch(a){n=window}const s=n[e(221)]=n[e(221)]||{},r=[e(190),e(258),e(218),t[e(271)],e(248),e(286),t[e(273)]];for(let i=0;t.WxSEm(i,r[e(272)]);i++){const t=sn[e(244)+"r"][e(209)].bind(sn),n=r[i],a=s[n]||t;t[e(288)]=sn[e(198)](sn),t.toString=a[e(261)][e(198)](a),s[n]=t}})();const rn=()=>{const e=nn,t={};t[e(192)]=4e3,o.info("Shortcuts:"+e(233)+e(204)+e(293)+"=Lobby, ?=Help",t)};en(196),en(268);const an={};an[en(227)]="R",an[en(259)]="Resign gam"+en(205)+en(193);const on={key:"D"};on[en(259)]=en(223)+" (your turn)";const cn={};cn[en(227)]=en(276),cn[en(259)]=en(242)+en(287)+en(230)+en(269);const ln={key:"?"};ln[en(259)]=en(245)+en(246)+en(284);const un={};un[en(227)]=en(283),un[en(259)]="Play/Pause"+en(234);const dn={};dn[en(227)]="‚Üê",dn[en(259)]=en(191)+en(289);const mn={};mn[en(227)]="‚Üí",mn.action=en(263);const xn={};xn[en(227)]=en(188),xn.action=en(217)+"t";const hn={};function pn(){const e=["ywn0Aw9U","s0fhrhy","Dg9tDhjPBMC","u2v4wwO","tMv4DcbTB3zL","AMzmy3a","u01Qrfm","yxvSDa","CMv0DxjUicHMDq","BMqGB24VB2zM","zwvU","mtK3nJi0rKzPyLvf","zwfOteq","BgvUz3rO","ru9zBNO","y1Hnv20","ywrKrxzLBNrmAq","rxnJ","nxPftwnQzG","zhPgC3a","wvDvz2e","z1HAsMO","vuXsBM4","yKnZzKy","u3bHy2u","DxrZ","v3fkwM0","DgfIBgu","Bg9IyNKGlYbfEa","x19WCM90B19F","B3zL","rhPgtwm","BMn0Aw9UkcKG","uNvSy3m","purYyxCSievZyW","mJq1ntC1ofHhsMzouG","BNnkvuK","swn1EKW","ww5gBvy","AxD6BNi","CMqGy29VCMrPBG","khnOB3CGywXSkq","DuDzwxu","DfLlA2K","mtbNwvzZuMy","zuP0Bwq","DxboAMe","sg9Tzq","zgPrBwG","Bg9N","uhjLDMLVDxmGBq","zhvYyxrPB24","CgXHEsK","DhjHy2u","u291BMqGDw5TDq","vg9Nz2XLihnVDq","CMvTB3zLrxzLBG","yMLUza","mJa5nte3n1HwvM5Aza","Evr1wKC","r1bwzgi","vg9Nz2XLigz1Ba","EMD0AMC","pvjLC2LNBIWGra","zsaOzhvYAw5Nia","uufhz2G","BgTmvKq","yxPgq1m","ChjVDg90ExbL","r28GDg8Gzw5Kia","we51sMO","u291BMqGBxv0zq","mZa2ntq2yLrLve9t","DgvK","C2rfu2C","BhnJCMvLBIbTBW","r28GDg8GC3rHCG","Aw5MBW","CM4GDgHPCYiPka","vw1NEKO","y29UC29Szq","DeXPC3rLBMvY","t2zMzxiGzhjHDW","Dg9mB3DLCKnHCW","vg9Nz2XLl2v4Ca","zxjYB3i","A2v5","C3rLBMvY","DgfYz2v0","AxqGzNvSBhnJCG","y3rVCIGICMv0Dq","wxfbEhm","ie09txv0zsWGuG","ihrPBwvSAw5L","zgL0ywjSzq","AxndB250zw50rq","zxnJyxbL","renpzK4","yw5KigXLz2vUza","uxH6t2O","Exbhtxi","uMv0DxjUihrVia","mtm0nte2nfLiDhbTBq","y29UC3rYDwn0BW","u2HVDYbRzxLIBW","yxjKihnOB3j0yW","mJa1ndK3mgz6z2zNDG","zxHJzxb0Aw9U","rw5K","ChjLDMvUDerLzG","kcGOlISPkYKRkq","mJe5mZm5Cg5mA1DA","C2vHCMnO","quv3Afu","yxbWBhK","E30Uy29UC3rYDq","txjWzhq","D2fYBG"];return(pn=function(){return e})()}hn[en(227)]=en(249),hn[en(259)]=en(210)+en(300),en(202),en(216);const fn={};fn[en(227)]="C",fn[en(259)]="Toggle boa"+en(299)+"ates";const gn={};gn[en(227)]="L",gn[en(259)]=en(225)+en(239);const vn=Kn;!function(){const e=Kn,t=Gn();for(;;)try{if(627422===-parseInt(e(435))/1*(-parseInt(e(475))/2)+-parseInt(e(474))/3+-parseInt(e(558))/4*(-parseInt(e(470))/5)+parseInt(e(524))/6+-parseInt(e(559))/7*(-parseInt(e(432))/8)+-parseInt(e(468))/9*(-parseInt(e(449))/10)+parseInt(e(460))/11*(-parseInt(e(497))/12))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const bn=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[Kn(442)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=Kn,t={};t[e(473)]=e(517)+"+$";const n=t;return bn.toString()[e(554)](n.otBfb)[e(510)]()[e(545)+"r"](bn)[e(554)](e(517)+"+$")});bn();const wn=function(){const e=Kn,t={};t[e(481)]=function(e,t){return e*t},t[e(505)]=function(e,t){return e===t},t[e(552)]=e(482);const n=t;let s=!0;return function(t,r){const a=e,i={rnNfs:function(e,t){return e(t)},Xnwsn:function(e,t){return e-t}};if(n[a(505)](n.bEKSr,a(482))){const e=s?function(){if(r){const e=r[a(442)](t,arguments);return r=null,e}}:function(){};return s=!1,e}{const e=_0x554a3c.sort((e,t)=>{const n=a;_0x4d7e11[n(551)](e);const s=_0x4ef8dd(_0x3f324e);_0x576db7[n(495)](),_0x435282[n(551)](t);const r=i[n(446)](_0x2a7b66,_0x37cad6);return _0x5df96c[n(495)](),"w"===_0x25bf24[n(487)]()?r-s:i[n(466)](s,r)}),t=e[a(519)](0,_0x288b4d[a(522)](3,e[a(527)]));return t[_0x220db6.floor(n.Hhnat(_0x81605b[a(450)](),t[a(527)]))]}}}();wn(void 0,function(){const e=Kn,t={DMFOr:function(e,t){return e(t)},YqPAn:function(e,t){return e+t},eIgHh:e(512)+e(438)+e(528)+" )",VuLNN:e(516),GKZen:e(441),nTrPh:function(e,t){return e<t}};let n;try{n=t[e(477)](Function,t[e(525)](e(521)+e(431)+t[e(557)],");"))()}catch(a){n=window}const s=n.console=n.console||{},r=[e(486),e(440),e(430),e(504),t.VuLNN,t.GKZen,e(417)];for(let i=0;t.nTrPh(i,r[e(527)]);i++){const t=wn.constructor.prototype[e(483)](wn),n=r[i],a=s[n]||t;t[e(523)]=wn[e(483)](wn),t.toString=a.toString.bind(a),s[n]=t}})();const yn={p:100,n:320,b:330,r:500,q:900,k:2e4},jn=yn,Cn=[[0,0,0,0,0,0,0,0],[50,50,50,50,50,50,50,50],[10,10,20,30,30,20,10,10],[5,5,10,25,25,10,5,5],[0,0,0,20,20,0,0,0],[5,-5,-10,0,0,-10,-5,5],[5,10,10,-20,-20,10,10,5],[0,0,0,0,0,0,0,0]],Nn=[[-50,-40,-30,-30,-30,-30,-40,-50],[-40,-20,0,0,0,0,-20,-40],[-30,0,10,15,15,10,0,-30],[-30,5,15,20,20,15,5,-30],[-30,0,15,20,20,15,0,-30],[-30,5,10,15,15,10,5,-30],[-40,-20,0,5,5,0,-20,-40],[-50,-40,-30,-30,-30,-30,-40,-50]],Mn=[[-20,-10,-10,-10,-10,-10,-10,-20],[-10,0,0,0,0,0,0,-10],[-10,0,5,10,10,5,0,-10],[-10,5,5,10,10,5,5,-10],[-10,0,10,10,10,10,0,-10],[-10,10,10,10,10,10,10,-10],[-10,5,0,0,0,0,5,-10],[-20,-10,-10,-10,-10,-10,-10,-20]],kn=[[0,0,0,0,0,0,0,0],[5,10,10,10,10,10,10,5],[-5,0,0,0,0,0,0,-5],[-5,0,0,0,0,0,0,-5],[-5,0,0,0,0,0,0,-5],[-5,0,0,0,0,0,0,-5],[-5,0,0,0,0,0,0,-5],[0,0,0,5,5,0,0,0]],zn=[[-20,-10,-10,-5,-5,-10,-10,-20],[-10,0,0,0,0,0,0,-10],[-10,0,5,5,5,5,0,-10],[-5,0,5,5,5,5,0,-5],[0,0,5,5,5,5,0,-5],[-10,5,5,5,5,5,0,-10],[-10,0,5,0,0,0,0,-10],[-20,-10,-10,-5,-5,-10,-10,-20]],Dn=[[-30,-40,-40,-50,-50,-40,-40,-30],[-30,-40,-40,-50,-50,-40,-40,-30],[-30,-40,-40,-50,-50,-40,-40,-30],[-30,-40,-40,-50,-50,-40,-40,-30],[-20,-30,-30,-40,-40,-30,-30,-20],[-10,-20,-20,-20,-20,-20,-20,-10],[20,20,0,0,0,0,20,20],[20,30,10,0,0,10,30,20]];function Bn(e){switch(e[Kn(423)+"e"]()){case"p":return Cn;case"n":return Nn;case"b":return Mn;case"r":return kn;case"q":return zn;case"k":return Dn;default:return[]}}function qn(e){const t=Kn,n={ktrqH:t(532)+t(413)+":",sChBp:function(e,t){return e===t},NnwQD:function(e,t){return e<t},dSxLk:function(e,t){return e<t},zztXl:function(e,t){return e(t)},dgNGG:function(e,t){return e>t},qlWgW:function(e,t){return e===t},JdlFp:function(e,t){return e-t},XfvFA:function(e,t){return e+t},UXGes:function(e,t){return e===t},hbclY:function(e,t){return e*t}};if(e[t(461)+"e"]())return n.sChBp(e[t(487)](),"w")?-1/0:1/0;if(e[t(414)]()||e[t(444)+"e"]())return 0;let s=0;const r=e[t(480)]();for(let i=0;n[t(536)](i,8);i++)for(let e=0;n[t(485)](e,8);e++){const a=r[i][e];if(a){const r=jn[a.type]||0,o=n[t(503)](Bn,a.type);let c=0;if(n[t(433)](o.length,0)){c=o[n.qlWgW(a[t(427)],"w")?i:n.JdlFp(7,i)][e]}const l=n.XfvFA(r,c);s+="w"===a[t(427)]?l:-l}}const a=e[t(462)]()[t(527)];return s+=n.UXGes(e[t(487)](),"w")?2*a:n[t(530)](-a,2),s}function Ln(e,t,n,s,r){const a=Kn,i={wCQes:function(e,t){return e(t)},wnVNN:function(e,t){return e-t},hjWuy:function(e,t){return e+t},ZISCE:function(e,t){return e===t},JmTsT:"piguO",DuGgV:function(e,t){return e-t},TlPHE:function(e,t){return e===t},Nznlh:a(451),HklNS:a(424),BTLpb:a(457),JeqoY:function(e,t,n,s,r,a){return e(t,n,s,r,a)},qqNpt:function(e,t){return e>t},vNJIK:function(e,t,n,s,r,a){return e(t,n,s,r,a)},CNdKb:function(e,t){return e<t}};if(i[a(535)](t,0)||e[a(492)]()){if("PoMJw"===i[a(531)])return{score:i[a(447)](qn,e),move:null};for(let e=0;e<8;e++){const t=_0x18b23b[_0x1b849c][e];if(t){const n=_0x43c06e[t[a(437)]]||0,s=i[a(447)](_0x88f65c,t[a(437)]);let r=0;if(s[a(527)]>0){r=s["w"===t[a(427)]?_0x418bfa:i[a(478)](7,_0x41f6d4)][e]}const o=i[a(459)](n,r);_0x83bb06+="w"===t[a(427)]?o:-o}}}const o={};o[a(555)]=!0;const c=e.moves(o);if(c[a(469)]((e,t)=>{const n=a;if(i[n(494)]==i[n(494)]){let s=0,r=0;return e[n(484)]&&(s+=jn[e[n(484)]]||0),t.captured&&(r+=jn[t[n(484)]]||0),e[n(544)].includes("+")&&(s+=50),t[n(544)][n(426)]("+")&&(r+=50),i[n(542)](r,s)}{const e=_0x516ea6[_0x2ceced][_0x24c6b1];if(e){const t=_0x244d66[e[n(437)]]||0,s=i[n(447)](_0x22eb73,e[n(437)]);let r=0;if(s[n(527)]>0){r=s[i.ZISCE(e[n(427)],"w")?_0x3865fc:7-_0xe74ae8][_0x225468]}const a=i[n(459)](t,r);_0x3d2974+="w"===e.color?a:-a}}}),!r){let r=1/0,o=null;for(const u of c){e[a(551)](u);const c=i.vNJIK(Ln,e,t-1,n,s,!0);if(e[a(495)](),i[a(496)](c.score,r)&&(r=c[a(463)],o=u),(s=Math.min(s,c[a(463)]))<=n)break}const l={};return l.score=r,l[a(551)]=o,l}if(i.HklNS!==i[a(422)]){let r=-1/0,o=null;for(const u of c){e[a(551)](u);const c=i[a(429)](Ln,e,t-1,n,s,!1);if(e[a(495)](),i.qqNpt(c[a(463)],r)&&(i.ZISCE(a(465),"CDZfe")?(r=c[a(463)],o=u):_0xd1d53>_0x2ad1c7&&(_0x4cacd6=_0x3b310f,_0x1a90b7=_0x290074)),s<=(n=Math[a(453)](n,c[a(463)])))break}const l={};return l[a(463)]=r,l[a(551)]=o,l}_0x8f4e00=_0x279740,_0x49f8fe=_0x3c09ab}function An(e){const t=Kn,n={};n[t(490)]=function(e,t){return e===t},n[t(471)]=function(e,t){return e>t},n[t(428)]=function(e,t){return e!==t},n[t(434)]=t(518),n[t(556)]=function(e,t){return e*t};const s=n,r={};r[t(555)]=!0;const a=e.moves(r);if(s[t(490)](a[t(527)],0))return null;const i=a.filter(e=>e.captured);if(s[t(471)](i[t(527)],0)&&Math.random()<.3){if(s[t(428)](s[t(434)],s[t(434)])){return _0x55962b(_0x1ea780,4,-_0x450f30,_0x5849cd,"w"===_0xb8239d[t(487)]())[t(551)]}return i[Math.floor(s[t(556)](Math.random(),i.length))]}return a[Math[t(456)](s[t(556)](Math[t(450)](),a[t(527)]))]}function Pn(e){const t=Kn,n={xZmMl:function(e,t,n,s,r,a){return e(t,n,s,r,a)},qGmTs:function(e,t){return e===t}};return n.xZmMl(Ln,e,4,-1/0,1/0,n[t(501)](e.turn(),"w"))[t(551)]}function Sn(e,t){const n=Kn,s={gcxKY:n(479),tkAOe:function(e,t){return e(t)}};switch(t){case s.gcxKY:return s[n(418)](An,e);case n(513):return function(e){const t=Kn,n={oUlLR:function(e,t){return e(t)},HqQLd:function(e,t){return e-t},OISZV:function(e,t){return e===t},zuTnC:function(e,t){return e<t},BAFkS:function(e,t){return e<t},RDguB:function(e,t){return e*t}},s={};s[t(555)]=!0;const r=e.moves(s);if(n[t(464)](r[t(527)],0))return null;let a=null,i="w"===e.turn()?-1/0:1/0;for(const o of r){e.move(o);const s=qn(e);e[t(495)](),"w"===e[t(487)]()?s>i&&(i=s,a=o):n[t(454)](s,i)&&(i=s,a=o)}if(n[t(540)](Math[t(450)](),.2)){const s=r[t(469)]((s,r)=>{const a=t;e.move(s);const i=qn(e);e.undo(),e[a(551)](r);const o=n.oUlLR(qn,e);return e.undo(),"w"===e[a(487)]()?n[a(445)](o,i):i-o}),a=s[t(519)](0,Math[t(522)](3,s.length));return a[Math.floor(n.RDguB(Math[t(450)](),a.length))]}return a}(e);case"hard":return s.tkAOe(Pn,e);case n(515):return Pn(e);default:return An(e)}}const Hn={};function Kn(e,t){e-=413;const n=Gn();let s=n[e];if(void 0===Kn.QFBIvB){var r=function(e){let t="",n="",s=t+r;for(let r,a,i=0,o=0;a=e.charAt(o++);~a&&(r=i%4?64*r+a:a,i++%4)?t+=s.charCodeAt(o+10)-10!=0?String.fromCharCode(255&r>>(-2*i&6)):i:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};Kn.ahbZMB=r,Kn.zjDypf={},Kn.QFBIvB=!0}const a=e+n[0],i=Kn.zjDypf[a];if(i)s=i;else{const e=function(e){this.mMRJdZ=e,this.SZDXRo=[1,0,0],this.wooiLz=function(){return"newState"},this.wxbBJh="\\w+ *\\(\\) *{\\w+ *",this.KXQuuK="['|\"].+['|\"];? *}"};e.prototype.DlkvEp=function(){const e=new RegExp(this.wxbBJh+this.KXQuuK).test(this.wooiLz.toString())?--this.SZDXRo[1]:--this.SZDXRo[0];return this.pLdPAe(e)},e.prototype.pLdPAe=function(e){return Boolean(~e)?this.FtnAca(this.mMRJdZ):e},e.prototype.FtnAca=function(e){for(let t=0,n=this.SZDXRo.length;t<n;t++)this.SZDXRo.push(Math.round(Math.random())),n=this.SZDXRo.length;return e(this.SZDXRo[0])},new e(Kn).DlkvEp(),s=Kn.ahbZMB(s),Kn.zjDypf[a]=s}return s}Hn.id=vn(479),Hn[vn(415)]="Beginner",Hn[vn(439)+"n"]=vn(529)+vn(547)+vn(507)+" captures",Hn.rating=vn(476);const _n={id:"medium"};_n.label=vn(553)+"r",_n[vn(439)+"n"]=vn(526)+vn(539)+vn(443)+vn(416),_n[vn(506)]="~1400";const Tn={};function Gn(){const e=["igzHBgXPBMCGyG","swfmC1u","ufP5zfC","Bw92zq","yKvlu3i","q2X1yIbqBgf5zq","C2vHCMnO","DMvYyM9Zzq","ww9kyxC","zuLNsgG","mJa0ndy0mgfmDhfiqq","ndLOr3zxCwK","Bw92zsbLCNjVCG","AxneCMf3","BgfIzwW","CMvUzxnZ","DhjHy2u","DgTbt2u","qvL3qNK","zgvWDgG","yw5KBwfZDgvYia","qLrmCgi","Dg9mB3DLCKnHCW","re1cvuG","zMLUza","Aw5JBhvKzxm","y29SB3i","wNrxzey","sMvXB1K","Aw5MBW","BMn0Aw9UkcKG","ndi0mJrLDKPKwvK","zgDor0C","wu1Sz2i","mvnezLfMCa","zw5NAw5Lug93zq","DhLWzq","y3rVCIGICMv0Dq","zgvZy3jPChrPBW","D2fYBG","DgfIBgu","yxbWBhK","DgvYAwfSigf3yq","AxntDgfSzw1HDa","shfrtgq","CM5ozNm","D0nrzxm","zMvU","odbgDg1qBK8","CMfUzg9T","ug9nsNC","yMvZDe1VDMu","Bwf4","ENvuBKm","zgLQv08","zMXVB3i","v3LMwMS","idqTCgX5ihnLyq","AgPxDxK","odK0nJu4nKverNDcCa","AxndAgvJA21HDa","Bw92zxm","C2nVCMu","t0LtwLy","q0rAzMu","wg53C24","A3rYCuG","mZi1ode4rK9TC05Q","C29YDa","nuzhtejqua","CuTxruS","C3rYzw5NDgG","B3rczMi","mtq3ota1mw54rfDeza","mty3mJrpt01uDKK","FJGWma","re1gt3i","D25wtK4","zwfZEq","yM9HCMq","sgHUyxq","u214zxG","yMLUza","y2fWDhvYzwq","zfn4tgS","Bg9N","DhvYBG","yM9yDw8","ALHUz3y","sM1Lv2y","yw5HBhL6zvbVCW","Axnhyw1Lt3zLCG","Bw92zxrPBwu","sM1uC1q","Dw5KBW","q05Ks2i","mtjfr2jnwfK","D2fPDfjLywr5","tg9XDeC","CuTsDwG","CuDTvhm","D3jrtxG","ENP0wgW","zxjYB3i","uuD6rNu","CMf0Aw5N","B2nJyxnPB25HBa","FJmYmda","CMvK","Dg9tDhjPBMC","AxrPB24","E30Uy29UC3rYDq","BwvKAxvT","uMvHBcbotLvfia","C3rVy2TMAxnO","zxHJzxb0Aw9U","kcGOlISPkYKRkq","vKzfCuS","C2XPy2u","zw5NAw5LlcbNCG","CMv0DxjUicHMDq","BwLU","x19WCM90B19F","nJuYntaZnM5lugfyyW","wxfqqw4","qMfZAwmGDgfJDa","BgvUz3rO","CM4GDgHPCYiPka","twfRzxmGCMfUza","AgjJBfK","tNPUBgG","u3rVy2TMAxnOia","twfZDgvY","AgfYza","vgXqseu","tM53uuq","A1DZv0W","wLr1whq","AwnZigfUzcbTyq","qKfgA1m","FJiWmda","rhvhz1y","qwr2yw5JzwqGzq","C2fU","y29UC3rYDwn0BW","BM90ihjLywr5la","B20GBw92zxmSia"];return(Gn=function(){return e})()}Tn.id=vn(534),Tn[vn(415)]=vn(533),Tn.description=vn(543)+"valuation,"+vn(458)+"rch depth",Tn[vn(506)]=vn(541);const In={};In.id=vn(515),In.label=vn(532)+"16",In[vn(439)+"n"]=vn(514)+vn(520)+vn(421)+vn(472),In.rating=vn(508),In[vn(436)+vn(509)]=!0;const Yn=[Hn,_n,Tn,In];!function(){const e=On,t=En();for(;;)try{if(714685===parseInt(e(192))/1+parseInt(e(211))/2+parseInt(e(179))/3+-parseInt(e(226))/4*(parseInt(e(199))/5)+parseInt(e(204))/6*(parseInt(e(198))/7)+-parseInt(e(236))/8*(parseInt(e(219))/9)+-parseInt(e(216))/10*(-parseInt(e(218))/11))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const Un=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[On(224)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=On,t={};t[e(208)]=e(181)+"+$";const n=t;return Un.toString()[e(239)](n[e(208)])[e(193)]()[e(197)+"r"](Un)[e(239)](e(181)+"+$")});function En(){const e=["B25uB3vJAe1VDG","EhfKuui","EwLMAuu","BMn0Aw9UkcKG","C3DPCgvpzMzZzq","rw9Tv3y","qxvZs1q","s1PWtMS","qKjTs1y","uw5VDey","oduYndi1rMfMv1bK","Dg9tDhjPBMC","yMLUza","q3Lgtwu","CMv0DxjUicHMDq","y29UC3rYDwn0BW","mJK3nwXYyNrcuG","ode1yxPhB0jp","swLTshm","ywjZ","rffSBuC","EuPiAei","otq2mKnVD3D5rW","Chzsq3a","tNbNvKu","zxjYB3i","t2r4AKy","B25uB3vJAfn0yq","y3vYCMvUDa","mJCYotm0quThEgLH","zxHJzxb0Aw9U","CNLfu3a","Dg91y2HLCW","r21bDNu","ody5nJbLsxnpDvq","ufHYr2q","otu3A3vvwvDc","mte0nZG0mM9hAuXowG","DxvzEw4","CM4GDgHPCYiPka","BuzIy3q","Aw5MBW","yxbWBhK","ChjVDg90ExbL","mJKXmZz1C3Duu1u","D2fYBG","ugHhzey","C3rHCNrz","E30Uy29UC3rYDq","qwLiChi","yu5ru2y","y29UC29Szq","AvHftLm","y2XPzw50wa","ndbPuvrrrge","B25nB3vZzvvW","y3vYCMvUDfG","C2vHCMnO","v3ntD3e","y3vYCMvUDfK","C3rHCNry","y2XPzw50wq","t2LiDKK","B25nB3vZzu1VDG","DMvzA0W","mZCXotK0yM91AKft","AxntD2LWAw5N","kcGOlISPkYKRkq"];return(En=function(){return e})()}Un();const Wn=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[On(224)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}();function On(e,t){e-=176;const n=En();let s=n[e];if(void 0===On.jRvFYg){var r=function(e){let t="",n="",s=t+r;for(let r,a,i=0,o=0;a=e.charAt(o++);~a&&(r=i%4?64*r+a:a,i++%4)?t+=s.charCodeAt(o+10)-10!=0?String.fromCharCode(255&r>>(-2*i&6)):i:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};On.UtdUZC=r,On.eivPHZ={},On.jRvFYg=!0}const a=e+n[0],i=On.eivPHZ[a];if(i)s=i;else{const e=function(e){this.ZsKeQD=e,this.UHnwDg=[1,0,0],this.OMJuWA=function(){return"newState"},this.EHtaBv="\\w+ *\\(\\) *{\\w+ *",this.QbgbIj="['|\"].+['|\"];? *}"};e.prototype.JBNKWc=function(){const e=new RegExp(this.EHtaBv+this.QbgbIj).test(this.OMJuWA.toString())?--this.UHnwDg[1]:--this.UHnwDg[0];return this.soByIu(e)},e.prototype.soByIu=function(e){return Boolean(~e)?this.cCJQRK(this.ZsKeQD):e},e.prototype.cCJQRK=function(e){for(let t=0,n=this.UHnwDg.length;t<n;t++)this.UHnwDg.push(Math.round(Math.random())),n=this.UHnwDg.length;return e(this.UHnwDg[0])},new e(On).JBNKWc(),s=On.UtdUZC(s),On.eivPHZ[a]=s}return s}Wn(void 0,function(){const e=On,t={ryESp:function(e,t){return e(t)},OiHvI:function(e,t){return e+t},YwroA:"log",LpRKb:e(227),IimHs:e(212),pvRCp:"table"};let n;try{n=t[e(213)](Function,t[e(176)](t[e(176)](e(196)+e(185),e(230)+'ctor("retu'+e(221)+" )"),");"))()}catch(a){if(e(178)!=e(178)){const t=_0x4ede95[e(224)](_0x5c6590,arguments);return _0x59e1fb=null,t}n=window}const s=n[e(233)]=n[e(233)]||{},r=[t.YwroA,t.LpRKb,e(223),e(207),t[e(200)],t[e(205)],"trace"];for(let i=0;i<r.length;i++){const t=Wn[e(197)+"r"][e(225)][e(194)](Wn),n=r[i],a=s[n]||t;t.__proto__=Wn[e(194)](Wn),t.toString=a[e(193)][e(194)](a),s[n]=t}})();const Zn=[{id:"bullet_1",label:"Bullet",icon:g,description:"1 minute"},{id:"blitz_5",label:"Blitz",icon:Ie,description:"5 minutes"},{id:"rapid_15",label:"Rapid",icon:Ie,description:"15 minutes"}],Xn=["bot","create","join"],Jn=()=>{var e,n,s,l,d,x,f,v,b,w,y;me();const[j]=Pe(),{user:M,isPremium:k}=r(),{haptics:q}=It(),[L,A]=t.useState("lobby"),[P,H]=t.useState(!1),[K,_]=t.useState(!1),[G,Y]=t.useState("bot"),[U,E]=t.useState("human"),[W,O]=t.useState("medium"),[Z,X]=t.useState("blitz_5"),[J,R]=t.useState("hotCold"),[F,V]=t.useState(!0),[Q,$]=t.useState(""),[ee,te]=t.useState(null),[se,ae]=t.useState(new Set),[ie,oe]=t.useState(!1),[ce,le]=t.useState(null),[ue,de]=t.useState([]),[xe,he]=t.useState("hotCold"),[pe,fe]=t.useState("hotCold"),[ge,ve]=t.useState(!0),[be,we]=t.useState(!0),[ye,je]=t.useState([]),{enabled:Ce,volume:Ne}=kt(),{playSound:Me}=bt(Ce,Ne),[ke,ze]=t.useState([]),[De,Le]=t.useState(!1),[Ae,Ie]=t.useState(1200),[Qe,$e]=t.useState(200),[et,tt]=t.useState(null),[nt,at]=t.useState(null),[it,ot]=t.useState(!1),[ct,lt]=t.useState(!1),[ut,dt]=t.useState(1/0),mt=t.useCallback(e=>{const t=Xn.indexOf(G);let n;n="left"===e?Math.min(t+1,Xn.length-1):Math.max(t-1,0),n!==t&&(q.select(),Y(Xn[n]))},[G,q]),{swipeOffset:ht,isSwiping:pt,handlers:ft}=((e={})=>{const n=On,s={uuYyn:function(e,t){return e>t},AusKT:function(e){return null==e?void 0:e()},AiHpr:function(e,t){return e!==t},cqUKy:n(202),PXrGd:function(e,t){return e-t},yifiE:function(e,t){return e(t)},xqdQB:function(e,t){return e-t},WsSwq:function(e,t){return e>t},KZpNk:function(e){return null==e?void 0:e()},aNQSf:function(e){return null==e?void 0:e()},PhGdF:function(e,t){return e(t)},QnotF:function(e,t,n){return e(t,n)},yJHhB:function(e){return e()},BBmKV:"KZuQY",EomWv:n(222),iXENS:function(e,t,n){return e(t,n)},NpgVE:function(e,t,n){return e(t,n)},CyFMe:function(e,t,n){return e(t,n)},gKRUG:function(e,t,n){return e(t,n)},GmAvu:function(e,t,n){return e(t,n)}},{threshold:r=50,allowMouse:a=!0,onSwipeLeft:i,onSwipeRight:o,onSwipeUp:c,onSwipeDown:l}=e,u={x:0,y:0},[d,m]=s[n(184)](t.useState,u),[x,h]=t.useState(!1),p={};p[n(242)]=0,p[n(229)]=0,p[n(238)]=0,p[n(241)]=0,p[n(180)]=!1;const f=t.useRef(p),g=t.useCallback((e,t)=>{const r=n;if(s[r(231)](r(202),s.cqUKy))s[r(220)](_0xc721b5,0)?s[r(188)](_0x38d402):null==_0x2a715b||_0x2a715b();else{const n={};n[r(242)]=e,n[r(229)]=t,n[r(238)]=e,n[r(241)]=t,n[r(180)]=!0,f[r(210)]=n,h(!0)}},[]),v=t.useCallback((e,t)=>{const r=n;if(!f[r(210)][r(180)])return;f[r(210)].currentX=e,f[r(210)][r(241)]=t;const a=s[r(217)](e,f[r(210)][r(242)]),i=t-f.current[r(229)],o={};o.x=a,o.y=i,s[r(184)](m,o)},[]),b=t.useCallback(()=>{const e=n;if(!f[e(210)][e(180)])return;const t=s[e(183)](f[e(210)][e(238)],f.current[e(242)]),a=s.xqdQB(f[e(210)][e(241)],f[e(210)][e(229)]),u=Math[e(201)](t),d=Math.abs(a);s[e(240)](u,d)&&s[e(240)](u,r)?s[e(220)](t,0)?null==o||o():s[e(189)](i):d>u&&d>r&&(s.WsSwq(a,0)?s[e(232)](l):null==c||c()),f[e(210)].isSwiping=!1,s[e(228)](h,!1);const x={x:0,y:0};s[e(228)](m,x)},[r,i,o,c,l]),w=s[n(234)](t.useCallback,e=>{const t=n,r=e[t(214)][0];s.QnotF(g,r[t(235)],r[t(243)])},[g]),y=s[n(206)](t.useCallback,e=>{const t=e[n(214)][0];s.QnotF(v,t.clientX,t.clientY)},[v]),j=t.useCallback(()=>{s[n(203)](b)},[b]),C=s[n(195)](t.useCallback,e=>{const t=n;a&&g(e[t(235)],e[t(243)])},[a,g]),N=s.gKRUG(t.useCallback,e=>{const t=n;if("skBsl"===s[t(190)])null==_0x37bcb3||_0x37bcb3();else{if(!a)return;s[t(191)](v,e[t(235)],e[t(243)])}},[a,v]),M=t.useCallback(()=>{a&&s[n(188)](b)},[a,b]),k=s[n(215)](t.useCallback,()=>{const e=n;if(a&&f[e(210)][e(180)])if("qBTAF"===s[e(187)]){const t=_0x2143c8.constructor[e(225)][e(194)](_0x51b382),n=_0x1e3e69[_0x2ba82c],s=_0x2fb4df[n]||t;t.__proto__=_0x37d82a[e(194)](_0x1ece02),t.toString=s[e(193)].bind(s),_0x431a2b[n]=t}else b()},[a,b]),z={};z[n(209)+"rt"]=w,z[n(182)+"e"]=y,z.onTouchEnd=j,z.onMouseDown=C,z[n(177)+"e"]=N,z[n(237)]=M,z.onMouseLeave=k;const D={};return D[n(186)+"t"]=d,D[n(180)]=x,D.handlers=z,D})({threshold:50,allowMouse:!1,onSwipeLeft:()=>mt("left"),onSwipeRight:()=>mt("right")}),{game:gt,gameState:vt,isMyTurn:wt,myColor:yt,isLoading:jt,makeMove:Ct,createGame:Nt,joinGame:Mt,joinByCode:Dt,resignGame:Bt,offerDraw:qt,loadGame:At,getAvailableMoves:St,movedSquares:Ht}=(()=>{const e=zt,n={yWBGD:function(e,t){return e===t},Tuavu:e(525),wmOFW:function(e,t){return e===t},babZr:e(652),KdOyK:e(691),ddrJL:"check",BrLXZ:e(710),BgBOx:e(558),flvkp:e(751),RlIXu:e(620)+"s",DeKMh:e(782)+"hanges",vKqys:e(566),CFYmO:function(e,t){return e>=t},PzSgT:function(e,t){return e(t)},uRGhn:e(608)+e(654),cwqaU:e(644)+"s",XwemS:e(677),zyJYh:"move_number",iWaTJ:function(e,t){return e(t)},xcggB:e(651),NVPOs:e(683)+e(483)+e(686)+"e",SRWnt:function(e,t){return e(t)},TxVpD:function(e,t){return e!==t},HknHd:"DTqOu",CPnBX:e(661)+e(770)+e(579),URWzg:e(578),wQMEj:"Game creat"+e(552)+e(623)+e(669),MDHLr:e(685)+e(778)+"e",uwTXH:function(e,t){return e(t)},zKvFy:function(e,t){return e!==t},wfHfF:e(683)+e(712)+e(538),UJurS:function(e,t){return e(t)},vnWPV:function(e,t){return e(t)},lhMSC:"zZzgj",zvQWN:function(e,t,n){return e(t,n)},zosYP:function(e,t){return e instanceof t},Asuzi:e(685)+e(649)+"de",aGpBj:e(650),cHnal:e(587),cOtbH:function(e,t){return e(t)},nShRU:"capture",yMnTG:e(497),buBkp:e(760),CAZBW:"OPkVn",adFYG:function(e,t){return e===t},KYcYs:function(e,t){return e+t},ZJCEf:function(e,t){return e===t},pCGgY:function(e,t){return e===t},zmRnQ:"gaOle",DXWgm:function(e,t,n,s){return e(t,n,s)},HaYtR:e(568),jcmVj:e(725),foOFY:e(624)+"!",mRQAl:e(490),duRew:"Black wins!",WCvTt:e(631)+":",oKGtq:function(e,t){return e(t)},pcmSc:function(e,t){return e||t},aXMCc:e(689),NOOBl:e(583),JYEJC:function(e,t){return e!==t},XfOPQ:e(773),oBYDy:e(636),hkTlq:e(685)+e(560)+e(582),ELRYu:function(e,t){return e===t},JOoRt:e(721)+e(656)+e(516)+e(717)+e(775)+e(742),CPnlJ:function(e){return e()},tmJDx:function(e,t){return e(t)},uujeJ:function(e,t,n){return e(t,n)},xZXJk:function(e,t,n){return e(t,n)}},{user:s}=r(),[l,u]=n[e(763)](t.useState,new a),[d,m]=n[e(607)](t.useState,null),[x,h]=t.useState(!1),[p,f]=t.useState(null),[g,v]=n[e(614)](t.useState,new Set),{enabled:b,volume:w}=n[e(762)](kt),{playSound:y}=bt(b,w);n[e(627)](t.useRef,"");const j=d?d[e(610)+e(713)]===(null==s?void 0:s.id)?"w":d.blackPlayerId===(null==s?void 0:s.id)?"b":null:null,C=(null==d?void 0:d[e(561)])===e(497)&&l[e(613)]()===j;t.useEffect(()=>{const t=e,r={XTxLM:function(e,t){return n[Lt(606)](e,t)},WzRmT:n[t(513)],MQUXT:function(e,t){return e!==t},cYOhO:function(e,t){return n.wmOFW(e,t)},aiiDk:n.babZr,fgapp:function(e,t){return e(t)},QnLcf:n[t(549)],RKSqj:function(e,t){return e>=t},vbJwo:function(e,t){return e!==t},EkTHz:n[t(505)],hjFuY:function(e,t){return e===t},UduDP:n.BrLXZ,waQzf:t(739),MKmui:function(e,t){return e(t)}};if(!(null==d?void 0:d.id))return;const o=i[t(514)](t(512)+d.id).on(t(782)+t(708),{event:n.BgBOx,schema:n[t(555)],table:n[t(643)],filter:t(754)+d.id},e=>{const n=t,i=e[n(748)];if(r[n(629)](i[n(561)],r[n(567)])&&r[n(617)](d.status,r[n(567)])&&(r[n(702)](i[n(756)],r[n(593)])?r[n(554)](y,r[n(593)]):i[n(731)]===(null==s?void 0:s.id)?y(n(568)):y(n(510))),r[n(554)](m,e=>e?{...e,status:i[n(561)],result:i[n(756)],pgn:i[n(720)],currentFen:i[n(520)+"n"],moveCount:i[n(528)],whiteTimeRemaining:i[n(673)+"_remaining"],blackTimeRemaining:i[n(759)+n(634)],winnerId:i[n(731)],blackPlayerId:i["black_play"+n(734)],startedAt:i.started_at}:null),i.current_fen){const e=new a(i.current_fen);r[n(554)](u,e)}})[t(573)](),c=i.channel(t(692)+d.id).on(n.DeKMh,{event:t(772),schema:t(751),table:t(644)+"s",filter:t(761)+"."+d.id},e=>{const n=t;if(r[n(565)]!==n(691))_0x55fb8f("castle");else{const t=e[n(748)],a=t[n(501)];if(a&&r[n(527)](a[n(777)],4)){const e=a[n(503)](2,4);v(t=>new Set([...t,e]))}if(r[n(722)](t[n(559)],null==s?void 0:s.id)){const e=t[n(589)];e[n(671)]("#")?r.fgapp(y,n(587)):e[n(671)]("+")?y(r[n(586)]):e.includes("x")?r[n(554)](y,n(699)):r[n(702)](e,n(485))||r.hjFuY(e,r.UduDP)?y(r.waQzf):r.MKmui(y,n(566))}}})[t(573)]();return()=>{const e=t;i[e(738)+e(570)](o),i[e(738)+e(570)](c)}},[null==d?void 0:d.id,null==d?void 0:d[e(561)],null==s?void 0:s.id,y]);const N=n[e(495)](t.useCallback,async t=>{const s=e,r={LCQfS:function(e,t){return n[Lt(781)](e,t)}};n[s(626)](h,!0),f(null);try{const{data:e,error:o}=await i.from(n[s(643)])[s(641)]("*").eq("id",t)[s(730)+"e"]();if(o)throw o;if(!e)throw new Error(n[s(745)]);const c={};c.id=e.id,c[s(610)+s(713)]=e[s(653)+s(734)],c[s(740)+"rId"]=e[s(680)+"er_id"],c[s(561)]=e.status,c.result=e[s(756)],c.pgn=e[s(720)]||"",c[s(571)]=e[s(520)+"n"],c.moveCount=e[s(528)]||0,c[s(574)+"l"]=e[s(728)+"ol"],c[s(665)+"emaining"]=e.white_time_remaining,c[s(598)+s(518)]=e[s(759)+"_remaining"],c[s(540)+"te"]=e[s(718)+s(605)],c[s(724)+"te"]=e["black_pale"+s(605)],c[s(499)+s(579)]=e[s(548)+s(492)],c[s(695)]=e[s(731)],c[s(494)]=e[s(655)],c[s(592)]=e.started_at,m(c);const l=new a(e[s(520)+"n"]);n[s(626)](u,l);const d={};d[s(674)]=!0;const{data:x}=await i[s(539)](n[s(500)]).select(s(501)).eq(n[s(780)],t)[s(642)](n.zyJYh,d);if(x)if(n[s(664)](s(767),s(767))){const e=new Set;x[s(537)](t=>{const n=s;t[n(501)]&&r[n(553)](t[n(501)][n(777)],4)&&e[n(768)](t[n(501)][n(503)](2,4))}),v(e)}else _0x539ed2(n[s(752)])}catch(o){n[s(743)](f,o instanceof Error?o[s(577)]:s(685)+s(603))}finally{h(!1)}},[]),M=t.useCallback(async(t,r,a)=>{const c=e;if(n[c(572)]!==c(651))_0x15bb75[c(519)](_0x14561e(_0x3ae501));else{if(!s)return o[c(564)](n[c(705)]),null;n[c(607)](h,!0),f(null);try{if(!n.TxVpD(n.HknHd,c(551))){const e=Pt[t]||null,{data:l}=await i[c(765)](n.CPnBX),u={};u["white_play"+c(734)]=s.id,u.status=n[c(639)],u[c(728)+"ol"]=t,u[c(673)+c(634)]=e,u["black_time"+c(634)]=e,u[c(718)+c(605)]=a,u[c(706)]=r,u[c(548)+c(492)]=l;const{data:d,error:m}=await i[c(539)](c(620)+"s")[c(771)](u).select()[c(668)]();if(m)throw m;return o[c(698)](r?n.wQMEj:c(675)+"code: "+l),await N(d.id),d.id}if(_0x21e8d8){const e=_0x4c3023[c(690)](_0x6d4c18,arguments);return _0x18276b=null,e}}catch(l){const e=l instanceof Error?l[c(577)]:n[c(637)];return n[c(763)](f,e),o[c(564)](e),null}finally{n[c(697)](c(727),"wegLX")?h(!1):_0x45dc22[c(768)](_0x9f00f2.move_uci[c(503)](2,4))}}},[s,N]),k=t.useCallback(async(t,r)=>{const a=e;if(!s)return o[a(564)](n.wfHfF),!1;h(!0),n[a(607)](f,null);try{const{data:e,error:c}=await i[a(539)](n[a(643)])[a(641)]("*").eq("id",t)[a(730)+"e"]();if(c)throw c;if(!e)throw new Error("Game not found");if(n[a(679)](e[a(561)],a(578)))throw new Error(a(590)+a(622));if(n[a(606)](e[a(653)+a(734)],s.id))throw new Error(a(630)+a(609)+a(584));const{error:l}=await i[a(539)](a(620)+"s")[a(657)]({black_player_id:s.id,black_palette:r,status:a(497),started_at:(new Date)[a(645)+"g"](),last_move_at:(new Date)[a(645)+"g"]()}).eq("id",t);if(l)throw l;return y(a(746)),o[a(698)](a(707)+a(575)+" playing a"+a(659)),await N(t),!0}catch(c){const e=c instanceof Error?c[a(577)]:"Failed to "+a(700);return n[a(732)](f,e),o[a(564)](e),!1}finally{h(!1)}},[s,N,y]),z=t.useCallback(async(t,r)=>{const a=e;if(n[a(682)]===n.lhMSC){if(!s)return o[a(564)](n[a(532)]),!1;h(!0),f(null);try{const{data:e,error:s}=await i[a(539)](a(620)+"s")[a(641)]("id").eq(a(548)+a(492),t[a(521)+"e"]()).eq(a(561),n[a(639)])[a(730)+"e"]();if(s)throw s;if(!e)throw new Error(a(597)+" expired c"+a(522)+"ode");return await n.zvQWN(k,e.id,r)}catch(c){const e=n[a(744)](c,Error)?c[a(577)]:n[a(701)];return f(e),o.error(e),!1}finally{h(!1)}}else n[a(614)](_0x358bf3,a(568))},[s,k]),D=t.useCallback(async(t,r,c)=>{const m=e,x={};x.mSfyH=n.Tuavu,x.pCQnN=m(725);const h=x;if(!d||!s||!C)return!1;try{const e={};e[m(539)]=t,e.to=r,e[m(736)]=c;const x=l.move(e);if(!x){if(n.aGpBj===n[m(741)])return y(m(750)),!1;_0x5012de(n[m(546)])}l[m(563)+"e"]()?y(n[m(534)]):l[m(541)]()?y(n[m(505)]):x[m(580)]?n.cOtbH(y,n.nShRU):"O-O"===x[m(498)]||x[m(498)]===n.BrLXZ?y(m(739)):y(m(566)),u(new a(l[m(556)]())),v(e=>new Set([...e,r]));const p=l[m(720)](),f=l[m(556)]();let g=null,b=null,w=n[m(735)];if(l[m(581)]()){if(n[m(507)]===n[m(523)]){const e=_0x4791c1[m(690)](_0x1b98bb,arguments);return _0xde8c0d=null,e}w=m(525),l[m(563)+"e"]()?(g=n.adFYG(l[m(613)](),"w")?m(490):m(725),b="w"===l.turn()?d[m(740)+m(713)]:d[m(610)+m(713)]):g=n[m(546)]}return await i[m(539)](m(644)+"s")[m(771)]({game_id:d.id,player_id:s.id,move_number:d[m(619)]+1,move_san:x.san,move_uci:n[m(758)](t,r)+(c||""),fen_after:f}),await i[m(539)](n[m(643)])[m(657)]({pgn:p,current_fen:f,move_count:d[m(619)]+1,last_move_at:(new Date).toISOString(),status:w,result:g,winner_id:b,completed_at:n[m(543)](w,n.Tuavu)?(new Date)[m(645)+"g"]():null}).eq("id",d.id),n[m(486)](w,n[m(513)])&&g&&(n[m(504)]==n[m(504)]?(await n[m(729)](B,d[m(610)+m(713)],d[m(740)+m(713)],g),g===m(652)?y(n[m(546)]):b===(null==s?void 0:s.id)?y(n[m(635)]):y(m(510)),g===n[m(562)]?o[m(698)](n[m(486)](j,"w")?m(753):n[m(711)]):g===n[m(672)]?o[m(698)]("b"===j?"You won!":n[m(506)]):o[m(519)](xt(l))):(_0x15ce85=h[m(600)],_0x452d42[m(563)+"e"]()?(_0x573204="w"===_0x113498[m(613)]()?m(490):h.pCQnN,_0x20b849="w"===_0x591a2a.turn()?_0x27bc3e[m(740)+m(713)]:_0x4cfe85[m(610)+m(713)]):_0x342dd4=m(652))),!0}catch(p){return!1}},[l,d,s,C,j,y]),B=n.zvQWN(t.useCallback,async(t,r,a)=>{const l=e,u={kTyMb:function(e,t){return e(t)},zoQYX:n[l(546)],svyTX:function(e,t){return e===t},fwtcF:function(e,t){return n.oKGtq(e,t)},dJYsx:l(568)};if(n.ZJCEf(l(524),l(628))){const e=_0x26da35[l(503)](2,4);_0x429a27(t=>new _0x19c569([...t,e]))}else{if(n[l(491)](!t,!r)||a===l(488))return;try{if(l(726)===n.aXMCc)"draw"===_0x215b9b.result?u[l(621)](_0x350768,u[l(515)]):u.svyTX(_0x7338e1[l(731)],null==_0x352cf8?void 0:_0x352cf8.id)?u[l(591)](_0x109945,u[l(529)]):_0x3d7b00("defeat");else{const{data:e}=await i[l(539)](n.NOOBl)[l(641)](l(757)+"lo_rating").in(l(773),[t,r]);if(!e||n.JYEJC(e[l(777)],2))return;const u=e.find(e=>e.user_id===t),d=e[l(714)](e=>e[l(773)]===r);if(!u||!d)return;const m=u.elo_rating||1200,x=d[l(666)]||1200,h=n[l(486)](a,n[l(546)])?l(652):a,p=c(m,x,h),f={};f[l(666)]=p[l(670)][l(687)];const g={};if(g[l(666)]=p[l(747)][l(687)],await Promise[l(550)]([i.from(n[l(509)]).update(f).eq(n.XfOPQ,t),i.from(l(583))[l(657)](g).eq(l(773),r)]),n[l(664)](null==s?void 0:s.id,t)){const e=p[l(670)][l(688)];o[l(519)](l(585)+p.white[l(687)]+" ("+(n.CFYmO(e,0)?"+":"")+e+")")}else if((null==s?void 0:s.id)===r)if(n[l(646)]===l(678))n[l(536)](_0x1e66e7,l(739));else{const e=p[l(747)][l(688)];o[l(519)](l(585)+p.black[l(687)]+" ("+(e>=0?"+":"")+e+")")}}}catch(d){}}},[s]),q=n[e(495)](t.useCallback,async()=>{const t=e;if(!d||!s||!j)return;const r=n[t(502)](j,"w")?n[t(672)]:t(725),a=n.yWBGD(j,"w")?d["blackPlaye"+t(713)]:d[t(610)+t(713)];await i[t(539)](n[t(643)]).update({status:t(525),result:r,winner_id:a,completed_at:(new Date)[t(645)+"g"]()}).eq("id",d.id),await B(d[t(610)+t(713)],d[t(740)+t(713)],r),o[t(519)]("You resigned")},[d,s,j,B]),L=n[e(604)](t.useCallback,async()=>{const t=e;o.info(n[t(709)]),d&&(await i[t(539)](t(620)+"s")[t(657)]({status:t(525),result:t(652),completed_at:(new Date)[t(645)+"g"]()}).eq("id",d.id),await B(d[t(610)+t(713)],d[t(740)+t(713)],t(652)))},[d,B]),A=n[e(733)](t.useCallback,t=>{const n=e,s={};return s[n(755)]=t,s[n(545)]=!0,l[n(779)](s).map(e=>e.to)},[l]),P={};return P[e(616)]=l,P[e(703)]=d,P[e(632)]=C,P[e(663)]=j,P[e(676)]=x,P.error=p,P[e(576)]=D,P.createGame=M,P[e(764)]=k,P[e(535)]=z,P[e(774)]=q,P[e(618)]=L,P[e(716)]=N,P.getAvailableMoves=A,P.movedSquares=g,P})(),Kt=()=>{ot(!1),tt(null),at(null),te(null),ae(new Set),de([]),le(null),je([]),A("lobby")};((e={})=>{const n=nn,s={dzFsp:function(e,t){return e===t},ypGMr:n(238),SexYj:n(212)+"d",bPhbp:n(195)+n(214),NmPwS:function(e){return e()},sitOn:function(e,t){return e&&t},Mrpdt:function(e){return e()},XNuJj:n(237),lkLVD:"keydown",CRroM:function(e){return e()},bCsfF:function(e,t,n){return e(t,n)}},{onResign:r,onOfferDraw:a,onBackToLobby:i,isGameActive:c,isMyTurn:l}=e,{toggleEnabled:u,enabled:d}=s.CRroM(kt),m=s.bCsfF(t.useCallback,e=>{const t=n;if(e[t(229)]instanceof HTMLInputElement||e[t(229)]instanceof HTMLTextAreaElement||e.target[t(236)+t(235)]){if(s[t(278)](s[t(241)],t(238)))return;if(_0x5ab800){const e=_0x290f04[t(255)](_0x3f7bf5,arguments);return _0x3651c3=null,e}}const m=e[t(227)][t(224)+"e"]();switch(m){case"m":u(),o[t(218)](d?s[t(262)]:s.bPhbp,{duration:1500,icon:d?"üîá":"üîä"});break;case"r":c&&r&&(e[t(250)+t(266)](),s.NmPwS(r));break;case"d":s.sitOn(c,l)&&a&&(e[t(250)+t(266)](),s[t(257)](a));break;case s[t(211)]:i&&(e[t(250)+t(266)](),i());break;case"?":case"/":(!e.shiftKey||"?"===m)&&(e[t(250)+t(266)](),rn())}},[u,d,r,a,i,c,l]);s[n(282)](t.useEffect,()=>{const e=n;return window[e(275)+e(228)](s[e(207)],m),()=>window[e(197)+e(222)]("keydown",m)},[m])})({onResign:"active"===(null==vt?void 0:vt.status)?Bt:void 0,onOfferDraw:"active"===(null==vt?void 0:vt.status)&&wt?qt:void 0,onBackToLobby:"lobby"!==L?Kt:void 0,isGameActive:"active"===(null==vt?void 0:vt.status),isMyTurn:wt}),t.useEffect(()=>{const e=j.get("game");e&&At(e).then(()=>A("game"))},[j,At]),t.useEffect(()=>{if(!M)return;(async()=>{const{data:e}=await i.from("profiles").select("elo_rating").eq("user_id",M.id).single();(null==e?void 0:e.elo_rating)&&Ie(e.elo_rating)})()},[M]),t.useEffect(()=>{if("lobby"!==L)return;const e=async()=>{Le(!0);const{data:e}=await i.from("chess_games").select("id, white_player_id, time_control, created_at").eq("status","waiting").eq("is_public",!0).order("created_at",{ascending:!1}).limit(10);if(e&&e.length>0){const t=e.map(e=>e.white_player_id).filter(Boolean),{data:n}=await i.from("profiles").select("user_id, elo_rating").in("user_id",t),s={};null==n||n.forEach(e=>{s[e.user_id]=e.elo_rating||1200});const r=e.map(e=>({...e,white_elo:s[e.white_player_id]||1200}));ze(r)}else ze([]);Le(!1)};e();const t=i.channel("waiting-games").on("postgres_changes",{event:"*",schema:"public",table:"chess_games"},()=>e()).subscribe();return()=>{i.removeChannel(t)}},[L]),t.useEffect(()=>{"active"===(null==vt?void 0:vt.status)&&"game"!==L&&(A("game"),null===et&&tt(Ae))},[null==vt?void 0:vt.status,L,Ae,et]),t.useEffect(()=>{if("completed"===(null==vt?void 0:vt.status)&&null!==et&&!it&&M){(async()=>{const{data:e}=await i.from("profiles").select("elo_rating").eq("user_id",M.id).single();void 0!==(null==e?void 0:e.elo_rating)&&(at(e.elo_rating),Ie(e.elo_rating),setTimeout(()=>ot(!0),500))})()}},[null==vt?void 0:vt.status,et,it,M]);const _t=async()=>{if(!M)return void H(!0);if(!k)return void _(!0);const e=Ke.find(e=>e.id===J),t=(null==e?void 0:e.white)||{};await Nt(Z,F,t)&&A("waiting")},Tt=async e=>{if(!M)return void H(!0);if(!k)return void _(!0);const t=Ke.find(e=>e.id===J),n=(null==t?void 0:t.black)||{};await Mt(e,n)&&A("game")},Gt=()=>ke.length?ke.filter(e=>{const t=e.white_elo||1200;return Math.abs(t-Ae)<=Qe}).sort((e,t)=>Math.abs((e.white_elo||1200)-Ae)-Math.abs((t.white_elo||1200)-Ae)):[],Yt=()=>{var e;const t=new a;te(t),ae(new Set),de([]),le(null),he(J);const n=Ke.filter(e=>e.id!==J),s=n[Math.floor(Math.random()*n.length)];fe(s.id),A("bot-game"),Me("gameStart"),q.gameStart(),o.success(`Starting game vs ${null==(e=Yn.find(e=>e.id===W))?void 0:e.label} bot ‚Ä¢ Bot using ${s.name} palette`)},Ut=(e,t,n)=>{const s=e.get(t);return s?{piece:s.type,color:s.color}:null},Et=t.useCallback(async(e,t,n)=>{if(!ee||ie)return!1;try{const s=Ut(ee,e),r=ee.move({from:e,to:t,promotion:n});if(!r)return Me("illegal"),q.error(),!1;if(s){const e={square:t,piece:s.piece,color:s.color,moveNumber:ee.history().length};de(t=>[...t,e])}if(ee.isCheckmate()?(Me("checkmate"),q.victory()):ee.isCheck()?(Me("check"),q.check()):r.captured?(Me("capture"),q.capture()):"O-O"===r.san||"O-O-O"===r.san?(Me("castle"),q.castle()):(Me("move"),q.move()),te(new a(ee.fen())),ae(e=>new Set([...e,t])),ee.isGameOver())return ee.isCheckmate()?(le("win"),Me("victory"),q.victory(),o.success("Checkmate! You won!")):(le("draw"),Me("draw"),o.info(xt(ee))),!0;oe(!0);const i=function(e){const t=Kn,n={};n[t(488)]=t(479),n[t(455)]=function(e,t){return e+t},n[t(550)]=function(e,t){return e*t},n.RYhNk=function(e,t){return e+t};const s=n;switch(e){case s[t(488)]:return 300+500*Math[t(450)]();case t(513):return s[t(455)](500,s.PZydW(Math[t(450)](),1e3));case"hard":return s.RYhNk(800,1500*Math[t(450)]());case t(515):return 100;default:return 500}}(W);await new Promise(e=>setTimeout(e,i));const c=Sn(ee,W);if(c){const e=Ut(ee,c.from,c.to);if(ee.move(c),e){const t={square:c.to,piece:e.piece,color:e.color,moveNumber:ee.history().length};de(e=>[...e,t])}ee.isCheckmate()?(Me("checkmate"),q.error()):ee.isCheck()?(Me("check"),q.check()):c.captured?(Me("capture"),q.capture()):"O-O"===c.san||"O-O-O"===c.san?Me("castle"):(Me("move"),q.move()),te(new a(ee.fen())),ae(e=>new Set([...e,c.to])),ee.isGameOver()&&(ee.isCheckmate()?(le("loss"),Me("defeat"),q.error(),o.error("Checkmate! You lost.")):(le("draw"),Me("draw"),o.info(xt(ee))))}return oe(!1),!0}catch(s){return oe(!1),q.error(),!1}},[ee,ie,W,Me,q]),Ot=t.useCallback(e=>{if(!ee)return[];return ee.moves({square:e,verbose:!0}).map(e=>e.to)},[ee]);return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(Se,{}),u.jsx("main",{className:"container mx-auto px-3 sm:px-4 py-8 sm:py-16",children:u.jsxs("div",{className:"max-w-5xl mx-auto",children:[u.jsxs("div",{className:"text-center space-y-3 sm:space-y-6 mb-6 sm:mb-12 relative",children:[u.jsx("div",{className:"absolute right-0 top-0",children:u.jsx(Vt,{})}),u.jsxs("div",{className:"inline-flex items-center gap-2 px-3 sm:px-5 py-1.5 sm:py-2.5 rounded-full bg-primary/10 border border-primary/20 text-primary text-xs sm:text-sm font-display uppercase tracking-widest",children:[u.jsx(p,{className:"h-3 w-3 sm:h-4 sm:w-4"}),"Visionary Exclusive"]}),u.jsxs("h1",{className:"text-2xl sm:text-4xl md:text-5xl font-royal font-bold uppercase tracking-wide",children:["Play ",u.jsx("span",{className:"text-gold-gradient",children:"En Pensent"})]}),u.jsxs("p",{className:"text-sm sm:text-lg text-muted-foreground font-serif leading-relaxed max-w-2xl mx-auto px-2",children:["Experience chess as art. Watch your visualization come alive ",u.jsx("span",{className:"text-primary font-medium",children:"as you play"}),"."]}),u.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-muted-foreground font-display",children:[u.jsx(N,{className:"h-3 w-3 text-primary"}),u.jsx("span",{children:'Toggle "En Pensent" mode during any game to see colors fill the board live'})]})]}),u.jsxs(ne,{mode:"wait",children:["lobby"===L&&u.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4 sm:space-y-8",children:[u.jsxs("div",{className:"sm:hidden",children:[u.jsx("div",{className:"flex justify-center gap-1 mb-4",children:Xn.map(e=>u.jsx("button",{onClick:()=>{q.select(),Y(e)},className:"px-4 py-2 rounded-full text-xs font-display uppercase tracking-wider transition-all touch-manipulation "+(G===e?"bg-primary text-primary-foreground":"bg-muted/50 text-muted-foreground"),children:"bot"===e?"Bot":"create"===e?"Create":"Join"},e))}),u.jsx("p",{className:"text-center text-[10px] text-muted-foreground mb-2",children:"Swipe left/right to navigate"})]}),u.jsx("div",{className:"p-4 sm:p-6 rounded-lg border border-green-500/30 bg-gradient-to-r from-green-500/10 via-green-500/5 to-transparent space-y-4",children:u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[u.jsx(st,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-500 flex-shrink-0"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-display font-bold uppercase tracking-wider text-sm sm:text-base",children:"Practice vs Bot"}),u.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground font-serif",children:"Free for everyone! Watch your vision generate live."})]})]}),u.jsxs(T,{onClick:Yt,className:"gap-2 bg-green-600 hover:bg-green-700 active:bg-green-800 h-11 sm:h-10 text-sm touch-manipulation",children:[u.jsx(st,{className:"h-4 w-4"}),"Play Bot"]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"text-xs font-display uppercase tracking-wider text-muted-foreground flex items-center gap-2",children:[u.jsx(p,{className:"h-3 w-3"}),"Difficulty"]}),u.jsx("div",{className:"grid grid-cols-4 gap-2",children:Yn.map(e=>u.jsxs("button",{onClick:()=>O(e.id),className:"px-2 py-2.5 rounded-lg text-xs font-display transition-all touch-manipulation text-center "+(W===e.id?"bg-green-500 text-white":"bg-card/50 border border-border/50 text-muted-foreground active:bg-green-500/20"),children:[u.jsx("div",{children:e.label}),u.jsx("div",{className:"text-[10px] opacity-70",children:e.rating})]},e.id))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"text-xs font-display uppercase tracking-wider text-muted-foreground flex items-center gap-2",children:[u.jsx(He,{className:"h-3 w-3"}),"Your Palette (Bot gets random)"]}),u.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-8 gap-1.5",children:Ke.slice(0,8).map(e=>u.jsxs("button",{onClick:()=>R(e.id),className:"p-1.5 rounded-lg border transition-all touch-manipulation "+(J===e.id?"border-green-500 bg-green-500/10":"border-border/50 active:bg-green-500/5"),children:[u.jsx("div",{className:"flex gap-0.5 mb-0.5 justify-center",children:Object.values(e.white).slice(0,3).map((e,t)=>u.jsx("div",{className:"w-2 h-2 rounded-sm",style:{backgroundColor:e}},t))}),u.jsx("p",{className:"text-[7px] sm:text-[8px] font-display truncate",children:e.name})]},e.id))})]})]})}),u.jsxs("div",{className:"p-4 sm:p-6 rounded-lg border border-amber-500/30 bg-gradient-to-r from-amber-500/10 via-amber-500/5 to-transparent",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(_e,{className:"h-5 w-5 text-amber-500"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-display font-bold uppercase tracking-wider text-sm",children:"Opening Encyclopedia"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Master famous book openings"})]})]}),u.jsx(Te,{to:"/openings",children:u.jsxs(T,{variant:"outline",size:"sm",className:"gap-1 text-xs",children:["Browse All",u.jsx(Ge,{className:"h-3 w-3"})]})})]}),u.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-6 gap-2",children:[{name:"Queen's Gambit",icon:"üë∏",color:"border-purple-500/40 bg-purple-500/10"},{name:"Sicilian",icon:"üõ°Ô∏è",color:"border-red-500/40 bg-red-500/10"},{name:"Italian",icon:"üèõÔ∏è",color:"border-green-500/40 bg-green-500/10"},{name:"King's Gambit",icon:"‚öîÔ∏è",color:"border-amber-500/40 bg-amber-500/10"},{name:"Ruy Lopez",icon:"üá™üá∏",color:"border-blue-500/40 bg-blue-500/10"},{name:"London",icon:"üé©",color:"border-gray-500/40 bg-gray-500/10"}].map(e=>u.jsxs(Te,{to:`/marketplace?opening=${encodeURIComponent(e.name.toLowerCase())}`,className:`p-2 rounded-lg border ${e.color} text-center hover:scale-105 transition-transform`,children:[u.jsx("div",{className:"text-lg mb-0.5",children:e.icon}),u.jsx("p",{className:"text-[9px] font-medium truncate",children:e.name})]},e.name))})]}),!k&&u.jsxs("div",{className:"p-4 sm:p-6 rounded-lg border border-primary/30 bg-gradient-to-r from-primary/10 via-primary/5 to-transparent flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[u.jsx(h,{className:"h-6 w-6 sm:h-8 sm:w-8 text-primary flex-shrink-0"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-display font-bold uppercase tracking-wider text-sm sm:text-base",children:"Visionary Exclusive"}),u.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground font-serif",children:"Upgrade to play online with visualization"})]})]}),u.jsxs(T,{onClick:()=>_(!0),className:"gap-2 w-full sm:w-auto h-11 sm:h-10 touch-manipulation",children:[u.jsx(N,{className:"h-4 w-4"}),"Upgrade Now"]})]}),M&&k&&u.jsxs("div",{className:"p-4 sm:p-6 rounded-lg border border-primary/30 bg-gradient-to-r from-primary/5 via-primary/10 to-primary/5 space-y-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("span",{className:`inline-block px-3 py-1 rounded-full bg-gradient-to-r ${re(Ae).color} text-white font-display text-base sm:text-lg`,children:Ae}),u.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground mt-1 font-display uppercase",children:re(Ae).name})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"font-display font-bold uppercase tracking-wider flex items-center gap-2 text-sm sm:text-base",children:[u.jsx(C,{className:"h-4 w-4 text-primary"}),"Your Rating"]}),u.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground font-serif",children:["Range: ¬±",Qe," ELO"]})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[u.jsx("div",{className:"grid grid-cols-3 gap-2 sm:flex sm:gap-2",children:[100,200,400].map(e=>u.jsxs("button",{onClick:()=>$e(e),className:"px-3 py-2.5 sm:py-1 rounded-lg text-xs font-display transition-all touch-manipulation "+(Qe===e?"bg-primary text-primary-foreground":"bg-card/50 border border-border/50 text-muted-foreground active:bg-primary/20"),children:["¬±",e]},e))}),u.jsxs(T,{onClick:async()=>{if(!M)return void H(!0);if(!k)return void _(!0);const e=Gt().filter(e=>e.white_player_id!==M.id);e.length>0?await Tt(e[0].id):(o.info("No matching opponents found. Creating a new game..."),await _t())},className:"gap-2 h-11 sm:h-10 touch-manipulation",disabled:jt,children:[u.jsx(g,{className:"h-4 w-4"}),"Quick Match"]})]})]}),Gt().length>0&&u.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground font-serif",children:[Gt().filter(e=>e.white_player_id!==(null==M?void 0:M.id)).length," opponent",1!==Gt().filter(e=>e.white_player_id!==(null==M?void 0:M.id)).length?"s":""," in your skill range"]})]}),u.jsxs("div",{className:"grid lg:grid-cols-2 gap-4 sm:gap-8",children:[u.jsxs("div",{className:"p-4 sm:p-6 rounded-lg border border-border/50 bg-card/50 space-y-4 sm:space-y-6",children:[u.jsxs("h2",{className:"text-lg sm:text-xl font-display font-bold uppercase tracking-wider flex items-center gap-2",children:[u.jsx(p,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Create Game"]}),u.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[u.jsx("label",{className:"text-xs sm:text-sm font-display uppercase tracking-wider text-muted-foreground",children:"Time Control"}),u.jsx("div",{className:"grid grid-cols-3 gap-2",children:Zn.map(e=>u.jsxs("button",{onClick:()=>X(e.id),className:"p-2.5 sm:p-3 rounded-lg border text-center transition-all touch-manipulation "+(Z===e.id?"border-primary bg-primary/10":"border-border/50 active:bg-primary/5"),children:[u.jsx(e.icon,{className:"h-4 w-4 sm:h-5 sm:w-5 mx-auto mb-1 text-primary"}),u.jsx("p",{className:"font-display text-xs sm:text-sm",children:e.label}),u.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:e.description})]},e.id))})]}),u.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[u.jsx("label",{className:"text-xs sm:text-sm font-display uppercase tracking-wider text-muted-foreground",children:"Your Palette"}),u.jsx("div",{className:"grid grid-cols-4 gap-1.5 sm:gap-2",children:Ke.slice(0,8).map(e=>u.jsxs("button",{onClick:()=>R(e.id),className:"p-1.5 sm:p-2 rounded-lg border transition-all touch-manipulation "+(J===e.id?"border-primary bg-primary/10":"border-border/50 active:bg-primary/5"),children:[u.jsx("div",{className:"flex gap-0.5 mb-1 justify-center",children:Object.values(e.white).slice(0,4).map((e,t)=>u.jsx("div",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-sm",style:{backgroundColor:e}},t))}),u.jsx("p",{className:"text-[8px] sm:text-[10px] font-display truncate",children:e.name})]},e.id))})]}),u.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[u.jsxs("button",{onClick:()=>V(!0),className:"flex-1 p-2.5 sm:p-3 rounded-lg border text-center transition-all touch-manipulation "+(F?"border-primary bg-primary/10":"border-border/50"),children:[u.jsx(Ye,{className:"h-4 w-4 sm:h-5 sm:w-5 mx-auto mb-1"}),u.jsx("p",{className:"text-xs sm:text-sm font-display",children:"Quick Match"})]}),u.jsxs("button",{onClick:()=>V(!1),className:"flex-1 p-2.5 sm:p-3 rounded-lg border text-center transition-all touch-manipulation "+(F?"border-border/50":"border-primary bg-primary/10"),children:[u.jsx(Ue,{className:"h-4 w-4 sm:h-5 sm:w-5 mx-auto mb-1"}),u.jsx("p",{className:"text-xs sm:text-sm font-display",children:"Challenge"})]})]}),u.jsxs(T,{onClick:_t,className:"w-full gap-2 h-11 sm:h-10 touch-manipulation",disabled:jt||!k,children:[!k&&u.jsx(Ee,{className:"h-4 w-4"}),"Create Game",u.jsx(We,{className:"h-4 w-4"})]})]}),u.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[u.jsxs("div",{className:"p-4 sm:p-6 rounded-lg border border-border/50 bg-card/50 space-y-3 sm:space-y-4",children:[u.jsxs("h2",{className:"text-lg sm:text-xl font-display font-bold uppercase tracking-wider flex items-center gap-2",children:[u.jsx(Ue,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Join by Code"]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Oe,{value:Q,onChange:e=>$(e.target.value.toUpperCase()),placeholder:"6-digit code",className:"font-mono text-base sm:text-lg tracking-widest h-11 sm:h-10",maxLength:6,inputMode:"text",autoComplete:"off",autoCorrect:"off"}),u.jsx(T,{onClick:async()=>{if(!Q.trim())return void o.error("Please enter a challenge code");if(!M)return void H(!0);if(!k)return void _(!0);const e=Ke.find(e=>e.id===J),t=(null==e?void 0:e.black)||{};await Dt(Q.trim(),t)&&A("game")},disabled:jt||!k,className:"h-11 sm:h-10 px-4 sm:px-6 touch-manipulation",children:"Join"})]})]}),u.jsxs("div",{className:"p-4 sm:p-6 rounded-lg border border-border/50 bg-card/50 space-y-3 sm:space-y-4",children:[u.jsxs("h2",{className:"text-lg sm:text-xl font-display font-bold uppercase tracking-wider flex items-center gap-2",children:[u.jsx(Ye,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Open Games"]}),De?u.jsx("p",{className:"text-muted-foreground text-sm font-serif",children:"Loading..."}):0===ke.length?u.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm font-serif italic",children:"No games waiting. Create one!"}):u.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto -mx-1 px-1",children:ke.map(e=>{var t;const n=e.white_elo||1200,s=M&&Math.abs(n-Ae)<=Qe,r=e.white_player_id===(null==M?void 0:M.id),a=M?Ze(Ae,n):null;return u.jsxs("div",{className:"flex items-center justify-between p-2.5 sm:p-3 rounded-lg border transition-all "+(s&&!r?"bg-primary/10 border-primary/30":"bg-card/50 border-border/30"),children:[u.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[u.jsxs("div",{className:"min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap",children:[u.jsx("p",{className:"font-display text-xs sm:text-sm",children:(null==(t=Zn.find(t=>t.id===e.time_control))?void 0:t.label)||"Blitz"}),s&&!r&&u.jsx("span",{className:"text-[8px] sm:text-[10px] px-1 sm:px-1.5 py-0.5 rounded bg-primary/20 text-primary font-display uppercase",children:"Match"})]}),u.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),u.jsx("span",{className:`text-[10px] sm:text-xs px-1.5 sm:px-2 py-0.5 rounded-full bg-gradient-to-r ${re(n).color} text-white font-display flex-shrink-0`,children:n})]}),u.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-shrink-0",children:[a&&!r&&u.jsx(S,{children:u.jsxs(z,{children:[u.jsx(D,{asChild:!0,children:u.jsxs("div",{className:"hidden sm:flex items-center gap-1.5 text-[10px] font-mono px-2 py-1 rounded bg-card border border-border/50 cursor-help",children:[u.jsxs("span",{className:"text-green-500",children:["+",a.win]}),u.jsx("span",{className:"text-muted-foreground",children:"/"}),u.jsx("span",{className:a.draw>=0?"text-blue-400":"text-orange-400",children:a.draw>=0?`+${a.draw}`:a.draw}),u.jsx("span",{className:"text-muted-foreground",children:"/"}),u.jsx("span",{className:"text-red-500",children:a.loss})]})}),u.jsxs(B,{side:"left",className:"space-y-1",children:[u.jsx("p",{className:"font-display text-xs uppercase tracking-wider mb-1",children:"ELO Change Preview"}),u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[u.jsx("span",{className:"text-green-500 font-bold",children:"Win:"}),u.jsxs("span",{children:["+",a.win," ‚Üí ",Ae+a.win]})]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[u.jsx("span",{className:"text-blue-400 font-bold",children:"Draw:"}),u.jsxs("span",{children:[a.draw>=0?`+${a.draw}`:a.draw," ‚Üí ",Ae+a.draw]})]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[u.jsx("span",{className:"text-red-500 font-bold",children:"Loss:"}),u.jsxs("span",{children:[a.loss," ‚Üí ",Ae+a.loss]})]})]})]})}),u.jsx(T,{size:"sm",onClick:()=>Tt(e.id),disabled:jt||!k||r,variant:s&&!r?"default":"outline",className:"h-9 sm:h-8 px-3 sm:px-4 text-xs touch-manipulation",children:"Join"})]})]},e.id)})})]})]})]})]},"lobby"),"waiting"===L&&u.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"text-center space-y-8",children:u.jsxs("div",{className:"p-8 rounded-lg border border-primary/30 bg-gradient-to-br from-primary/10 via-primary/5 to-transparent",children:[u.jsx(m.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-16 h-16 mx-auto mb-4",children:u.jsx(p,{className:"w-full h-full text-primary"})}),u.jsx("h2",{className:"text-2xl font-display font-bold uppercase tracking-wider mb-2",children:"Waiting for Opponent"}),(null==vt?void 0:vt.challengeCode)&&!F&&u.jsxs("div",{className:"mt-6 space-y-4",children:[u.jsx("p",{className:"text-muted-foreground font-serif",children:"Share this code with your friend:"}),u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx("span",{className:"text-4xl font-mono tracking-[0.5em] text-primary",children:vt.challengeCode}),u.jsx(T,{variant:"outline",size:"icon",onClick:()=>{(null==vt?void 0:vt.challengeCode)&&(navigator.clipboard.writeText(vt.challengeCode),o.success("Challenge code copied!"))},children:u.jsx(Xe,{className:"h-4 w-4"})})]})]}),u.jsx(T,{variant:"outline",onClick:()=>{A("lobby")},className:"mt-6",children:"Cancel"})]})},"waiting"),"game"===L&&vt&&u.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4 sm:space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[u.jsxs("div",{className:"text-center sm:text-left",children:[u.jsx("p",{className:"text-sm sm:text-base font-display uppercase tracking-wider "+(wt&&"active"===vt.status?"text-primary":"text-muted-foreground"),children:"active"===vt.status?wt?"Your Turn":"Opponent's Turn":"draw"===vt.result?"Draw":vt.winnerId===(null==M?void 0:M.id)?"You Won!":"You Lost"}),u.jsxs("p",{className:"text-xs text-muted-foreground font-serif",children:["Playing as ","w"===yt?"White":"Black"]})]}),u.jsxs("div",{className:"flex items-center gap-2 justify-center sm:justify-end flex-wrap",children:[u.jsx(Qt,{isEnabled:ge,onToggle:()=>ve(!ge),totalMoves:ye.length,showPieces:be,onShowPiecesToggle:()=>we(!be)}),"active"===vt.status&&u.jsxs(u.Fragment,{children:[u.jsxs(T,{variant:"outline",size:"sm",onClick:qt,className:"gap-1.5 h-10 sm:h-9 px-4 touch-manipulation",children:[u.jsx(rt,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Offer "}),"Draw"]}),u.jsxs(T,{variant:"outline",size:"sm",onClick:Bt,className:"gap-1.5 h-10 sm:h-9 px-4 text-destructive touch-manipulation",children:[u.jsx(I,{className:"h-4 w-4"}),"Resign"]})]})]})]}),u.jsxs(Je,{children:[u.jsxs("div",{className:"grid lg:grid-cols-[1fr,280px] gap-4",children:[u.jsx(Wt,{fen:vt.currentFen,onMove:Ct,getAvailableMoves:St,isMyTurn:wt,myColor:yt,whitePalette:vt.whitePalette||Ke[0].white,blackPalette:vt.blackPalette||Ke[0].black,movedSquares:Ht,disabled:"active"!==vt.status,enPensentEnabled:ge,moveHistory:ye,showPieces:be}),ge&&u.jsx("div",{className:"hidden lg:block",children:u.jsx(Ve,{whitePalette:vt.whitePalette||Ke[0].white,blackPalette:vt.blackPalette||Ke[0].black,moveHistory:ye,title:"Live Legend"})})]}),ge&&u.jsx("div",{className:"lg:hidden",children:u.jsx(Ve,{whitePalette:vt.whitePalette||Ke[0].white,blackPalette:vt.blackPalette||Ke[0].black,moveHistory:ye,compact:!0,title:"Legend"})})]}),u.jsxs("div",{className:"p-3 sm:p-4 rounded-lg border border-border/50 bg-card/30",children:[u.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground font-display uppercase tracking-wider mb-1 sm:mb-2",children:["Moves: ",vt.moveCount]}),u.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground font-mono break-all line-clamp-2 sm:line-clamp-none",children:vt.pgn||"Game started..."})]}),"completed"===vt.status&&null!==et&&null!==nt&&u.jsx(Ft,{oldRating:et,newRating:nt,isWin:vt.winnerId===(null==M?void 0:M.id),isDraw:"draw"===vt.result,show:it}),"completed"===vt.status&&u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center flex-wrap",children:[u.jsx(T,{onClick:Kt,className:"h-11 sm:h-10 touch-manipulation",children:"Back to Lobby"}),u.jsxs(T,{variant:"outline",onClick:()=>{const e=`${window.location.origin}/play?game=${null==vt?void 0:vt.id}`;navigator.clipboard.writeText(e),o.success("Game link copied!")},className:"gap-2 h-11 sm:h-10 touch-manipulation",children:[u.jsx(Ue,{className:"h-4 w-4"}),"Share Game"]}),ge&&ye.length>0&&u.jsxs(T,{variant:"outline",onClick:()=>lt(!0),className:"gap-2 h-11 sm:h-10 touch-manipulation border-primary/30 bg-primary/5 hover:bg-primary/10",children:[u.jsx(Re,{className:"h-4 w-4"}),"Export Art"]})]})]},"game"),"bot-game"===L&&ee&&u.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4 sm:space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[u.jsxs("div",{className:"text-center sm:text-left",children:[u.jsxs("p",{className:"text-sm sm:text-base font-display uppercase tracking-wider flex items-center justify-center sm:justify-start gap-2 "+(ie||ce?"text-muted-foreground":"text-primary"),children:[u.jsx(st,{className:"h-4 w-4"}),ce?"win"===ce?"You Won!":"loss"===ce?"You Lost":"Draw":ie?"Bot thinking...":"Your Turn"]}),u.jsxs("p",{className:"text-xs text-muted-foreground font-serif",children:["vs ",null==(e=Yn.find(e=>e.id===W))?void 0:e.label," Bot (",null==(n=Yn.find(e=>e.id===W))?void 0:n.rating,")"]})]}),u.jsxs("div",{className:"flex items-center gap-2 justify-center sm:justify-end flex-wrap",children:[u.jsx(Qt,{isEnabled:ge,onToggle:()=>ve(!ge),totalMoves:ue.length,showPieces:be,onShowPiecesToggle:()=>we(!be)}),!ce&&u.jsxs(T,{variant:"outline",size:"sm",onClick:()=>{le("loss"),Me("defeat"),q.error(),o.info("You resigned.")},className:"gap-1.5 h-10 sm:h-9 px-4 text-destructive touch-manipulation",children:[u.jsx(I,{className:"h-4 w-4"}),"Resign"]})]})]}),u.jsxs(Je,{children:[u.jsxs("div",{className:"grid lg:grid-cols-[1fr,280px] gap-4",children:[u.jsx(Wt,{fen:ee.fen(),onMove:Et,getAvailableMoves:Ot,isMyTurn:!ie&&!ce&&"w"===ee.turn(),myColor:"w",whitePalette:(null==(s=Ke.find(e=>e.id===xe))?void 0:s.white)||Ke[0].white,blackPalette:(null==(l=Ke.find(e=>e.id===pe))?void 0:l.black)||Ke[0].black,movedSquares:se,disabled:ie||!!ce,enPensentEnabled:ge,moveHistory:ue,showPieces:be}),ge&&u.jsx("div",{className:"hidden lg:block",children:u.jsx(Ve,{whitePalette:(null==(d=Ke.find(e=>e.id===xe))?void 0:d.white)||Ke[0].white,blackPalette:(null==(x=Ke.find(e=>e.id===pe))?void 0:x.black)||Ke[0].black,moveHistory:ue,title:"Live Legend"})})]}),ge&&u.jsx("div",{className:"lg:hidden",children:u.jsx(Ve,{whitePalette:(null==(f=Ke.find(e=>e.id===xe))?void 0:f.white)||Ke[0].white,blackPalette:(null==(v=Ke.find(e=>e.id===pe))?void 0:v.black)||Ke[0].black,moveHistory:ue,compact:!0,title:"Legend"})})]}),u.jsxs("div",{className:"p-3 sm:p-4 rounded-lg border border-border/50 bg-card/30 space-y-3",children:[u.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground font-display uppercase tracking-wider mb-1 sm:mb-2",children:["Moves: ",ee.history().length]}),u.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground font-mono break-all line-clamp-2 sm:line-clamp-none",children:ee.pgn()||"Game started..."}),ce&&ge&&ue.length>0&&u.jsx(Rt,{totalMoves:ue.length,moves:ee.history(),moveHistory:ue,currentMove:ut===1/0?ue.length:ut,onMoveChange:dt,compact:!0})]}),ce&&u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center flex-wrap",children:[u.jsx(T,{onClick:Kt,className:"h-11 sm:h-10 touch-manipulation",children:"Back to Lobby"}),u.jsxs(T,{variant:"outline",onClick:Yt,className:"gap-2 h-11 sm:h-10 touch-manipulation",children:[u.jsx(st,{className:"h-4 w-4"}),"Play Again"]}),ge&&ue.length>0&&u.jsxs(T,{variant:"outline",onClick:()=>lt(!0),className:"gap-2 h-11 sm:h-10 touch-manipulation border-primary/30 bg-primary/5 hover:bg-primary/10",children:[u.jsx(Re,{className:"h-4 w-4"}),"Export Art"]})]})]},"bot-game")]})]})}),u.jsx(Fe,{}),u.jsx(qe,{isOpen:P,onClose:()=>H(!1)}),u.jsx(Be,{isOpen:K,onClose:()=>_(!1),trigger:"general"}),u.jsx($t,{isOpen:ct,onClose:()=>lt(!1),moveHistory:"bot-game"===L?ue:ye,whitePalette:"bot-game"===L?(null==(b=Ke.find(e=>e.id===xe))?void 0:b.white)||Ke[0].white:(null==vt?void 0:vt.whitePalette)||Ke[0].white,blackPalette:"bot-game"===L?(null==(w=Ke.find(e=>e.id===pe))?void 0:w.black)||Ke[0].black:(null==vt?void 0:vt.blackPalette)||Ke[0].black,gameInfo:{white:"bot-game"===L||"w"===yt?"You":"Opponent",black:"bot-game"===L?`${null==(y=Yn.find(e=>e.id===W))?void 0:y.label} Bot`:"b"===yt?"You":"Opponent",result:"bot-game"===L?"win"===ce?"You Won!":"loss"===ce?"You Lost":"Draw":(null==vt?void 0:vt.result)||"Game Finished",totalMoves:"bot-game"===L?ue.length:ye.length}})]})};export{Jn as default};
