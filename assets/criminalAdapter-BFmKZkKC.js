const n="/**\n * Criminal Adapter - Crime Patterns & Rehabilitation Dynamics\n * \n * Offense cycles, recidivism patterns, policing strategies,\n * criminal justice reform, and rehabilitation trajectories.\n * \n * For Alec Arthur Shelton - The Artist\n * Justice is the pattern of harm recognition and healing.\n */\n\nimport type { DomainAdapter, UniversalSignal, DomainSignature } from '../types';\n\n// CRIME TYPES & PATTERNS\nconst CRIME_PATTERNS = {\n  violent: {\n    types: ['Homicide', 'Assault', 'Robbery', 'Sexual assault'],\n    trends: 'Generally declining since 1990s',\n    seasonality: 'Higher in summer months',\n    geography: 'Concentrated in specific areas'\n  },\n  \n  property: {\n    types: ['Burglary', 'Larceny', 'Motor vehicle theft', 'Arson'],\n    trends: 'Declining with technology (alarms, cameras)',\n    cycles: 'Economic correlation'\n  },\n  \n  whiteCollar: {\n    types: ['Fraud', 'Embezzlement', 'Insider trading', 'Cybercrime'],\n    detection: 'Low, prosecution difficult',\n    harm: 'Often exceeds street crime in dollar terms'\n  },\n  \n  organized: {\n    structure: 'Hierarchical, network-based',\n    activities: ['Drugs', 'Trafficking', 'Racketeering', 'Money laundering'],\n    evolution: 'Adapts to law enforcement pressure'\n  }\n};\n\n// CRIMINOLOGICAL THEORIES\nconst CRIMINOLOGY_THEORIES = {\n  rationalChoice: {\n    premise: 'Crime as cost-benefit decision',\n    factors: ['Expected punishment', 'Opportunity', 'Rewards'],\n    policy: 'Increase certainty and severity of sanctions'\n  },\n  \n  socialDisorganization: {\n    premise: 'Community breakdown enables crime',\n    factors: ['Poverty', 'Residential turnover', 'Ethnic heterogeneity'],\n    policy: 'Community building, social cohesion'\n  },\n  \n  strainTheory: {\n    premise: 'Gap between goals and means creates pressure',\n    types: ['Conformity', 'Innovation (crime)', 'Ritualism', 'Retreatism', 'Rebellion'],\n    policy: 'Legitimate opportunity expansion'\n  },\n  \n  learningTheory: {\n    premise: 'Crime learned through social interaction',\n    mechanisms: ['Differential association', 'Imitation', 'Reinforcement'],\n    policy: 'Disrupt criminal networks, pro-social alternatives'\n  },\n  \n  controlTheory: {\n    premise: 'Social bonds prevent crime',\n    elements: ['Attachment', 'Commitment', 'Involvement', 'Belief'],\n    policy: 'Strengthen institutions (family, school, religion)'\n  },\n  \n  labelingTheory: {\n    premise: 'Official processing increases deviance',\n    effect: 'Secondary deviance, stigma, exclusion',\n    policy: 'Diversion, restorative justice, decriminalization'\n  }\n};\n\n// POLICING STRATEGIES\nconst POLICING_PATTERNS = {\n  reactive: {\n    approach: 'Respond to calls',\n    effectiveness: 'Limited deterrent effect',\n    criticism: 'Arrives after harm'\n  },\n  \n  preventive: {\n    approach: 'Proactive presence',\n    types: ['Hot spots policing', 'Broken windows', 'Stop and frisk'],\n    controversy: 'Effectiveness vs civil liberties, disparate impact'\n  },\n  \n  community: {\n    approach: 'Partnership with residents',\n    elements: ['Foot patrol', 'Problem solving', 'Trust building'],\n    evidence: 'Promising for legitimacy, mixed on crime reduction'\n  },\n  \n  intelligenceLed: {\n    approach: 'Data-driven targeting',\n    tools: ['CompStat', 'Predictive policing', 'Risk terrain modeling'],\n    risks: 'Feedback loops, over-policing'\n  },\n  \n  proceduralJustice: {\n    approach: 'Focus on fair process',\n    elements: ['Voice', 'Neutrality', 'Respect', 'Trustworthy motives'],\n    goal: 'Increase compliance, cooperation'\n  }\n};\n\n// PUNISHMENT & REHABILITATION\nconst CORRECTIONS_PATTERNS = {\n  incarceration: {\n    trends: 'US rate peaked 2008, declining slowly',\n    disparities: 'Racial, economic, geographic',\n    effects: ['Incapacitation', 'Deterrence (weak)', 'Rehabilitation (poor)', 'Collateral consequences']\n  },\n  \n  probationParole: {\n    scale: 'Larger population than prison',\n    violation: 'Leading cause of incarceration',\n    reform: 'Risk-need-responsivity model'\n  },\n  \n  rehabilitation: {\n    whatWorks: ['Cognitive behavioral therapy', 'Education', 'Employment', 'Substance treatment'],\n    riskPrinciple: 'Intensive treatment for high-risk',\n    needPrinciple: 'Target criminogenic needs'\n  },\n  \n  restorativeJustice: {\n    process: 'Victim-offender-community dialogue',\n    outcomes: ['Victim satisfaction', 'Reduced recidivism', 'Cost savings'],\n    scope: 'Appropriate for less serious offenses'\n  },\n  \n  decriminalization: {\n    approaches: ['Legalization', 'Civil fines', 'Diversion'],\n    examples: ['Drug policy reform', 'Sex work', 'Homelessness'],\n    debate: 'Public health vs moral order'\n  }\n};\n\n// RECIDIVIS\nconst RECIDIVISM_PATTERNS = {\n  rates: {\n    us: '~70% within 5 years',\n    variation: 'By offense type, age, programming',\n    trajectory: 'Highest immediately post-release, declining over time'\n  },\n  \n  riskFactors: {\n    static: ['Prior record', 'Age at first arrest', 'History of violence'],\n    dynamic: ['Substance use', 'Employment', 'Housing', 'Peer associations']\n  },\n  \n  protectiveFactors: {\n    social: 'Stable family, prosocial peers',\n    practical: 'Employment, housing, education',\n    personal: 'Self-efficacy, motivation to change'\n  }\n};\n\ninterface CriminalEvent {\n  timestamp: number;\n  offenseSeverity: number; // 1-10\n  recidivismRisk: number; // 0-1\n  rehabilitationProgress: number; // 0-1\n  socialSupportLevel: number; // 0-1\n  employmentStatus: number; // 0-1\n  substanceUse: number; // 0-1 severity\n  housingStability: number; // 0-1\n  treatmentEngagement: number; // 0-1\n  daysSinceRelease: number;\n}\n\nclass CriminalAdapter implements DomainAdapter<CriminalEvent> {\n  domain = 'security' as const;\n  name = 'Criminal Justice & Rehabilitation';\n  isActive = false;\n  lastUpdate = 0;\n  \n  private signalBuffer: UniversalSignal[] = [];\n  private readonly BUFFER_SIZE = 3000;\n  \n  async initialize(): Promise<void> {\n    this.isActive = true;\n    this.lastUpdate = Date.now();\n    console.log('[CriminalAdapter] Initialized - Justice patterns active');\n  }\n  \n  processRawData(event: CriminalEvent): UniversalSignal {\n    const { timestamp, offenseSeverity, recidivismRisk, rehabilitationProgress, socialSupportLevel, daysSinceRelease } = event;\n    \n    // Frequency encodes time since release (higher = more stable)\n    const frequency = Math.min(daysSinceRelease / 365, 1);\n    \n    // Intensity = criminal justice stress\n    const intensity = recidivismRisk * (1 - rehabilitationProgress) * offenseSeverity / 10;\n    \n    // Phase encodes support-rehabilitation alignment\n    const phase = (socialSupportLevel + rehabilitationProgress) / 2 * Math.PI;\n    \n    const harmonics = [\n      offenseSeverity / 10,\n      recidivismRisk,\n      rehabilitationProgress,\n      socialSupportLevel,\n      event.employmentStatus,\n      1 - event.substanceUse\n    ];\n    \n    const signal: UniversalSignal = {\n      domain: 'security',\n      timestamp,\n      intensity,\n      frequency,\n      phase,\n      harmonics,\n      rawData: [offenseSeverity, recidivismRisk, rehabilitationProgress, socialSupportLevel, daysSinceRelease]\n    };\n    \n    this.signalBuffer.push(signal);\n    if (this.signalBuffer.length > this.BUFFER_SIZE) {\n      this.signalBuffer.shift();\n    }\n    \n    this.lastUpdate = timestamp;\n    return signal;\n  }\n  \n  extractSignature(signals: UniversalSignal[]): DomainSignature {\n    if (signals.length === 0) {\n      return this.getDefaultSignature();\n    }\n    \n    const recent = signals.slice(-150);\n    \n    const avgSeverity = recent.reduce((sum, s) => sum + s.rawData[0], 0) / recent.length;\n    const avgRecidivism = recent.reduce((sum, s) => sum + s.rawData[1], 0) / recent.length;\n    const avgRehab = recent.reduce((sum, s) => sum + s.rawData[2], 0) / recent.length;\n    const avgSupport = recent.reduce((sum, s) => sum + s.rawData[3], 0) / recent.length;\n    const avgDays = recent.reduce((sum, s) => sum + s.rawData[4], 0) / recent.length;\n    \n    const quadrantProfile = {\n      aggressive: avgSeverity > 7 ? 0.8 : 0.2,\n      defensive: avgRecidivism > 0.6 ? 0.7 : 0.2,\n      tactical: avgSupport < 0.3 ? 0.6 : 0.3,\n      strategic: avgRehab > 0.6 ? 0.8 : 0.2\n    };\n    \n    const temporalFlow = {\n      early: avgDays < 90 ? 0.9 : 0.2,\n      mid: avgDays >= 90 && avgDays < 365 ? 0.7 : 0.2,\n      late: avgDays >= 365 ? 0.7 : 0.3\n    };\n    \n    return {\n      domain: 'security',\n      quadrantProfile,\n      temporalFlow,\n      intensity: avgRecidivism * (1 - avgRehab),\n      momentum: avgRehab > avgRecidivism ? 1 : -1,\n      volatility: avgRecidivism,\n      dominantFrequency: Math.min(avgDays / 365, 1),\n      harmonicResonance: avgSupport,\n      phaseAlignment: avgRehab,\n      extractedAt: Date.now()\n    };\n  }\n  \n  private getDefaultSignature(): DomainSignature {\n    return {\n      domain: 'security',\n      quadrantProfile: { aggressive: 0.3, defensive: 0.4, tactical: 0.2, strategic: 0.1 },\n      temporalFlow: { early: 0.8, mid: 0.15, late: 0.05 },\n      intensity: 0.5,\n      momentum: 1,\n      volatility: 0.6,\n      dominantFrequency: 0.2,\n      harmonicResonance: 0.4,\n      phaseAlignment: 0.3,\n      extractedAt: Date.now()\n    };\n  }\n  \n  // Calculate recidivism risk score\n  calculateRecidivismRisk(\n    priorArrests: number,\n    ageAtRelease: number,\n    employmentHistory: number,\n    substanceUseSeverity: number\n  ): number {\n    // Simplified risk model\n    const ageFactor = Math.max(0, (30 - ageAtRelease) / 30);\n    const priorFactor = Math.min(priorArrests / 5, 1);\n    const employmentFactor = 1 - employmentHistory;\n    const substanceFactor = substanceUseSeverity;\n    \n    return (ageFactor * 0.2 + priorFactor * 0.3 + employmentFactor * 0.2 + substanceFactor * 0.3);\n  }\n}\n\nexport const criminalAdapter = new CriminalAdapter();\nexport { CRIME_PATTERNS, CRIMINOLOGY_THEORIES, POLICING_PATTERNS, CORRECTIONS_PATTERNS, RECIDIVISM_PATTERNS };\nexport type { CriminalEvent };\n";export{n as default};
