var e,t=Object.defineProperty,n=(e,n,s)=>((e,n,s)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s)(e,"symbol"!=typeof n?n+"":n,s);import{aJ as s,r,eu as a,s as c,j as i,C as o,p as l,t as d,L as u,w as x,x as h,aq as m,B as f,aF as g,v,cR as y,y as j,b8 as p,b9 as w,ba as N,bb as b,bc as C,a8 as B,aB as D,aC as z,aD as M,b4 as L,aE as q,aY as G,bh as A,cb as k,ad as U,eB as P}from"./index-Dq7M-Dd_.js";import{A as S,a as I,b as K}from"./alert-CW40bkVz.js";import{T as W,a as H,b as _,c as Y,d as J,e as T}from"./table-DZHbhmDO.js";import{C as O}from"./circle-alert-DLuTTT-3.js";import{W as E}from"./wifi-off-CY4Tevin.js";import{W as V}from"./wifi-D1emqLlL.js";import{B as X}from"./briefcase-DMxxWftW.js";import{T as Z}from"./trending-down-WblA6ANi.js";const F=s("Bolt",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]),R=s("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),Q=$;function $(e,t){e-=222;const n=ce();let s=n[e];if(void 0===$.KtEEHx){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};$.eTptya=r,$.BuVQxk={},$.KtEEHx=!0}const a=e+n[0],c=$.BuVQxk[a];if(c)s=c;else{const e=function(e){this.gxpKkF=e,this.RkDnoX=[1,0,0],this.jAztVk=function(){return"newState"},this.masheS="\\w+ *\\(\\) *{\\w+ *",this.vYBKMM="['|\"].+['|\"];? *}"};e.prototype.fyAJnv=function(){const e=new RegExp(this.masheS+this.vYBKMM).test(this.jAztVk.toString())?--this.RkDnoX[1]:--this.RkDnoX[0];return this.yDxtvY(e)},e.prototype.yDxtvY=function(e){return Boolean(~e)?this.tblCXS(this.gxpKkF):e},e.prototype.tblCXS=function(e){for(let t=0,n=this.RkDnoX.length;t<n;t++)this.RkDnoX.push(Math.round(Math.random())),n=this.RkDnoX.length;return e(this.RkDnoX[0])},new e($).fyAJnv(),s=$.eTptya(s),$.BuVQxk[a]=s}return s}!function(){const e=$,t=ce();for(;;)try{if(764130===parseInt(e(261))/1+parseInt(e(252))/2*(parseInt(e(234))/3)+parseInt(e(269))/4*(parseInt(e(225))/5)+-parseInt(e(248))/6+parseInt(e(233))/7+-parseInt(e(275))/8+-parseInt(e(251))/9)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ee=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=$,t={};t.ogKMM=e(271)+"+$";const n=t;return ee[e(279)]()[e(257)](e(271)+"+$")[e(279)]()[e(262)+"r"](ee)[e(257)](n[e(259)])});ee();const te=function(){const e=$,t={};t[e(244)]=function(e,t){return e===t},t[e(258)]=e(227),t.VmuON=e(270);const n=t;let s=!0;return function(t,r){const a=e;if(!n.ABamN(n[a(258)],n[a(222)])){const e=s?function(){if(r){const e=r[a(228)](t,arguments);return r=null,e}}:function(){};return s=!1,e}if(_0x5bcdc6){const e=_0xae6f51[a(228)](_0x104a0e,arguments);return _0x25afd3=null,e}}}();te(void 0,function(){const e=$,t={eAiBJ:function(e,t){return e(t)},OfvAU:function(e,t){return e+t},GljuK:function(e,t){return e+t},YiVXi:"return (fu"+e(226),BmWRb:function(e,t){return e!==t},BmBXC:"CrIin",bSKfP:e(281),tNnRU:"warn",lDblL:e(242),sXNQX:"error",dlBKk:"trace"};let n;try{n=t.eAiBJ(Function,t[e(288)](t[e(272)](t[e(236)],"{}.constru"+e(224)+e(239)+" )"),");"))()}catch(a){if(!t[e(287)](t[e(232)],e(256)))return{..._0x4618f3,..._0xea24c1.parse(_0x7971ff)};n=window}const s=n[e(254)]=n[e(254)]||{},r=[t[e(238)],t[e(240)],t.lDblL,t[e(273)],e(266),"table",t[e(265)]];for(let c=0;c<r[e(276)];c++){const t=te[e(262)+"r"][e(231)][e(263)](te),n=r[c],a=s[n]||t;t.__proto__=te[e(263)](te),t.toString=a[e(279)][e(263)](a),s[n]=t}})();const ne=Q(245)+Q(260)+"0",se={};se[Q(280)]=ne,se[Q(250)+"t"]=Q(229),se[Q(267)+"t"]=4002,se.clientId=1;const re=se;function ae(){const e=Q,t={};t[e(247)]=e(274)+"nction() ",t[e(264)]=e(281),t[e(255)]="exception",t[e(249)]="table",t[e(283)]=function(e,t){return e<t},t[e(246)]=e(268);const n=t;if(typeof window===e(237))return re;const s=localStorage.getItem("ib_gateway_bridge_url");if(s)if(n[e(246)]===e(285))_0x1c5302=_0x522073;else try{return{...re,...JSON[e(278)](s)}}catch{if(e(241)!==e(223))return re;{let t;try{t=_0x430fa3(iQuvbV.TzyIJ+'{}.constructor("retu'+e(239)+" ));")()}catch(r){t=_0x382d38}const n=t[e(254)]=t.console||{},s=[iQuvbV[e(264)],e(230),e(242),e(235),iQuvbV[e(255)],iQuvbV[e(249)],e(286)];for(let r=0;iQuvbV[e(283)](r,s[e(276)]);r++){const t=_0x260c8a[e(262)+"r"][e(231)].bind(_0x26a8d4),a=s[r],c=n[a]||t;t[e(243)]=_0x4ed594[e(263)](_0x4cb8e2),t.toString=c.toString[e(263)](c),n[a]=t}}}return re}function ce(){const e=["C2v0sxrLBq","CgfYC2u","Dg9tDhjPBMC","yNjPzgDLvxjS","Bg9N","CMvTB3zLsxrLBq","B2DgthK","wLrYENu","r0TpA2G","DhjHy2u","qM1xuMi","t2z2qvu","vM11t04","v1PWwu0","y3rVCIGICMv0Dq","nuruqMfOvG","BMn0Aw9UkcKG","y0jPtNa","yxbWBhK","mti3lJaUmc4X","D2fYBG","ChjVDg90ExbL","qM1cwem","mtKWmtK0ouHVs05ODW","mta0mJa2oe5lAgHKAG","zxjYB3i","wwLwwgK","Dw5KzwzPBMvK","yLnlzLa","CM4GDgHPCYiPka","De5UuLu","yxLyBMC","Aw5MBW","x19WCM90B19F","qujHBu4","Ahr0CdOVl2XVyW","BfHHzw8","vhP5suO","ndaZotmYnKrnrfvwuq","D1DYvvG","z2f0zxDHEuHVCW","nJKZmdG3m3zjwMnqwG","mNDrrwfjuG","C3rYAw5NAwz5","y29UC29Szq","D0HntMO","BMLRAeW","C2vHCMnO","vKf2whq","B2Dltu0","ywXOB3n0oJqWma","mtiWndeWm3r0C0HIDW","y29UC3rYDwn0BW","yMLUza","EfHmwem","zgXcs2S","zxHJzxb0Aw9U","z2f0zxDHEvbVCG","z0zqrxu","nde3ota4ogjKquHkuq","wNP6r08","kcGOlISPkYKRkq","r2XQDuS","C1HouvG","CMv0DxjUicHMDq","nti4mZKYmfLVDwXSCq","BgvUz3rO"];return(ce=function(){return e})()}function ie(){const e=Q;return ae()[e(280)]}const oe=le;function le(e,t){e-=293;const n=ue();let s=n[e];if(void 0===le.rgFKBD){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};le.ODQucD=r,le.JmcJqS={},le.rgFKBD=!0}const a=e+n[0],c=le.JmcJqS[a];if(c)s=c;else{const e=function(e){this.NESQfP=e,this.wInFbv=[1,0,0],this.mjIMFk=function(){return"newState"},this.WLUQhg="\\w+ *\\(\\) *{\\w+ *",this.NAXkSX="['|\"].+['|\"];? *}"};e.prototype.rrWBmN=function(){const e=new RegExp(this.WLUQhg+this.NAXkSX).test(this.mjIMFk.toString())?--this.wInFbv[1]:--this.wInFbv[0];return this.xWgfLN(e)},e.prototype.xWgfLN=function(e){return Boolean(~e)?this.vnkFtA(this.NESQfP):e},e.prototype.vnkFtA=function(e){for(let t=0,n=this.wInFbv.length;t<n;t++)this.wInFbv.push(Math.round(Math.random())),n=this.wInFbv.length;return e(this.wInFbv[0])},new e(le).rrWBmN(),s=le.ODQucD(s),le.JmcJqS[a]=s}return s}!function(){const e=le,t=ue();for(;;)try{if(598264===parseInt(e(383))/1+parseInt(e(339))/2*(parseInt(e(380))/3)+parseInt(e(309))/4*(-parseInt(e(366))/5)+parseInt(e(336))/6+parseInt(e(364))/7*(parseInt(e(348))/8)+parseInt(e(406))/9+-parseInt(e(332))/10*(parseInt(e(405))/11))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const de=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[le(327)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=le,t={};t[e(412)]="(((.+)+)+)+$";const n=t;return de.toString()[e(301)]("(((.+)+)+)+$")[e(381)]()[e(317)+"r"](de)[e(301)](n.nUknC)});function ue(){const e=["l2fWAs9Hy2nVDq","BwLKq0e","Ev0GugXHy2uGBW","y1jzB2m","x19WCM90B19F","D2fYBG","BNrjzd0","B3vUDhmGzxjYBW","m1bnD01hsG","Dg9tDhjPBMC","B1PSAg0","odeZndG0vw55B0fT","zxHJzxb0Aw9U","y29UBMvJDa","ChjVDg90ExbL","l2fWAs9ZDgf0Dq","revmrvrf","z2v0ug9ZAxrPBW","yvjkrfm","BNrZ","CfrVBKW","CgXHy2vpCMrLCG","zw1zvw4","BgvUz3rO","s0PqswW","y29UDhjHy3qGzq","l2fWAs9XDw90zq","DgvK","yMLUza","zgLZy29UBMvJDa","tw1MDvq","ANnVBG","z2v0t3jKzxjZ","mJiYntKXodjKDLrrwhC","nJm1mteWmMLuuhH1sq","B3jKzxiGzxjYBW","y29UBMvJDgvK","B3jKzxjZ","C3rYAw5NAwz5","AxrPB25ZigvYCG","BLvRBKm","l2fWAs9WB3nPDa","zxjZigvYCM9YoG","z2v0qwnJB3vUDa","BM1OuKW","ywDtDwK","BMn0Aw9UkcKG","Ev0GqNjPzgDLia","AKjJBgm","y2fUy2vSt3jKzq","yNjPzgDLuNvUBG","sgP2Agi","y3rPB24","vLveBNa","Ev0Gr2v0ihbVCW","Bg9N","DgfIBgu","C2vHCMnO","BM90igf2ywLSyq","z0L6yxO","CKvsvhu","ue9tva","Cg9YDa","Aw5MBW","C2vHCMnOq29UDa","neHNA01ivq","y2XPzw50swq","zxjYB3i","thPtCfO","AMLhzMi","ywLSzwq","yw1tB1e","igvYCM9YoG","y29UC3rYDwn0BW","BMX4z0K","z2f0zxDHEvbVCG","wg5AC2m","B3i6","Ev0Gq2fUy2vSia","BI9QC29U","sgfZrxK","CM4GDgHPCYiPka","Ev0Gu2vHCMnOia","yxbWBhK","w0LcieDHDgv3yq","r0vu","Ev0Gt3jKzxiGzG","Ev0Gr2v0ig9Yza","mtbnz2P6BgO","wfnkyKq","y29UDhjHy3rZ","rwjOt2C","ndG1nZqXnezYC21mtG","BwvZC2fNzq","AwiT","odq0ndqYAhDftMfS","ufLnAu4","Aw5N","y29UC29Szq","rxDrugC","Ag9ZDa","u05bCxi","Cg9ZAxrPB25Z","z2f0zxDHEuHVCW","oeDHDw9Oyq","sg9IqxK","yMTPzgS","Ad9ZEw1IB2W9","uM9suKe","yxv0AgvUDgLJyq","CgfWzxjuCMfKAq","BM93","vxPpwLm","CMv0DxjUicHMDq","qNvbzxa","rNnTshG","B3jKzxjjza","BM5Ly3q","l2fWAs9JB25Uzq","Ev0Gq29UBMvJDa","nde3nZy3n1PgCKjRAG","y3rVCIGICMv0Dq","mZyYoty4nxvSBxbOqW","E30Uy29UC3rYDq","wNPxzK4","vwzfzxC","q1zpBve","yxbWBgLJyxrPBW"];return(ue=function(){return e})()}de();const xe=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,s}}();xe(void 0,function(){const e=le,t={oWmeD:e(416),UzOZS:e(370),VUDnp:function(e,t){return e(t)},LzSpZ:function(e,t){return e+t},agSui:e(367)+e(365)+e(325)+" )",HobAy:function(e){return e()},emYUn:e(299),SJjfb:e(377),rERTu:e(307),MbVAy:e(311),jiGfb:e(384),MmfuT:e(300),midCA:"trace"},n=t[e(349)](function(){const n=e;if(t.oWmeD===t[n(356)])return _0x5bda84.error(n(328)+"y] Get acc"+n(379)+"r:",_0x4350e2),[];{let e;try{e=t[n(297)](Function,t[n(312)](n(357)+n(418),t[n(417)])+");")()}catch(s){e=window}return e}}),s=n[e(342)]=n[e(342)]||{},r=[t[e(394)],t.SJjfb,t[e(304)],t.MbVAy,t[e(313)],t[e(402)],t[e(373)]];for(let a=0;a<r[e(395)];a++){const t=xe[e(317)+"r"][e(386)][e(400)](xe),n=r[a],c=s[n]||t;t[e(376)]=xe[e(400)](xe),t[e(381)]=c[e(381)][e(400)](c),s[n]=t}})();class he{constructor(){n(this,e,!1)}async[(e=oe(408),"checkConne"+oe(296))](){const e=oe,t={XSJbD:function(e){return e()},FsmHx:function(e,t,n){return e(t,n)},Hjvhb:function(e){return e()},EwQPg:e(371)+e(323),bkidk:function(e,t){return e===t}};try{const n=t[e(333)](ae),s=await t[e(359)](fetch,t[e(295)](ie)+(e(387)+"s"),{method:e(329),headers:{"Content-Type":t[e(343)]}});if(!s.ok){const t={};return t[e(408)]=!1,t.authenticated=!1,t.paperTrading=!1,t}const r=await s[e(403)]();this[e(408)]=t[e(350)](r[e(408)],!0);const a={};return a.connected=!0===r[e(294)+e(341)],a[e(353)+"ted"]=!0===r.connected,a[e(354)+"ng"]=4002===n.gatewayPort,a}catch(n){const t={connected:!1};return t[e(353)+e(399)]=!1,t.paperTrading=!1,t}}async[oe(385)](){const e=oe,t={aRJDS:function(e){return e()},KJPIl:function(e){return e()},viFGC:"POST",HasEy:e(371)+"n/json"};try{const n=t[e(390)](ae),s={};s[e(344)]=n[e(347)+"t"],s[e(306)]=n[e(319)+"t"],s[e(310)]=n[e(310)];const r=await fetch(t[e(396)](ie)+(e(362)+"ct"),{method:t.viFGC,headers:{"Content-Type":t[e(324)]},body:JSON[e(410)](s)});if(!r.ok)return!1;const a=await r[e(403)]();return this[e(408)]=!0===a.connected,this[e(408)]}catch(n){return!1}}async[oe(401)](){const e=oe,t={UfEew:function(e,t,n){return e(t,n)}};try{const n={};n.method=e(305),await t[e(369)](fetch,ie()+"/api/disco"+e(361),n),this[e(408)]=!1}catch{}}async[oe(415)+"s"](){const e=oe,t={};t[e(335)]=function(e,t){return e!==t},t[e(392)]=e(303);const n=t;try{const t=await fetch(ie()+(e(372)+e(391)));if(!t.ok)return[];return(await t[e(403)]()).accounts||[]}catch(s){return n[e(335)](n[e(392)],e(318))||_0x29854c[e(311)](e(328)+"y] Search "+e(397)+"rror:",_0x3d97b4),[]}}async[oe(389)+"ns"](e){const t=oe,n={SNAqr:function(e){return e()}};try{const s=await fetch(n[t(345)](ie)+(t(413)+"ions?accou")+t(378)+e);if(!s.ok)return[];return(await s.json())[t(346)]||[]}catch(s){return[]}}async[oe(404)](){const e=oe,t=function(e,t){return e(t)};e(328),e(331),e(414);try{const n=await t(fetch,ie()+"/api/orders");if(!n.ok)return[];return(await n[e(403)]())[e(409)]||[]}catch(n){return[]}}async[oe(308)+"ract"](e){const t=oe,n={jBclc:function(e){return e()},XnZsc:function(e,t){return e===t},ZzWfN:t(328)+t(326)+t(397)+"rror:"};try{const s=await fetch(n[t(420)](ie)+"/api/searc"+t(351)+encodeURIComponent(e));if(!s.ok)return[];return(await s.json())[t(334)]||[]}catch(s){if(n[t(320)](t(375),t(352))){const e=_0x35856e[t(327)](_0x9f75cb,arguments);return _0x3e2e2c=null,e}return[]}}async[oe(393)](e){const t=oe,n={VTbNK:function(e,t,n){return e(t,n)},amSoQ:"applicatio"+t(323),HBMlf:t(328)+t(330)+t(314),TxaIs:"submitted",fKxQb:t(328)+t(374)+"rder error:"};try{const s=await n.VTbNK(fetch,ie()+"/api/orders",{method:"POST",headers:{"Content-Type":n[t(315)]},body:JSON[t(410)](e)});if(!s.ok)return null;const r=await s.json();return{orderId:r[t(360)]||t(338)+Date[t(355)](),status:r.status||n.TxaIs}}catch(s){return null}}async[oe(293)+"r"](e){const t=oe,n={gQbvd:function(e){return e()},oZlhm:t(388),tGoop:t(328)+t(322)+t(407)+"r:"};try{return(await fetch(n.gQbvd(ie)+"/api/orders/"+e,{method:n[t(382)]})).ok}catch(s){return!1}}async getQuote(e){const t=oe,n={BuAep:function(e,t){return e(t)}};try{if("PYMiN"!==t(340))return null;{const s=await n[t(358)](fetch,ie()+(t(398)+"?conid=")+e);if(!s.ok)return null;return await s[t(403)]()}}catch{return null}}}const me=new he;function fe(){const e=["zMLYC3qU","r3LOCw8","Cg9ZAxrPB25Z","Ev0Gq2HLy2TPBG","Ev0Gq29UBMvJDa","mte2odmXv21MEwv5","CNvUBMLUzYbHBG","y2fUy2vSBgvKlG","Cu9WquK","Ee5Ouuu","z2v0t3jKzxjZ","qNjPzgDLig5VDa","yxrLD2f5lIbdBa","renTBeG","C2vHCMnO","B3qGy29UBMvJDa","CI4Gq2HLy2SGzW","sKjLBM8","CM4GDgHPCYiPka","wfzYBu4","BMvJDgLVBI4","CMvMCMvZAerHDa","rffbwLa","yKXgCw4","C2vYDMvYigLZia","Bg9HzgLUzW","B24UlI4","CgDiwKC","AMTmCgi","CNvUBMLUzY4","DgL0Bgu","s3vJzvu","Aw5JBhvKzxm","BNn1CMuGsuiGrW","DhjHy2u","D2nkChO","qLHAweG","y29UBMvJDgvK","B3jKzxjuExbL","rw1KDfe","nu94DuHjyG","q29UBMvJDgvK","s1Dgq3O","y3qGDg8Gr2f0zq","t3jKzxiG","w0LcieDHDgv3yq","ChjVDg90ExbL","uwXWvve","DgfIBgu","Exb3tKy","mtq0ody3mwDUB1rfwG","t3jKzxiGrMfPBa","zwXSzwq","y29UAwq","C2LKzq","C3rHDhvZ","ihrPBwvKig91Da","uw5jt3G","BwvZC2fNzq","CxvdENy","DMfYAwfUDa","tw5XB2G","mZqZmdq0shrkA3vA","z3b2C1a","CgXHy2vpCMrLCG","mty2otC1nMPvzvHSra","q1Dhuwy","D2fYBG","Bg9Hze9YzgvYCW","ihj1BM5PBMCUia","y3vYCMvUDa","rMfPBgvKihrVia","C3LTyM9S","yxrLD2f5ignVBG","igzHAwXLzdOG","zxjYB3i","y29UBMvJDfrVrW","ohHbCezzrW","zwn0igfUigfJyW","zwqGDg8GsuiGrW","y2fUy2vSt3jKzq","v1rHBLG","AguGyNjPzgDLia","nZeWrw5Nr3bP","nJGXnJaWs0HSr1jI","CgfWzxjuCMfKAq","C3rHCNrZv2L0Aa","yxbWBhK","ntu3mtiYv3zgy0fm","ywXS","y29UBMvJDdOG","ywn0igzVCIa","AvvZDvm","B3jKzxjZ","zMLUzcbJB250CG","lIbfBNn1CMuGDa","D2Lowha","x19WCM90B19F","zxHJzxb0Aw9U","y3rPB24","Aw9UigvYCM9YoG","tM8GqwnJB3vUDa","CK5VAKu","Aw5MBW","zcbbueKGAxmGzq","C2vSzwn0zwrbyW","y29UC29Szq","yMLUza","y291BNq","BeT6rwy","B3vUDcbMAxjZDa","kcGOlISPkYKRkq","t3jKzxiGugXHyW","Bg9HzfbVC2L0Aq","zgvZDhj1y3rPDG","DgLTzwqGB3v0","vfLMrxu","nKnItM5nyW","mtuZodu4nMnpv3fwBa","B1v0vxa","BMn0Aw9UkcKG","twzNvha","t3jKzxiGq2fUyW","Aw9UignOzwnRia","BxbQENm","CgXHy2uGB3jKzq","qNjPzgDLihj1BG","yxrLD2f5igLZia","Dw50","BgvUz3rO","Ev0Gu3rHDhvZoG","B25Z","CxvHBNrPDhK","shnJqvy","DgvK","zMLUza","Dg9mB3DLCKnHCW","u09fvNe","Bg9N","rKLTBu0","qwDftLe","iezVDw5K","BvfmuNa","z2v0ug9ZAxrPBW","CMv0DxjUicHMDq","y2HLy2TdB25Uzq","wM5Tvwm","Bg9HzefJy291BG","yxv0AgvUDgLJyq","q0P4BeC","v0nYzNC","q291BgqGBM90ia","ywnJB3vUDeLK","CMfJDa","CgfWzxi","ic0G","y0P1uwK","zgvZy3jPChrPBW","s21cvNy","qu9KvLy","uwvjEwq","E30Uy29UC3rYDq","u3vJy2vZC2z1Ba","y29UC3rYDwn0BW","z2v0qwnJB3vUDa","ywnJB3vUDhm","y29UBMvJDa","t0f1tg0","wNfHy2q","y1bQC2G","zfPMsNK","zYbJB25Uzwn0Aq","vvn3Bhm","Dg9tDhjPBMC","mKfYtwfdrW","ifnLBgvJDgvK","q29UBMvJDgLVBG","zwX6rue","C2DyEuC","ChjPy2u","y3rVCIGICMv0Dq","ugXLyxnLihnLBa","vMzXB3a","yxrLD2f5","ruzuDey","Bg9JywWGyNjPza"];return(fe=function(){return e})()}!function(){const e=ye,t=fe();for(;;)try{if(403415===-parseInt(e(589))/1+parseInt(e(489))/2*(-parseInt(e(433))/3)+parseInt(e(566))/4*(parseInt(e(541))/5)+-parseInt(e(432))/6*(-parseInt(e(551))/7)+parseInt(e(578))/8*(parseInt(e(563))/9)+-parseInt(e(584))/10*(-parseInt(e(506))/11)+parseInt(e(585))/12)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ge=function(){const e=ye,t={};t[e(520)]=function(e,t){return e!==t},t[e(455)]=e(502);const n=t;let s=!0;return function(e,t){const r=s?function(){const s=ye;if(n.XVrmN(n[s(455)],"sYpie")){if(t){const n=t[s(588)](e,arguments);return t=null,n}}else if(_0x5181e8){const e=_0x197853[s(588)](_0x5cd2c9,arguments);return _0xc4a4ea=null,e}}:function(){};return s=!1,r}}()(void 0,function(){const e=ye;return ge.toString().search(e(426)+"+$")[e(488)]().constructor(ge)[e(515)](e(426)+"+$")});ge();const ve=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[ye(588)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}();function ye(e,t){e-=418;const n=fe();let s=n[e];if(void 0===ye.juXyLO){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};ye.iJUOMQ=r,ye.vUDslw={},ye.juXyLO=!0}const a=e+n[0],c=ye.vUDslw[a];if(c)s=c;else{const e=function(e){this.ehCPWl=e,this.YWEaUO=[1,0,0],this.Slgwol=function(){return"newState"},this.QdlJnv="\\w+ *\\(\\) *{\\w+ *",this.cFWxXV="['|\"].+['|\"];? *}"};e.prototype.ODfHDT=function(){const e=new RegExp(this.QdlJnv+this.cFWxXV).test(this.Slgwol.toString())?--this.YWEaUO[1]:--this.YWEaUO[0];return this.PbLqIn(e)},e.prototype.PbLqIn=function(e){return Boolean(~e)?this.gVtZeL(this.ehCPWl):e},e.prototype.gVtZeL=function(e){for(let t=0,n=this.YWEaUO.length;t<n;t++)this.YWEaUO.push(Math.round(Math.random())),n=this.YWEaUO.length;return e(this.YWEaUO[0])},new e(ye).ODfHDT(),s=ye.iJUOMQ(s),ye.vUDslw[a]=s}return s}ve(void 0,function(){const e=ye,t={WTanX:function(e,t){return e!==t},DQAZP:e(492),qOpAI:e(548),JBeno:function(e,t){return e(t)},Zqacd:function(e,t){return e+t},Vfqop:e(459)+e(435),ypwNF:function(e){return e()},Mnqoh:e(453),bLFqn:e(549)};let n;try{if(t[e(582)](t[e(523)],t[e(509)])){const s=t[e(518)](Function,t[e(483)](t[e(483)](t[e(497)],"{}.constru"+e(495)+e(519)+" )"),");"));n=t[e(550)](s)}else if(_0x44a630){const e=_0x174b3f.apply(_0x33b9b7,arguments);return _0x1b0349=null,e}}catch(a){n=window}const s=n[e(421)]=n[e(421)]||{},r=[t[e(562)],e(568),"info",e(576),e(599),t[e(524)],e(535)];for(let c=0;c<r[e(444)];c++){const t=ve[e(478)+"r"][e(547)][e(422)](ve),n=r[c],a=s[n]||t;t.__proto__=ve[e(422)](ve),t.toString=a[e(488)][e(422)](a),s[n]=t}})();const je=["SPY","QQQ","AAPL","MSFT","NVDA","TSLA","AMD","META"];function pe(){const{connected:e,authenticated:t,paperTrading:n,accounts:s,selectedAccount:P,positions:R,orders:Q,loading:$,error:ee,checkConnection:te,connectToGateway:ne,refreshData:se,placeOrder:re,cancelOrder:ae,selectAccount:ce}=function(){var e;const t=ye,n={HcvtK:t(546)+"y] Connect"+t(438)+t(430),oUtUp:function(e,t){return e(t)},pgHZG:function(e,t){return e+t},mQLRp:t(459)+t(435),FImmM:function(e){return e()},ZnmUc:t(546)+t(504)+t(486)+t(527),KlLfj:"CJxlG",MnHVQ:t(546)+t(445),CWGQf:t(542),dZfJy:t(477)+"ly connect"+t(580)+"ateway",DCmlH:t(532),lKzEf:function(e){return e()},AOdVV:function(e,t){return e===t},QnIOx:"Symbol Not"+t(456),iUsuS:t(429)+"e",ohoxU:t(427)+"ed",NCdrt:function(e,t){return e!==t},cJuQi:function(e,t){return e(t)},USwls:function(e,t){return e(t)},sgXyG:function(e,t){return e!==t},xvAWL:"{}.constru"+t(495)+t(519)+" )",cPjsh:t(576),KmBVv:"exception",wiNXp:function(e,t){return e!==t},xNhQE:function(e,t){return e(t)},WCrfw:t(546)+t(505)+t(601),quCzv:function(e,t,n){return e(t,n)},dvfFl:function(e,t,n){return e(t,n)}},s={connected:!1};s[t(463)+"ted"]=!1,s[t(586)+"ng"]=!1,s[t(480)]=[],s[t(420)+t(423)]=null,s[t(503)]=[],s[t(594)]=[],s[t(526)]=!0,s[t(576)]=null;const[c,i]=r.useState(s),o=n.USwls(r.useRef,null),{toast:l}=n[t(454)](a),d=r.useCallback(async()=>{const e=t;i(e=>({...e,loading:!0,error:null}));const s=setTimeout(()=>{const t=e;n[t(434)](i,e=>({...e,connected:!1,authenticated:!1,loading:!1,error:t(491)+" timed out"+t(596)+t(583)+t(525)+t(530)}))},8e3);try{if(e(464)===n.KlLfj){const t=await me[e(460)+e(600)]();return clearTimeout(s),n.oUtUp(i,n=>({...n,connected:t[e(538)],authenticated:t[e(463)+e(449)],paperTrading:t.paperTrading,loading:!1,error:t[e(538)]?t[e(463)+"ted"]?null:e(441)+"ning but n"+e(516)+"ed to IB G"+e(513)+'ick "Conne'+e(544)+'way".':e(512)+e(570)+"Start the "+e(500)+"ge server "+e(501)})),t}{const t=_0x320a9d(vwxJbw[e(528)](vwxJbw[e(457)],e(476)+e(495)+e(519)+" )")+");");_0x1f716a=vwxJbw[e(454)](t)}}catch(r){clearTimeout(s),n[e(434)](i,t=>({...t,connected:!1,authenticated:!1,loading:!1,error:e(572)+e(591)+r[e(559)]}));const t={};return t[e(538)]=!1,t[e(463)+e(449)]=!1,t.paperTrading=!1,t}},[]),u=n[t(560)](r.useCallback,async()=>{const e=t;i(e=>({...e,loading:!0,error:null}));try{const t=await me[e(481)]();if(t){const t={};t[e(531)]=n[e(567)],t[e(472)+"n"]=n[e(485)],l(t),await d(),await n[e(454)](x)}else i(t=>({...t,loading:!1,error:e(572)+"connect. E"+e(534)+e(442)+e(507)+e(419)+"nabled."}));return t}catch(s){return i(t=>({...t,loading:!1,error:e(491)+e(575)+s[e(559)]})),!1}},[l,d]),x=r.useCallback(async()=>{const e=t,n=await me[e(479)+"s"](),s=n[e(450)](t=>t[e(467)][e(587)]("DU")||t.accountType[e(451)+"e"]()[e(533)](e(469)));return i(e=>({...e,accounts:n,selectedAccount:s||n[0]||null})),n},[]),h=r.useCallback(async()=>{const e=t;if(n[e(514)]===e(448)){const e=_0x74ecf3?function(){if(_0x318b60){const e=_0x18e6a6.apply(_0x2b24cc,arguments);return _0x358772=null,e}}:function(){};return _0x4fc1b2=!1,e}{if(!c[e(420)+"count"])return[];const t=await me[e(458)+"ns"](c[e(420)+e(423)][e(467)]);return i(e=>({...e,positions:t})),t}},[c[t(420)+"count"]]),m=r.useCallback(async()=>{const e=t,n=await me[e(511)]();return i(e=>({...e,orders:n})),n},[]),f=n[t(560)](r.useCallback,async()=>{const e=t;c[e(463)+"ted"]&&await Promise[e(590)]([x(),n[e(424)](h),m()])},[c.authenticated,x,h,m]),g=r.useCallback(async e=>{const s=t;if(!c["selectedAc"+s(423)]){const e={};return e.title=s(602)+s(490),e.description=s(496)+s(579)+s(425)+".",e[s(561)]="destructive",l(e),null}const r=await me["searchCont"+s(468)](e[s(573)]);if(n[s(474)](r[s(444)],0)){const t={};return t[s(531)]=n[s(558)],t.description=s(466)+s(595)+s(592)+e[s(573)],t[s(561)]=n[s(593)],l(t),null}const a=r[0],i={};i[s(467)]=c.selectedAccount.accountId,i[s(554)]=a[s(554)],i.symbol=e.symbol,i.side=e[s(555)],i.quantity=e[s(447)],i[s(539)]=e[s(539)],i[s(494)]=e[s(494)];const o=await me.placeOrder(i);if(o){const t={};t.title=n.ohoxU,t[s(472)+"n"]=e.side+" "+e[s(447)]+" "+e.symbol+s(470)+o[s(556)],l(t),await m()}else n.NCdrt(s(436),s(436))?_0x5b3107=_0x12a36a:n[s(471)](l,{title:s(552)+"ed",description:s(466)+s(440)+s(517)+s(574)+s(521),variant:n[s(593)]});return o},[c["selectedAc"+t(423)],l,m]),v=r.useCallback(async e=>{const n=t,s=await me.cancelOrder(e);if(s){const t={};t[n(531)]=n(437)+n(553),t[n(472)+"n"]=n(545)+e+" has been "+n(508),l(t),await m()}return s},[l,m]),y=n.quCzv(r.useCallback,e=>{const s=t,r=c.accounts.find(t=>t[s(467)]===e);r&&n[s(487)](i,e=>({...e,selectedAccount:r}))},[c[t(480)]]);r.useEffect(()=>{const e=t,s={rNojE:function(e,t){return n[ye(493)](e,t)},wcJpz:function(e){return e()},TYfEu:function(e,t){return n.cJuQi(e,t)},qXCMb:e(459)+e(435),EmdtQ:n.xvAWL,BXZXH:n[e(484)],gpvsP:n[e(473)],KWFCz:"trace"};if(n[e(597)](e(529),e(482)))return(async()=>{const t=e;"HYxLn"!==t(475)?(await s[t(536)](d)).authenticated&&(await x(),await h(),await s[t(536)](m),o.current=setInterval(()=>{const e=t,n={};n.mpjzs=e(546)+e(505)+"ion check "+e(430);const r=n;s[e(603)](e(452),e(452))?(_0x3b4725[e(568)](r[e(439)]),_0xff5df6(t=>({...t,connected:!1,authenticated:!1,loading:!1,error:e(491)+e(557)+e(596)+e(583)+"server is "+e(530)}))):f()},1e4)):s[t(536)](_0x2bcdac)})(),()=>{const t=e;o[t(571)]&&s[t(431)](clearInterval,o.current)};{let t;try{t=kDWgDy.TYfEu(_0x594a55,kDWgDy.qXCMb+kDWgDy[e(540)]+");")()}catch(r){t=_0x390ff0}const n=t[e(421)]=t.console||{},s=[e(453),e(568),e(418),kDWgDy[e(537)],kDWgDy[e(564)],e(549),kDWgDy[e(543)]];for(let r=0;r<s[e(444)];r++){const t=_0x26d793[e(478)+"r"].prototype.bind(_0x1d2c14),a=s[r],c=n[a]||t;t[e(598)]=_0x3ddc98[e(422)](_0x2b40c9),t[e(488)]=c.toString.bind(c),n[a]=t}}},[]),n.dvfFl(r.useEffect,()=>{const e=t;if(n.sgXyG(e(499),e(499))){n[e(510)](_0x4824de,_0x51f251),_0x2c43cb[e(576)](n[e(465)],_0x22604e),_0x4ace0a(t=>({...t,connected:!1,authenticated:!1,loading:!1,error:e(572)+e(591)+_0x482482[e(559)]}));const t={};return t[e(538)]=!1,t["authentica"+e(449)]=!1,t[e(586)+"ng"]=!1,t}c[e(420)+e(423)]&&c[e(463)+e(449)]&&h()},[null==(e=c[t(420)+t(423)])?void 0:e[t(467)]]);const j={...c};return j[t(460)+"ction"]=d,j[t(577)+t(498)]=u,j[t(462)+"ts"]=x,j[t(428)+t(446)]=h,j[t(569)]=m,j[t(522)+"a"]=f,j[t(565)]=g,j[t(581)+"r"]=v,j["selectAcco"+t(443)]=y,j}(),[ie,oe]=r.useState("overview"),[le,de]=r.useState([]),[ue,xe]=r.useState(!1),[he,fe]=r.useState([]),[ge,ve]=r.useState({total:0,today:0,pnl:0}),[pe,we]=r.useState(!1),[Ne,be]=r.useState({symbol:"SPY",side:"BUY",quantity:1,orderType:"MKT",price:0}),[Ce,Be]=r.useState(!1);r.useEffect(()=>{const e=async()=>{try{const{data:e}=await c.from("farm_status").select("*").eq("farm_name","high-frequency-paper-trader").single();if(e){const t=new Date(e.updated_at),n=t>new Date(Date.now()-12e4);we("trading"===e.status||n)}const{data:t}=await c.from("autonomous_trades").select("*").order("created_at",{ascending:!1}).limit(50);if(t){fe(t);const e=new Date;e.setHours(0,0,0,0);const n=t.filter(t=>new Date(t.created_at)>=e),s=t.reduce((e,t)=>e+(t.pnl||0),0);ve({total:t.length,today:n.length,pnl:s})}}catch(e){}};e();const t=c.channel("hf-trades").on("postgres_changes",{event:"INSERT",schema:"public",table:"autonomous_trades"},e=>{const t=e.new;fe(e=>[t,...e].slice(0,50));const n=new Date;n.setHours(0,0,0,0);const s=new Date(t.created_at)>=n;ve(e=>({total:e.total+1,today:s?e.today+1:e.today,pnl:e.pnl+(t.pnl||0)}))}).subscribe(),n=setInterval(e,5e3);return()=>{clearInterval(n),t.unsubscribe()}},[]),r.useCallback(()=>{te()},[te]),r.useEffect(()=>{if(t){De();const e=setInterval(De,3e4);return()=>clearInterval(e)}},[t]);const De=async()=>{xe(!0);try{const{data:e,error:t}=await c.functions.invoke("stock-data",{body:{action:"batch",symbols:je}});!t&&(null==e?void 0:e.stocks)&&de(e.stocks.map(e=>({symbol:e.symbol,price:e.latestPrice,change:e.change,changePercent:e.changePercent})))}catch(e){}finally{xe(!1)}},ze=e=>{be(t=>({...t,symbol:e,side:"BUY"})),oe("trade")},Me=r.useMemo(()=>{const e=R.reduce((e,t)=>e+t.marketValue,0),t=R.reduce((e,t)=>e+t.unrealizedPnl,0);return{totalValue:e,totalPnL:t,totalRealizedPnL:R.reduce((e,t)=>e+t.realizedPnl,0),pnlPercent:(null==P?void 0:P.balance)?t/P.balance*100:0}},[R,P]);return $?i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(u,{className:"h-5 w-5 animate-spin text-primary"}),"Connecting to IB Gateway Bridge..."]})}),i.jsx(x,{children:"Checking connection to gateway"})]}),i.jsxs(h,{className:"space-y-4",children:[i.jsx(m,{value:33,className:"h-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Looking for the Client Portal Gateway..."}),i.jsxs(S,{children:[i.jsx(O,{className:"h-4 w-4"}),i.jsx(I,{children:"Connection taking too long?"}),i.jsxs(K,{className:"space-y-2 mt-2",children:[i.jsx("p",{children:"Your browser may be blocking the connection. Try:"}),i.jsxs("ol",{className:"list-decimal list-inside text-sm space-y-1",children:[i.jsxs("li",{children:["Click ",i.jsx("strong",{children:"Gateway Settings"})," above to configure your gateway URL"]}),i.jsx("li",{children:"If using remotely, enter your machine's IP (e.g., https://192.168.1.100:5000)"}),i.jsxs("li",{children:["Accept the ",i.jsx("strong",{children:"self-signed certificate warning"})," in your browser"]}),i.jsx("li",{children:"Login if prompted, then return here"})]})]})]}),i.jsxs(f,{variant:"outline",size:"sm",onClick:()=>window.open("https://localhost:5000","_blank"),children:[i.jsx(g,{className:"h-4 w-4 mr-2"}),"Open Gateway in New Tab"]})]})]}):e?t?i.jsxs("div",{className:"space-y-6",children:[i.jsx(o,{className:"bg-gradient-to-br from-card via-card to-primary/5 border-primary/20",children:i.jsxs(h,{className:"pt-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(y,{className:"h-5 w-5 text-primary"}),i.jsx("span",{className:"font-medium",children:"IBKR Connected"}),n&&i.jsx(j,{variant:"outline",className:"bg-primary/10 text-primary border-primary",children:"Paper Trading"})]}),i.jsxs(p,{value:(null==P?void 0:P.accountId)||"",onValueChange:ce,children:[i.jsx(w,{className:"w-48",children:i.jsx(N,{placeholder:"Select Account"})}),i.jsx(b,{children:s.map(e=>i.jsxs(C,{value:e.accountId,children:[e.accountId," (",e.accountType,")"]},e.accountId))})]}),i.jsx(f,{variant:"ghost",size:"icon",onClick:se,children:i.jsx(v,{className:"h-4 w-4"})})]}),P&&i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[i.jsx(B,{className:"w-3 h-3"}),"Account Balance"]}),i.jsxs("div",{className:"text-3xl font-mono font-bold",children:["$",P.balance.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Buying Power"}),i.jsxs("div",{className:"text-xl font-mono",children:["$",P.buyingPower.toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})]}),R.length>0&&i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6 pt-6 border-t",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Positions Value"}),i.jsxs("div",{className:"text-xl font-bold",children:["$",Me.totalValue.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Unrealized P&L"}),i.jsxs("div",{className:"text-xl font-bold "+(Me.totalPnL>=0?"text-success":"text-destructive"),children:[Me.totalPnL>=0?"+":"","$",Me.totalPnL.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Realized P&L"}),i.jsxs("div",{className:"text-xl font-bold "+(Me.totalRealizedPnL>=0?"text-success":"text-destructive"),children:[Me.totalRealizedPnL>=0?"+":"","$",Me.totalRealizedPnL.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Open Positions"}),i.jsx("div",{className:"text-xl font-bold",children:R.length})]})]})]})}),i.jsxs(D,{value:ie,onValueChange:oe,children:[i.jsxs(z,{className:"grid w-full grid-cols-2 max-w-md",children:[i.jsxs(M,{value:"overview",className:"flex items-center gap-1",children:[i.jsx(L,{className:"w-4 h-4"})," Overview"]}),i.jsxs(M,{value:"hf-trading",className:"flex items-center gap-1",children:[i.jsx(F,{className:"w-4 h-4"})," HF Trading",pe&&i.jsx("span",{className:"ml-1 w-2 h-2 bg-success rounded-full animate-pulse"})]})]}),i.jsx(q,{value:"overview",className:"mt-6",children:i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(G,{className:"w-5 h-5"}),"Quick Trade"]}),i.jsx(x,{children:"Click a symbol to start a trade"})]}),i.jsxs(h,{children:[i.jsx("div",{className:"grid grid-cols-4 gap-2",children:le.length>0?le.map(e=>i.jsxs(f,{variant:"outline",className:"flex flex-col h-auto py-3 hover:border-primary",onClick:()=>ze(e.symbol),children:[i.jsx("span",{className:"font-bold",children:e.symbol}),i.jsxs("span",{className:"text-sm",children:["$",e.price.toFixed(2)]}),i.jsxs("span",{className:"text-xs "+(e.changePercent>=0?"text-success":"text-destructive"),children:[e.changePercent>=0?"+":"",e.changePercent.toFixed(2),"%"]})]},e.symbol)):je.map(e=>i.jsx(f,{variant:"outline",className:"py-6",onClick:()=>ze(e),children:e},e))}),ue&&i.jsx("div",{className:"text-center text-sm text-muted-foreground mt-2",children:"Updating quotes..."})]})]}),i.jsxs(o,{children:[i.jsx(l,{children:i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(X,{className:"w-5 h-5"}),"Current Positions"]})}),i.jsx(h,{children:0===R.length?i.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[i.jsx(A,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No open positions"}),i.jsx("p",{className:"text-sm",children:"Place a trade to get started"})]}):i.jsxs("div",{className:"space-y-3",children:[R.slice(0,5).map(e=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:e.symbol}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.position>0?"+":"",e.position," shares @ $",e.avgCost.toFixed(2)]})]}),i.jsxs("div",{className:"text-right "+(e.unrealizedPnl>=0?"text-success":"text-destructive"),children:[i.jsxs("div",{className:"font-medium",children:[e.unrealizedPnl>=0?"+":"","$",e.unrealizedPnl.toFixed(2)]}),i.jsxs("div",{className:"text-sm",children:["$",e.marketValue.toFixed(2)]})]})]},e.conid)),R.length>5&&i.jsxs(f,{variant:"ghost",className:"w-full",onClick:()=>oe("positions"),children:["View all ",R.length," positions"]})]})})]})]})}),i.jsx(q,{value:"hf-trading",className:"mt-6",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs(o,{className:"border-2 "+(pe?"border-warning bg-warning/5":"border-dashed"),children:[i.jsx(l,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 rounded-full "+(pe?"bg-warning/20":"bg-muted"),children:i.jsx(F,{className:"w-6 h-6 "+(pe?"text-warning animate-pulse":"text-muted-foreground")})}),i.jsxs("div",{children:[i.jsxs(d,{className:"flex items-center gap-2",children:["High-Frequency Paper Trading",pe&&i.jsxs(j,{className:"bg-warning text-warning-foreground",children:[i.jsx(A,{className:"w-3 h-3 mr-1 animate-pulse"}),"LIVE"]})]}),i.jsx(x,{children:"Terminal-based worker generating 100+ trades/day for En Pensent training"})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Worker Status"}),i.jsx("div",{className:"font-medium "+(pe?"text-warning":"text-muted-foreground"),children:pe?"RUNNING":"OFFLINE"})]})]})}),i.jsxs(h,{children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.total}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Trades"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.today}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Today's Trades"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"text-3xl font-bold font-mono "+(ge.pnl>=0?"text-success":"text-destructive"),children:[ge.pnl>=0?"+":"","$",ge.pnl.toFixed(2)]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total P&L"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono text-warning",children:pe?"30s":"N/A"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Cycle Time"})]})]}),i.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(k,{className:"w-4 h-4"}),i.jsx("span",{children:"Auto-refresh every 5 seconds from Supabase"}),i.jsx("span",{className:"mx-2",children:"•"}),i.jsx("span",{children:"11 symbols: AAPL, MSFT, NVDA, TSLA, AMD, META, GOOGL, AMZN, SPY, QQQ, IWM"})]})]})]}),i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(A,{className:"w-5 h-5"}),"Live Trade Feed",he.length>0&&i.jsxs(j,{variant:"secondary",children:[he.length," recent"]})]}),i.jsx(x,{children:"Real-time trades from high-frequency worker (updates every 5s)"})]}),i.jsx(h,{children:0===he.length?i.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[i.jsx(F,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{className:"text-lg",children:"No trades yet"}),i.jsx("p",{className:"text-sm",children:"Start the high-frequency worker to see activity"}),i.jsx("code",{className:"block mt-4 p-2 bg-muted rounded text-xs",children:"node farm/workers/high-frequency-paper-trader.mjs"})]}):i.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:he.map(e=>{var t;return i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:["BUY"===e.direction?i.jsx(U,{className:"w-4 h-4 text-success"}):i.jsx(Z,{className:"w-4 h-4 text-destructive"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold",children:e.symbol}),i.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleTimeString()})]}),i.jsx(j,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction}),i.jsxs(j,{variant:"outline",className:"text-xs",children:[e.shares," shares"]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Entry"})]}),e.predicted_confidence&&i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-mono",children:[(100*e.predicted_confidence).toFixed(0),"%"]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Conf"})]}),void 0!==e.pnl&&null!==e.pnl&&i.jsxs("div",{className:"text-right font-mono "+(e.pnl>=0?"text-success":"text-destructive"),children:[i.jsxs("div",{children:[e.pnl>=0?"+":"","$",e.pnl.toFixed(2)]}),i.jsx("div",{className:"text-xs",children:"P&L"})]}),i.jsx(j,{variant:"outline",className:"open"===e.status?"bg-success/10 text-success":"bg-muted",children:e.status})]})]},e.id)})})})]}),he.filter(e=>"open"===e.status).length>0&&i.jsxs(o,{children:[i.jsx(l,{children:i.jsxs(d,{className:"text-lg flex items-center gap-2",children:[i.jsx(X,{className:"w-5 h-5"}),"Open HF Positions"]})}),i.jsx(h,{children:i.jsxs(W,{children:[i.jsx(H,{children:i.jsxs(_,{children:[i.jsx(Y,{children:"Symbol"}),i.jsx(Y,{children:"Side"}),i.jsx(Y,{className:"text-right",children:"Shares"}),i.jsx(Y,{className:"text-right",children:"Entry"}),i.jsx(Y,{className:"text-right",children:"Stop Loss"}),i.jsx(Y,{className:"text-right",children:"Take Profit"}),i.jsx(Y,{children:"Status"})]})}),i.jsx(J,{children:he.filter(e=>"open"===e.status).map(e=>{var t,n,s;return i.jsxs(_,{children:[i.jsx(T,{className:"font-bold",children:e.symbol}),i.jsx(T,{children:i.jsx(j,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction})}),i.jsx(T,{className:"text-right font-mono",children:e.shares}),i.jsxs(T,{className:"text-right font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),i.jsxs(T,{className:"text-right font-mono text-destructive",children:["$",(null==(n=e.stop_loss)?void 0:n.toFixed(2))||"N/A"]}),i.jsxs(T,{className:"text-right font-mono text-success",children:["$",(null==(s=e.take_profit)?void 0:s.toFixed(2))||"N/A"]}),i.jsx(T,{children:i.jsx(j,{variant:"outline",className:"bg-success/10 text-success border-success/30",children:"Open"})})]},e.id)})})]})})]})]})})]})]}):i.jsxs(o,{className:"border-warning/50",children:[i.jsx(l,{children:i.jsxs(d,{className:"flex items-center gap-2 text-warning",children:[i.jsx(V,{className:"h-5 w-5"}),"Gateway Running - Login Required"]})}),i.jsxs(h,{className:"space-y-4",children:[i.jsxs(S,{variant:"default",children:[i.jsx(O,{className:"h-4 w-4"}),i.jsx(K,{children:'Bridge is running but not connected to IB Gateway. Open IB Gateway desktop app, log in, then click "Connect to Gateway".'})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(f,{onClick:ne,className:"flex-1",children:[i.jsx(V,{className:"h-4 w-4 mr-2"}),"Connect to Gateway"]}),i.jsxs(f,{variant:"outline",onClick:te,children:[i.jsx(v,{className:"h-4 w-4 mr-2"}),"Check Status"]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"IB Gateway must be running with API enabled (port 4002 for paper trading)."})]})]}):i.jsxs(o,{className:"border-destructive/50",children:[i.jsxs(l,{children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs(d,{className:"flex items-center gap-2 text-destructive",children:[i.jsx(E,{className:"h-5 w-5"}),"IB Gateway Bridge Not Running"]})}),i.jsx(x,{children:ee||"Start the IBKR Client Portal Gateway to begin trading."})]}),i.jsxs(h,{className:"space-y-4",children:[i.jsxs(S,{children:[i.jsx(O,{className:"h-4 w-4"}),i.jsx(I,{children:"Quick Setup"}),i.jsx(K,{className:"space-y-2",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-2",children:[i.jsxs("li",{children:["Download the ",i.jsx("a",{href:"https://www.interactivebrokers.com/en/trading/ib-api.php",target:"_blank",rel:"noopener",className:"text-primary underline font-medium",children:"IBKR Client Portal Gateway"})]}),i.jsxs("li",{children:["Run ",i.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.sh"})," (Mac) or ",i.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.bat"})," (Windows)"]}),i.jsxs("li",{children:["Login at ",i.jsx("strong",{children:"https://localhost:5000"})," with IBKR credentials"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Using remote access?"})," Click Gateway Settings above and enter your machine's IP"]})]})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(f,{onClick:te,className:"flex-1",children:[i.jsx(v,{className:"h-4 w-4 mr-2"}),"Retry Connection"]}),i.jsxs(f,{variant:"outline",onClick:()=>window.open("https://localhost:5000","_blank"),children:[i.jsx(g,{className:"h-4 w-4 mr-2"}),"Open Gateway"]})]})]})]})}const we=()=>i.jsxs("div",{className:"container mx-auto py-8 px-4",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[i.jsx(R,{className:"w-8 h-8 text-primary"}),i.jsxs("h1",{className:"text-4xl font-bold",children:[i.jsx("span",{className:"text-primary",children:"En Pensent™"})," Trading"]})]}),i.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Paper trading powered by Interactive Brokers. Start with simulated funds, graduate to real money when ready."})]}),i.jsx(P,{componentName:"IBKRTradingDashboard",children:i.jsx(pe,{})}),i.jsx("p",{className:"text-center text-xs text-muted-foreground mt-8",children:"⚠️ Paper trading uses simulated funds. No real money is at risk. When ready, switch to a live IBKR account for real trading."})]});export{we as default};
