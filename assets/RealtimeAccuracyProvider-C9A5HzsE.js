const e="/**\n * Realtime Accuracy Provider v7.24 - LIVE STATS\n * Wraps the app to provide platform-wide accuracy auto-updates\n * Ensures all numerical data across En Pensent syncs in realtime\n * v7.24: Now exposes liveEloState for instant ELO updates across all pages\n *        Stats sourced from DB, used by useAutoEvolution for accurate totals\n */\n\nimport React, { createContext, useContext, ReactNode, useEffect } from 'react';\nimport { \n  useRealtimeAccuracy, \n  RealtimeAccuracyState, \n  subscribeToAccuracyUpdates, \n  AccuracyUpdate,\n  ChessCumulativeStats \n} from '@/hooks/useRealtimeAccuracy';\nimport { useTradingSessionStore } from '@/stores/tradingSessionStore';\nimport { type LiveEloState } from '@/lib/chess/liveEloTracker';\n\ninterface RealtimeAccuracyContextValue extends RealtimeAccuracyState {\n  syncAccuracyData: () => Promise<void>;\n  subscribeToUpdates: (listener: (update: AccuracyUpdate) => void) => () => void;\n  chessStats: ChessCumulativeStats | null;\n  liveEloState: LiveEloState; // v7.23: Live ELO calculated from realtime stats\n}\n\nconst RealtimeAccuracyContext = createContext<RealtimeAccuracyContextValue | null>(null);\n\nexport function useRealtimeAccuracyContext() {\n  const context = useContext(RealtimeAccuracyContext);\n  if (!context) {\n    throw new Error('useRealtimeAccuracyContext must be used within RealtimeAccuracyProvider');\n  }\n  return context;\n}\n\ninterface RealtimeAccuracyProviderProps {\n  children: ReactNode;\n  enabled?: boolean;\n}\n\nexport function RealtimeAccuracyProvider({ \n  children, \n  enabled = true \n}: RealtimeAccuracyProviderProps) {\n  const accuracyState = useRealtimeAccuracy(enabled);\n  const { syncEvolutionState } = useTradingSessionStore();\n\n  // Sync evolution state on every update\n  useEffect(() => {\n    if (accuracyState.updateCount > 0) {\n      syncEvolutionState();\n    }\n  }, [accuracyState.updateCount, syncEvolutionState]);\n\n  const value: RealtimeAccuracyContextValue = {\n    ...accuracyState,\n    subscribeToUpdates: subscribeToAccuracyUpdates,\n  };\n\n  return (\n    <RealtimeAccuracyContext.Provider value={value}>\n      {children}\n    </RealtimeAccuracyContext.Provider>\n  );\n}\n\nexport default RealtimeAccuracyProvider;\n";export{e as default};
