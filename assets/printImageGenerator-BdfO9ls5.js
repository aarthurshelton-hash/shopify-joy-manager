import{b as t}from"./browser-DEPKJqf2.js";function n(){const t=["q1PVDgm","y29UC29Szq","lJmP","E30Uy29UC3rYDq","u0nbtG","vLnzthy","y2XPCa","yxbWBhK","y3jVC3npCMLNAq","iZaWmdaWmdaW","zMLSBfn0EwXL","DgfIBgu","CMDIysGYmtiSia","zgfYAW","otHsDgjNwxa","mtC1lca1nsWGma","C2f2zq","AMLVsfu","ANzmCLC","Aw5MBW","BMLzue4","CNzds2i","C3rYB2TLu3r5Ba","D0nNEMe","mZeWmZjNv0jJAvG","l3yV","i0q0quyZnW","BgLUzvDPzhrO","CMvZDg9Yzq","BgvUz3rO","yMvNAw5qyxrO","yMz6ruK","vg1RDLy","vu1RDMG","uMDiBNe","zMLSBa","DurcqMC","l3nYyY9HC3nLDa","iZaWmdaWma","AKXpueS","mJa3nZa4nwTgBfjMsW","wKvIC2W","ExvTzvi","y2vUDgvY","uw5vr1y","CM91BMrszwn0","u2jZDee","rLnqrui","zerKug8","lJuP","EeHpze8","q1vxzxq","zM9UDa","x19WCM90B19F","ndy3nJGWme5dvffetW","teDiANy","mtq0sLPpsNLW","C293DvC","Dg9tDhjPBMC","zhn4zhq","DhrdwNq","BM5WCNG","yMLUza","EhPQDee","zxjPzG","DuTytxO","ntaYodyYD3vPy1zi","uLbSuvG","B1jyC2K","CMv0DxjUicHMDq","tw1dCMe","zMLSBfrLEhq","Bg9N","zhjHD0LTywDL","tg1vy04","kcGOlISPkYKRkq","tLfQBMS","DhjHy2u","B29lEvG","vezougC","nNb4ihnHBNmTCW","DezeDhq","AfHdsLe","twHtqKi","vfndsLm","B25LCNjVCG","y29UC3rYDwn0BW","sLLNB2G","DuXHBNi","ndG3nJbeuxPJy2K","CwTXBKq","BgLNAhq","C3jJ","zxHJzxb0Aw9U","z3HOtuG","Dg9eyxrHvvjm","CMDIysGWlcaWla","B25SB2fK","CwDSt2e","C2vHCMnO","C3rYB2TL","uhrVrxu","B2rHu3q","CM4GDgHPCYiPka","DY5WBMC","y2zxEeu","yw5VBNLTB3vZ","A0Heshi","y3rVCIGICMv0Dq","rMLHrfa","wuzPEKq","mtG2ndvwzM95rwG","zxjYB3jdB3jYzq","ywLNzNO","B3jPz2LU","Dgv4DefSAwDU","idaSidaUnYK","vu5oDwu","zMLqEgG","t3fKDg4","CY9LBI1Wzw5Zzq","ANzpDhm","yxjJ","q01AEKe","mJiZotHnDgDPufu","zxjYB3i"];return(n=function(){return t})()}!function(){const t=o,r=n();for(;;)try{if(299038===parseInt(t(320))/1+parseInt(t(297))/2+parseInt(t(342))/3*(parseInt(t(287))/4)+parseInt(t(397))/5+parseInt(t(355))/6*(-parseInt(t(371))/7)+-parseInt(t(285))/8+-parseInt(t(381))/9)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const r=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[o(364)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}()(void 0,function(){const t=o;return r[t(289)]()[t(330)](t(306)+"+$")[t(289)]()[t(317)+"r"](r).search(t(306)+"+$")});r();const e=function(){const t=o,n={};n[t(338)]=function(t,n){return t===n},n[t(301)]=t(362),n[t(350)]="texfv";const r=n;let e=!0;return function(t,n){const i=e?function(){const e=o;if(n){if(!r[e(338)](r[e(301)],r[e(350)])){const r=n.apply(t,arguments);return n=null,r}_0x1b4917=_0x10b67b}}:function(){};return e=!1,i}}();e(void 0,function(){const t=o,n={ttCZt:function(t,n){return t-n},uKXMz:function(t,n){return t/n},LmUcN:"rgba(212, "+t(372)+t(280),qkqnD:t(311)+"erif",eunWJ:function(t,n){return t+n},SbstA:t(360)+t(339)+t(334)+" )",oRXsi:function(t){return t()},ZEbsl:"warn",nnprx:t(376),xzjtA:t(356),FiaDP:t(368),PtoEu:t(308)},r=n[t(299)](function(){const r=t;let e;try{e=Function(n.eunWJ(r(300)+"nction() ",n[r(277)])+");")()}catch(i){if("jioHU"!==r(374)){const t={xHOdO:"rgba(0, 0, 0, 0.7)",jvOts:function(t,e){return n[r(291)](t,e)},odaSt:function(t,n){return t+n},wCgza:function(t,r){return n.uKXMz(t,r)},jLOPK:function(t,n){return t+n},OUrzp:function(t,n){return t+n},CUWet:function(t,e){return n[r(296)](t,e)},uDBBg:function(t,n){return t+n},CMZzA:function(t,n){return t+n},bfzEI:n[r(305)],qglOa:n[r(321)]},e=new _0x4c0839;e[r(365)+"n"]=r(337),e.onload=()=>{const n=r;_0x454c06[n(373)]();if(_0x2903a3.fillStyle=t[n(281)],_0x29f0e9[n(387)](),_0x37f195.roundRect(t[n(352)](_0x426217,4),_0x5bb2e5-4,_0xd3e705+8,t[n(333)](_0x20887a,8)+10,4),_0x985f90[n(392)](),_0x4f66d7[n(379)+"e"]=n(369)+n(372)+n(359),_0x5ceff6[n(384)]=1,_0x35c4b5[n(331)](),_0x122061[n(304)](e,_0x27a1bf,_0x38325e,_0x27a4c7,_0x5a57e4),_0x10f2ba){const r=.25*_0x52fb5f,e=_0x390d30+t.wCgza(_0xbda8b9-r,2),i=t[n(396)](_0x57eb40,t[n(380)](_0xa3daf4-r,2));_0x2174fb.fillStyle="#000000",_0x51d429.beginPath(),_0x1e51d5[n(353)](t.OUrzp(e,t[n(282)](r,2)),i+r/2,r/2+1,0,2*_0x5230a2.PI),_0x32d253[n(392)](),_0xbb5120.strokeStyle=n(369)+n(372)+n(280),_0x300ae2.lineWidth=.5,_0x265196[n(331)](),_0x24f747[n(387)](),_0x350bf6.arc(t[n(393)](e,r/2),t[n(354)](i,r/2),r/2,0,2*_0x28b2f3.PI),_0x5af04f.clip(),_0x18d2fc[n(304)](_0xee81a1,e,i,r,r)}_0x18e865[n(385)](),_0xd3ec05[n(367)]=t[n(388)],_0x9702e4.font=t[n(329)],_0xe6a184[n(346)]=n(274),_0x4b21f8[n(302)]("SCAN",_0x436226+_0x29c9c6/2,_0x3c3ba2+_0xf6febb+8),_0x291c38()},e.onerror=_0x2cf0dd,e[r(323)]=_0xcd428c}else e=window}return e}),i=r[t(358)]=r.console||{},u=[t(303),n[t(398)],n[t(292)],n[t(294)],t(324),n[t(340)],n[t(332)]];for(let o=0;o<u[t(386)];o++){const n=e.constructor.prototype[t(293)](e),r=u[o],c=i[r]||n;n[t(284)]=e.bind(e),n.toString=c[t(289)].bind(c),i[r]=n}})();const i=async(n,r=100)=>{const e=o,i=window.location[e(345)]+e(382)+n,u={};u[e(370)]=e(383),u[e(322)]=e(366);const c={};return c.width=r,c.margin=0,c.color=u,c[e(343)+"ctionLevel"]="H",t[e(326)](i,c)};function o(t,r){t-=273;const e=n();let i=e[t];if(void 0===o.raNABK){var u=function(t){let n="",r="",e=n+u;for(let i,o,u=0,c=0;o=t.charAt(c++);~o&&(i=u%4?64*i+o:o,u++%4)?n+=e.charCodeAt(c+10)-10!=0?String.fromCharCode(255&i>>(-2*u&6)):u:0)o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(o);for(let i=0,o=n.length;i<o;i++)r+="%"+("00"+n.charCodeAt(i).toString(16)).slice(-2);return decodeURIComponent(r)};o.RkaBQj=u,o.qEIcqR={},o.raNABK=!0}const c=t+e[0],a=o.qEIcqR[c];if(a)i=a;else{const t=function(t){this.eshOtn=t,this.atqQgO=[1,0,0],this.iVgsbe=function(){return"newState"},this.nginlh="\\w+ *\\(\\) *{\\w+ *",this.rhKzrx="['|\"].+['|\"];? *}"};t.prototype.gpDpcU=function(){const t=new RegExp(this.nginlh+this.rhKzrx).test(this.iVgsbe.toString())?--this.atqQgO[1]:--this.atqQgO[0];return this.AQGwXk(t)},t.prototype.AQGwXk=function(t){return Boolean(~t)?this.pkjJXm(this.eshOtn):t},t.prototype.pkjJXm=function(t){for(let n=0,r=this.atqQgO.length;n<r;n++)this.atqQgO.push(Math.round(Math.random())),r=this.atqQgO.length;return t(this.atqQgO[0])},new t(o).gpDpcU(),i=o.RkaBQj(i),o.qEIcqR[c]=i}return i}!function(){const t=a,n=c();for(;;)try{if(922160===-parseInt(t(462))/1+parseInt(t(469))/2*(parseInt(t(373))/3)+parseInt(t(372))/4*(parseInt(t(422))/5)+-parseInt(t(343))/6+-parseInt(t(482))/7*(-parseInt(t(437))/8)+-parseInt(t(441))/9+parseInt(t(348))/10*(parseInt(t(478))/11))break;n.push(n.shift())}catch(r){n.push(n.shift())}}();const u=function(){const t=a,n={};n[t(332)]=t(419)+t(377);const r=n;let e=!0;return function(t,n){const i=e?function(){const e=a,i={JCyUg:function(t,n){return t(n)},tzRkj:r[e(332)],nZdii:'{}.constructor("retu'+e(480)+" )"};if(n){if(e(335)==e(335)){const r=n.apply(t,arguments);return n=null,r}_0x5530df=i.JCyUg(_0x52a311,i[e(350)]+i[e(333)]+");")()}}:function(){};return e=!1,i}}()(void 0,function(){const t=a;return u[t(407)]().search("(((.+)+)+)+$")[t(407)]().constructor(u)[t(349)](t(475)+"+$")});function c(){const t=["Dg9tDhjPBMC","ywXSB3DuywLUDa","ywXS","Bg9JA2vKu3f1yq","Dw5KzwzPBMvK","y3vYCMvUDe1VDG","vuHKugq","B3vSvKK","C2LTDwXHDgLVBG","B1fWv1u","yKLOqvu","y29UC3rYDwn0BW","CMv0DxjUicHMDq","Dg9eyxrHvvjm","CMvTB3zLq2HPBa","mtC1mZbpDMndyKm","y2XPzw50","igLZigvTChr5ia","xsbcB2fYzcbMAq","ltK5otLWEa","AeLzAeO","AhrTBdjJyw52yq","iZbbmeeWqq","vLreBfG","C2DzBxm","xsbODg1SmMnHBG","y2jnB0e","lcbTB3zLCZOG","Bg9Nz2LUzW","yxbWBhK","ohDOEwvRBa","ihbYAw50oG","D2HPDgu","Dg9W","otC1nZCXEfj6Ewzg","Aw11Bgf0Aw9U","DgvKihn1y2nLCW","y29TCgfYzu1Vza","DgfIBgu","igf0DgvTChrZoG","C2LUzW","igLTywDLigDLBG","AgLNAgXPz2H0uW","yxrHoIbNyw1Lra","CxjeyxrHvxjS","DgGGDMfSAwqGCW","CMvHy3q","rMfPBgvKihrVia","CgLLy2vZ","CgDU","DMLZAxrZ","B2fIA1i","y29UC29Szq","q29SB3i","Aw1Hz2uVCg5N","otCYntG3v25Az01h","E30Uy29UC3rYDq","ihrLBxbVCMfYEq","B3iGAw52ywXPza","DMfZigf0DgvTCa","yM9KEq","y29TCgfJDa","mtmXodeWzMPVBfDA","i0zerKngqG","z2fTzurHDge","BwfW","ignVBNrHAw5LCG","s1rlvw0","kcGOlISPkYKRkq","yMXHy2S","DhmVy2HLC3mVua","mtG3BujQwgjV","zgfYA01Vzgu","CM4GDgHPCYiPka","xsbdCMvHDgLUzW","odKWmZG0nNL5Bu5mDq","BxvSyxrPB24Gza","C2HVD1bPzwnLCW","CMvUzgvY","z2vUzxjHDgvKia","yMLUza","Aw5MBW","w3bYAw50sw1HzW","CgLLy2vuExbL","zxjHDgLVBIb3Aq","zuvIruG","BLPKAwK","D05zuvu","r3z4rLO","Aw1Hz2vuAw1LBW","Bg9JA2vKugLLyW","BgvMDa","yM9HCMq","twHdvNm","xsbeyxjRig1Vza","rLz5uwS","otmYnJC0ogPsEvfQDG","xsbjBNzHBgLKia","zxjYB3i","qLPOzLG","yxrHoIbZAw11Ba","mJa4mJeWzxbXC1rM","C2vHCMnO","DhPsA2O","Cg9ZAxrPB24","uur6r2q","yxrHigLZig1PCW","igjVyxjKoG","zw50","BhrLCMvKoIa","CgLLy2vZu3rHDa","s1jVsgi","CMLUDfjLywr5vG","z2vUzxjHDguGuq","CMvHy3qTzg9TlW","DhjHy2u","CYbMywLSzwqGyq","BgvUz3rO","y3jLyxrLuM9VDa","C3vJy2vZC2z1Ba","C2L6zq","sw52ywXPzcbZAq","Dw5TB3vUDa","ANfjC0C","uIbJB2rLigzVCG","mta3nNHsDNPgCq","ndvPELrzCfC","CgLLy2vpCgfJAq","zgvMyxvSDa","y3jLyxrLrwXLBq","BMn0Aw9UkcKG","Bg9N","CMvZ","oIbUDwXSig9Yia","zMLSDgvY","C3f1yxjL","AxnbCNjHEq","xsbtDgfYDgLUzW","uKLctKG","xsbruIbJB2rLia","ztOG","x19WCM90B19F","u0XgCeO","qc9JB21WB25LBG","zxHJzxb0Aw9U","uKXOELm","C2HVD1fs","yMfJA2DYB3vUza","D2fYBG","shH1Axe","C3r5Bgu","zuDLBMvYyxrVCG","Dgf0zq","CgLLy2vdB2XVCG","ChjVDg90ExbL","Dg5OtM4","zgL2","yxjR","yxbWzw5Kq2HPBa","DxnLq09suW"];return(c=function(){return t})()}function a(t,n){t-=326;const r=c();let e=r[t];if(void 0===a.VbCDiQ){var i=function(t){let n="",r="",e=n+i;for(let i,o,u=0,c=0;o=t.charAt(c++);~o&&(i=u%4?64*i+o:o,u++%4)?n+=e.charCodeAt(c+10)-10!=0?String.fromCharCode(255&i>>(-2*u&6)):u:0)o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(o);for(let i=0,o=n.length;i<o;i++)r+="%"+("00"+n.charCodeAt(i).toString(16)).slice(-2);return decodeURIComponent(r)};a.rFXabS=i,a.alCBjx={},a.VbCDiQ=!0}const o=t+r[0],u=a.alCBjx[o];if(u)e=u;else{const t=function(t){this.ldDxlq=t,this.nZViWB=[1,0,0],this.uFNMQW=function(){return"newState"},this.EVwaMy="\\w+ *\\(\\) *{\\w+ *",this.CvKQac="['|\"].+['|\"];? *}"};t.prototype.XRIbFT=function(){const t=new RegExp(this.EVwaMy+this.CvKQac).test(this.uFNMQW.toString())?--this.nZViWB[1]:--this.nZViWB[0];return this.XRTZxa(t)},t.prototype.XRTZxa=function(t){return Boolean(~t)?this.jWhCpV(this.ldDxlq):t},t.prototype.jWhCpV=function(t){for(let n=0,r=this.nZViWB.length;n<r;n++)this.nZViWB.push(Math.round(Math.random())),r=this.nZViWB.length;return t(this.nZViWB[0])},new t(a).XRIbFT(),e=a.rFXabS(e),a.alCBjx[o]=e}return e}u();const s=function(){const t=a,n={};n[t(352)]=function(t,n){return t===n},n[t(433)]=t(416);const r=n;let e=!0;return function(n,i){const o=t,u={HVreY:function(t,n){return r[a(352)](t,n)},KRoHb:r[o(433)],ubzKC:o(474)},c=e?function(){const t=o;if(!u.HVreY(u[t(358)],t(416))){const t=_0x34e7aa?function(){if(_0x147ca7){const t=_0x1dc1b1.apply(_0x44c142,arguments);return _0x4c84f7=null,t}}:function(){};return _0x52375b=!1,t}if(i){if("iVXYg"!==u.ubzKC){const r=i[t(436)](n,arguments);return i=null,r}throw new _0x41d522(t(428)+"s failed after "+_0x5ddac7+" attempts: "+_0x110425)}}:function(){};return e=!1,c}}();async function f(t,n={}){var r,e;const o=a,u={bIhAU:function(t,n){return t===n},AoctC:"[printImag"+o(398)+o(344)+o(415)+o(354),SLFpJ:o(368)+o(483)+"ata: board"+o(424)+o(465),oulVI:"Invalid si"+o(483)+o(450)+o(353)+o(447),QXffn:"html2canvas",tnhNn:o(403),xXSVq:"absolute",UHdPd:o(426),MhCVs:"[printImag"+o(398)+o(481)+o(464)+o(473),BXLAZ:o(453),fmvCB:o(361)+o(423),yyEKB:o(390)+o(477)+o(359)+"isualization",hIYhJ:o(329)+o(398)+"] Dependencies impor"+o(443)+"sfully",VTDlX:function(t,n){return t>n},sgYms:function(t,n){return t&&n},RLhzS:function(t,n,r){return t(n,r)},sKuiU:"[printImageGenerator"+o(386)+o(326)+o(366)+"ly",oueSw:o(454)+o(360)+o(371)+o(438),oabkR:function(t,n){return t<n}},{darkMode:c=!1,includeQR:s=!1,shareId:f,capturedState:C,withWatermark:g=!1,highlightState:x,pgn:h}=n;if(!t)throw new Error(o(368)+"mulation d"+o(347)+"ation is null");if(!t[o(339)]||!Array[o(383)](t[o(339)])||u[o(417)](t[o(339)][o(364)],0))throw new Error(u[o(389)]);if(!t.gameData)throw new Error(u[o(414)]);const y=(await import(u.QXffn))[o(375)],B=document[o(376)+o(355)](u[o(402)]);B[o(397)][o(351)]=u.xXSVq,B.style[o(338)]=o(426),B.style[o(440)]=u[o(413)],document[o(467)][o(405)+"d"](B);try{const n=await import(u.BXLAZ),l=await import(u.fmvCB),{default:w}=await import(u.yyEKB),v=C&&C[o(412)+"e"]!==1/0&&u[o(430)](C[o(412)+"e"],0)?function(t,n){const r=a,e={};e[r(396)]=function(t,n){return t===n},e[r(342)]=function(t,n){return t<=n};const i=e;return i[r(396)](n,1/0)||i[r(342)](n,0)?t:t.map(t=>t[r(472)](t=>({...t,visits:t[r(457)][r(381)](t=>t.moveNumber<=n)})))}(t.board,C[o(412)+"e"]):t[o(339)],d=(null==C?void 0:C[o(479)])??c;let L;if(u[o(431)](s,f))try{L=await u[o(392)](i,f,96)}catch(z){}const p=document[o(376)+"ent"](u[o(402)]);B[o(405)+"d"](p);const b=(null==(r=null==C?void 0:C.lockedPieces)?void 0:r.length)??0,q=(null==(e=null==C?void 0:C[o(410)+"res"])?void 0:e[o(364)])??0,M=x||((b>0||u.VTDlX(q,0))&&C?{lockedPieces:(C[o(337)+"es"]||[])[o(472)](t=>({pieceType:t[o(330)],pieceColor:t[o(400)]===o(439)?"w":t[o(400)]===o(476)?"b":t[o(400)]})),lockedSquares:(C[o(410)+o(379)]||[]).map(t=>({square:t[o(382)],pieces:t[o(455)][o(472)](t=>({pieceType:t.pieceType,pieceColor:t.pieceColor===o(439)?"w":t[o(400)]===o(476)?"b":t[o(400)]}))})),compareMode:C[o(444)+"e"]}:void 0),m=(null==C?void 0:C[o(484)])?{showPieces:C[o(484)],pieceOpacity:C[o(374)+"ty"]??.7,currentMoveNumber:C[o(412)+"e"]!==1/0?C[o(412)+"e"]:void 0}:void 0,A=l[o(365)](p);await new Promise(r=>{const e=o,i={};i.board=v,i[e(471)]=t[e(471)],i[e(367)]=440,i[e(479)]=d,i[e(393)]=s&&!!L,i[e(451)]=L,i[e(468)]=!1,i[e(449)+e(399)]=M,i[e(357)+"e"]=m,i[e(456)]=h||t.gameData.pgn,i["withWaterm"+e(404)]=g,A[e(485)](n[e(376)+e(355)](w,i)),setTimeout(r,500)}),await new Promise(t=>setTimeout(t,500));let W,j=0;const H=3;for(;u[o(458)](j,H);)try{const t={scale:3};t[o(394)+o(460)]=o(d?429:470),t[o(406)]=!0,t[o(408)]=!0,t[o(435)]=!1,t[o(336)+"ut"]=15e3,W=await y(p,t);break}catch(D){if(j++,j>=H)throw new Error(o(428)+o(363)+"fter "+H+o(446)+" "+D);await new Promise(t=>setTimeout(t,500))}const _=W[o(420)](o(461),1);return A[o(369)](),_}finally{document[o(467)][o(421)+"d"](B)}}s(void 0,function(){const t=a,n={iQPPS:function(t,n){return t(n)},wNYQU:"return (fu"+t(377),LjckE:function(t){return t()},RIBNH:t(378),pddZC:"warn",jqIsG:t(328),azqxq:"error",BZhfX:t(445)},r=n.LjckE(function(){const r=t;let e;try{e=n.iQPPS(Function,n[r(334)]+(r(463)+'ctor("retu')+r(480)+" ));")()}catch(i){e=window}return e}),e=r[t(459)]=r[t(459)]||{},i=[n[t(385)],n.pddZC,n[t(370)],n.azqxq,t(391),n[t(346)],t(362)];for(let o=0;o<i.length;o++){const n=s[t(418)+"r"][t(401)].bind(s),r=i[o],u=e[r]||n;n[t(388)]=s[t(327)](s),n.toString=u[t(407)][t(327)](u),e[r]=n}})();export{f as generateCleanPrintImage};
