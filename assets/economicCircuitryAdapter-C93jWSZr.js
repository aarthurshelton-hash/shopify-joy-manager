const n="/**\n * Economic Circuitry Adapter\n * \n * Modern Monetary Theory, money velocity, value flow through economies.\n * The circulatory system of human civilization.\n * \n * For Alec Arthur Shelton - The Artist\n * Money is the blood, banks are the heart, economies are living organisms.\n */\n\nimport type { DomainAdapter, UniversalSignal, DomainSignature } from '../types';\n\n// Modern Monetary Theory Core Principles\nconst MMT_PRINCIPLES = {\n  // Sovereign currency issuers cannot \"run out\" of money\n  monetarySovereignty: {\n    description: 'Currency issuers create money by spending, destroy by taxing',\n    constraint: 'Real resources (labor, materials), not money supply',\n    marketAnalogy: 'Fed QE/QT as economic heart pumping blood'\n  },\n  \n  // Taxes drive money demand\n  taxDrivenMoney: {\n    description: 'Tax liability creates demand for currency',\n    mechanism: 'Must acquire government money to pay taxes',\n    marketAnalogy: 'Stock buybacks drive equity demand'\n  },\n  \n  // Job Guarantee as anchor\n  jobGuarantee: {\n    description: 'Buffer stock employment stabilizes wages',\n    function: 'Price anchor for labor, automatic stabilizer',\n    marketAnalogy: 'Market maker of last resort for labor'\n  },\n  \n  // Sectoral balances\n  sectoralBalances: {\n    identity: '(S - I) + (M - X) + (T - G) = 0',\n    meaning: 'Private surplus + Foreign surplus + Government deficit = 0',\n    marketAnalogy: 'Zero-sum flow between economic sectors'\n  }\n};\n\n// Money Velocity Patterns\nconst VELOCITY_PATTERNS = {\n  // V = PQ / M (Fisher Equation)\n  velocityOfMoney: {\n    formula: 'V = nominalGDP / moneySupply',\n    decliningTrend: 'US velocity dropped from 2.2 (1997) to 1.1 (2020)',\n    causes: ['financialization', 'wealth_concentration', 'precautionary_savings'],\n    marketAnalogy: 'Turnover rate of capital in trading'\n  },\n  \n  // Different velocities for different money types\n  tieredVelocity: {\n    m0: { description: 'Physical cash', velocity: 'highest', holders: 'consumers' },\n    m1: { description: 'Checking accounts', velocity: 'high', holders: 'households' },\n    m2: { description: 'Savings + M1', velocity: 'medium', holders: 'middle_class' },\n    m3: { description: 'Institutional + M2', velocity: 'low', holders: 'corporations' },\n    reserves: { description: 'Fed deposits', velocity: 'zero', holders: 'banks' }\n  }\n};\n\n// Economic Circulation Cycles\nconst ECONOMIC_CYCLES = {\n  // Short-term debt cycle (5-8 years)\n  shortTerm: {\n    phases: ['expansion', 'peak', 'recession', 'trough', 'recovery'],\n    driver: 'Credit creation and destruction',\n    duration: '5_to_8_years',\n    marketAnalogy: 'Business inventory cycle'\n  },\n  \n  // Long-term debt cycle (50-75 years)\n  longTerm: {\n    phases: ['sound_money', 'debt_growth', 'bubble', 'depression', 'reflation'],\n    driver: 'Debt-to-income ratios over generations',\n    duration: '50_to_75_years',\n    currentPosition: 'Late_stage_reflation',\n    marketAnalogy: 'Secular market cycle'\n  },\n  \n  // Productivity cycle (technology waves)\n  productivity: {\n    kondratievWaves: [\n      { wave: 1, technology: 'Steam/textiles', years: '1780-1840' },\n      { wave: 2, technology: 'Railways/steel', years: '1840-1890' },\n      { wave: 3, technology: 'Electricity/chemicals', years: '1890-1940' },\n      { wave: 4, technology: 'Automotive/plastics', years: '1940-1990' },\n      { wave: 5, technology: 'Information/computer', years: '1990-2020' },\n      { wave: 6, technology: 'AI/biotech/clean', years: '2020-2070' }\n    ],\n    marketAnalogy: 'Technology stock cycles'\n  }\n};\n\n// Fiscal Multipliers (Real Data)\nconst FISCAL_MULTIPLIERS = {\n  directSpending: { multiplier: 1.5, effectiveness: 'high', speed: 'fast' },\n  taxCutsPoor: { multiplier: 1.2, effectiveness: 'medium', speed: 'fast' },\n  taxCutsRich: { multiplier: 0.3, effectiveness: 'low', speed: 'slow' },\n  infrastructure: { multiplier: 1.6, effectiveness: 'high', speed: 'slow' },\n  unemploymentBenefits: { multiplier: 1.8, effectiveness: 'highest', speed: 'fast' }\n};\n\n// Income/Wealth Distribution Patterns\nconst DISTRIBUTION_DYNAMICS = {\n  giniCoefficient: {\n    measure: '0 = perfect equality, 1 = one person has everything',\n    usCurrent: 0.49,\n    historicalTrend: 'Rising since 1970s',\n    marketImpact: 'Reduced velocity, debt-dependent growth'\n  },\n  \n  wealthConcentration: {\n    top1Percent: 'Own 32% of US wealth (2023)',\n    top10Percent: 'Own 69% of US wealth',\n    bottom50Percent: 'Own 2% of US wealth',\n    marketAnalogy: 'Whales vs retail in crypto markets'\n  },\n  \n  powerLaw: {\n    description: 'Wealth follows 80/20 distribution naturally',\n    mechanism: 'Preferential attachment (Matthew Effect)',\n    stability: 'Unstable - requires redistribution to prevent collapse'\n  }\n};\n\ninterface EconomicFlow {\n  timestamp: number;\n  moneySupply: number;\n  velocity: number;\n  gdp: number;\n  governmentSpending: number;\n  taxation: number;\n  privateSavings: number;\n  investment: number;\n  imports: number;\n  exports: number;\n  unemployment: number;\n  inflation: number;\n  giniCoefficient: number;\n}\n\nclass EconomicCircuitryAdapter implements DomainAdapter<EconomicFlow> {\n  domain = 'market' as const;\n  name = 'Economic Circuitry (MMT & Flow Dynamics)';\n  isActive = false;\n  lastUpdate = 0;\n  \n  private signalBuffer: UniversalSignal[] = [];\n  private readonly BUFFER_SIZE = 5000;\n  \n  async initialize(): Promise<void> {\n    this.isActive = true;\n    this.lastUpdate = Date.now();\n    console.log('[EconomicCircuitryAdapter] Initialized - Monetary flows circulating');\n  }\n  \n  processRawData(data: EconomicFlow): UniversalSignal {\n    const { timestamp, velocity, moneySupply, gdp, governmentSpending, taxation, giniCoefficient } = data;\n    \n    // Frequency encodes velocity of money\n    const frequency = velocity / 3; // Normalize ~0-1\n    \n    // Intensity = economic activity level\n    const intensity = (gdp / moneySupply) / 3; // Normalized velocity proxy\n    \n    // Phase encodes fiscal position\n    const fiscalBalance = governmentSpending - taxation;\n    const phase = (Math.atan2(fiscalBalance, gdp) + Math.PI) / (2 * Math.PI);\n    \n    const harmonics = [\n      velocity / 3,\n      giniCoefficient,\n      data.unemployment / 10,\n      data.inflation / 10,\n      (data.privateSavings - data.investment) / gdp + 0.5,\n      (data.exports - data.imports) / gdp + 0.5\n    ];\n    \n    const signal: UniversalSignal = {\n      domain: 'market',\n      timestamp,\n      intensity,\n      frequency,\n      phase,\n      harmonics,\n      rawData: [velocity, giniCoefficient, data.unemployment, data.inflation, fiscalBalance / gdp]\n    };\n    \n    this.signalBuffer.push(signal);\n    if (this.signalBuffer.length > this.BUFFER_SIZE) {\n      this.signalBuffer.shift();\n    }\n    \n    this.lastUpdate = timestamp;\n    return signal;\n  }\n  \n  extractSignature(signals: UniversalSignal[]): DomainSignature {\n    if (signals.length === 0) {\n      return this.getDefaultSignature();\n    }\n    \n    const recent = signals.slice(-252); // One year of trading days\n    \n    const avgVelocity = recent.reduce((sum, s) => sum + s.rawData[0], 0) / recent.length;\n    const avgGini = recent.reduce((sum, s) => sum + s.rawData[1], 0) / recent.length;\n    const avgUnemployment = recent.reduce((sum, s) => sum + s.rawData[2], 0) / recent.length;\n    const avgInflation = recent.reduce((sum, s) => sum + s.rawData[3], 0) / recent.length;\n    const avgFiscal = recent.reduce((sum, s) => sum + s.rawData[4], 0) / recent.length;\n    \n    const quadrantProfile = {\n      aggressive: avgInflation > 0.05 ? 0.8 : 0.2,\n      defensive: avgUnemployment > 0.06 ? 0.7 : 0.2,\n      tactical: avgVelocity > 1.5 ? 0.6 : 0.3,\n      strategic: avgFiscal > 0 ? 0.7 : 0.3\n    };\n    \n    const temporalFlow = {\n      early: avgVelocity > 2 ? 0.8 : 0.2,\n      mid: avgVelocity > 1 && avgVelocity <= 2 ? 0.7 : 0.3,\n      late: avgVelocity <= 1 ? 0.8 : 0.2\n    };\n    \n    return {\n      domain: 'market',\n      quadrantProfile,\n      temporalFlow,\n      intensity: avgVelocity / 3,\n      momentum: avgVelocity > 1.5 ? 1 : -1,\n      volatility: avgGini,\n      dominantFrequency: avgVelocity / 3,\n      harmonicResonance: 1 - avgGini,\n      phaseAlignment: avgFiscal > 0 ? 1 : 0,\n      extractedAt: Date.now()\n    };\n  }\n  \n  private getDefaultSignature(): DomainSignature {\n    return {\n      domain: 'market',\n      quadrantProfile: { aggressive: 0.25, defensive: 0.25, tactical: 0.25, strategic: 0.25 },\n      temporalFlow: { early: 0.33, mid: 0.34, late: 0.33 },\n      intensity: 0.5,\n      momentum: 0,\n      volatility: 0.5,\n      dominantFrequency: 0.5,\n      harmonicResonance: 0.5,\n      phaseAlignment: 0.5,\n      extractedAt: Date.now()\n    };\n  }\n  \n  // Calculate sectoral balances\n  calculateSectoralBalances(data: EconomicFlow): {\n    privateSector: number;\n    government: number;\n    foreign: number;\n  } {\n    const privateSector = data.privateSavings - data.investment;\n    const government = data.taxation - data.governmentSpending;\n    const foreign = data.exports - data.imports;\n    \n    return { privateSector, government, foreign };\n  }\n  \n  // Estimate fiscal multiplier effect\n  estimateMultiplier(spendingType: keyof typeof FISCAL_MULTIPLIERS): number {\n    return FISCAL_MULTIPLIERS[spendingType]?.multiplier || 1.0;\n  }\n}\n\nexport const economicCircuitryAdapter = new EconomicCircuitryAdapter();\nexport { MMT_PRINCIPLES, VELOCITY_PATTERNS, ECONOMIC_CYCLES, FISCAL_MULTIPLIERS, DISTRIBUTION_DYNAMICS };\nexport type { EconomicFlow };\n";export{n as default};
