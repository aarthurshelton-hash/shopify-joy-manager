const e='/**\n * Cultural Arbitrage Panel\n * \n * Visualizes cross-cultural trading opportunities from the \n * Cultural Arbitrage Engine.\n */\n\nimport React, { useEffect, useState, useCallback } from \'react\';\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \'@/components/ui/card\';\nimport { Badge } from \'@/components/ui/badge\';\nimport { Progress } from \'@/components/ui/progress\';\nimport { ScrollArea } from \'@/components/ui/scroll-area\';\nimport { motion } from \'framer-motion\';\nimport { Globe, Clock, Languages, Users, Zap, TrendingUp } from \'lucide-react\';\nimport {\n  culturalArbitrageEngine,\n  CulturalArbitrageOpportunity,\n  CULTURAL_PROFILES\n} from \'@/lib/pensent-core/domains/finance/culturalArbitrageEngine\';\n\ninterface ArbitrageSummary {\n  opportunities: CulturalArbitrageOpportunity[];\n  activeCultures: string[];\n  bestOpportunity: CulturalArbitrageOpportunity | null;\n  averageConfidence: number;\n}\n\nexport function CulturalArbitragePanel() {\n  const [summary, setSummary] = useState<ArbitrageSummary | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  const refreshData = useCallback(() => {\n    // Generate mock market data for analysis\n    const mockMarketData: Record<string, { price: number; volume: number; sentiment: number }> = {};\n    Object.keys(CULTURAL_PROFILES).forEach(culture => {\n      mockMarketData[culture] = {\n        price: 100 + Math.random() * 10,\n        volume: 0.8 + Math.random() * 0.4,\n        sentiment: (Math.random() - 0.5) * 2\n      };\n    });\n\n    const opportunities = culturalArbitrageEngine.analyzeArbitrageOpportunities(mockMarketData);\n    \n    // Get currently active trading cultures\n    const now = new Date();\n    const utcHour = now.getUTCHours();\n    const activeCultures = Object.entries(CULTURAL_PROFILES).filter(([, profile]) => {\n      const offsets: Record<string, number> = {\n        \'JST\': 9, \'CST\': 8, \'EST\': -5, \'GMT\': 0, \'CET\': 1,\n        \'BRT\': -3, \'IST\': 5.5, \'GST\': 4\n      };\n      const offset = offsets[profile.timezone] || 0;\n      const localHour = (utcHour + offset + 24) % 24;\n      return localHour >= profile.tradingHours.open && localHour < profile.tradingHours.close;\n    }).map(([name]) => name);\n\n    const avgConfidence = opportunities.length > 0 \n      ? opportunities.reduce((s, o) => s + o.confidence, 0) / opportunities.length\n      : 0;\n\n    setSummary({\n      opportunities: opportunities.slice(0, 10),\n      activeCultures,\n      bestOpportunity: opportunities[0] || null,\n      averageConfidence: avgConfidence\n    });\n    setLoading(false);\n  }, []);\n\n  useEffect(() => {\n    refreshData();\n    const interval = setInterval(refreshData, 60000); // Refresh every minute\n    return () => clearInterval(interval);\n  }, [refreshData]);\n\n  const getTypeIcon = (type: CulturalArbitrageOpportunity[\'type\']) => {\n    switch (type) {\n      case \'TIME_ZONE_LAG\': return <Clock className="w-4 h-4" />;\n      case \'RISK_PERCEPTION_GAP\': return <TrendingUp className="w-4 h-4" />;\n      case \'LINGUISTIC_BIAS\': return <Languages className="w-4 h-4" />;\n      case \'COLLECTIVISM_DIVERGENCE\': return <Users className="w-4 h-4" />;\n      case \'DECISION_SPEED_MISMATCH\': return <Zap className="w-4 h-4" />;\n      default: return <Globe className="w-4 h-4" />;\n    }\n  };\n\n  const getTypeColor = (type: CulturalArbitrageOpportunity[\'type\']) => {\n    switch (type) {\n      case \'TIME_ZONE_LAG\': return \'bg-blue-500/20 text-blue-400 border-blue-500/30\';\n      case \'RISK_PERCEPTION_GAP\': return \'bg-red-500/20 text-red-400 border-red-500/30\';\n      case \'LINGUISTIC_BIAS\': return \'bg-purple-500/20 text-purple-400 border-purple-500/30\';\n      case \'COLLECTIVISM_DIVERGENCE\': return \'bg-orange-500/20 text-orange-400 border-orange-500/30\';\n      case \'DECISION_SPEED_MISMATCH\': return \'bg-green-500/20 text-green-400 border-green-500/30\';\n      default: return \'bg-muted text-muted-foreground\';\n    }\n  };\n\n  if (loading || !summary) {\n    return (\n      <Card className="bg-card/50 backdrop-blur border-primary/20">\n        <CardContent className="p-8 text-center">\n          <Globe className="w-8 h-8 mx-auto animate-pulse text-primary" />\n          <p className="mt-4 text-muted-foreground">Analyzing cultural patterns...</p>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <Card className="bg-card/80 backdrop-blur border-primary/20">\n      <CardHeader>\n        <CardTitle className="flex items-center gap-2">\n          <Globe className="w-5 h-5 text-primary" />\n          Cultural Arbitrage\n        </CardTitle>\n        <CardDescription>\n          Cross-cultural trading opportunities via Sapir-Whorf economics\n        </CardDescription>\n      </CardHeader>\n      <CardContent className="space-y-4">\n        {/* Active Markets */}\n        <div className="flex flex-wrap gap-2">\n          {Object.keys(CULTURAL_PROFILES).map(culture => (\n            <Badge \n              key={culture}\n              variant="outline"\n              className={summary.activeCultures.includes(culture) \n                ? \'bg-green-500/20 text-green-400 border-green-500/30\'\n                : \'bg-muted/50 text-muted-foreground\'\n              }\n            >\n              {culture}\n              {summary.activeCultures.includes(culture) && (\n                <span className="ml-1 w-1.5 h-1.5 rounded-full bg-green-400 animate-pulse" />\n              )}\n            </Badge>\n          ))}\n        </div>\n\n        {/* Stats */}\n        <div className="grid grid-cols-2 gap-3">\n          <div className="p-3 bg-primary/5 rounded-lg">\n            <p className="text-xs text-muted-foreground">Active Opportunities</p>\n            <p className="text-2xl font-bold">{summary.opportunities.length}</p>\n          </div>\n          <div className="p-3 bg-primary/5 rounded-lg">\n            <p className="text-xs text-muted-foreground">Avg Confidence</p>\n            <p className="text-2xl font-bold">{(summary.averageConfidence * 100).toFixed(0)}%</p>\n          </div>\n        </div>\n\n        {/* Opportunities */}\n        <ScrollArea className="h-[250px]">\n          <div className="space-y-3">\n            {summary.opportunities.length === 0 ? (\n              <div className="text-center py-6 text-muted-foreground text-sm">\n                No arbitrage opportunities detected at this time.\n              </div>\n            ) : (\n              summary.opportunities.map((opp, index) => (\n                <motion.div\n                  key={opp.id}\n                  initial={{ opacity: 0, x: -10 }}\n                  animate={{ opacity: 1, x: 0 }}\n                  transition={{ delay: index * 0.05 }}\n                  className="p-3 bg-muted/30 rounded-lg space-y-2"\n                >\n                  <div className="flex items-center justify-between">\n                    <Badge variant="outline" className={getTypeColor(opp.type)}>\n                      {getTypeIcon(opp.type)}\n                      <span className="ml-1.5">{opp.type.replace(/_/g, \' \')}</span>\n                    </Badge>\n                    <span className="text-sm font-mono font-bold">\n                      +{(opp.expectedSpread * 100).toFixed(2)}%\n                    </span>\n                  </div>\n                  \n                  <div className="flex items-center gap-2 text-xs">\n                    <span className="font-medium">{opp.cultures[0]}</span>\n                    <span className="text-muted-foreground">â†”</span>\n                    <span className="font-medium">{opp.cultures[1]}</span>\n                  </div>\n\n                  <p className="text-xs text-muted-foreground line-clamp-2">\n                    {opp.reasoning}\n                  </p>\n\n                  <div className="flex items-center justify-between text-xs">\n                    <span className="text-muted-foreground">Confidence</span>\n                    <div className="flex items-center gap-2">\n                      <Progress value={opp.confidence * 100} className="w-20 h-1.5" />\n                      <span>{(opp.confidence * 100).toFixed(0)}%</span>\n                    </div>\n                  </div>\n                </motion.div>\n              ))\n            )}\n          </div>\n        </ScrollArea>\n      </CardContent>\n    </Card>\n  );\n}\n';export{e as default};
