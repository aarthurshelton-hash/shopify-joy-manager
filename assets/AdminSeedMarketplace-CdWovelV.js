import{d6 as e,d7 as t,cp as s,a as n,u as r,r as a,J as i,o,s as l,aH as c,aa as u,cM as d,j as m,L as h,C as x,x as f,D as p,B as g,A as w,p as v,t as j,cN as y,bC as C,S as b,a6 as z,P as N,y as M,bG as B,T as D,aq as L,z as q,cU as A,aj as _,aT as E,ca as W,b as S,d8 as G}from"./index-C3fhkH_G.js";!function(){const e=V,t=Y();for(;;)try{if(240714===parseInt(e(290))/1+-parseInt(e(279))/2+-parseInt(e(288))/3*(parseInt(e(361))/4)+parseInt(e(271))/5+-parseInt(e(311))/6*(-parseInt(e(180))/7)+-parseInt(e(291))/8*(-parseInt(e(200))/9)+-parseInt(e(269))/10*(parseInt(e(297))/11))break;t.push(t.shift())}catch(s){t.push(t.shift())}}();const I=function(){const e=V,t={};t[e(177)]=e(273);const s=t;let n=!0;return function(t,r){const a=e,i={};i[a(299)]="left",i[a(332)]=s[a(177)];const o=i,l=n?function(){const e=a,s={};s[e(171)]=o[e(299)];const n=s;if(e(193)!==o.tKSaK){if(r){const s=r[e(229)](t,arguments);return r=null,s}}else _0x39d8d1[e(179)]=n[e(171)],_0x1204a4[e(194)](_0x4253e0,_0x32a126,_0x4b681d),_0x27c404+=_0x53dd05.measureText(_0x46dae4)[e(244)]+_0x1733aa}:function(){};return n=!1,l}}()(void 0,function(){const e=V,t={};t.zNEBa=e(246)+"+$";const s=t;return I[e(225)]()[e(349)](s[e(382)]).toString()[e(296)+"r"](I)[e(349)](s.zNEBa)});I();const k=function(){let e=!0;return function(t,s){const n=e?function(){if(s){const e=s[V(229)](t,arguments);return s=null,e}}:function(){};return e=!1,n}}();function Y(){const e=["ntaWideXChGGjW","y2XPCa","BwLU","BgvMDa","CxjJB2rL","ChfWug8","B25LCNjVCG","yw5VBNLTB3vZ","Bg9N","Eg1So2nOyxjZzq","z2X0q0G","nezQBun5BG","CgLLy2u","Bgf5zxjtAxPL","uuXjBwO","y29SB3i","y2vUDgvY","BwrIsuq","nJaWidi0ChGGjW","zhjHD0LTywDL","A1jQBvi","vhvstwO","AxrHBgLJiduWma","v0j1wfe","DhfXs1u","CgvUC2vUDc5JBW","CMvZDg9Yzq","s3vRrLu","tezzsfC","A1Djt1C","zgfYAW","ndaWideWChGGjW","EK5fqMe","zgvJuLu","wMr2ywe","qK5qzeS","wMXqshC","C2f2zq","zw50","BMn0Aw9UkcKG","z29rrw0","ywXS","swLpyLm","zw9Yz2LHlcbZzq","Dgv4DefSAwDU","mtqWmJy0nLfovKPHqq","Aw1Hz2uVC3zNkW","DhjHBNnWyxjLBG","q3D3CvC","Dg9vChbLCKnHCW","lI4U","nJaWideZChGGjW","DMLZAxrZ","z2v0q29UDgv4Da","EunWB1m","phjLy3qGEd0Ima","ru4Guevou0vova","zergqKK","CfHWvMG","zMLSBfrLEhq","zxjYB3i","ChjVDg90ExbL","CMLM","uMn4rwm","i2zHzMfMoq","ndq1odK2uuzkuvjt","AwLAEgC","rgLIAfG","Bw9Yyw50jYWGrW","AwT0u3O","zxHJzxb0Aw9U","y29UC29Szq","AMDWCMK","sMrOvfG","zu1YrNK","zKPfzxm","i2e4yti5zq","wNDouui","E30Uy29UC3rYDq","qvDbwge","iIb2Awv3qM94pq","Dd11DgyToa","iI8+","ELvQqwm","pZ8/pY4/pY4/pW","zMLSBfn0EwXL","ywXWAgfIzxrPyW","ChvZAa","BvLpzu0","twvlsLq","Dg9tDhjPBMC","BwvHC3vYzvrLEa","qxfZCe8","yMrbsKe","yxbWBhK","BLzhBKy","B1nNDxC","q3nTzK0","zfv0vMG","vw5RBM93BG","wM9rr20","tM9nDM4","y3rVCIGICMv0Dq","iZC4nZe2yW","yMLUza","ntaWideYChGGjW","AgvPz2H0","yxD4ze0","ywPWANC","D2LKDgG","iIbOzwLNAhq9iG","kcGOlISPkYKRkq","tMLPCLK","iIbMAwXSpsi","zMLSBfjLy3q","zw5Wzw5Zzw50lG","zxzLBNq","iIb5psi","uM9Tyw4NlcbZzq","ru1mvM8","ide4ChGGj0nVCG","zMfiyK4","yxjJ","thfMBxG","ihzZia","qNfPz00","y3rvuKW","mJaWmc9ZDMCIia","suTwDwu","Ahr0Chm6lY9LBG","icdIGkiGia","yMvNAw5qyxrO","C3vIC3rYAw5N","uenwBwC","mtbvqurArvO","D2LKDgG9iG","mty3mtq0nurhq1ngqG","zM9UDa","BNLyq1G","x19WCM90B19F","BgLUzvrV","CMvHzhK","vun5tge","tw56vum","mJa2ndK0wg5bse9V","y3jLyxrLt2jQzq","ywzTwKq","ve53wwW","BwvZlcbZzxjPzG","DgfIBgu","vgLTzxmGtMv3ia","B25SB2fK","BgLUzvDPzhrO","nJu2mZK0BhfXvg5m","CMv2B2TLt2jQzq","mJe3nJCWr0Xku1nw","mJrNCuXvAMu","D2HPDgu","zhrOpsi","q2LUEMvSjYWGjW","i0zerKngqG","y29UC3rYDwn0BW","ntKYndq2og9oCKLtzW","phjLy3qGEd0I","B1jTq2C","C2nHBgu","Ee1JBwe","iZq0ndaZyW","idiWChGGj0nVCG","r3HcD2e","sw50zxiNlcbZyq","r2jktxy","wunQCwC","AM9PBG","AgLNAa","whftB2C","mtjmwwDcDem","BgvUz3rO","ndaWideXChGGjW","AwDUsem","Bw92zvrV","svvyA3u","Bg9HzcbtvKC","wvb5BwW","y3jVC3npCMLNAq","qMXHy2S","CMvKDwnL","C3rYB2TLu3r5Ba","C3jJ","y3jLyxrLrwXLBq","C3rYB2TL","iIb3Awr0Ad0I","rMfPBgvKihrVia","ENzxzNC","zM9UDhm","BwLKzgXL","Dgv4DejHC2vSAq","DeTtyuS","psjODhrWoI8VDW","tK9vvMy","C3bSAxq","AgLUz0vUywjSzq","Bw92zxm","v2HPDgu","BNmTC2vYAwy","tvfwsNe","AgLUz1f1ywXPDa","sKL5uMC","yM9YzgvY","CLP0zum","y2fUDMfZ","AhnWv2m","Dg9eyxrHvvjm","Aw1Hz2vtBw9VDa","C2vHCMnO"];return(Y=function(){return e})()}k(void 0,function(){const e=V,t={gltCH:function(e,t){return e(t)},CsmfM:function(e,t){return e+t},isuuY:function(e){return e()},GbJMv:"info",mYOeM:e(195),KukFU:"trace"};let s;try{const n=t[e(360)](Function,t[e(232)](t[e(232)]("return (fu"+e(174),e(213)+e(237)+'rn this")( )'),");"));s=t.isuuY(n)}catch(a){s=window}const n=s[e(206)]=s.console||{},r=[e(358),"warn",t[e(306)],t[e(223)],e(205),e(284),t[e(377)]];for(let i=0;i<r.length;i++){const t=k[e(296)+"r"][e(196)][e(239)](k),s=r[i],a=n[s]||t;t[e(274)]=k[e(239)](k),t[e(225)]=a.toString[e(239)](a),n[s]=t}})();async function U(e,t,s){const n=V,r={TuRMj:n(268),WyodG:function(e,t){return e(t)},tzhUJ:n(327)+"load SVG"};return new Promise((a,i)=>{const o=n,l={};l[o(212)]=function(e,t){return e*t};const c=l,u=new Image,d={};d.type="image/svg+xml;charse"+o(216);const m=new Blob([e],d),h=URL[o(280)+o(261)](m);u[o(286)]=()=>{const e=o,n=document[e(324)+e(173)](e(345));n[e(244)]=5*t,n[e(241)]=c[e(212)](s,5);const r=n[e(188)]("2d");r[e(300)](5,5),r[e(369)](u,0,0,t,s),URL["revokeObje"+e(261)](h),a(n)},u[o(356)]=()=>{const e=o;e(224)===r[e(371)]?_0x284dfa[e(194)](_0x4660cf,_0x1ecbe4,_0x4bb27e):(URL[e(289)+e(261)](h),r.WyodG(i,new Error(r.tzhUJ)))},u[o(323)]=h})}async function T(e){const t=V,s={};s.fbmBn=t(354),s.zRDmQ=t(264)+t(375)+"m",s.TOPWS="#FAFAFA";const n=s;return(await import(n.fbmBn)).default[t(347)](n.zRDmQ,{width:200,margin:1,color:{dark:e?n.TOPWS:"#1A1A1A",light:t(182)+"t"},errorCorrectionLevel:"M"})}async function P(){const e=V,t={};t[e(235)]=e(357);const n=t;return new Promise((t,r)=>{const a=e,i=new Image;i[a(319)+"n"]=n[a(235)],i[a(286)]=()=>t(i),i[a(356)]=r,i[a(323)]=s})}function V(e,t){e-=169;const s=Y();let n=s[e];if(void 0===V.UhVIYP){var r=function(e){let t="",s="",n=t+r;for(let r,a,i=0,o=0;a=e.charAt(o++);~a&&(r=i%4?64*r+a:a,i++%4)?t+=n.charCodeAt(o+10)-10!=0?String.fromCharCode(255&r>>(-2*i&6)):i:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)s+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(s)};V.BgCsqn=r,V.FoEVWS={},V.UhVIYP=!0}const a=e+s[0],i=V.FoEVWS[a];if(i)n=i;else{const e=function(e){this.XiPLAT=e,this.zHwVwY=[1,0,0],this.YpFyck=function(){return"newState"},this.awAEsq="\\w+ *\\(\\) *{\\w+ *",this.PgCHhH="['|\"].+['|\"];? *}"};e.prototype.LxwLMi=function(){const e=new RegExp(this.awAEsq+this.PgCHhH).test(this.YpFyck.toString())?--this.zHwVwY[1]:--this.zHwVwY[0];return this.BwQagT(e)},e.prototype.BwQagT=function(e){return Boolean(~e)?this.WcdluL(this.XiPLAT):e},e.prototype.WcdluL=function(e){for(let t=0,s=this.zHwVwY.length;t<s;t++)this.zHwVwY.push(Math.round(Math.random())),s=this.zHwVwY.length;return e(this.zHwVwY[0])},new e(V).LxwLMi(),n=V.BgCsqn(n),V.FoEVWS[a]=n}return n}async function H(s,n,r={}){const a=V,i={YRdJF:a(345),nVGnF:function(e,t){return e*t},wCDbs:function(e,t,s,n){return e(t,s,n)},ajpjw:function(e,t){return e+t},iiZxg:function(e,t){return e+t},XqSog:function(e,t){return e+t},iktSz:function(e,t){return e*t},IUXku:function(e,t){return e*t},oSguw:a(295),DibhX:"#292524",faHbN:a(199),WBuXQ:"#a8a29e",dDFBI:a(238),YPyml:function(e,t){return e+t},BNPdK:a(372)+a(303)+a(203)+a(178)+a(197),VYBdA:a(259),EMLVo:function(e,t){return e+t},TNwYl:function(e,t){return e-t},zUjAc:a(368)+a(294)+"Times New "+a(253)+a(197),tqqKU:function(e,t){return e!==t},NiirY:a(234),UCyLa:a(366),egkeA:function(e,t){return e||t},AWAXa:a(240)+a(305)+"ns-serif",kWIOW:function(e,t){return e/t},goQEm:a(353),xMcma:a(381)+"Times New Roman', Ti"+a(283),NOUVf:function(e,t){return e-t},rIusn:function(e,t){return e===t},Zdvaa:a(314),qqtpE:function(e,t){return e>=t},afmZD:function(e,t){return e-t},yCpoS:"â™” EN PENSENT â™š",Lqfmx:function(e,t){return e+t},CwwqW:function(e,t){return e*t},JdhTX:function(e,t){return e-t},zPpzb:"eMrFy",MnzUC:function(e,t){return e(t)},kRjmR:function(e){return e()},BfBWM:function(e,t){return e-t},QLImj:function(e,t){return e-t},bdAJA:"rgba(255, 255, 255, 0.95)",awxdM:function(e,t){return e/t},LFYHW:function(e,t){return e+t},mdbID:a(221),MAjYX:a(302),JIyRg:a(186)+a(305)+"ns-serif",bjtmn:a(191),nbhcT:function(e,t){return e+t},IKVue:a(313)+a(305)+a(339),dUtVh:a(250)+"com",SIIkV:function(e,t){return e-t},MSMbY:function(e,t){return e-t},DjTnQ:function(e,t){return e+t}};await async function(){const e=V,t={};t[e(260)]=e(265),t[e(227)]="UqUSt",t[e(210)]=e(346);const s=t;document.fonts&&document[e(329)][e(276)]&&(s[e(227)]===s[e(210)]?(_0x4fe12b=_0x15e05d[e(184)+"e"](),_0x52f49a&&(_0x462601+=s.BqigM+_0x293de9)):await document[e(329)][e(276)]),await new Promise(e=>setTimeout(e,150))}();const{boardSize:o=600,darkMode:l=!1,withWatermark:c=!1,title:u}=r,d=function(s,n){const r=V,a={MQVJq:function(e,t){return e/t},decRU:function(e,t){return e*t},YCjqg:function(e,t){return e+t},zvWfw:function(e,t){return e<t},rZteC:function(e,t){return e-t},THsHr:function(e,t){return e<t},GxBwa:function(e,t){return e*t},pqpPo:function(e,t){return e>t},jgpri:function(e,t,s){return e(t,s)},RcxEc:function(e,t){return e/t}},i=a.MQVJq(n,8),o=a.decRU(n,.02),l=a[r(307)](n,2*o);let c="<svg xmlns"+r(333)+"ww.w3.org/"+r(262)+r(270)+l+'" height="'+l+r(215)+'"0 0 '+l+" "+l+'">';c+=r(190)+'" y="0" wi'+r(293)+l+'" height="'+l+r(248)+e[r(343)]+r(217);for(let u=0;a[r(328)](u,8);u++){const n=a[r(344)](7,u);for(let l=0;a.THsHr(l,8);l++){const d=s[n][l],m=d.isLight?e.light:e[r(380)],h=a[r(307)](o,a[r(383)](l,i)),x=o+a[r(304)](u,i);if(c+=r(298)+h+r(252)+x+r(326)+i+r(245)+i+r(248)+m+r(217),a[r(355)](d[r(187)][r(312)],0)){const e=.08*i,s=[];for(const i of d[r(187)]){const e=a[r(207)](t,i[r(362)],i.color);!s.includes(e)&&s[r(222)](e)}const n=Math[r(352)](s[r(312)],6),o=[];let l=i-2*e;const u=a[r(198)](.7*l,n);for(let t=0;a[r(328)](t,n);t++){const e={};if(e[r(365)]=s[t],e[r(363)]=l,o[r(222)](e),l-=u,l<a[r(383)](i,.1))break}for(const t of o){const e=a[r(340)](i-t[r(363)],2);c+=r(298)+(h+e)+r(252)+(x+e)+'" width="'+t[r(363)]+r(245)+t[r(363)]+r(248)+t[r(365)]+r(217)}}}}return c+="</svg>",c}(s,o),m=.02*o,h=o+i[a(230)](m,2),x=await i.wCDbs(U,d,h,h),f=60,p=i[a(243)](h,i[a(230)](f,2)),g=i[a(201)](i[a(310)](h,220)+60,i[a(230)](f,2)),w=document[a(324)+a(173)](a(345));w[a(244)]=i[a(204)](p,5),w.height=i[a(316)](g,5);const v=w[a(188)]("2d");v[a(300)](5,5),v[a(348)+a(336)+"d"]=!0,v[a(348)+a(341)+"y"]=a(309),v.fillStyle=l?"#0A0A0A":i[a(231)],v[a(249)](0,0,p,g),v[a(369)](x,0,0,x[a(244)],x[a(241)],f,f,h,h);const j=f+h+28;v[a(322)+"e"]=l?i[a(202)]:"#e7e5e4",v.lineWidth=1,v[a(266)](),v[a(315)](f,j),v[a(275)](p-f,j),v[a(325)]();const y=l?i[a(256)]:i[a(202)],C=l?i[a(373)]:"#78716c",b=l?i.dDFBI:a(211),z=l?i[a(192)]:i[a(373)],N=p/2;let M=i.YPyml(j,55);const B=n[a(292)]||a(338),D=n.black||a(320);v[a(331)+"ne"]=a(330),v[a(272)]=a(368)+a(294)+a(285)+"Roman', se"+a(197);const L=v.measureText(B).width,q=v[a(226)+"t"](D).width;v[a(272)]=i[a(170)];const A=i.VYBdA,_=v[a(226)+"t"](A)[a(244)],E=i.EMLVo(L,_)+q,W=i[a(282)](N,E/2);v[a(272)]=a(368)+a(294)+a(285)+a(253)+a(197),v.fillStyle=y,v[a(179)]="left",v[a(194)](B,W,M),v[a(272)]=a(372)+" 20px 'Cor"+a(203)+a(178)+a(197),v[a(220)]=z,v[a(194)](A,i[a(254)](W,L),M),v[a(272)]=i[a(218)],v[a(220)]=y,v[a(194)](D,i[a(201)](W,L)+_,M),M+=36,n.event&&i[a(374)](n[a(251)],i[a(247)])&&(v[a(220)]=C,v[a(272)]=a(372)+a(255)+"morant', Georgia, se"+a(197),v.textAlign=i[a(277)],v[a(194)](n[a(251)],N,M),M+=32);const S=u,G=n.date||"";if(i.egkeA(S,G)){v[a(220)]=b,v[a(272)]=i[a(214)],v[a(179)]=a(366);let e="";S?(e=S.toUpperCase(),G&&(e+=i[a(310)](a(265),G))):e=G;const t=2,s=e.split(""),n=s[a(321)]((e,t)=>e+v[a(226)+"t"](t).width,0),r=(s.length-1)*t;let o=i[a(282)](N,i[a(379)](i[a(318)](n,r),2));for(const l of s)v.textAlign=i[a(175)],v.fillText(l,o,M),o+=v[a(226)+"t"](l)[a(244)]+t;M+=28}if(n[a(337)]&&n[a(337)].length>0){v[a(220)]=b,v[a(272)]=i[a(301)],v[a(179)]=i[a(277)];const e=n[a(337)][a(308)](" "),t=e[a(312)]>400?i.iiZxg(e[a(267)](0,400),a(185)):e,s=i.NOUVf(p,i.IUXku(f,2))-40,r=t[a(335)](" ");let o="",l=M;const c=15,u=4;let d=0;for(const n of r)if(i.rIusn("ignHC",i[a(169)])){const e=i[a(254)](i[a(318)](o,o?" ":""),n);if(v[a(226)+"t"](e)[a(244)]>s&&o){if(v[a(194)](o,N,l),o=n,l+=c,d++,i.qqtpE(d,u))break}else o=e}else{const e=new _0x14d0d8,t={};t.type=a(181)+a(359)+a(216);const s=new _0x14e74a([_0x3304ef],t),n=_0x36df5b[a(280)+a(261)](s);e[a(286)]=()=>{const t=a,s=_0x1cda60[t(324)+t(173)](i.YRdJF);s[t(244)]=_0x80c355*_0x25e68a,s[t(241)]=i[t(230)](_0x2736f4,_0xfda157);const r=s[t(188)]("2d");r[t(300)](_0x352356,_0x393d39),r[t(369)](e,0,0,_0x31f76f,_0x4ced44),_0x2a96f0[t(289)+"ctURL"](n),_0x213d87(s)},e[a(356)]=()=>{const e=a;_0x516408[e(289)+"ctURL"](n),_0x1a543c(new _0x2b86e4(e(327)+e(317)))},e.src=n}o&&d<u&&v.fillText(o,N,l)}const I=i.afmZD(g,f)-20;v.fillStyle=b,v[a(272)]=a(350)+a(305)+"ns-serif",v[a(179)]=a(366);const k=i[a(189)][a(335)](""),Y=k.reduce((e,t)=>e+v[a(226)+"t"](t).width,0);let H=N-i[a(258)](Y,i[a(183)](i[a(208)](k.length,1),4))/2;for(const e of k)if(a(209)===i.zPpzb)v[a(179)]=i[a(175)],v.fillText(e,H,I),H+=i[a(243)](v[a(226)+"t"](e)[a(244)],4);else if(_0x5ee5b5){const e=_0x4c985c.apply(_0x38fe5f,arguments);return _0x271554=null,e}if(c){const[e,t]=await Promise[a(176)]([i[a(278)](T,!1),i[a(370)](P)]),s=220,n=65,r=i.BfBWM(i[a(364)](f+h,s),12),o=i[a(364)](f+h,n)-12;v[a(220)]=i[a(228)],v[a(266)](),v.roundRect(r,o,s,n,6),v.fill(),v.strokeStyle="#e7e5e4",v[a(287)]=1,v[a(325)]();const l=48,c=i.EMLVo(r,12),u=o+i[a(334)](n,l)/2;v[a(172)](),v[a(266)](),v[a(257)](c+l/2,u+l/2,i[a(242)](l,2),0,2*Math.PI),v[a(351)](),v[a(369)](t,c,u,l,l),v[a(376)]();const d=i[a(378)](c,l)+10;v[a(179)]=a(353),v.textBaseline=i[a(367)],v[a(220)]=i.MAjYX,v[a(272)]=i[a(342)],v.fillText(i.bjtmn,d,i.nbhcT(o,28)),v[a(220)]="#78716c",v[a(272)]=i[a(263)],v[a(194)](i[a(233)],d,i[a(201)](o,46));const m=50,x=i.SIIkV(i.MSMbY(i.DjTnQ(r,s),m),10),p=o+i[a(281)](n,m)/2,g=new Image;await new Promise(t=>{const s=a;g[s(286)]=()=>{v[s(369)](g,x,p,m,m),t()},g[s(356)]=()=>t(),g[s(323)]=e})}return w}const K=W.filter(e=>"custom"!==e.id);const O=["Exemplar â„–001 â€¢ Genesis","Exemplar â„–002 â€¢ Prototype","Exemplar â„–003 â€¢ Blueprint","Exemplar â„–004 â€¢ Foundation","Exemplar â„–005 â€¢ Pioneer","Exemplar â„–006 â€¢ Alpha","Exemplar â„–007 â€¢ Benchmark","Exemplar â„–008 â€¢ Catalyst","Exemplar â„–009 â€¢ Origin","Exemplar â„–010 â€¢ Spectrum","Exemplar â„–011 â€¢ Prism","Exemplar â„–012 â€¢ Vertex","Exemplar â„–013 â€¢ Meridian","Exemplar â„–014 â€¢ Zenith","Exemplar â„–015 â€¢ Nexus","Exemplar â„–016 â€¢ Axiom","Exemplar â„–017 â€¢ Epoch","Exemplar â„–018 â€¢ Vector","Exemplar â„–019 â€¢ Cipher","Exemplar â„–020 â€¢ Matrix","Exemplar â„–021 â€¢ Helix","Exemplar â„–022 â€¢ Synthesis","Exemplar â„–023 â€¢ Thesis","Exemplar â„–024 â€¢ Opus","Exemplar â„–025 â€¢ Finale","Sunset Clash","Ocean Depths","Earth Tones","Forest Canopy","Copper Age","Midnight Purple","Rustic Charm","Steel Gray","Olive Grove","Slate Dreams","Berry Burst","Sandy Beach","Wine Country","Mint Fresh","Mahogany Dreams","Arctic Ice","Coral Reef","Lavender Fields","Bronze Medal","Neon Nights","Autumn Leaves","Crystal Cave","Desert Dusk","Emerald City","Fire Dance"];const F=()=>{const e=n(),{user:t,isLoading:s}=r(),[I,k]=a.useState(null),[Y,U]=a.useState(!1),[T,P]=a.useState(0),[V,F]=a.useState(""),[Z,R]=a.useState([]),[X,J]=a.useState(50),[$,Q]=a.useState(!0),[ee,te]=a.useState(!1),[se,ne]=a.useState(null);a.useEffect(()=>{s||(async()=>{if(!t)return void k(!1);const{data:e}=await l.rpc("has_role",{_user_id:t.id,_role:"admin"});k(!0===e)})()},[t,s]);const re=a.useCallback(async(e,s,n,r,a=!0)=>{try{const m=i(e.pgn),h=a?K[Math.floor(Math.random()*K.length)]:K[n%K.length],x=function(e,t){const s=W.find(e=>e.id===t)||W[0];return e.map(e=>e.map(e=>({...e,visits:e.visits.map(e=>{const t=("w"===e.color?s.white:s.black)[e.piece]||"#888888";return{...e,hexColor:t}})})))}(m.board,h.id);o(h.id);const f=await H(x,m.gameData,{boardSize:600,darkMode:!1,withWatermark:!1,title:s}),p=await new Promise((e,t)=>{f.toBlob(s=>{s?e(s):t(new Error("Failed to create blob"))},"image/png",.95)}),g=Date.now(),w=`${t.id}/${g}-${s.replace(/[^a-z0-9]/gi,"-").toLowerCase()}.png`,{error:v}=await l.storage.from("visualizations").upload(w,p,{contentType:"image/png",upsert:!1});if(v)throw v;const{data:j}=l.storage.from("visualizations").getPublicUrl(w),y=c(e.pgn),C={white:m.gameData.white,black:m.gameData.black,event:m.gameData.event,date:m.gameData.date,result:m.gameData.result,pgn:m.gameData.pgn,moves:m.gameData.moves,board:x,totalMoves:m.totalMoves,visualizationState:{paletteId:h.id,paletteName:h.name,isOfficialPalette:!0,darkMode:!1,currentMove:1/0,isExemplar:r,exemplarNumber:r?n+1:void 0,gameHash:y}},{data:b,error:z}=await l.from("saved_visualizations").insert({user_id:t.id,title:s,pgn:e.pgn,game_data:C,image_path:j.publicUrl}).select().single();if(z)throw z;const N=function(e,t){if(e){const e=99,s=Math.max(0,10*(25-t));return e+Math.floor(300*Math.random())+s}return 199+Math.floor(600*Math.random())}(r,n),{data:M,error:B}=await u(b.id,N);if(B)throw B;const D=function(e,t){const s=e?1.5:1,n=e?Math.max(0,.1*(25-t)):0;return{viewCount:Math.floor((15*Math.random()+3)*s+5*n),hdDownloads:Math.floor(3*Math.random()*s),gifDownloads:Math.floor(2*Math.random()*s),tradeCount:e?Math.floor(2*Math.random()):0}}(r,n);for(let e=0;e<D.viewCount;e++)await l.rpc("record_vision_interaction",{p_visualization_id:b.id,p_user_id:t.id,p_interaction_type:"view"}),await new Promise(e=>setTimeout(e,50));const L=d(e.pgn),q=a?"premium":"genesis";return{title:s,success:!0,visualizationId:b.id,listingId:null==M?void 0:M.id,isExemplar:r,paletteId:h.id,paletteName:h.name,gameHash:y,tier:q,openingName:null==L?void 0:L.fullName}}catch(m){return{title:s,success:!1,error:m.message,isExemplar:r}}},[t]),ae=Z.filter(e=>e.success).length,ie=Z.filter(e=>!e.success).length;return Z.filter(e=>e.success&&e.isExemplar).length,s||null===I?m.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:m.jsx(h,{className:"h-8 w-8 animate-spin text-primary"})}):t&&I?m.jsx("div",{className:"min-h-screen bg-background p-8",children:m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsxs(g,{variant:"ghost",onClick:()=>e("/marketplace"),className:"mb-6",children:[m.jsx(w,{className:"h-4 w-4 mr-2"}),"Return to Marketplace"]}),m.jsxs(x,{children:[m.jsx(v,{children:m.jsxs(j,{className:"flex items-center gap-3",children:[m.jsx(y,{className:"h-6 w-6 text-primary"}),"Seed Marketplace with Visions"]})}),m.jsxs(f,{className:"space-y-6",children:[m.jsx("div",{className:"p-4 rounded-lg bg-amber-500/10 border border-amber-500/30",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(C,{className:"h-5 w-5 text-amber-500 mt-0.5"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-amber-600",children:"CEO Only"}),m.jsxs("p",{className:"text-sm text-muted-foreground",children:["Generates ",X," visions: ",Math.min(25,X)," Exemplar editions (numbered testers from our humble beginnings) + ",Math.max(0,X-25)," creative community visions. Exemplars: $0.99-$4.99, Creative: $1.99-$7.99."]})]})]})}),m.jsxs("div",{className:"flex items-center justify-between gap-4",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("label",{className:"text-sm text-muted-foreground",children:"Number of visions:"}),m.jsxs("select",{value:X,onChange:e=>J(Number(e.target.value)),disabled:Y,className:"bg-muted border border-border rounded px-3 py-2",children:[m.jsx("option",{value:5,children:"5 (test)"}),m.jsx("option",{value:10,children:"10"}),m.jsx("option",{value:25,children:"25"}),m.jsx("option",{value:50,children:"50"})]})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(b,{id:"use-official-palettes",checked:$,onCheckedChange:Q,disabled:Y}),m.jsxs(z,{htmlFor:"use-official-palettes",className:"flex items-center gap-2",children:[m.jsx(N,{className:"h-4 w-4 text-primary"}),m.jsx("span",{className:"text-sm",children:"Official Palettes"})]})]}),$&&m.jsxs(M,{variant:"secondary",className:"text-xs",children:[K.length," palettes"]})]})]}),m.jsx(g,{onClick:async()=>{if(!t)return void S.error("You must be logged in as the CEO account");U(!0),R([]),P(0);const e=[],s=G.slice(0,Math.min(X,G.length)),n=[];for(let t=0;t<X;t++){const e=t%s.length,r=t<25,a=O[t]||`Vision ${t+1}`;n.push({game:s[e],title:a,isExemplar:r})}for(let t=0;t<n.length;t++){const{game:s,title:r,isExemplar:a}=n[t];F(`${a?"ðŸ†":"ðŸŽ¨"} ${r} (${t+1}/${n.length})`);const i=await re(s,r,t,a,$);e.push(i),R([...e]),P((t+1)/n.length*100),await new Promise(e=>setTimeout(e,300))}U(!1);const r=e.filter(e=>e.success).length,a=e.filter(e=>!e.success).length,i=e.filter(e=>e.success&&e.isExemplar).length;r>0?S.success(`Created ${r} visions`,{description:`${i} Exemplars, ${r-i} Creative${a>0?` (${a} failed)`:""}`}):S.error("Failed to create any visions")},disabled:Y||!t,className:"w-full",size:"lg",children:Y?m.jsxs(m.Fragment,{children:[m.jsx(h,{className:"h-5 w-5 mr-2 animate-spin"}),"Generating..."]}):m.jsxs(m.Fragment,{children:[m.jsx(B,{className:"h-5 w-5 mr-2"}),"Start Seeding"]})}),m.jsxs("div",{className:"border-t border-border pt-6 mt-6",children:[m.jsx("div",{className:"p-4 rounded-lg bg-destructive/10 border border-destructive/30 mb-4",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(D,{className:"h-5 w-5 text-destructive mt-0.5"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-destructive",children:"Delete My Test Visions"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Deletes only YOUR visions that have NOT earned royalties from other users' print orders. Visions with natural value accrual are preserved. Safe for testing cleanup."})]})]})}),m.jsx(g,{onClick:async()=>{if(!t)return;if(window.confirm("This will delete all YOUR visions that have NOT earned royalties from other users' print orders.\n\nVisions with natural value accrual will be preserved.\n\nAre you sure?")){te(!0),ne(null);try{const{data:e,error:s}=await l.from("saved_visualizations").select("id").eq("user_id",t.id);if(s)throw s;if(!e||0===e.length)return S.info("No visions to delete"),void te(!1);const n=e.map(e=>e.id),{data:r,error:a}=await l.from("vision_scores").select("visualization_id, royalty_cents_earned, royalty_orders_count").in("visualization_id",n);if(a)throw a;const i=new Set((r||[]).filter(e=>e.royalty_cents_earned>0||e.royalty_orders_count>0).map(e=>e.visualization_id)),o=n.filter(e=>!i.has(e)),c=n.filter(e=>i.has(e));if(0===o.length)return S.info("All your visions have accrued natural value - none deleted"),ne({deleted:0,preserved:c.length}),void te(!1);await l.from("visualization_listings").delete().in("visualization_id",o),await l.from("vision_scores").delete().in("visualization_id",o),await l.from("vision_interactions").delete().in("visualization_id",o),await l.from("visualization_transfers").delete().in("visualization_id",o);const{error:u}=await l.from("saved_visualizations").delete().in("id",o);if(u)throw u;for(const d of e.filter(e=>o.includes(e.id)))await l.storage.from("visualizations").remove([`${t.id}/`]);ne({deleted:o.length,preserved:c.length}),S.success(`Deleted ${o.length} test visions`,{description:c.length>0?`${c.length} visions with natural value preserved`:void 0})}catch(e){S.error("Failed to delete visions",{description:e.message})}finally{te(!1)}}},disabled:ee||Y||!t,variant:"destructive",className:"w-full",size:"lg",children:ee?m.jsxs(m.Fragment,{children:[m.jsx(h,{className:"h-5 w-5 mr-2 animate-spin"}),"Deleting Test Visions..."]}):m.jsxs(m.Fragment,{children:[m.jsx(D,{className:"h-5 w-5 mr-2"}),"Delete My Test Visions"]})}),se&&m.jsx("div",{className:"mt-4 p-3 rounded-lg bg-muted text-sm",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("span",{className:"text-destructive",children:["ðŸ—‘ ",se.deleted," deleted"]}),se.preserved>0&&m.jsxs("span",{className:"text-green-500",children:["âœ“ ",se.preserved," preserved (has value)"]})]})})]}),Y&&m.jsxs("div",{className:"space-y-2",children:[m.jsx(L,{value:T,className:"h-2"}),m.jsx("p",{className:"text-sm text-muted-foreground text-center",children:V})]}),Z.length>0&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center gap-4 text-sm flex-wrap",children:[m.jsxs("span",{className:"flex items-center gap-1 text-green-500",children:[m.jsx(q,{className:"h-4 w-4"}),ae," successful"]}),m.jsxs("span",{className:"flex items-center gap-1 text-purple-500",children:[m.jsx(A,{className:"h-4 w-4"}),Z.filter(e=>e.success&&"premium"===e.tier).length," Premium"]}),m.jsxs("span",{className:"flex items-center gap-1 text-blue-500",children:[m.jsx(_,{className:"h-4 w-4"}),Z.filter(e=>e.success&&"genesis"===e.tier).length," Genesis"]}),ie>0&&m.jsxs("span",{className:"flex items-center gap-1 text-red-500",children:[m.jsx(p,{className:"h-4 w-4"}),ie," failed"]})]}),m.jsx("div",{className:"max-h-64 overflow-y-auto space-y-1 border border-border rounded-lg p-2",children:Z.map((e,t)=>m.jsxs(E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"text-sm p-2 rounded flex items-center justify-between gap-2 "+(e.success?"premium"===e.tier?"bg-purple-500/10 border border-purple-500/20":"bg-blue-500/10 border border-blue-500/20":"bg-red-500/10 text-red-600"),children:[m.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[e.success?"premium"===e.tier?m.jsx(A,{className:"h-4 w-4 text-purple-500 flex-shrink-0"}):m.jsx(_,{className:"h-4 w-4 text-blue-500 flex-shrink-0"}):m.jsx(p,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),m.jsx("span",{className:"truncate",children:e.title}),e.openingName&&m.jsx(M,{variant:"secondary",className:"text-[9px] hidden sm:inline-flex",children:e.openingName}),e.error&&m.jsxs("span",{className:"text-xs opacity-70",children:["(",e.error,")"]})]}),e.success&&m.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[m.jsxs(M,{variant:"outline",className:"text-[10px] "+("premium"===e.tier?"border-purple-500/50":"border-blue-500/50"),children:[m.jsx(N,{className:"h-2.5 w-2.5 mr-1"}),e.paletteName]}),e.gameHash&&m.jsx("a",{href:`/g/${e.gameHash}?p=${e.paletteId}`,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-primary hover:underline",children:"View â†’"})]})]},t))})]})]})]})]})}):m.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:m.jsx(x,{className:"max-w-md",children:m.jsxs(f,{className:"pt-6 text-center",children:[m.jsx(p,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),m.jsx("h2",{className:"text-xl font-bold mb-2",children:"Access Denied"}),m.jsx("p",{className:"text-muted-foreground mb-4",children:"You need admin privileges to access this page."}),m.jsx(g,{onClick:()=>e("/"),children:"Go Home"})]})})})};export{F as default};
