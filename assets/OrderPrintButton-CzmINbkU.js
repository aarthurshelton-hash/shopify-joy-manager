const n="import React from 'react';\nimport { motion } from 'framer-motion';\nimport { Printer, Sparkles } from 'lucide-react';\nimport { useNavigate } from 'react-router-dom';\nimport { Button } from '@/components/ui/button';\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from '@/components/ui/tooltip';\nimport { usePrintOrderStore, PrintOrderData } from '@/stores/printOrderStore';\nimport { useSessionStore } from '@/stores/sessionStore';\n\ninterface OrderPrintButtonProps {\n  /** Visual variant of the button */\n  variant?: 'default' | 'subtle' | 'icon-only' | 'luxury';\n  /** Size of the button */\n  size?: 'sm' | 'md' | 'lg';\n  /** Optional custom class names */\n  className?: string;\n  /** Whether to show animation effects */\n  animated?: boolean;\n  /** Optional onClick handler (defaults to navigation) */\n  onClick?: () => void;\n  /** Optional order data to pre-fill the order page */\n  orderData?: PrintOrderData;\n}\n\n/**\n * A stylish but not obnoxious \"Order Print\" button component\n * Used throughout the site near save visualization options\n */\nexport const OrderPrintButton: React.FC<OrderPrintButtonProps> = ({\n  variant = 'default',\n  size = 'md',\n  className = '',\n  animated = true,\n  onClick,\n  orderData,\n}) => {\n  const navigate = useNavigate();\n  const { setOrderData } = usePrintOrderStore();\n  const { \n    setCurrentSimulation, \n    setSavedShareId: setSessionShareId,\n    setCapturedTimelineState,\n    setReturningFromOrder \n  } = useSessionStore();\n\n  const handleClick = () => {\n    if (onClick) {\n      onClick();\n    } else if (orderData) {\n      // Save simulation to session store so we can restore it when returning\n      if (orderData.simulation) {\n        setCurrentSimulation(\n          orderData.simulation, \n          orderData.pgn || '', \n          orderData.title\n        );\n        if (orderData.shareId) {\n          setSessionShareId(orderData.shareId);\n        }\n      }\n      \n      // Capture timeline state for exact visual restoration\n      if (orderData.capturedState) {\n        setCapturedTimelineState({\n          currentMove: orderData.capturedState.currentMove,\n          totalMoves: orderData.simulation?.totalMoves,\n          title: orderData.title,\n          lockedPieces: orderData.capturedState.lockedPieces.map(p => ({\n            pieceType: p.pieceType as any,\n            pieceColor: p.pieceColor as any,\n          })),\n          compareMode: orderData.capturedState.compareMode,\n          darkMode: orderData.capturedState.darkMode,\n        });\n      }\n      \n      // Mark that we're navigating to order page for toast on return\n      setReturningFromOrder(true);\n      \n      // Include current path as return path if not already set\n      const dataWithReturnPath = {\n        ...orderData,\n        returnPath: orderData.returnPath || window.location.pathname,\n      };\n      setOrderData(dataWithReturnPath);\n      navigate('/order-print');\n    } else {\n      // Fallback to home if no data\n      navigate('/');\n    }\n  };\n\n  const sizeClasses = {\n    sm: 'h-8 text-xs gap-1.5 px-3',\n    md: 'h-10 text-sm gap-2 px-4',\n    lg: 'h-12 text-base gap-2.5 px-6',\n  };\n\n  const iconSize = {\n    sm: 'h-3 w-3',\n    md: 'h-4 w-4',\n    lg: 'h-5 w-5',\n  };\n\n  // Icon-only variant with tooltip\n  if (variant === 'icon-only') {\n    return (\n      <TooltipProvider>\n        <Tooltip>\n          <TooltipTrigger asChild>\n            <motion.button\n              onClick={handleClick}\n              className={`\n                inline-flex items-center justify-center rounded-md\n                bg-gradient-to-r from-amber-500/10 to-amber-600/10\n                border border-amber-500/20 hover:border-amber-500/40\n                text-amber-600 dark:text-amber-400\n                transition-all duration-300 hover:scale-105\n                ${size === 'sm' ? 'h-8 w-8' : size === 'lg' ? 'h-12 w-12' : 'h-10 w-10'}\n                ${className}\n              `}\n              whileHover={animated ? { scale: 1.05 } : undefined}\n              whileTap={animated ? { scale: 0.95 } : undefined}\n            >\n              <Printer className={iconSize[size]} />\n            </motion.button>\n          </TooltipTrigger>\n          <TooltipContent>\n            <p className=\"font-display text-xs\">Order Premium Print</p>\n          </TooltipContent>\n        </Tooltip>\n      </TooltipProvider>\n    );\n  }\n\n  // Subtle variant - minimal styling\n  if (variant === 'subtle') {\n    return (\n      <motion.button\n        onClick={handleClick}\n        className={`\n          inline-flex items-center justify-center rounded-md\n          text-muted-foreground hover:text-amber-600 dark:hover:text-amber-400\n          transition-colors duration-200\n          ${sizeClasses[size]}\n          ${className}\n        `}\n        whileHover={animated ? { scale: 1.02 } : undefined}\n        whileTap={animated ? { scale: 0.98 } : undefined}\n      >\n        <Printer className={iconSize[size]} />\n        <span className=\"font-display tracking-wide\">Order Print</span>\n      </motion.button>\n    );\n  }\n\n  // Luxury variant - premium feel with gradient\n  if (variant === 'luxury') {\n    return (\n      <motion.button\n        onClick={handleClick}\n        className={`\n          relative inline-flex items-center justify-center rounded-lg overflow-hidden\n          bg-gradient-to-r from-amber-500 via-amber-400 to-yellow-500\n          text-stone-900 font-semibold\n          shadow-lg shadow-amber-500/20\n          transition-all duration-300\n          ${sizeClasses[size]}\n          ${className}\n        `}\n        whileHover={animated ? { scale: 1.03, boxShadow: '0 10px 40px -10px rgba(245, 158, 11, 0.4)' } : undefined}\n        whileTap={animated ? { scale: 0.97 } : undefined}\n      >\n        {/* Shimmer effect */}\n        <motion.div\n          className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent\"\n          initial={{ x: '-100%' }}\n          animate={{ x: '100%' }}\n          transition={{ \n            duration: 2, \n            repeat: Infinity, \n            repeatDelay: 3,\n            ease: 'easeInOut' \n          }}\n        />\n        <Sparkles className={`${iconSize[size]} relative z-10`} />\n        <span className=\"relative z-10 font-display tracking-wide uppercase\">Order Print</span>\n      </motion.button>\n    );\n  }\n\n  // Default variant - balanced styling\n  return (\n    <Button\n      onClick={handleClick}\n      variant=\"outline\"\n      className={`\n        border-amber-500/30 hover:border-amber-500/50\n        bg-gradient-to-r from-amber-500/5 to-amber-600/5\n        hover:from-amber-500/10 hover:to-amber-600/10\n        text-amber-700 dark:text-amber-400\n        ${sizeClasses[size]}\n        ${className}\n      `}\n    >\n      <motion.span\n        className=\"inline-flex items-center gap-2\"\n        whileHover={animated ? { scale: 1.02 } : undefined}\n      >\n        <Printer className={iconSize[size]} />\n        <span className=\"font-display tracking-wide\">Order Print</span>\n      </motion.span>\n    </Button>\n  );\n};\n\nexport default OrderPrintButton;\n";export{n as default};
