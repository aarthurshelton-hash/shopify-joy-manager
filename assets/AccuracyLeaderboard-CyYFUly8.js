const e='/**\n * En Pensent™ Prediction Accuracy Leaderboard\n * \n * Shows archetype performance, baseline comparison, and accuracy stats.\n */\n\nimport React from \'react\';\nimport { Card, CardContent, CardHeader, CardTitle } from \'@/components/ui/card\';\nimport { Badge } from \'@/components/ui/badge\';\nimport { Progress } from \'@/components/ui/progress\';\nimport { Trophy, Target, TrendingUp, BarChart3, Award } from \'lucide-react\';\nimport { MARKET_ARCHETYPES } from \'@/lib/pensent-core/domains/finance/types\';\n\ninterface ArchetypePerformance {\n  total: number;\n  correct: number;\n  avgAccuracy: number;\n  baselineCorrect: number;\n  baselineTotal: number;\n}\n\ninterface AccuracyLeaderboardProps {\n  archetypePerformance: Record<string, ArchetypePerformance>;\n  overview?: Array<{\n    archetype: string;\n    time_horizon: string;\n    resolved_predictions: number;\n    correct_predictions: number;\n    accuracy_percent: number;\n    avg_accuracy_score: number;\n    baseline_accuracy_percent: number;\n  }>;\n}\n\nexport const AccuracyLeaderboard: React.FC<AccuracyLeaderboardProps> = ({\n  archetypePerformance,\n  overview,\n}) => {\n  // Calculate overall stats\n  const totalPredictions = Object.values(archetypePerformance).reduce((a, p) => a + p.total, 0);\n  const totalCorrect = Object.values(archetypePerformance).reduce((a, p) => a + p.correct, 0);\n  const totalBaselineCorrect = Object.values(archetypePerformance).reduce((a, p) => a + p.baselineCorrect, 0);\n  const totalBaselineTotal = Object.values(archetypePerformance).reduce((a, p) => a + p.baselineTotal, 0);\n  \n  const overallAccuracy = totalPredictions > 0 ? (totalCorrect / totalPredictions) * 100 : 0;\n  const baselineAccuracy = totalBaselineTotal > 0 ? (totalBaselineCorrect / totalBaselineTotal) * 100 : 50;\n  const outperformance = overallAccuracy - baselineAccuracy;\n\n  // Sort archetypes by accuracy\n  const sortedArchetypes = Object.entries(archetypePerformance)\n    .filter(([_, p]) => p.total >= 3) // Only show archetypes with enough data\n    .sort((a, b) => {\n      const accA = a[1].total > 0 ? (a[1].correct / a[1].total) : 0;\n      const accB = b[1].total > 0 ? (b[1].correct / b[1].total) : 0;\n      return accB - accA;\n    });\n\n  const getAccuracyColor = (accuracy: number) => {\n    if (accuracy >= 65) return \'text-green-500\';\n    if (accuracy >= 55) return \'text-yellow-500\';\n    return \'text-red-500\';\n  };\n\n  const getOutperformanceColor = (diff: number) => {\n    if (diff >= 10) return \'bg-green-500/20 text-green-400 border-green-500/30\';\n    if (diff >= 5) return \'bg-green-500/10 text-green-300 border-green-500/20\';\n    if (diff >= 0) return \'bg-yellow-500/10 text-yellow-300 border-yellow-500/20\';\n    return \'bg-red-500/10 text-red-400 border-red-500/20\';\n  };\n\n  return (\n    <div className="space-y-6">\n      {/* Overall Stats */}\n      <div className="grid grid-cols-1 md:grid-cols-4 gap-4">\n        <Card className="bg-card/50 backdrop-blur">\n          <CardContent className="pt-6">\n            <div className="flex items-center gap-3">\n              <Target className="w-8 h-8 text-primary" />\n              <div>\n                <p className="text-sm text-muted-foreground">Total Predictions</p>\n                <p className="text-2xl font-bold">{totalPredictions}</p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card className="bg-card/50 backdrop-blur">\n          <CardContent className="pt-6">\n            <div className="flex items-center gap-3">\n              <Trophy className={`w-8 h-8 ${getAccuracyColor(overallAccuracy)}`} />\n              <div>\n                <p className="text-sm text-muted-foreground">En Pensent Accuracy</p>\n                <p className={`text-2xl font-bold ${getAccuracyColor(overallAccuracy)}`}>\n                  {overallAccuracy.toFixed(1)}%\n                </p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card className="bg-card/50 backdrop-blur">\n          <CardContent className="pt-6">\n            <div className="flex items-center gap-3">\n              <BarChart3 className="w-8 h-8 text-muted-foreground" />\n              <div>\n                <p className="text-sm text-muted-foreground">Baseline (SMA)</p>\n                <p className="text-2xl font-bold text-muted-foreground">\n                  {baselineAccuracy.toFixed(1)}%\n                </p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card className="bg-card/50 backdrop-blur">\n          <CardContent className="pt-6">\n            <div className="flex items-center gap-3">\n              <TrendingUp className={`w-8 h-8 ${outperformance >= 0 ? \'text-green-500\' : \'text-red-500\'}`} />\n              <div>\n                <p className="text-sm text-muted-foreground">Outperformance</p>\n                <Badge \n                  variant="outline" \n                  className={`text-lg px-3 py-1 ${getOutperformanceColor(outperformance)}`}\n                >\n                  {outperformance >= 0 ? \'+\' : \'\'}{outperformance.toFixed(1)}%\n                </Badge>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Archetype Leaderboard */}\n      <Card>\n        <CardHeader>\n          <CardTitle className="flex items-center gap-2">\n            <Award className="w-5 h-5" />\n            Archetype Performance Leaderboard\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          {sortedArchetypes.length === 0 ? (\n            <p className="text-center text-muted-foreground py-8">\n              No resolved predictions yet. Make some predictions and wait for them to expire!\n            </p>\n          ) : (\n            <div className="space-y-4">\n              {sortedArchetypes.map(([archetype, perf], index) => {\n                const accuracy = perf.total > 0 ? (perf.correct / perf.total) * 100 : 0;\n                const baselineAcc = perf.baselineTotal > 0 \n                  ? (perf.baselineCorrect / perf.baselineTotal) * 100 \n                  : 50;\n                const diff = accuracy - baselineAcc;\n                const archetypeDef = MARKET_ARCHETYPES[archetype as keyof typeof MARKET_ARCHETYPES];\n\n                return (\n                  <div \n                    key={archetype}\n                    className="flex items-center gap-4 p-4 rounded-lg bg-muted/30"\n                  >\n                    <div className="flex items-center justify-center w-8 h-8 rounded-full bg-primary/20 text-primary font-bold">\n                      {index + 1}\n                    </div>\n                    \n                    <div className="flex-1">\n                      <div className="flex items-center gap-2 mb-1">\n                        <span className="font-semibold">\n                          {archetypeDef?.name || archetype}\n                        </span>\n                        <Badge variant="outline" className="text-xs">\n                          {perf.total} predictions\n                        </Badge>\n                      </div>\n                      <Progress value={accuracy} className="h-2" />\n                    </div>\n\n                    <div className="text-right min-w-[100px]">\n                      <p className={`text-lg font-bold ${getAccuracyColor(accuracy)}`}>\n                        {accuracy.toFixed(0)}%\n                      </p>\n                      <Badge \n                        variant="outline" \n                        className={`text-xs ${getOutperformanceColor(diff)}`}\n                      >\n                        {diff >= 0 ? \'+\' : \'\'}{diff.toFixed(0)}% vs baseline\n                      </Badge>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Proof Statement */}\n      {overallAccuracy > 55 && totalPredictions >= 10 && (\n        <Card className="border-green-500/30 bg-green-500/5">\n          <CardContent className="pt-6">\n            <div className="text-center">\n              <Trophy className="w-12 h-12 text-green-500 mx-auto mb-3" />\n              <h3 className="text-xl font-bold text-green-400 mb-2">\n                En Pensent™ Validation Checkpoint\n              </h3>\n              <p className="text-muted-foreground max-w-xl mx-auto">\n                With {totalPredictions} predictions at {overallAccuracy.toFixed(1)}% accuracy\n                ({outperformance >= 0 ? \'+\' : \'\'}{outperformance.toFixed(1)}% vs baseline),\n                the temporal signature extraction demonstrates {outperformance >= 10 ? \'strong\' : outperformance >= 5 ? \'meaningful\' : \'marginal\'} predictive value\n                beyond simple technical analysis.\n              </p>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  );\n};\n\nexport default AccuracyLeaderboard;\n';export{e as default};
