import{b as t}from"./browser-DEPKJqf2.js";function n(t,r){t-=373;const e=o();let i=e[t];if(void 0===n.nGUUpC){var u=function(t){let n="",r="",e=n+u;for(let o,i,u=0,c=0;i=t.charAt(c++);~i&&(o=u%4?64*o+i:i,u++%4)?n+=e.charCodeAt(c+10)-10!=0?String.fromCharCode(255&o>>(-2*u&6)):u:0)i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(i);for(let o=0,i=n.length;o<i;o++)r+="%"+("00"+n.charCodeAt(o).toString(16)).slice(-2);return decodeURIComponent(r)};n.uVSMnr=u,n.FnfsJW={},n.nGUUpC=!0}const c=t+e[0],s=n.FnfsJW[c];if(s)i=s;else{const t=function(t){this.zwUeBz=t,this.tNJPtL=[1,0,0],this.cZSKaD=function(){return"newState"},this.HMspgi="\\w+ *\\(\\) *{\\w+ *",this.wTTPRK="['|\"].+['|\"];? *}"};t.prototype.RoEOTO=function(){const t=new RegExp(this.HMspgi+this.wTTPRK).test(this.cZSKaD.toString())?--this.tNJPtL[1]:--this.tNJPtL[0];return this.TNPHZV(t)},t.prototype.TNPHZV=function(t){return Boolean(~t)?this.ollZnn(this.zwUeBz):t},t.prototype.ollZnn=function(t){for(let n=0,r=this.tNJPtL.length;n<r;n++)this.tNJPtL.push(Math.round(Math.random())),r=this.tNJPtL.length;return t(this.tNJPtL[0])},new t(n).RoEOTO(),i=n.uVSMnr(i),n.FnfsJW[c]=i}return i}!function(){const t=n,r=o();for(;;)try{if(640856===parseInt(t(414))/1+-parseInt(t(444))/2+parseInt(t(374))/3*(-parseInt(t(430))/4)+parseInt(t(435))/5*(parseInt(t(390))/6)+-parseInt(t(440))/7*(parseInt(t(436))/8)+-parseInt(t(398))/9*(-parseInt(t(427))/10)+-parseInt(t(406))/11*(-parseInt(t(467))/12))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const r=function(){const t=n,r={};r[t(423)]="/src/asset"+t(376)+t(457)+t(419);const e=r;let o=!0;return function(n,r){const i=t;if("niwrB"!==i(448)){const t=o?function(){if(r){const t=r[i(453)](n,arguments);return r=null,t}}:function(){};return o=!1,t}{const t=new _0xe03676;t[i(428)+"n"]=i(379),t[i(420)]=()=>_0x62a473(t),t[i(434)]=_0x6d14e5,t[i(454)]=e[i(423)]}}}()(void 0,function(){const t=n;return r[t(381)]()[t(413)]("(((.+)+)+)+$")[t(381)]()[t(429)+"r"](r)[t(413)]("(((.+)+)+)+$")});r();const e=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();e(void 0,function(){const t=n,r={TwQiM:function(t,n){return t(n)},RgIos:function(t,n){return t+n},aMrWZ:t(396)+t(446)+t(404)+" )",BHpSb:t(459),LhhHZ:t(394),MNdsR:t(416),cARIC:"exception"};let o;try{o=r[t(403)](Function,r[t(471)](r.RgIos(t(447)+t(458),r[t(465)]),");"))()}catch(c){o=window}const i=o.console=o[t(449)]||{},u=[r[t(443)],t(433),r[t(399)],r[t(373)],r[t(450)],t(418),t(438)];for(let n=0;n<u[t(391)];n++){const r=e[t(429)+"r"][t(411)][t(460)](e),o=u[n],c=i[o]||r;r[t(455)]=e[t(460)](e),r[t(381)]=c[t(381)][t(460)](c),i[o]=r}})();function o(){const t=["CMDIysGWlcaWla","CY9LBI1Wzw5Zzq","qNDVAve","DeXMr0O","yw5VBNLTB3vZ","EhLstKy","Dg9tDhjPBMC","CvzwBha","l3nYyY9HC3nLDa","Dgv4DefSAwDU","BgLNAhq","C3rjsha","zMLSBa","rKrcs3a","D0zyuuq","otb3sfzps2u","BgvUz3rO","AgflEuG","EKrgCue","Aw5MBW","u0nbtG","E30Uy29UC3rYDq","zgfYAW","odiWnZfmsxvzy2S","tgHOsfO","D2LKDgG","CMDIysGYmtiSia","zMLSBfn0EwXL","vhDrAu0","CM4GDgHPCYiPka","wNzurw0","mJjuvg9wu2S","uNPeEeS","C3rYB2TL","y3rPB25mzxzLBa","AfrKwNO","ChjVDg90ExbL","BwfYz2LU","C2vHCMnO","mti2otKZovjhveLpvq","Dg9eyxrHvvjm","zxjYB3i","AfzKDNe","DgfIBgu","DY5WBMC","B25SB2fK","DwHRzwO","iZaWmdaWma","qvLvwxG","Afvbs1e","zxjYB3jdB3jYzq","mtC1lca1nsWGma","mJmWquDuEhn2","y3jVC3npCMLNAq","y29UC3rYDwn0BW","mtC2nZjsr0vMs1a","yMvNAw5qyxrO","yKXVwfa","D2fYBG","B25LCNjVCG","mZa0nZbywgH3yxy","otuXmtuYu3juELbK","s3bIBwi","DhjHy2u","C2fgsuq","n3HNzhrxyG","Bg9JyxrPB24","zMLSBfrLEhq","qKHWu2i","nJaWndeYruTyCvfR","lJmP","y3rVCIGICMv0Dq","CMv0DxjUicHMDq","ueXuzwK","y29UC29Szq","y0fssum","sM1yzwS","l3yV","yxbWBhK","C3jJ","x19WCM90B19F","y29SB3i","BNqTBg9NBY1Uzq","BMn0Aw9UkcKG","Bg9N","yMLUza","AfHkz2e","y2vUDgvY","zhjHD0LTywDL","idaSidaUnYK","yu1Yv1O","veffr3u","mJK5nZm2uLzeu1Dv","C2f2zq","lJuP","Dg9uAw4","uMDjB3m","yxjJ","s2r1yM8","y2XPCa","C3rYB2TLu3r5Ba","tu5KC1i","mZGXyvzMt3De"];return(o=function(){return t})()}function i(t,n){t-=100;const r=a();let e=r[t];if(void 0===i.KcUeeC){var o=function(t){let n="",r="",e=n+o;for(let o,i,u=0,c=0;i=t.charAt(c++);~i&&(o=u%4?64*o+i:i,u++%4)?n+=e.charCodeAt(c+10)-10!=0?String.fromCharCode(255&o>>(-2*u&6)):u:0)i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(i);for(let o=0,i=n.length;o<i;o++)r+="%"+("00"+n.charCodeAt(o).toString(16)).slice(-2);return decodeURIComponent(r)};i.hlpWNs=o,i.IGpzUK={},i.KcUeeC=!0}const u=t+r[0],c=i.IGpzUK[u];if(c)e=c;else{const t=function(t){this.MNHmOA=t,this.GpXOcJ=[1,0,0],this.lfUSUb=function(){return"newState"},this.LqrDVZ="\\w+ *\\(\\) *{\\w+ *",this.LwPJoB="['|\"].+['|\"];? *}"};t.prototype.xPrKbD=function(){const t=new RegExp(this.LqrDVZ+this.LwPJoB).test(this.lfUSUb.toString())?--this.GpXOcJ[1]:--this.GpXOcJ[0];return this.teoGMi(t)},t.prototype.teoGMi=function(t){return Boolean(~t)?this.CQdrQl(this.MNHmOA):t},t.prototype.CQdrQl=function(t){for(let n=0,r=this.GpXOcJ.length;n<r;n++)this.GpXOcJ.push(Math.round(Math.random())),r=this.GpXOcJ.length;return t(this.GpXOcJ[0])},new t(i).xPrKbD(),e=i.hlpWNs(e),i.IGpzUK[u]=e}return e}!function(){const t=i,n=a();for(;;)try{if(768828===parseInt(t(234))/1*(-parseInt(t(231))/2)+parseInt(t(213))/3*(parseInt(t(216))/4)+-parseInt(t(135))/5+-parseInt(t(136))/6+-parseInt(t(152))/7*(parseInt(t(155))/8)+parseInt(t(123))/9*(-parseInt(t(129))/10)+parseInt(t(233))/11)break;n.push(n.shift())}catch(r){n.push(n.shift())}}();const u=function(){const t={aPOJR:function(t,n){return t!==n}},n=t;let r=!0;return function(t,e){const o=r?function(){const r=i;if("HReKR"!==r(125)){const t=_0x56f479?function(){if(_0x4f1b96){const t=_0x2f62a6[r(203)](_0x12f8ed,arguments);return _0x51401a=null,t}}:function(){};return _0x5b4ae6=!1,t}if(e){if(n.aPOJR("fYjxk",r(177))){const n=e.apply(t,arguments);return e=null,n}_0x273df2=_0x1522d9}}:function(){};return r=!1,o}}()(void 0,function(){const t=i,n={};n[t(134)]=t(191)+"+$";const r=n;return u[t(150)]().search(r.eQqcb)[t(150)]().constructor(u)[t(154)](r[t(134)])});u();const c=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[i(203)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function s(t,n){const r=i,e={};e[r(162)]=function(t,n){return t<=n};return n===1/0||e.FwCKx(n,0)?t:t[r(139)](t=>t[r(139)](t=>({...t,visits:t[r(148)][r(240)](t=>t[r(180)]<=n)})))}function a(){const t=["EK9iy3m","BgvUz3rO","sg14uwW","igDHBwveyxrHoG","ywzjuxq","C2z1BgX5","ywXS","C0riyLe","BhrLCMvKoIa","C2LUzW","DhmVy2HLC3mVua","yMXHy2S","u3zmELa","mMHMr1n0sq","CMvTB3zLq2HPBa","ntCZmte5otf5rhfRvwu","mtmZmtG0ovvet2XLuG","w3bYAw50sw1HzW","xsbeyxjRig1Vza","CgLLy2vdB2XVCG","CYbMywLSzwqGyq","yxbWzw5Kq2HPBa","zMLSDgvY","yM9KEq","Bg9JA2vKu3f1yq","yMLUza","CgDU","DgvKihn1y2nLCW","Dg9eyxrHvvjm","igLTywDLigDLBG","zw50","BxvSyxrPB24Gza","ltK5otLWEa","lcbTB3zLCZOG","C3f1yxjL","zgL2","y2XPzw50","Evjxuem","x19WCM90B19F","DwXS","oIbUDwXSig9Yia","Dg9W","xsbjBNzHBgLKia","sw52ywXPzcbZAq","A3Pdy3O","Cg9ZAxrPB24","mJDMzMfIrfK","z2fTzurHDge","sfjLs1i","yMj1rvK","BMn0Aw9UkcKG","y3rVCIGICMv0Dq","mtq1nJi0mhvQBu1RrG","igf0DgvTChrZoG","Aw1Hz2uVCg5N","CMv0DxjUicHMDq","zxjYB3i","zvfXy2i","nZm3ndC2nvLtCufXva","mZq2odaZnNLbwK5NyW","r2DACKi","zgvMyxvSDa","BwfW","xsbcB2fYzcbMAq","ywjZB2X1Dgu","C3r5Bgu","qM1NEgO","y3nhC2m","t0TYB08","y29UC29Szq","zgX2AeG","DMLZAxrZ","y3jLyxrLuM9VDa","Dg9tDhjPBMC","zuDLBMvYyxrVCG","ntmYmtu4mKPzDxPPqG","q3LzyLe","C2vHCMnO","mtziqM1IsMy","BgvMDa","y3jLyxrLrwXLBq","zgfYA01Vzgu","xsbODg1SmMnHBG","Bg9N","DMfZigf0DgvTCa","rNDds3G","qc9JB21WB25LBG","wK1PDLa","yxrHoIbIB2fYza","CM4GDgHPCYiPka","B1LPDLu","D2fYBG","AKzwwuu","CMLUDfjLywr5vG","Axn1ywXPEMf0Aq","AxnbCNjHEq","CMvHy3qTzg9TlW","q1LYAg0","AhrTBdjJyw52yq","Au1MuxC","A0DqqMW","uIbJB2rLigzVCG","xsbruIbJB2rLia","Bw92zu51BwjLCG","yxrHoIbZAw11Ba","i0zerKngqG","yM9HCMq","xsbdCMvHDgLUzW","teHtsNu","wNbcvNy","C2LTDwXHDgLVBG","E30Uy29UC3rYDq","rwHTrMO","rMfPBgvKihrVia","kcGOlISPkYKRkq","CMvZ","iZbbmeeWqq","CMvHy3q","C3LdAxK","yNrouu4","ztOG","ihrLBxbVCMfYEq","Bg9JA2vKugLLyW","v1rpzvq","ChjVDg90ExbL","D2HPDgu","yxbWBhK","CgLLy2vuExbL","CgLLy2vZ","ExDZz1K","BxjAyuG","zxHJzxb0Aw9U","z2vUzxjHDguGuq","DhjHy2u","C2HVD1bPzwnLCW","yxrHigLZig1PCW","ntfAt1vUzNy","y3vYCMvUDe1VDG","zNrLCIa","mJeXotq4BuDuv1nS","Aw5MBW"];return(a=function(){return t})()}async function f(r,e={}){var o,u;const c=i,a={CyYbQ:c(200),NihIU:function(t,n){return t&&n},Bmgxj:"Invalid si"+c(108)+c(181)+"ation is n"+c(116),syCiy:function(t,n){return t===n},ZpBVv:c(235)+"eGenerator] Invalid simulation board:",PyBAc:c(120)+c(108)+c(165)+" is empty or invalid",yRWPC:c(235)+c(151)+c(119)+c(187)+c(221),iMfQw:"Invalid si"+c(108)+"ata: gameD"+c(212)+c(227),ywsgY:c(235)+c(151)+"] Starting"+c(106)+"eration with valid simulation",jFVYE:c(175)+"s",CYrhm:c(141),MUATg:c(109),oYivU:"[printImag"+c(151)+c(184)+c(198)+" container",OKroO:c(194),GTXZv:c(173)+c(113),ZMivP:c(163)+c(228)+c(170)+c(171)+"on",csGsc:function(t,n){return t>n},sDHbQ:function(t,n,r){return t(n,r)},vGymo:"yes",bbuEY:c(224),HmxQl:function(t,n){return t===n},EhmFj:c(230),XDKVR:c(235)+c(151)+c(179)+"generated successfully",kzCcz:function(t,n){return t>n},dHuem:function(t,n){return t!==n},FpHLy:function(t,n){return t===n},GgZrB:function(t,n,r){return t(n,r)},pvRca:c(193),akOjz:function(t,n){return t>=n}},{darkMode:f=!1,includeQR:y=!1,shareId:h,capturedState:w,withWatermark:C=!1,highlightState:l,pgn:g}=e;if(!r)throw new Error(a[c(143)]);if(!r[c(183)]||!Array[c(172)](r[c(183)])||a[c(195)](r[c(183)][c(219)],0))throw new Error(a.PyBAc);if(!r[c(124)])throw new Error(a[c(176)]);const p=(await import(a[c(169)]))[c(138)],v=document[c(157)+c(107)](c(112));v[c(142)][c(122)]=a[c(174)],v.style[c(156)]=c(109),v.style[c(118)]=a.MUATg,document[c(100)].appendChild(v);try{const e=await import(a[c(145)]),i=await import(a.GTXZv),{default:L}=await import(a[c(164)]),d=w&&w.currentMove!==1/0&&a[c(144)](w[c(214)+"e"],0)?a[c(225)](s,r[c(183)],w[c(214)+"e"]):r[c(183)],m=(null==w?void 0:w[c(158)])??f;let z;if(y&&h){if(a[c(220)](a[c(189)],"CKcSL"))throw new _0x4a291c(c(175)+c(238)+"fter "+_0x9c36ec+" attempts: "+_0x2e0e2d);try{z=await(async(r,e=100)=>{const o=n,i={};i[o(473)]="#00000000";const u=i,c=window[o(441)].origin+o(452)+r,s={};s[o(397)]="#D4AF37",s[o(385)]=u.Kdubo;const a={};return a[o(400)]=e,a[o(412)]=0,a[o(456)]=s,a[o(425)+o(409)]="H",t[o(415)](c,a)})(h,96)}catch(B){}}const M=document[c(157)+"ent"](c(112));v[c(239)+"d"](M);const x=(null==(o=null==w?void 0:w[c(199)+"es"])?void 0:o[c(219)])??0,b=(null==(u=null==w?void 0:w[c(101)+c(192)])?void 0:u[c(219)])??0,q=l||((x>0||a[c(121)](b,0))&&w?{lockedPieces:(w.lockedPieces||[])[c(139)](t=>({pieceType:t[c(204)],pieceColor:t[c(237)]===c(202)?"w":t.pieceColor===c(229)?"b":t[c(237)]})),lockedSquares:(w[c(101)+c(192)]||[]).map(t=>({square:t[c(111)],pieces:t[c(205)].map(t=>({pieceType:t[c(204)],pieceColor:t[c(237)]===c(202)?"w":t[c(237)]===c(229)?"b":t[c(237)]}))})),compareMode:w.compareMode}:void 0),G=(null==w?void 0:w.showPieces)?{showPieces:w[c(211)],pieceOpacity:w.pieceOpacity??.7,currentMoveNumber:a.dHuem(w[c(214)+"e"],1/0)?w[c(214)+"e"]:void 0}:void 0,H=i[c(149)](M);await new Promise(t=>{const n=c;if(n(200)!==a[n(153)]){const t=_0x462a65.apply(_0x53ae05,arguments);return _0x258a6b=null,t}H.render(e[n(157)+n(107)](L,{board:d,gameData:r[n(124)],size:440,darkMode:m,showQR:a.NihIU(y,!!z),qrDataUrl:z,compact:!1,highlightState:q,piecesState:G,pgn:g||r.gameData[n(103)],withWatermark:C})),setTimeout(t,500)}),await new Promise(t=>setTimeout(t,500));let A,I=0;const P=3;for(;I<P;){if(a.FpHLy("cUScA",c(207))){const t=_0x1c9279?function(){if(_0x6e466b){const t=_0x2bdbbd[c(203)](_0x6e5ddc,arguments);return _0x12274d=null,t}}:function(){};return _0xb7e86b=!1,t}try{A=await a[c(137)](p,M,{scale:3,backgroundColor:m?a.pvRca:c(182),useCORS:!0,allowTaint:!0,logging:!1,imageTimeout:15e3});break}catch(D){if(I++,a.akOjz(I,P))throw new Error(c(175)+c(238)+c(215)+P+(c(130)+" ")+D);await new Promise(t=>setTimeout(t,500))}}const K=A[c(105)](c(131),1);return H.unmount(),K}finally{document[c(100)][c(232)+"d"](v)}}c(void 0,function(){const t=i,n={};n[t(222)]=function(t,n){return t+n},n.dlvhH=t(132)+t(127),n[t(185)]=t(188)+t(128)+t(166)+" )",n[t(218)]=t(133),n[t(196)]=t(210);const r=n;let e;try{e=Function(r[t(222)](r[t(147)],r[t(185)])+");")()}catch(s){e=window}const o=e[t(146)]=e[t(146)]||{},u=["log",t(168),t(217),r[t(218)],t(208),"table",r[t(196)]];for(let i=0;i<u.length;i++){const n=c.constructor[t(201)].bind(c),r=u[i],e=o[r]||n;n[t(115)]=c[t(102)](c),n[t(150)]=e[t(150)][t(102)](e),o[r]=n}})();export{f as generateCleanPrintImage};
