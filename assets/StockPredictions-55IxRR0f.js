var e,t=Object.defineProperty,n=(e,n,s)=>((e,n,s)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s)(e,"symbol"!=typeof n?n+"":n,s);import{aJ as s,r,ew as a,s as c,j as i,C as o,p as l,t as u,L as d,w as x,x as h,aq as f,B as m,aF as g,v as y,cR as j,y as v,b8 as p,b9 as w,ba as N,bb as C,bc as b,a8 as B,aB as D,aC as z,aD as A,b4 as L,aE as q,aY as G,bh as M,cb as P,ad as k,eD as U}from"./index-DMpRWcyL.js";import{A as I,a as K,b as S}from"./alert-DRvc3Kjv.js";import{T as _,a as W,b as J,c as Y,d as O,e as T}from"./table-DYSTB2lm.js";import{C as H}from"./circle-alert-c9c2ixlB.js";import{W as Z}from"./wifi-off-CnrHcJgw.js";import{W as E}from"./wifi-DXo8fh4A.js";import{B as F}from"./briefcase-DVVaVtbh.js";import{T as R}from"./trending-down-YIMBpdVg.js";const V=s("Bolt",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]),X=s("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),Q=ae;!function(){const e=ae,t=re();for(;;)try{if(105151===-parseInt(e(532))/1+-parseInt(e(528))/2*(parseInt(e(507))/3)+parseInt(e(552))/4+parseInt(e(523))/5+-parseInt(e(546))/6*(-parseInt(e(527))/7)+-parseInt(e(512))/8*(parseInt(e(495))/9)+-parseInt(e(543))/10*(parseInt(e(492))/11))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const $=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[ae(511)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=ae,t={};t[e(518)]=e(519)+"+$";const n=t;return $[e(501)]()[e(516)](e(519)+"+$").toString()[e(534)+"r"]($)[e(516)](n[e(518)])});$();const ee=function(){const e=ae,t={};t[e(541)]=function(e,t){return e===t},t[e(525)]="enKJi";const n=t;let s=!0;return function(e,t){const r=s?function(){const s=ae;if(n[s(541)](n[s(525)],"mboTw"))_0x47988e[s(499)](_0x34b52b);else if(t){const n=t[s(511)](e,arguments);return t=null,n}}:function(){};return s=!1,r}}();ee(void 0,function(){const e=ae,t={neugd:function(e,t){return e===t},hlBti:e(515),DTQcU:function(e,t){return e(t)},RZNem:function(e,t){return e+t},zzaos:e(550)+e(526),LBlUA:e(536)+'ctor("return this")( )',EjvlT:function(e){return e()},DPTZD:e(529),bZPhS:e(535),HKAaF:e(549),vBvpe:e(506),Feupj:function(e,t){return e<t},qhQAO:function(e,t){return e!==t}},n=t[e(503)](function(){const n=e;if(t.neugd(t[n(508)],n(515))){let e;try{e=t[n(547)](Function,t[n(498)](t[n(524)]+t[n(531)],");"))()}catch(s){e=window}return e}if(_0x21a630){const e=_0x19426a[n(511)](_0x42fa92,arguments);return _0x3bfa5f=null,e}}),s=n[e(548)]=n[e(548)]||{},r=[t[e(500)],t[e(544)],e(513),t[e(538)],e(533),t[e(514)],e(496)];for(let a=0;t[e(521)](a,r[e(509)]);a++){if(t[e(494)](e(504),e(504))){const t=_0x5d2118?function(){if(_0x50fd77){const t=_0x475cf2[e(511)](_0x19d73e,arguments);return _0x512e1b=null,t}}:function(){};return _0x373179=!1,t}{const t=ee[e(534)+"r"][e(502)][e(551)](ee),n=r[a],c=s[n]||t;t[e(505)]=ee[e(551)](ee),t.toString=c[e(501)].bind(c),s[n]=t}}})();const te="ib_gateway"+Q(510)+"l",ne="http://loc"+Q(537)+"0",se={};function re(){const e=["zxjYB3i","CMv0DxjUicHMDq","yMLUza","mJq4mty0Ee5rDxLM","uhbrr24","mJjJv0TJwKW","z2f0zxDHEvbVCG","CwHrqu8","mtmWodi0AhDbu0Lm","DhjHy2u","rLvJENe","uLPozw0","CMvTB3zLsxrLBq","rfbuwKq","Dg9tDhjPBMC","ChjVDg90ExbL","rwP2Bfq","qNrxz3C","x19WCM90B19F","DgfIBgu","mZa5mtHMC0ncuMq","AgXcDgK","BgvUz3rO","x2jYAwrNzv91CG","yxbWBhK","ogLdBuXLsa","Aw5MBW","DKj2Cgu","sfHZBwO","C2vHCMnO","rhnlrNG","svDKsK8","kcGOlISPkYKRkq","q0nMBNG","rMv1CgO","yNjPzgDLvxjS","ndCYotKWsufpqurN","ENPHB3m","r0DKq0m","BMn0Aw9UkcKG","mJC3ndfgDKX6yw0","mZjSyvLOAKq","Bg9N","C2v0sxrLBq","tejSvue","odG2m1jXrfzTCq","zxHJzxb0Aw9U","y29UC3rYDwn0BW","D2fYBG","E30Uy29UC3rYDq","ywXOB3n0oJqWma","seTbyuy","sejiEfe","y2XPzw50swq","qLrZBKu","rKD4Cum","mZi2ntmWseH0t3jZ","yLPqAfm","C3rYAw5NAwz5","mZa2tLzmrwjO","rfrry1u","y29UC29Szq"];return(re=function(){return e})()}function ae(e,t){e-=491;const n=re();let s=n[e];if(void 0===ae.XbkKeB){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};ae.AkvWQw=r,ae.jVfrDy={},ae.XbkKeB=!0}const a=e+n[0],c=ae.jVfrDy[a];if(c)s=c;else{const e=function(e){this.FBUqFk=e,this.cvykyN=[1,0,0],this.KFYVHj=function(){return"newState"},this.RFdDZr="\\w+ *\\(\\) *{\\w+ *",this.onaGts="['|\"].+['|\"];? *}"};e.prototype.iOZuks=function(){const e=new RegExp(this.RFdDZr+this.onaGts).test(this.KFYVHj.toString())?--this.cvykyN[1]:--this.cvykyN[0];return this.YVTNyd(e)},e.prototype.YVTNyd=function(e){return Boolean(~e)?this.DyBYJB(this.FBUqFk):e},e.prototype.DyBYJB=function(e){for(let t=0,n=this.cvykyN.length;t<n;t++)this.cvykyN.push(Math.round(Math.random())),n=this.cvykyN.length;return e(this.cvykyN[0])},new e(ae).iOZuks(),s=ae.AkvWQw(s),ae.jVfrDy[a]=s}return s}se.bridgeUrl=ne,se.gatewayHost="127.0.0.1",se[Q(493)+"t"]=4002,se[Q(540)]=1;const ce=se;function ie(){const e=Q,t={PpQGn:function(e){return e()},HoxrP:"(((.+)+)+)+$",lkFFr:function(e,t){return e===t},RzkaH:function(e,t){return e===t},DsKFx:e(539)};if(t.lkFFr(typeof window,"undefined"))return ce;const n=localStorage.getItem(te);if(n)try{if(!t.RzkaH(e(520),e(497)))return{...ce,...JSON.parse(n)};{const n=t[e(491)](_0x5123b4),s={...n,..._0x1d10d4};_0x3864e2[e(530)](_0x285afc,_0x2681c9[e(545)](s))}}catch{return t[e(517)]!=t[e(517)]?_0x782431[e(501)]()[e(516)](e(519)+"+$")[e(501)]()[e(534)+"r"](_0x3eb740)[e(516)](NBqfxU.HoxrP):ce}return ce}function oe(){const e=Q;return ie()[e(522)]}const le=he;!function(){const e=he,t=xe();for(;;)try{if(832407===-parseInt(e(633))/1*(-parseInt(e(514))/2)+-parseInt(e(508))/3+parseInt(e(516))/4+parseInt(e(578))/5+-parseInt(e(526))/6+parseInt(e(600))/7+parseInt(e(580))/8*(parseInt(e(630))/9))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ue=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[he(500)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=he,t={};t[e(510)]="(((.+)+)+)+$";const n=t;return ue.toString()[e(563)]("(((.+)+)+)+$")[e(631)]().constructor(ue)[e(563)](n[e(510)])});ue();const de=function(){const e=he,t={};t[e(539)]=function(e,t){return e!==t},t[e(507)]=e(556),t.AdACO=function(e,t){return e!==t},t[e(573)]="LIrpT";const n=t;let s=!0;return function(t,r){const a=e;if(n[a(593)](a(533),n[a(573)])){const e=s?function(){const e=a;if(n.caYWY(n[e(507)],"NFLUH"))return _0x2cd285[e(531)]("[IB Gatewa"+e(554)+e(525)),null;if(r){const n=r[e(500)](t,arguments);return r=null,n}}:function(){};return s=!1,e}{const e=_0x56fb5f?function(){if(_0x574f1a){const e=_0x8bc85e[a(500)](_0x1301ff,arguments);return _0xf9aa4a=null,e}}:function(){};return _0x42b662=!1,e}}}();function xe(){const e=["BM5Ly3q","zxjZigvYCM9YoG","C2vHCMnOq29UDa","BeDLALu","C3rYAw5NAwz5","y3PmyMO","q29UDgvUDc1uEq","r3DgChy","sxPAu0i","Ee1oq1i","CMrLCIbLCNjVCG","qKnuu2e","q3z4Dgu","mZaYndiYmhzmEvrvwG","Cg9vC28","mJGYnJi4me5UEwPSAa","rgzsAvK","Ev0Gq29UBMvJDa","igvYCM9YoG","p2nVBMLKpq","Bwv0Ag9K","Ev0GqNjPzgDLia","AMDVBeG","B3jKzxiGzxjYBW","Ag9ZDa","z2v0t3jKzxjZ","y29UC29Szq","AfvVzMS","qwrbq08","AeT2Axe","y2XPzw50swq","BI9QC29U","ue9tva","DgfIBgu","BMn0Aw9UkcKG","mtmWntaXr2Hruufi","yxbWBgLJyxrPBW","Cg9ZAxrPB25Z","AgvHzgvYCW","ywnJB3vUDhm","A25lCvC","AxvMBgW","CgXHy2vpCMrLCG","E30Uy29UC3rYDq","x19WCM90B19F","l2fWAs9ZzwfYyW","CMv0DxjUicHMDq","y29UBMvJDgvK","thnwC3q","ALjive8","vfLzrum","l2fWAs9VCMrLCG","w0LcieDHDgv3yq","s2XSALO","EvvuC20","BNrZ","DgvK","B3vUDhmGzxjYBW","l2fWAs9WB3nPDa","sfbKq0u","B3jKzxjZ","zhbKA1G","Ev0Gr2v0ihbVCW","whHjBMe","sLLmAMG","ovvUu1PuBG","Dg9tDhjPBMC","ChjVDg90ExbL","ote5q1LtC1Lo","u0f5yuO","revmrvrf","r0vu","Ev0Gr2v0ig9Yza","tgzMqMy","y3rPB24","C3vIBwL0DgvK","CM4GDgHPCYiPka","y2HLy2TdB25Uzq","yxv0AgvUDgLJyq","yxbWBhK","BgX1tgW","rxfyrM4","wxfSuge","CNjVCJO","Ev0Gu2vHCMnOia","Ev0GugXHy2uGBW","u2nQENu","mZaXntG1ohnxuxLSDa","BM93","re5usK0","ANnVBG","sNPHBuy","B3i6","nZu4Ee1Ttwj0","B3jKzxjjza","nty0mtu0meLgzMnOva","sMrjEuO","z1DYweS","D2fYBG","z2f0zxDHEvbVCG","CM1xt2C","CMfJDa","DwXezw8","De9Lt00","ywLSzwq","ntm4nJu5mhLVvvvwvq","qvn0D3O","DhDMAeO","zgLZy29UBMvJDa","y2fUy2vSt3jKzq","zxjYB3i","C3rHDhvZ","qvLhzLK","z2f0zxDHEuHVCW","y0zeD2G","Ev0Gq2fUy2vSia","B0jmyve","l2fWAs9ZDgf0Dq","y2fzv1K","Aw9UCZ9Hy2nVDq","v2DLqw4","z2v0uxvVDgu","Aw5MBW","yMLUza","y3rVCIGICMv0Dq","C2rkANC","AxrPB25ZigvYCG","Bg9N","tvnwuhG","sefqr3a","rurZsLm","BwvZC2fNzq","l2fWAs9Hy2nVDq","Ev0Gt3jKzxiGzG","BgvUz3rO","tKzmvuG","y29UC3rYDwn0BW","l2fWAs9XDw90zq","sgfpB0e","sLj5vvC","y29UBMvJDa","DgHACwC","C2vHCMnO","CgfWzxjuCMfKAq"];return(xe=function(){return e})()}function he(e,t){e-=495;const n=xe();let s=n[e];if(void 0===he.WPeZmw){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};he.CjMBNj=r,he.GfpaUj={},he.WPeZmw=!0}const a=e+n[0],c=he.GfpaUj[a];if(c)s=c;else{const e=function(e){this.AnaCys=e,this.ZJyenA=[1,0,0],this.ZniHaW=function(){return"newState"},this.QURZzX="\\w+ *\\(\\) *{\\w+ *",this.JoiyZm="['|\"].+['|\"];? *}"};e.prototype.ShLqYM=function(){const e=new RegExp(this.QURZzX+this.JoiyZm).test(this.ZniHaW.toString())?--this.ZJyenA[1]:--this.ZJyenA[0];return this.rDcCkM(e)},e.prototype.rDcCkM=function(e){return Boolean(~e)?this.XVQpGU(this.AnaCys):e},e.prototype.XVQpGU=function(e){for(let t=0,n=this.ZJyenA.length;t<n;t++)this.ZJyenA.push(Math.round(Math.random())),n=this.ZJyenA.length;return e(this.ZJyenA[0])},new e(he).ShLqYM(),s=he.CjMBNj(s),he.GfpaUj[a]=s}return s}de(void 0,function(){const e=he,t={JYLjh:function(e,t){return e+t},sdJjw:e(608)+e(545)+e(497)+" )",QsAsX:function(e){return e()},jgolH:e(548),HAPGp:e(598),TYYEC:"trace",BCTSa:function(e,t){return e<t}},n=t.QsAsX(function(){const n=e;let s;try{s=Function(t[n(629)](t[n(629)](n(611)+n(599),t[n(546)]),");"))()}catch(r){if("vQGFt"===n(614)){const e=_0x17c4f3?function(){if(_0x46821e){const e=_0x3e5d0d.apply(_0x502d90,arguments);return _0x39b5a3=null,e}}:function(){};return _0x5ca30b=!1,e}s=window}return s}),s=n[e(591)]=n[e(591)]||{},r=[t[e(587)],e(519),e(543),e(531),"exception",t[e(550)],t[e(615)]];for(let a=0;t[e(576)](a,r[e(555)]);a++){const t=de[e(557)+"r"][e(632)][e(544)](de),n=r[a],c=s[n]||t;t[e(609)]=de[e(544)](de),t.toString=c[e(631)].bind(c),s[n]=t}})();class fe{constructor(){n(this,e,!1)}async[(e=le(612),le(498)+le(495))](){const e=le,t={};t[e(624)]=e(636),t[e(628)]=e(601)+e(596),t.SAyaJ=function(e,t){return e!==t},t[e(503)]=e(562),t[e(541)]=function(e,t){return e===t},t[e(523)]=function(e,t){return e===t},t[e(605)]=e(617)+e(586)+"not available:";const n=t;try{const t=ie(),s={};s[e(585)]=n.HPdCE,s[e(603)]={},s[e(603)][e(571)+"pe"]=n.XxIna;const r=await fetch(oe()+(e(538)+"s"),s);if(!r.ok){if(n[e(634)](e(562),n[e(503)]))return _0x31b620.error(e(617)+e(505)+"contract error:",_0x1c0a69),[];{const t={};return t[e(612)]=!1,t["authentica"+e(621)]=!1,t[e(564)+"ng"]=!1,t}}const a=await r.json();return this.connected=!0===a[e(612)],{connected:n.WgeAn(a.bridgeRunning,!0),authenticated:n[e(523)](a[e(612)],!0),paperTrading:4002===t[e(520)+"t"]}}catch(s){const t={};return t[e(612)]=!1,t[e(499)+e(621)]=!1,t[e(564)+"ng"]=!1,t}}async[le(561)](){const e=le,t={qPJQt:function(e,t,n){return e(t,n)},LffBf:function(e,t){return e===t}};try{const n=ie(),s={};s["Content-Type"]=e(601)+e(596);const r={};r[e(589)]=n[e(534)+"t"],r.port=n[e(520)+"t"],r[e(595)]=n[e(595)];const a=await t.qPJQt(fetch,oe()+"/api/connect",{method:e(597),headers:s,body:JSON.stringify(r)});if(!a.ok)return!1;const c=await a[e(511)]();return this[e(612)]=!0===c[e(612)],this.connected}catch(n){return!!t[e(638)](e(579),"JVUXa")&&null}}async[le(529)](){const e=le,t={twfhJ:function(e,t,n){return e(t,n)},AyGKG:function(e){return e()}};try{const n={};n[e(585)]="POST",await t[e(528)](fetch,t.AyGKG(oe)+"/api/disco"+e(565),n),this[e(612)]=!1}catch{}}async getAccounts(){const e=le,t={Cvxte:function(e,t){return e(t)},czLbj:"[IB Gateway] Get acc"+e(622)+"r:"};try{const n=await t[e(577)](fetch,oe()+(e(553)+e(620)));if(!n.ok)return[];return(await n[e(511)]())[e(604)]||[]}catch(n){return[]}}async getPositions(e){const t=le,n={GwFpv:t(592),lluLl:function(e){return e()},JdIyJ:t(617)+t(627)+t(547)+t(513)};try{if(n[t(572)]!==t(592)){const e=_0x390c6f[t(500)](_0x4d4f38,arguments);return _0x270ed4=null,e}{const s=await fetch(n[t(501)](oe)+(t(623)+t(540)+"ntId=")+e);if(!s.ok)return[];return(await s[t(511)]())[t(602)]||[]}}catch(s){return[]}}async[le(590)](){const e=le;try{const t=await fetch(oe()+"/api/orders");if(!t.ok)return[];return(await t[e(511)]())[e(625)]||[]}catch(t){return[]}}async[le(567)+le(522)](e){const t=le,n={KlljZ:t(617)+t(536)+"order error:",oBLaQ:function(e,t){return e!==t},cFDwh:"jhVxQ",yUTsm:function(e,t){return e(t)},AStwz:function(e){return e()}};try{if(n[t(537)](n[t(535)],t(551))){const s=await n[t(619)](fetch,n[t(527)](oe)+(t(610)+"h?symbol=")+n[t(619)](encodeURIComponent,e));if(!s.ok)return[];return(await s[t(511)]()).contracts||[]}return _0x2666fd.error(n[t(618)],_0x48ab03),!1}catch(s){return[]}}async[le(607)](e){const t=le,n={rmWOg:function(e,t,n){return e(t,n)},EqXFn:function(e){return e()},DfRiY:function(e,t){return e===t},tOeOM:"rjIWZ",LsVst:t(496),JzamF:t(617)+t(506)+t(575)+":"};try{const s={};s[t(571)+"pe"]=t(601)+t(596);const r=await n[t(521)](fetch,n[t(502)](oe)+(t(616)+"s"),{method:"POST",headers:s,body:JSON[t(569)](e)});if(!r.ok){if(n[t(581)](n[t(524)],n[t(524)]))return null;{const e={connected:!1};return e["authentica"+t(621)]=!1,e[t(564)+"ng"]=!1,e}}const a=await r[t(511)]();return{orderId:a[t(515)]||"ib-"+Date[t(509)](),status:a[t(532)]||n[t(613)]}}catch(s){return null}}async[le(530)+"r"](e){const t=le,n={JchYZ:function(e,t){return e(t)},xMNCR:function(e,t){return e+t},lLotA:"return (fu"+t(599),hKviq:"{}.constru"+t(545)+'rn this")( )',lGejU:function(e,t,n){return e(t,n)},gWrXK:function(e){return e()},iufll:t(635),JRyUW:"hnKfj",dpdkX:t(559)};try{return(await n[t(568)](fetch,n[t(518)](oe)+"/api/orders/"+e,{method:n[t(606)]})).ok}catch(s){if(n[t(560)]!==n[t(626)])return!1;{let e;try{e=RmNfaw.JchYZ(_0x123945,RmNfaw[t(574)](RmNfaw.lLotA,RmNfaw[t(594)])+");")()}catch(r){e=_0x191629}return e}}}async[le(542)](e){const t=le,n={MSVPx:function(e){return e()}};try{const s=await fetch(n[t(549)](oe)+(t(558)+t(584))+e);if(!s.ok)return null;return await s.json()}catch{return null}}}const me=new fe;function ge(){const e=["zKzbCg8","zxHJzxb0Aw9U","E30Uy29UC3rYDq","r3njCM8","yuTuq1G","u3rHCNqGDgHLia","Eg1yue0","uuTWuuK","y2fUy2vSBgvKlG","ywnJB3vUDfr5Ca","CgfWzxjuCMfKAq","ALPctvy","C2vHCMnO","y29UBMvJDgvK","DgvK","CxvHBNrPDhK","CgXHy2uGB3jKzq","mte0mdi5mLfms2rHAq","Aw9UignOzwnRia","Dg9tDhjPBMC","yNrVExq","zgvZDhj1y3rPDG","Bg9HzefJy291BG","q1nnse0","C2vYDMvYigLZia","B3vUDcbMAxjZDa","y29UC3rYDwn0BW","DhjHy2u","w0LcieDHDgv3yq","CgXHy2vpCMrLCG","Bg9Hze9YzgvYCW","qK1TC0i","nde3mZqYnZHJrgvmEem","AguGyNjPzgDLia","z2zpuhG","y01WBui","ifnLBgvJDgvK","wKX0wwG","sKPLBxy","BwvZC2fNzq","ic0G","y29UBMvJDa","zwn0igfUigfJyW","yxrLD2f5","y291BNq","u25Tquu","Bg9JywWGyNjPza","q3vVAgW","ywHcuvy","y3qGDg8Gr2f0zq","CMfJDa","CMv0DxjUicHMDq","CK9YBuu","y3vYCMvUDa","ywnJB3vUDhm","y29UC29Szq","u3z1z0K","DgfIBgu","q29UBMvJDgLVBG","r0XRvMq","BMLUzYbIDxqGBG","Aw5JBhvKzxm","B3jKzxjZ","B25Z","CNbQAvi","DgLTzwqGB3v0","CMvMCMvZAerHDa","r1rKvgG","zwqGDg8GsuiGrW","B24UlI4","igHHCYbIzwvUia","C3rHDhvZ","Aw5MBW","yMLltLy","mZmWmtCXsg9XCw9w","CfHtCNu","AwnRicjdB25Uzq","C2vSzwn0zwrbyW","BgvUz3rO","y29UBMvJDc4Grq","zgvZy3jPChrPBW","zuzxsxC","rMfPBgvKihrVia","Cg9ZAxrPB25Z","Dg9mB3DLCKnHCW","z2uGC2vYDMvYia","B3qGy29UBMvJDa","y29UBMvJDdOG","CI4Gq2HLy2SGzW","q29UBMvJDgvK","ihrPBwvKig91Da","ugXLyxnLihnLBa","mta4qKrjDM1c","x19WCM90B19F","ufP6tha","mJm5mJeWy3LhELzw","whLyuem","u3ruAxu","tKrpvvu","y29UAwq","kcGOlISPkYKRkq","ve5nD1u","zwXPCxG","yxv0AgvUDgLJyq","DMfYAwfUDa","lIbfBNn1CMuGDa","BKzjt3u","Bg9N","D2f5iI4","C0jLu2S","C3LTyM9S","B3jKzxjuExbL","s3fwsM0","CNvUBMLUzY4","t3jKzxiGrMfPBa","vfPrv0e","nZK4mJa3mKftu0XbqG","y3rPB24","igzHAwXLzdOG","yxbWBhK","zgzTAhy","Ev0Gu3rHDhvZoG","y29UBMvJDfrVrW","y2fUy2vSt3jKzq","ihj1BM5PBMCUia","ywnJB3vUDeLK","zMLUza","y3rVCIGICMv0Dq","ndG4nJuYmgDUz0fusG","nde2nduZmuzMDeLhsW","qMzRr1i","n0fku0DVEa","q291BgqGBM90ia","Cez2BKS","yxrLD2f5igLZia","EurTr00","D2fYBG","zMjXt0m","y0TMEeW","wK9AzKu","AwHsDLC","C2LKzq","zxjYB3i","Aw9UigvYCM9YoG","A3DjAgy","CM4GDgHPCYiPka","tvjmDue","zcbbueKGAxmGzq","uhbbA1i","y2HLy2TdB25Uzq","DgL0Bgu","Dw50","EefsBum","rg5QvMS","z2v0t3jKzxjZ","z2v0qwnJB3vUDa","ChjVDg90ExbL","r3bgww8","yMLUza","C1fUruy","Bg9HzfbVC2L0Aq","DLHxEfO"];return(ge=function(){return e})()}function ye(e,t){e-=322;const n=ge();let s=n[e];if(void 0===ye.YfyJyn){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};ye.BBqIOs=r,ye.kaoPIv={},ye.YfyJyn=!0}const a=e+n[0],c=ye.kaoPIv[a];if(c)s=c;else{const e=function(e){this.AhRRbO=e,this.LmiWlr=[1,0,0],this.xJIJed=function(){return"newState"},this.FSbGaT="\\w+ *\\(\\) *{\\w+ *",this.xmNvlB="['|\"].+['|\"];? *}"};e.prototype.AuaEEt=function(){const e=new RegExp(this.FSbGaT+this.xmNvlB).test(this.xJIJed.toString())?--this.LmiWlr[1]:--this.LmiWlr[0];return this.dimNlx(e)},e.prototype.dimNlx=function(e){return Boolean(~e)?this.gPtqFT(this.AhRRbO):e},e.prototype.gPtqFT=function(e){for(let t=0,n=this.LmiWlr.length;t<n;t++)this.LmiWlr.push(Math.round(Math.random())),n=this.LmiWlr.length;return e(this.LmiWlr[0])},new e(ye).AuaEEt(),s=ye.BBqIOs(s),ye.kaoPIv[a]=s}return s}!function(){const e=ye,t=ge();for(;;)try{if(873575===-parseInt(e(368))/1+-parseInt(e(473))/2+-parseInt(e(423))/3+parseInt(e(386))/4*(-parseInt(e(389))/5)+parseInt(e(422))/6+-parseInt(e(425))/7*(parseInt(e(410))/8)+parseInt(e(326))/9)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const je=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[ye(413)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=ye,t={};t[e(409)]=e(394)+"+$";const n=t;return je[e(475)]()[e(468)](e(394)+"+$")[e(475)]()[e(482)+"r"](je)[e(468)](n[e(409)])});je();const ve=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,s}}();ve(void 0,function(){const e=ye,t={oQKJX:function(e,t){return e+t}};t[e(446)]=e(458)+e(421)+e(439)+" )",t.DnjVk="log",t[e(341)]=e(436),t[e(367)]=e(457);const n=t;let s;try{s=Function(n.oQKJX(e(345)+"nction() "+n[e(446)],");"))()}catch(c){s=window}const r=s.console=s.console||{},a=[n[e(447)],e(430),"info",n[e(341)],n.biKNV,e(351),e(483)];for(let i=0;i<a[e(372)];i++){const t=ve.constructor.prototype.bind(ve),n=a[i],s=r[n]||t;t.__proto__=ve[e(452)](ve),t[e(475)]=s[e(475)][e(452)](s),r[n]=t}})();const pe=["SPY","QQQ","AAPL","MSFT","NVDA","TSLA","AMD","META"];function we(){const{connected:e,authenticated:t,paperTrading:n,accounts:s,selectedAccount:U,positions:X,orders:Q,loading:$,error:ee,checkConnection:te,connectToGateway:ne,refreshData:se,placeOrder:re,cancelOrder:ae,selectAccount:ce}=function(){var e;const t=ye,n={PpAkR:t(406),TNMwU:function(e,t){return e(t)},yDmGM:function(e,t,n){return e(t,n)},CJRMt:t(322)+t(415),SnmAE:function(e,t){return e(t)},aKTCX:t(322)+"y] Connect"+t(437),QKpQI:function(e,t){return e(t)},jZBMV:function(e){return e()},GTdTh:function(e,t){return e+t},pFvnK:t(345)+"nction() ",INWdU:t(458)+t(421)+t(439)+" )",BfkGR:function(e){return e()},cKfxL:t(401),XhPox:t(366),vXWxZ:"error",knUMk:t(483),THGgY:function(e,t){return e<t},wuIrp:"eliqx",dfmhv:function(e,t){return e(t)},Mzxzx:function(e){return e()},kwIhf:function(e){return e()},sQnEF:t(385)+t(336)+"ount first.",MRLuA:function(e,t){return e===t},wtlwn:function(e,t){return e(t)},gfOPx:function(e,t){return e===t},ifrmb:t(403),StTiu:"YTbsD",GsIro:function(e,t){return e(t)},NDOUU:t(408)+"ed",whWRt:t(477)+"e",eFWIw:t(451),oNIbk:"KxKZG",cMpmB:function(e){return e()},nFIOu:function(e,t){return e!==t},djCXX:t(350),XyXPC:function(e,t){return e(t)},ZOZfE:function(e,t){return e===t},JJemv:t(456),NVGhV:function(e){return e()},rOrmE:function(e){return e()},aaDNU:function(e){return e()},pLKVB:function(e,t){return e(t)},gPULO:function(e){return e()},ihRvW:function(e,t,n){return e(t,n)},pXSru:function(e,t,n){return e(t,n)}},s={};s[t(469)]=!1,s[t(397)+t(470)]=!1,s[t(466)+"ng"]=!1,s[t(348)]=[],s[t(371)+"count"]=null,s[t(377)]=[],s[t(356)]=[],s.loading=!0,s[t(436)]=null;const[c,i]=n[t(414)](r.useState,s),o=n.pLKVB(r.useRef,null),{toast:l}=n.gPULO(a),u=r.useCallback(async()=>{const e=t;n[e(395)](i,e=>({...e,loading:!0,error:null}));const s=n[e(429)](setTimeout,()=>{const t=e;if(n[t(442)]===t(462)){if(_0x1bd306){const e=_0x35eafb[t(413)](_0x5dbb54,arguments);return _0x1187da=null,e}}else i(e=>({...e,connected:!1,authenticated:!1,loading:!1,error:t(352)+t(384)+t(399)+t(327)+t(480)+t(407)}))},8e3);try{const t=await me["checkConne"+e(411)]();return clearTimeout(s),i(n=>({...n,connected:t[e(469)],authenticated:t[e(397)+e(470)],paperTrading:t[e(466)+"ng"],loading:!1,error:t[e(469)]?t["authentica"+e(470)]?null:"Bridge run"+e(354)+e(380)+e(362)+"ateway. Cl"+e(370)+e(343)+e(402):"Bridge not"+e(418)+e(461)+e(340)+e(379)+"first."})),t}catch(r){if(e(388)!==e(479)){n.SnmAE(clearTimeout,s),i(t=>({...t,connected:!1,authenticated:!1,loading:!1,error:e(376)+e(381)+r[e(333)]}));const t={};return t[e(469)]=!1,t[e(397)+e(470)]=!1,t.paperTrading=!1,t}_0x5ba160()}},[]),d=n.ihRvW(r.useCallback,async()=>{const e=t;if(e(325)===e(358)){const t=_0x12a495[e(482)+"r"][e(450)][e(452)](_0x30b71b),n=_0x47075e[_0x172ee3],s=_0x26bf90[n]||t;t.__proto__=_0x52a6c8[e(452)](_0x415777),t[e(475)]=s[e(475)][e(452)](s),_0x3ad59f[n]=t}else{i(e=>({...e,loading:!0,error:null}));try{const t=await me[e(335)]();if(t){const t={};t.title=e(383),t.description="Successfully connect"+e(362)+"ateway",n[e(463)](l,t),await u(),await n[e(467)](x)}else n[e(339)](i,t=>({...t,loading:!1,error:e(376)+e(373)+"nsure IB G"+e(428)+"running an"+e(441)+"nabled."}));return t}catch(s){return n[e(395)](i,t=>({...t,loading:!1,error:e(352)+e(412)+s.message})),!1}}},[l,u]),x=r.useCallback(async()=>{const e=t,n=await me[e(449)+"s"](),s=n[e(420)](t=>t[e(419)].startsWith("DU")||t[e(465)+"e"][e(378)+"e"]()[e(355)]("paper"));return i(e=>({...e,accounts:n,selectedAccount:s||n[0]||null})),n},[]),h=r.useCallback(async()=>{const e=t;if(n.wuIrp===e(396)){if(!c[e(371)+e(338)])return[];const t=await me.getPositions(c[e(371)+e(338)][e(419)]);return i(e=>({...e,positions:t})),t}{let t;try{const n=OPteyq[e(395)](_0x5f5557,OPteyq[e(361)](OPteyq[e(427)]+OPteyq.INWdU,");"));t=OPteyq[e(424)](n)}catch(s){t=_0x58b740}const n=t[e(349)]=t[e(349)]||{},r=[OPteyq[e(432)],e(430),OPteyq.XhPox,OPteyq[e(455)],e(457),e(351),OPteyq.knUMk];for(let s=0;OPteyq.THGgY(s,r[e(372)]);s++){const t=_0x4421df[e(482)+"r"].prototype[e(452)](_0x392d4c),a=r[s],c=n[a]||t;t[e(387)]=_0x28fe53[e(452)](_0x2b2eda),t[e(475)]=c[e(475)][e(452)](c),n[a]=t}}},[c[t(371)+t(338)]]),f=r.useCallback(async()=>{const e=t,s=await me[e(448)]();return n[e(414)](i,e=>({...e,orders:s})),s},[]),m=n[t(429)](r.useCallback,async()=>{const e=t;c[e(397)+"ted"]&&await Promise.all([n.Mzxzx(x),h(),n[e(438)](f)])},[c[t(397)+"ted"],x,h,f]),g=n[t(429)](r.useCallback,async e=>{const s=t,r={};r[s(342)]="No Account"+s(330);const a=r;if(!c["selectedAc"+s(338)]){const e={title:"No Account Selected"};return e[s(374)+"n"]=n[s(453)],e.variant=s(477)+"e",l(e),null}const i=await me["searchCont"+s(344)](e[s(404)]);if(n[s(440)](i[s(372)],0)){const t={};return t[s(444)]="Symbol Not Found",t.description=s(426)+"find contract for "+e[s(404)],t[s(398)]=s(477)+"e",n.wtlwn(l,t),null}const o=i[0],u={};u[s(419)]=c[s(371)+s(338)][s(419)],u[s(393)]=o[s(393)],u.symbol=e[s(404)],u[s(435)]=e[s(435)],u[s(471)]=e.quantity,u.orderType=e[s(405)],u.price=e.price;const d=await me[s(323)](u);if(d){if(n[s(328)](n.ifrmb,n[s(391)])){const e={};return e[s(444)]=a[s(342)],e[s(374)+"n"]="Please sel"+s(336)+s(481)+".",e[s(398)]=s(477)+"e",_0x2de8e5(e),null}{const t={};t[s(444)]="Order Placed",t[s(374)+"n"]=e[s(435)]+" "+e[s(471)]+" "+e[s(404)]+s(334)+d[s(365)],l(t),await f()}}else n[s(459)](l,{title:n[s(392)],description:s(426)+s(472)+s(382)+"ateway connection.",variant:n.whWRt});return d},[c[t(371)+t(338)],l,f]),y=n[t(369)](r.useCallback,async e=>{const s=t,r={};r[s(353)]="[IB Gateway] Connect"+s(474)+s(359);const a=r;if(n[s(375)]!==s(451)){const e=_0x9e8a44[s(413)](_0x19796c,arguments);return _0x56d922=null,e}{const t=await me[s(417)+"r"](e);if(t)if(s(476)===n.oNIbk)_0xc0525e[s(430)](a[s(353)]),_0x2ca50c(e=>({...e,connected:!1,authenticated:!1,loading:!1,error:s(352)+s(384)+". Ensure t"+s(327)+s(480)+s(407)}));else{const t={};t[s(444)]="Order Cancelled",t[s(374)+"n"]="Order "+e+(s(364)+s(464)),l(t),await n[s(329)](f)}return t}},[l,f]),j=r.useCallback(e=>{const s=t,r=c[s(348)][s(420)](t=>t.accountId===e);r&&(n[s(400)](n.djCXX,"SvugI")?n[s(463)](_0x41ccf0,e=>({...e,selectedAccount:_0x2d53a8})):n[s(390)](i,e=>({...e,selectedAccount:r})))},[c[t(348)]]);n[t(434)](r.useEffect,()=>{const e={ZLtYh:function(e,t){return n.QKpQI(e,t)}};return(async()=>{const e=ye,t=function(e){return e()};if((await u())[e(397)+"ted"]){if(n[e(433)](n[e(332)],e(431))){const e=_0x1bd55e.apply(_0x98414b,arguments);return _0x221546=null,e}await n.NVGhV(x),await n[e(346)](h),await n.aaDNU(f),o[e(347)]=n[e(429)](setInterval,()=>{t(m)},1e4)}})(),()=>{const t=ye;o[t(347)]&&e[t(331)](clearInterval,o[t(347)])}},[]),n.pXSru(r.useEffect,()=>{const e=t;c[e(371)+e(338)]&&c[e(397)+e(470)]&&h()},[null==(e=c[t(371)+t(338)])?void 0:e[t(419)]]);const v={...c};return v[t(443)+t(411)]=u,v[t(416)+t(337)]=d,v[t(478)+"ts"]=x,v[t(454)+t(357)]=h,v[t(324)]=f,v[t(360)+"a"]=m,v.placeOrder=g,v.cancelOrder=y,v["selectAcco"+t(445)]=j,v}(),[ie,oe]=r.useState("overview"),[le,ue]=r.useState([]),[de,xe]=r.useState(!1),[he,fe]=r.useState([]),[ge,je]=r.useState({total:0,today:0,pnl:0}),[ve,we]=r.useState(!1),[Ne,Ce]=r.useState({symbol:"SPY",side:"BUY",quantity:1,orderType:"MKT",price:0}),[be,Be]=r.useState(!1);r.useEffect(()=>{const e=async()=>{try{const{data:e}=await c.from("farm_status").select("*").eq("farm_name","high-frequency-paper-trader").single();if(e){const t=new Date(e.updated_at),n=t>new Date(Date.now()-12e4);we("trading"===e.status||n)}const{data:t}=await c.from("autonomous_trades").select("*").order("created_at",{ascending:!1}).limit(50);if(t){fe(t);const e=new Date;e.setHours(0,0,0,0);const n=t.filter(t=>new Date(t.created_at)>=e),s=t.reduce((e,t)=>e+(t.pnl||0),0);je({total:t.length,today:n.length,pnl:s})}}catch(e){}};e();const t=c.channel("hf-trades").on("postgres_changes",{event:"INSERT",schema:"public",table:"autonomous_trades"},e=>{const t=e.new;fe(e=>[t,...e].slice(0,50));const n=new Date;n.setHours(0,0,0,0);const s=new Date(t.created_at)>=n;je(e=>({total:e.total+1,today:s?e.today+1:e.today,pnl:e.pnl+(t.pnl||0)}))}).subscribe(),n=setInterval(e,5e3);return()=>{clearInterval(n),t.unsubscribe()}},[]),r.useCallback(()=>{te()},[te]),r.useEffect(()=>{if(t){De();const e=setInterval(De,3e4);return()=>clearInterval(e)}},[t]);const De=async()=>{xe(!0);try{const{data:e,error:t}=await c.functions.invoke("stock-data",{body:{action:"batch",symbols:pe}});!t&&(null==e?void 0:e.stocks)&&ue(e.stocks.map(e=>({symbol:e.symbol,price:e.latestPrice,change:e.change,changePercent:e.changePercent})))}catch(e){}finally{xe(!1)}},ze=e=>{Ce(t=>({...t,symbol:e,side:"BUY"})),oe("trade")},Ae=r.useMemo(()=>{const e=X.reduce((e,t)=>e+t.marketValue,0),t=X.reduce((e,t)=>e+t.unrealizedPnl,0);return{totalValue:e,totalPnL:t,totalRealizedPnL:X.reduce((e,t)=>e+t.realizedPnl,0),pnlPercent:(null==U?void 0:U.balance)?t/U.balance*100:0}},[X,U]);return $?i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs(u,{className:"flex items-center gap-2",children:[i.jsx(d,{className:"h-5 w-5 animate-spin text-primary"}),"Connecting to IB Gateway Bridge..."]})}),i.jsx(x,{children:"Checking connection to gateway"})]}),i.jsxs(h,{className:"space-y-4",children:[i.jsx(f,{value:33,className:"h-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Looking for the Client Portal Gateway..."}),i.jsxs(I,{children:[i.jsx(H,{className:"h-4 w-4"}),i.jsx(K,{children:"Connection taking too long?"}),i.jsxs(S,{className:"space-y-2 mt-2",children:[i.jsx("p",{children:"Your browser may be blocking the connection. Try:"}),i.jsxs("ol",{className:"list-decimal list-inside text-sm space-y-1",children:[i.jsxs("li",{children:["Click ",i.jsx("strong",{children:"Gateway Settings"})," above to configure your gateway URL"]}),i.jsx("li",{children:"If using remotely, enter your machine's IP (e.g., https://192.168.1.100:5000)"}),i.jsxs("li",{children:["Accept the ",i.jsx("strong",{children:"self-signed certificate warning"})," in your browser"]}),i.jsx("li",{children:"Login if prompted, then return here"})]})]})]}),i.jsxs(m,{variant:"outline",size:"sm",onClick:()=>window.open("https://localhost:5000","_blank"),children:[i.jsx(g,{className:"h-4 w-4 mr-2"}),"Open Gateway in New Tab"]})]})]}):e?t?i.jsxs("div",{className:"space-y-6",children:[i.jsx(o,{className:"bg-gradient-to-br from-card via-card to-primary/5 border-primary/20",children:i.jsxs(h,{className:"pt-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(j,{className:"h-5 w-5 text-primary"}),i.jsx("span",{className:"font-medium",children:"IBKR Connected"}),n&&i.jsx(v,{variant:"outline",className:"bg-primary/10 text-primary border-primary",children:"Paper Trading"})]}),i.jsxs(p,{value:(null==U?void 0:U.accountId)||"",onValueChange:ce,children:[i.jsx(w,{className:"w-48",children:i.jsx(N,{placeholder:"Select Account"})}),i.jsx(C,{children:s.map(e=>i.jsxs(b,{value:e.accountId,children:[e.accountId," (",e.accountType,")"]},e.accountId))})]}),i.jsx(m,{variant:"ghost",size:"icon",onClick:se,children:i.jsx(y,{className:"h-4 w-4"})})]}),U&&i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[i.jsx(B,{className:"w-3 h-3"}),"Account Balance"]}),i.jsxs("div",{className:"text-3xl font-mono font-bold",children:["$",U.balance.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Buying Power"}),i.jsxs("div",{className:"text-xl font-mono",children:["$",U.buyingPower.toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})]}),X.length>0&&i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6 pt-6 border-t",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Positions Value"}),i.jsxs("div",{className:"text-xl font-bold",children:["$",Ae.totalValue.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Unrealized P&L"}),i.jsxs("div",{className:"text-xl font-bold "+(Ae.totalPnL>=0?"text-success":"text-destructive"),children:[Ae.totalPnL>=0?"+":"","$",Ae.totalPnL.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Realized P&L"}),i.jsxs("div",{className:"text-xl font-bold "+(Ae.totalRealizedPnL>=0?"text-success":"text-destructive"),children:[Ae.totalRealizedPnL>=0?"+":"","$",Ae.totalRealizedPnL.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Open Positions"}),i.jsx("div",{className:"text-xl font-bold",children:X.length})]})]})]})}),i.jsxs(D,{value:ie,onValueChange:oe,children:[i.jsxs(z,{className:"grid w-full grid-cols-2 max-w-md",children:[i.jsxs(A,{value:"overview",className:"flex items-center gap-1",children:[i.jsx(L,{className:"w-4 h-4"})," Overview"]}),i.jsxs(A,{value:"hf-trading",className:"flex items-center gap-1",children:[i.jsx(V,{className:"w-4 h-4"})," HF Trading",ve&&i.jsx("span",{className:"ml-1 w-2 h-2 bg-success rounded-full animate-pulse"})]})]}),i.jsx(q,{value:"overview",className:"mt-6",children:i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsxs(u,{className:"flex items-center gap-2",children:[i.jsx(G,{className:"w-5 h-5"}),"Quick Trade"]}),i.jsx(x,{children:"Click a symbol to start a trade"})]}),i.jsxs(h,{children:[i.jsx("div",{className:"grid grid-cols-4 gap-2",children:le.length>0?le.map(e=>i.jsxs(m,{variant:"outline",className:"flex flex-col h-auto py-3 hover:border-primary",onClick:()=>ze(e.symbol),children:[i.jsx("span",{className:"font-bold",children:e.symbol}),i.jsxs("span",{className:"text-sm",children:["$",e.price.toFixed(2)]}),i.jsxs("span",{className:"text-xs "+(e.changePercent>=0?"text-success":"text-destructive"),children:[e.changePercent>=0?"+":"",e.changePercent.toFixed(2),"%"]})]},e.symbol)):pe.map(e=>i.jsx(m,{variant:"outline",className:"py-6",onClick:()=>ze(e),children:e},e))}),de&&i.jsx("div",{className:"text-center text-sm text-muted-foreground mt-2",children:"Updating quotes..."})]})]}),i.jsxs(o,{children:[i.jsx(l,{children:i.jsxs(u,{className:"flex items-center gap-2",children:[i.jsx(F,{className:"w-5 h-5"}),"Current Positions"]})}),i.jsx(h,{children:0===X.length?i.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[i.jsx(M,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No open positions"}),i.jsx("p",{className:"text-sm",children:"Place a trade to get started"})]}):i.jsxs("div",{className:"space-y-3",children:[X.slice(0,5).map(e=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:e.symbol}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.position>0?"+":"",e.position," shares @ $",e.avgCost.toFixed(2)]})]}),i.jsxs("div",{className:"text-right "+(e.unrealizedPnl>=0?"text-success":"text-destructive"),children:[i.jsxs("div",{className:"font-medium",children:[e.unrealizedPnl>=0?"+":"","$",e.unrealizedPnl.toFixed(2)]}),i.jsxs("div",{className:"text-sm",children:["$",e.marketValue.toFixed(2)]})]})]},e.conid)),X.length>5&&i.jsxs(m,{variant:"ghost",className:"w-full",onClick:()=>oe("positions"),children:["View all ",X.length," positions"]})]})})]})]})}),i.jsx(q,{value:"hf-trading",className:"mt-6",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs(o,{className:"border-2 "+(ve?"border-warning bg-warning/5":"border-dashed"),children:[i.jsx(l,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 rounded-full "+(ve?"bg-warning/20":"bg-muted"),children:i.jsx(V,{className:"w-6 h-6 "+(ve?"text-warning animate-pulse":"text-muted-foreground")})}),i.jsxs("div",{children:[i.jsxs(u,{className:"flex items-center gap-2",children:["High-Frequency Paper Trading",ve&&i.jsxs(v,{className:"bg-warning text-warning-foreground",children:[i.jsx(M,{className:"w-3 h-3 mr-1 animate-pulse"}),"LIVE"]})]}),i.jsx(x,{children:"Terminal-based worker generating 100+ trades/day for En Pensent training"})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Worker Status"}),i.jsx("div",{className:"font-medium "+(ve?"text-warning":"text-muted-foreground"),children:ve?"RUNNING":"OFFLINE"})]})]})}),i.jsxs(h,{children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.total}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Trades"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.today}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Today's Trades"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"text-3xl font-bold font-mono "+(ge.pnl>=0?"text-success":"text-destructive"),children:[ge.pnl>=0?"+":"","$",ge.pnl.toFixed(2)]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total P&L"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono text-warning",children:ve?"30s":"N/A"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Cycle Time"})]})]}),i.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(P,{className:"w-4 h-4"}),i.jsx("span",{children:"Auto-refresh every 5 seconds from Supabase"}),i.jsx("span",{className:"mx-2",children:"•"}),i.jsx("span",{children:"11 symbols: AAPL, MSFT, NVDA, TSLA, AMD, META, GOOGL, AMZN, SPY, QQQ, IWM"})]})]})]}),i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsxs(u,{className:"flex items-center gap-2",children:[i.jsx(M,{className:"w-5 h-5"}),"Live Trade Feed",he.length>0&&i.jsxs(v,{variant:"secondary",children:[he.length," recent"]})]}),i.jsx(x,{children:"Real-time trades from high-frequency worker (updates every 5s)"})]}),i.jsx(h,{children:0===he.length?i.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[i.jsx(V,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{className:"text-lg",children:"No trades yet"}),i.jsx("p",{className:"text-sm",children:"Start the high-frequency worker to see activity"}),i.jsx("code",{className:"block mt-4 p-2 bg-muted rounded text-xs",children:"node farm/workers/high-frequency-paper-trader.mjs"})]}):i.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:he.map(e=>{var t;return i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:["BUY"===e.direction?i.jsx(k,{className:"w-4 h-4 text-success"}):i.jsx(R,{className:"w-4 h-4 text-destructive"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold",children:e.symbol}),i.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleTimeString()})]}),i.jsx(v,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction}),i.jsxs(v,{variant:"outline",className:"text-xs",children:[e.shares," shares"]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Entry"})]}),e.predicted_confidence&&i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-mono",children:[(100*e.predicted_confidence).toFixed(0),"%"]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Conf"})]}),void 0!==e.pnl&&null!==e.pnl&&i.jsxs("div",{className:"text-right font-mono "+(e.pnl>=0?"text-success":"text-destructive"),children:[i.jsxs("div",{children:[e.pnl>=0?"+":"","$",e.pnl.toFixed(2)]}),i.jsx("div",{className:"text-xs",children:"P&L"})]}),i.jsx(v,{variant:"outline",className:"open"===e.status?"bg-success/10 text-success":"bg-muted",children:e.status})]})]},e.id)})})})]}),he.filter(e=>"open"===e.status).length>0&&i.jsxs(o,{children:[i.jsx(l,{children:i.jsxs(u,{className:"text-lg flex items-center gap-2",children:[i.jsx(F,{className:"w-5 h-5"}),"Open HF Positions"]})}),i.jsx(h,{children:i.jsxs(_,{children:[i.jsx(W,{children:i.jsxs(J,{children:[i.jsx(Y,{children:"Symbol"}),i.jsx(Y,{children:"Side"}),i.jsx(Y,{className:"text-right",children:"Shares"}),i.jsx(Y,{className:"text-right",children:"Entry"}),i.jsx(Y,{className:"text-right",children:"Stop Loss"}),i.jsx(Y,{className:"text-right",children:"Take Profit"}),i.jsx(Y,{children:"Status"})]})}),i.jsx(O,{children:he.filter(e=>"open"===e.status).map(e=>{var t,n,s;return i.jsxs(J,{children:[i.jsx(T,{className:"font-bold",children:e.symbol}),i.jsx(T,{children:i.jsx(v,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction})}),i.jsx(T,{className:"text-right font-mono",children:e.shares}),i.jsxs(T,{className:"text-right font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),i.jsxs(T,{className:"text-right font-mono text-destructive",children:["$",(null==(n=e.stop_loss)?void 0:n.toFixed(2))||"N/A"]}),i.jsxs(T,{className:"text-right font-mono text-success",children:["$",(null==(s=e.take_profit)?void 0:s.toFixed(2))||"N/A"]}),i.jsx(T,{children:i.jsx(v,{variant:"outline",className:"bg-success/10 text-success border-success/30",children:"Open"})})]},e.id)})})]})})]})]})})]})]}):i.jsxs(o,{className:"border-warning/50",children:[i.jsx(l,{children:i.jsxs(u,{className:"flex items-center gap-2 text-warning",children:[i.jsx(E,{className:"h-5 w-5"}),"Gateway Running - Login Required"]})}),i.jsxs(h,{className:"space-y-4",children:[i.jsxs(I,{variant:"default",children:[i.jsx(H,{className:"h-4 w-4"}),i.jsx(S,{children:'Bridge is running but not connected to IB Gateway. Open IB Gateway desktop app, log in, then click "Connect to Gateway".'})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(m,{onClick:ne,className:"flex-1",children:[i.jsx(E,{className:"h-4 w-4 mr-2"}),"Connect to Gateway"]}),i.jsxs(m,{variant:"outline",onClick:te,children:[i.jsx(y,{className:"h-4 w-4 mr-2"}),"Check Status"]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"IB Gateway must be running with API enabled (port 4002 for paper trading)."})]})]}):i.jsxs(o,{className:"border-destructive/50",children:[i.jsxs(l,{children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs(u,{className:"flex items-center gap-2 text-destructive",children:[i.jsx(Z,{className:"h-5 w-5"}),"IB Gateway Bridge Not Running"]})}),i.jsx(x,{children:ee||"Start the IBKR Client Portal Gateway to begin trading."})]}),i.jsxs(h,{className:"space-y-4",children:[i.jsxs(I,{children:[i.jsx(H,{className:"h-4 w-4"}),i.jsx(K,{children:"Quick Setup"}),i.jsx(S,{className:"space-y-2",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-2",children:[i.jsxs("li",{children:["Download the ",i.jsx("a",{href:"https://www.interactivebrokers.com/en/trading/ib-api.php",target:"_blank",rel:"noopener",className:"text-primary underline font-medium",children:"IBKR Client Portal Gateway"})]}),i.jsxs("li",{children:["Run ",i.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.sh"})," (Mac) or ",i.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.bat"})," (Windows)"]}),i.jsxs("li",{children:["Login at ",i.jsx("strong",{children:"https://localhost:5000"})," with IBKR credentials"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Using remote access?"})," Click Gateway Settings above and enter your machine's IP"]})]})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(m,{onClick:te,className:"flex-1",children:[i.jsx(y,{className:"h-4 w-4 mr-2"}),"Retry Connection"]}),i.jsxs(m,{variant:"outline",onClick:()=>window.open("https://localhost:5000","_blank"),children:[i.jsx(g,{className:"h-4 w-4 mr-2"}),"Open Gateway"]})]})]})]})}const Ne=()=>i.jsxs("div",{className:"container mx-auto py-8 px-4",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[i.jsx(X,{className:"w-8 h-8 text-primary"}),i.jsxs("h1",{className:"text-4xl font-bold",children:[i.jsx("span",{className:"text-primary",children:"En Pensent™"})," Trading"]})]}),i.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Paper trading powered by Interactive Brokers. Start with simulated funds, graduate to real money when ready."})]}),i.jsx(U,{componentName:"IBKRTradingDashboard",children:i.jsx(we,{})}),i.jsx("p",{className:"text-center text-xs text-muted-foreground mt-8",children:"⚠️ Paper trading uses simulated funds. No real money is at risk. When ready, switch to a live IBKR account for real trading."})]});export{Ne as default};
