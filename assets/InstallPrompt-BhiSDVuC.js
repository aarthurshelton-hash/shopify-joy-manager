const n='import React, { useState, useEffect } from \'react\';\nimport { motion, AnimatePresence } from \'framer-motion\';\nimport { Download, X, Scan, Share, Plus, Crown, Smartphone } from \'lucide-react\';\nimport { Button } from \'@/components/ui/button\';\nimport { usePWAInstall } from \'@/hooks/usePWAInstall\';\n\nexport const InstallPrompt: React.FC = () => {\n  const { isInstallable, isInstalled, isIOS, promptInstall, canShowPrompt } = usePWAInstall();\n  const [isVisible, setIsVisible] = useState(false);\n  const [isDismissed, setIsDismissed] = useState(false);\n\n  useEffect(() => {\n    // Check if user dismissed the prompt recently\n    const dismissed = localStorage.getItem(\'pwa-prompt-dismissed\');\n    if (dismissed) {\n      const dismissedTime = parseInt(dismissed, 10);\n      // Show again after 7 days\n      if (Date.now() - dismissedTime < 7 * 24 * 60 * 60 * 1000) {\n        setIsDismissed(true);\n        return;\n      }\n    }\n\n    // Show prompt after a short delay if installable\n    if (canShowPrompt && !isInstalled) {\n      const timer = setTimeout(() => setIsVisible(true), 3000);\n      return () => clearTimeout(timer);\n    }\n  }, [canShowPrompt, isInstalled]);\n\n  const handleDismiss = () => {\n    setIsVisible(false);\n    setIsDismissed(true);\n    localStorage.setItem(\'pwa-prompt-dismissed\', Date.now().toString());\n  };\n\n  const handleInstall = async () => {\n    if (isIOS) {\n      // Can\'t programmatically install on iOS, just show instructions\n      return;\n    }\n    \n    const success = await promptInstall();\n    if (success) {\n      setIsVisible(false);\n    }\n  };\n\n  if (isInstalled || isDismissed || !isVisible) {\n    return null;\n  }\n\n  return (\n    <AnimatePresence>\n      <motion.div\n        initial={{ opacity: 0, y: 100 }}\n        animate={{ opacity: 1, y: 0 }}\n        exit={{ opacity: 0, y: 100 }}\n        className="fixed bottom-4 left-4 right-4 z-50 md:left-auto md:right-4 md:max-w-sm"\n      >\n        <div className="relative overflow-hidden rounded-2xl border border-primary/30 bg-card/95 backdrop-blur-xl shadow-2xl">\n          {/* Decorative gradient */}\n          <div className="absolute inset-0 bg-gradient-to-br from-primary/10 via-transparent to-primary/5 pointer-events-none" />\n          \n          {/* Close button */}\n          <button\n            onClick={handleDismiss}\n            className="absolute top-3 right-3 p-1.5 rounded-full bg-muted/50 hover:bg-muted text-muted-foreground hover:text-foreground transition-colors z-10"\n          >\n            <X className="h-4 w-4" />\n          </button>\n\n          <div className="relative p-5">\n            {/* Header */}\n            <div className="flex items-start gap-4 mb-4">\n              <div className="w-14 h-14 rounded-xl bg-primary/20 border border-primary/30 flex items-center justify-center flex-shrink-0">\n                <Smartphone className="h-7 w-7 text-primary" />\n              </div>\n              <div className="pt-1">\n                <h3 className="font-display font-bold text-lg tracking-wide">\n                  Add to Home Screen\n                </h3>\n                <p className="text-sm text-muted-foreground">\n                  Quick access to Vision Scanner\n                </p>\n              </div>\n            </div>\n\n            {/* Features */}\n            <div className="grid grid-cols-2 gap-2 mb-4">\n              <div className="flex items-center gap-2 text-xs text-muted-foreground bg-muted/30 rounded-lg px-3 py-2">\n                <Scan className="h-3.5 w-3.5 text-primary" />\n                <span>Instant Scan</span>\n              </div>\n              <div className="flex items-center gap-2 text-xs text-muted-foreground bg-muted/30 rounded-lg px-3 py-2">\n                <Crown className="h-3.5 w-3.5 text-primary" />\n                <span>Full Access</span>\n              </div>\n            </div>\n\n            {/* iOS Instructions */}\n            {isIOS ? (\n              <div className="space-y-3">\n                <p className="text-xs text-muted-foreground text-center">\n                  Tap <Share className="h-3.5 w-3.5 inline mx-1" /> then <strong>"Add to Home Screen"</strong>\n                </p>\n                <div className="flex items-center justify-center gap-2 text-xs text-muted-foreground">\n                  <Share className="h-4 w-4" />\n                  <span>â†’</span>\n                  <Plus className="h-4 w-4" />\n                  <span className="font-medium">Add to Home</span>\n                </div>\n              </div>\n            ) : (\n              <Button\n                onClick={handleInstall}\n                className="w-full gap-2 bg-primary hover:bg-primary/90"\n              >\n                <Download className="h-4 w-4" />\n                Install App\n              </Button>\n            )}\n          </div>\n        </div>\n      </motion.div>\n    </AnimatePresence>\n  );\n};\n';export{n as default};
