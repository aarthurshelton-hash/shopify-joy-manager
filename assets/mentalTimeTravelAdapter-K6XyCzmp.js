const n="/**\n * Mental Time Travel & Reality Testing Adapter\n * \n * How humans distinguish:\n * - Present imagination (simulated futures)\n * - Episodic memory (reconstructed pasts)  \n * - Dreams (liminal reality)\n * \n * The mind's ability to navigate temporal reality subjectively\n */\n\nimport type { DomainAdapter, UniversalSignal, DomainSignature } from '../types';\n\n// Mental States - The Three Temporal Realities\nconst MENTAL_STATES = {\n  imagination: {\n    name: 'Prospection',\n    temporalDirection: 'future',\n    neuralSignature: 'defaultModeNetwork_dominant',\n    characteristics: ['generative', 'counterfactual', 'unconstrained', 'vividness_variable'],\n    marketAnalogy: 'Scenario planning, risk modeling, speculative positions'\n  },\n  memory: {\n    name: 'Retrospection', \n    temporalDirection: 'past',\n    neuralSignature: 'hippocampal_cortical_reactivation',\n    characteristics: ['reconstructive', 'detail_degradation', 'emotional_tagged', 'confidence_weighted'],\n    marketAnalogy: 'Backtesting, historical pattern recognition, experience-based bias'\n  },\n  dream: {\n    name: 'Liminal Cognition',\n    temporalDirection: 'atemporal',\n    neuralSignature: 'REM_sleep_dissociated',\n    characteristics: ['logic_suspended', 'emotional_intensified', 'memory_consolidation', 'creative_synthesis'],\n    marketAnalogy: 'Intuition, breakthrough insights, subconscious pattern detection'\n  }\n};\n\n// Reality Testing Mechanisms\nconst REALITY_MONITORING = {\n  sourceMonitoring: {\n    description: 'Did I experience this or imagine it?',\n    cues: ['sensory_detail', 'contextual_embedding', 'emotional_valence'],\n    failure: 'Source confusion, false memories, déjà vu'\n  },\n  temporalTagging: {\n    description: 'When did this happen?',\n    mechanisms: ['chronological_context', 'autonoetic_consciousness', 'mental_time_travel'],\n    failure: 'Temporal displacement, jamais vu'\n  },\n  vividnessCalibration: {\n    description: 'How real does this feel?',\n    factors: ['sensory_fidelity', 'emotional_intensity', 'narrative_coherence'],\n    failure: 'Hyper-vivid imagination, flat memories'\n  }\n};\n\n// Neural Substrates (Real Brain Networks)\nconst NEURAL_ARCHITECTURE = {\n  defaultModeNetwork: {\n    regions: ['medial_prefrontal_cortex', 'posterior_cingulate', 'angular_gyrus'],\n    function: 'Self-referential processing, mind-wandering, imagination',\n    marketCorrelation: 'Narrative-driven trading decisions'\n  },\n  hippocampus: {\n    function: 'Episodic memory encoding/consolidation, spatial navigation, scene construction',\n    marketCorrelation: 'Pattern memory, support/resistance levels'\n  },\n  prefrontalCortex: {\n    function: 'Executive control, reality monitoring, working memory',\n    marketCorrelation: 'Risk management, position sizing, discipline'\n  }\n};\n\n// Mental Time Travel (Endel Tulving's Concept)\nconst CHRONESTHESIA = {\n  definition: 'Awareness of subjective time, ability to relive past and prelive future',\n  autonoeticConsciousness: 'Self-knowing awareness of ones own existence in time',\n  \n  mentalTimeTravelAccuracy: {\n    past: 0.7, // Memories reconstruct with 70% accuracy\n    future: 0.3, // Imagination is less constrained\n    dream: 0.1 // Highly unreliable but creative\n  },\n  \n  temporalMarketInsight: 'Traders mentally simulate outcomes before executing'\n};\n\n// Dream Science (Real Sleep Research)\nconst ONEIRIC_PATTERNS = {\n  remCycles: {\n    duration: '90-120 minutes',\n    remDuration: '10-60 minutes increasing through night',\n    dreamIntensity: 'Correlates with REM duration'\n  },\n  \n  dreamContent: {\n    threatSimulation: '70% of dreams involve negative emotions (evolutionary threat rehearsal)',\n    problemSolving: 'REM sleep enhances creative insight',\n    memoryConsolidation: 'Hippocampus replays experiences for cortex storage'\n  },\n  \n  lucidity: {\n    definition: 'Awareness that one is dreaming while dreaming',\n    prevalence: '20-50% of people have experienced',\n    control: '10-20% can control dream content',\n    marketAnalogy: 'Meta-awareness of ones own cognitive biases'\n  }\n};\n\ninterface MentalTimeTravelData {\n  state: keyof typeof MENTAL_STATES;\n  temporalDistance: number; // Years from present\n  vividness: number; // 0-1 sensory fidelity\n  emotionalIntensity: number; // 0-1 emotional charge\n  realityConfidence: number; // 0-1 certainty this is real\n  sourceClarity: number; // 0-1 clear on origin\n  timestamp: number;\n}\n\nclass MentalTimeTravelAdapter implements DomainAdapter<MentalTimeTravelData> {\n  domain = 'soul' as const;\n  name = 'Mental Time Travel & Reality Testing';\n  isActive = false;\n  lastUpdate = 0;\n  \n  private signalBuffer: UniversalSignal[] = [];\n  private readonly BUFFER_SIZE = 1000;\n  \n  async initialize(): Promise<void> {\n    this.isActive = true;\n    this.lastUpdate = Date.now();\n    console.log('[MentalTimeTravelAdapter] Initialized - Reality testing active');\n  }\n  \n  processRawData(data: MentalTimeTravelData): UniversalSignal {\n    const { state, temporalDistance, vividness, emotionalIntensity, realityConfidence, timestamp } = data;\n    \n    const stateData = MENTAL_STATES[state] || MENTAL_STATES.imagination;\n    \n    // Frequency encodes temporal distance (further = lower frequency)\n    const frequency = 1 / (Math.abs(temporalDistance) + 1);\n    \n    // Intensity = vividness × emotional intensity\n    const intensity = vividness * emotionalIntensity;\n    \n    // Phase encodes reality confidence\n    const phase = realityConfidence * Math.PI * 2;\n    \n    const harmonics = [\n      vividness,\n      emotionalIntensity,\n      realityConfidence,\n      data.sourceClarity,\n      state === 'dream' ? 0.8 : 0.2,\n      temporalDistance > 0 ? 1 : 0, // Future vs past\n    ];\n    \n    const signal: UniversalSignal = {\n      domain: 'soul',\n      timestamp,\n      intensity,\n      frequency,\n      phase,\n      harmonics,\n      rawData: [vividness, emotionalIntensity, realityConfidence, temporalDistance]\n    };\n    \n    this.signalBuffer.push(signal);\n    if (this.signalBuffer.length > this.BUFFER_SIZE) {\n      this.signalBuffer.shift();\n    }\n    \n    this.lastUpdate = timestamp;\n    return signal;\n  }\n  \n  extractSignature(signals: UniversalSignal[]): DomainSignature {\n    if (signals.length === 0) {\n      return this.getDefaultSignature();\n    }\n    \n    const recent = signals.slice(-100);\n    \n    // Calculate dominant frequency from recent signals\n    const dominantFreq = recent.reduce((sum, s) => sum + s.frequency, 0) / recent.length;\n    \n    // Calculate quadrant profile\n    const vividness = recent.reduce((sum, s) => sum + s.rawData[0], 0) / recent.length;\n    const emotion = recent.reduce((sum, s) => sum + s.rawData[1], 0) / recent.length;\n    const reality = recent.reduce((sum, s) => sum + s.rawData[2], 0) / recent.length;\n    const temporal = recent.reduce((sum, s) => sum + s.rawData[3], 0) / recent.length;\n    \n    const quadrantProfile = {\n      aggressive: emotion * (1 - reality), // High emotion, low reality check\n      defensive: reality * (1 - emotion), // High reality, low emotion\n      tactical: vividness * (1 - reality), // Vivid but uncertain\n      strategic: reality * emotion // Grounded emotional awareness\n    };\n    \n    // Temporal flow\n    const temporalFlow = {\n      early: temporal < 0 ? Math.abs(temporal) : 0.1, // Past-focused\n      mid: 0.4,\n      late: temporal > 0 ? temporal : 0.1 // Future-focused\n    };\n    \n    return {\n      domain: 'soul',\n      quadrantProfile,\n      temporalFlow,\n      intensity: vividness * emotion,\n      momentum: temporal / 10,\n      volatility: 1 - reality,\n      dominantFrequency: dominantFreq,\n      harmonicResonance: reality,\n      phaseAlignment: reality,\n      extractedAt: Date.now()\n    };\n  }\n  \n  private getDefaultSignature(): DomainSignature {\n    return {\n      domain: 'soul',\n      quadrantProfile: { aggressive: 0.25, defensive: 0.25, tactical: 0.25, strategic: 0.25 },\n      temporalFlow: { early: 0.33, mid: 0.34, late: 0.33 },\n      intensity: 0.5,\n      momentum: 0,\n      volatility: 0.5,\n      dominantFrequency: 1,\n      harmonicResonance: 0.5,\n      phaseAlignment: 0.5,\n      extractedAt: Date.now()\n    };\n  }\n  \n  // Generate mental state from market conditions\n  generateMarketCorrelatedData(marketMomentum: number, marketVolatility: number, sentiment: number): MentalTimeTravelData {\n    // High volatility = imagination/dream state dominates\n    // Low volatility = memory dominates\n    \n    let state: keyof typeof MENTAL_STATES = 'memory';\n    if (marketVolatility > 0.7) state = 'dream';\n    else if (marketVolatility > 0.4) state = 'imagination';\n    \n    return {\n      state,\n      temporalDistance: marketMomentum * 5, // -5 to +5 years\n      vividness: marketVolatility * 0.8 + 0.2,\n      emotionalIntensity: Math.abs(sentiment),\n      realityConfidence: 1 - marketVolatility,\n      sourceClarity: sentiment > 0 ? 0.7 : 0.4,\n      timestamp: Date.now()\n    };\n  }\n}\n\nexport const mentalTimeTravelAdapter = new MentalTimeTravelAdapter();\nexport { MENTAL_STATES, REALITY_MONITORING, CHRONESTHESIA, ONEIRIC_PATTERNS };\nexport type { MentalTimeTravelData };\n";export{n as default};
