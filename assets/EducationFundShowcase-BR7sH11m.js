const e='import React, { forwardRef } from \'react\';\nimport { Link } from \'react-router-dom\';\nimport { motion } from \'framer-motion\';\nimport { GraduationCap, Heart, Globe, ChevronRight, Sparkles } from \'lucide-react\';\nimport { Card, CardContent } from \'@/components/ui/card\';\nimport { Badge } from \'@/components/ui/badge\';\nimport { Button } from \'@/components/ui/button\';\nimport { useQuery } from \'@tanstack/react-query\';\nimport { supabase } from \'@/integrations/supabase/client\';\n\ninterface EducationFundShowcaseProps {\n  variant?: \'homepage\' | \'compact\' | \'card\';\n  className?: string;\n}\n\nexport const EducationFundShowcase = forwardRef<HTMLElement, EducationFundShowcaseProps>(({\n  variant = \'homepage\',\n  className = \'\',\n}, ref) => {\n  const { data: stats } = useQuery({\n    queryKey: [\'education-fund-summary\'],\n    queryFn: async () => {\n      const { data, error } = await supabase\n        .from(\'education_fund\')\n        .select(\'fund_contribution_cents, visions_released\');\n      \n      if (error) throw error;\n      \n      const totalFundCents = data?.reduce((sum, r) => sum + (r.fund_contribution_cents || 0), 0) || 0;\n      const totalVisionsReleased = data?.reduce((sum, r) => sum + (r.visions_released || 0), 0) || 0;\n      const scholarshipsCount = Math.floor(totalFundCents / 700); // $7/month\n      \n      return {\n        totalFundDollars: totalFundCents / 100,\n        scholarshipsCount,\n        visionsReleased: totalVisionsReleased,\n      };\n    },\n    staleTime: 60000,\n  });\n\n  if (variant === \'card\') {\n    return (\n      <Link to="/education-fund" className={className}>\n        <Card className="group border-emerald-500/20 hover:border-emerald-500/40 bg-gradient-to-br from-emerald-500/5 to-teal-500/5 transition-all cursor-pointer">\n          <CardContent className="p-4 flex items-center gap-3">\n            <div className="h-10 w-10 rounded-full bg-emerald-500/10 flex items-center justify-center shrink-0">\n              <GraduationCap className="h-5 w-5 text-emerald-500" />\n            </div>\n            <div className="flex-1 min-w-0">\n              <h4 className="font-display text-sm font-medium truncate">Chess Education Fund</h4>\n              <p className="text-xs text-muted-foreground truncate">\n                {stats?.scholarshipsCount || 0} scholarships funded\n              </p>\n            </div>\n            <ChevronRight className="h-4 w-4 text-muted-foreground group-hover:text-emerald-500 transition-colors" />\n          </CardContent>\n        </Card>\n      </Link>\n    );\n  }\n\n  if (variant === \'compact\') {\n    return (\n      <Link \n        to="/education-fund" \n        className={`inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-emerald-500/10 border border-emerald-500/20 hover:border-emerald-500/40 text-sm text-emerald-600 dark:text-emerald-400 transition-all ${className}`}\n      >\n        <GraduationCap className="h-4 w-4" />\n        <span className="font-medium">Education Fund</span>\n        <Badge variant="secondary" className="text-[10px] px-1.5 py-0">\n          {stats?.scholarshipsCount || 0} scholarships\n        </Badge>\n      </Link>\n    );\n  }\n\n  // Full homepage variant - assign ref to the section\n  return (\n    <section className={`py-16 ${className}`}>\n      <div className="container mx-auto px-4">\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          whileInView={{ opacity: 1, y: 0 }}\n          viewport={{ once: true }}\n          className="max-w-4xl mx-auto"\n        >\n          <Card className="overflow-hidden border-emerald-500/20 bg-gradient-to-br from-emerald-500/5 via-teal-500/5 to-cyan-500/5">\n            <CardContent className="p-8 md:p-12">\n              <div className="flex flex-col md:flex-row gap-8 items-center">\n                {/* Icon and Title */}\n                <div className="text-center md:text-left space-y-4 flex-1">\n                  <div className="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-emerald-500/10 border border-emerald-500/20 text-emerald-600 dark:text-emerald-400 text-xs font-display uppercase tracking-wider">\n                    <Heart className="h-3.5 w-3.5" />\n                    Giving Back\n                  </div>\n                  \n                  <h2 className="text-2xl md:text-3xl font-royal font-bold uppercase tracking-wide">\n                    Chess <span className="text-emerald-500">Education</span> Fund\n                  </h2>\n                  \n                  <p className="text-muted-foreground font-serif leading-relaxed max-w-lg">\n                    Every premium membership contributes to scholarships for underprivileged students. \n                    When memberships lapse, vision values flow directly to chess education worldwide.\n                  </p>\n\n                  <div className="flex flex-wrap gap-6 justify-center md:justify-start pt-2">\n                    <div className="text-center">\n                      <p className="text-2xl font-bold text-emerald-500">\n                        ${stats?.totalFundDollars?.toFixed(0) || \'0\'}\n                      </p>\n                      <p className="text-xs text-muted-foreground uppercase tracking-wide">Total Funded</p>\n                    </div>\n                    <div className="text-center">\n                      <p className="text-2xl font-bold text-emerald-500">\n                        {stats?.scholarshipsCount || 0}\n                      </p>\n                      <p className="text-xs text-muted-foreground uppercase tracking-wide">Scholarships</p>\n                    </div>\n                    <div className="text-center">\n                      <p className="text-2xl font-bold text-emerald-500">\n                        <Globe className="h-6 w-6 inline" />\n                      </p>\n                      <p className="text-xs text-muted-foreground uppercase tracking-wide">Worldwide</p>\n                    </div>\n                  </div>\n                </div>\n\n                {/* CTA */}\n                <div className="flex flex-col gap-3 items-center">\n                  <div className="w-24 h-24 rounded-full bg-gradient-to-br from-emerald-500/20 to-teal-500/20 flex items-center justify-center">\n                    <GraduationCap className="h-12 w-12 text-emerald-500" />\n                  </div>\n                  <Link to="/education-fund">\n                    <Button \n                      variant="outline" \n                      className="gap-2 border-emerald-500/30 text-emerald-600 dark:text-emerald-400 hover:bg-emerald-500/10"\n                    >\n                      <Sparkles className="h-4 w-4" />\n                      Learn More\n                      <ChevronRight className="h-4 w-4" />\n                    </Button>\n                  </Link>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </motion.div>\n      </div>\n    </section>\n  );\n});\n\nEducationFundShowcase.displayName = \'EducationFundShowcase\';\n\nexport default EducationFundShowcase;\n';export{e as default};
