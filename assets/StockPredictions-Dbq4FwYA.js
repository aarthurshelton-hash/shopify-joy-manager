var e,t=Object.defineProperty,n=(e,n,s)=>((e,n,s)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s)(e,"symbol"!=typeof n?n+"":n,s);import{aJ as s,r,ew as a,s as c,j as i,C as o,p as l,t as d,L as u,w as x,x as h,aq as f,B as m,aF as g,v,cR as j,y,b8 as p,b9 as w,ba as N,bb as C,bc as b,a8 as B,aB as D,aC as z,aD as G,b4 as M,aE as q,aY as A,bh as P,cb as L,ad as U,eD as k}from"./index-f_XxDhCa.js";import{A as I,a as K,b as S}from"./alert-Dq9IjV5q.js";import{T as Y,a as H,b as _,c as E,d as T,e as W}from"./table-DK4-8UIn.js";import{C as Z}from"./circle-alert-DObWLTR8.js";import{W as O}from"./wifi-off-BNos3Czw.js";import{W as J}from"./wifi-C5g-w9U5.js";import{B as V}from"./briefcase-Dk4Dzl2i.js";import{T as R}from"./trending-down-D1IWs159.js";const X=s("Bolt",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]),F=s("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);function Q(e,t){e-=148;const n=re();let s=n[e];if(void 0===Q.XTUbxW){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};Q.sucICU=r,Q.CBjdyp={},Q.XTUbxW=!0}const a=e+n[0],c=Q.CBjdyp[a];if(c)s=c;else{const e=function(e){this.VToMvL=e,this.KVEvjy=[1,0,0],this.NrIuFW=function(){return"newState"},this.TgzSzX="\\w+ *\\(\\) *{\\w+ *",this.sdRyvu="['|\"].+['|\"];? *}"};e.prototype.uSDrJg=function(){const e=new RegExp(this.TgzSzX+this.sdRyvu).test(this.NrIuFW.toString())?--this.KVEvjy[1]:--this.KVEvjy[0];return this.wwaZFZ(e)},e.prototype.wwaZFZ=function(e){return Boolean(~e)?this.kWLmhS(this.VToMvL):e},e.prototype.kWLmhS=function(e){for(let t=0,n=this.KVEvjy.length;t<n;t++)this.KVEvjy.push(Math.round(Math.random())),n=this.KVEvjy.length;return e(this.KVEvjy[0])},new e(Q).uSDrJg(),s=Q.sucICU(s),Q.CBjdyp[a]=s}return s}const $=Q;!function(){const e=Q,t=re();for(;;)try{if(571308===-parseInt(e(193))/1*(parseInt(e(203))/2)+parseInt(e(201))/3+-parseInt(e(173))/4*(parseInt(e(163))/5)+-parseInt(e(166))/6*(parseInt(e(160))/7)+parseInt(e(196))/8*(parseInt(e(176))/9)+-parseInt(e(174))/10*(-parseInt(e(181))/11)+parseInt(e(157))/12)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ee=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=Q;return ee[e(167)]()[e(200)](e(199)+"+$")[e(167)]().constructor(ee).search(e(199)+"+$")});ee();const te=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[Q(172)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}();te(void 0,function(){const e=Q,t={Lxwne:function(e,t){return e!==t},ISpXG:e(179),jszGo:function(e,t){return e(t)},Pxita:e(189)+e(155)+e(202)+" )",WQEan:function(e){return e()},FQtMG:e(188),hqvoP:"error",noukq:e(164),VvCne:e(152)},n=t.WQEan(function(){const n=e;let s;try{if(t[n(198)](t[n(165)],n(179))){const e=_0x2b565b[n(172)](_0x4a2672,arguments);return _0x309f80=null,e}s=t[n(177)](Function,n(182)+n(150)+t.Pxita+");")()}catch(r){s=window}return s}),s=n[e(151)]=n.console||{},r=[e(192),t[e(187)],"info",t[e(191)],t[e(178)],e(158),t[e(149)]];for(let a=0;a<r.length;a++){const t=te.constructor[e(169)][e(156)](te),n=r[a],c=s[n]||t;t[e(184)]=te[e(156)](te),t[e(167)]=c[e(167)][e(156)](c),s[n]=t}})();const ne="ib_gateway"+$(171)+"l",se={};function re(){const e=["ntm2nduWCxDJtuTl","z2f0zxDHEvbVCG","ntaWnZuXouvYugfoAG","ANn6r28","BM91A3e","zgPsAKy","wwvgAMS","mtf0D01swvy","CMv0DxjUicHMDq","vwPPB1C","x19WCM90B19F","z2f0zxDHEuHVCW","y2XPzw50swq","rLf0tuC","D2fYBG","E30Uy29UC3rYDq","C3rYAw5NAwz5","Ahf2B1a","Bg9N","muXNverMCG","yMTjBwu","Dw5KzwzPBMvK","mtzRvxrSANe","q2DftK8","thH3BMu","kcGOlISPkYKRkq","C2vHCMnO","nZm2ntq4uhfmyuvo","CM4GDgHPCYiPka","nZaXmZGWBK94tgPY","z2v0sxrLBq","vNzdBMu","BMn0Aw9UkcKG","y29UC29Szq","DhjHy2u","CMvTB3zLsxrLBq","y29UC3rYDwn0BW","y3rVCIGICMv0Dq","yMLUza","nJe5mtqYne14s0XeCG","DgfIBgu","C2v0sxrLBq","odaWndK5qvvgu0rk","tM56qNG","yNjPzgDLvxjS","mty1nZa2nwTbEunfCG","zxHJzxb0Aw9U","svnWweC","mtHvBe1nwvG","Dg9tDhjPBMC","wufwuwG","ChjVDg90ExbL","zMDnA1O","x2jYAwrNzv91CG","yxbWBhK","oe5lq2T1uG"];return(re=function(){return e})()}se[$(162)]="http://localhost:4000",se[$(185)+"t"]="127.0.0.1",se[$(175)+"t"]=4002,se[$(186)]=1;const ae=se;function ce(){const e=$,t={CgENO:function(e){return e()},bkIme:function(e,t){return e===t}};if(typeof window===e(195))return ae;const n=localStorage[e(148)](ne);if(n)try{return e(180)!==e(168)?{...ae,...JSON.parse(n)}:t[e(197)](_0x5de9c3)[e(162)]}catch{if(t[e(194)](e(161),"NnzBx"))return ae;{const t=_0xd23c65[e(154)+"r"][e(169)][e(156)](_0x2bfb7b),n=_0x11547c[_0x36ac6a],s=_0x407a52[n]||t;t[e(184)]=_0x19e107[e(156)](_0x4b7ee9),t.toString=s[e(167)][e(156)](s),_0x4d19e5[n]=t}}return ae}function ie(){return{fgMkZ:function(e){return e()}}[$(170)](ce).bridgeUrl}const oe=de;function le(){const e=["Cg9YDa","Dg9tDhjPBMC","A2juuw0","Ev0GugXHy2uGBW","mZm2mJqXofjrvwrODa","vffirgS","y2fUy2vSt3jKzq","Ev0Gr2v0ihbVCW","CeXMzwu","yNjPzgDLuNvUBG","y29UBMvJDa","tuDcAMy","z1LfEwG","l2fWAs9VCMrLCG","yxbWBhK","CgfWzxjuCMfKAq","mZm2mtyYnMD1z3zqvG","DgfIBgu","rMHZweO","qKHSBeq","ue9tva","DxDvB3e","y29UC3rYDwn0BW","revmrvrf","sNH5yu4","DLb2uvi","l2fWAs9KAxnJBW","CMfJDa","uxr3yKi","Bg9N","BNrjzd0","otm2nJKXmef6thPbtG","DhjHy2u","ywnJB3vUDhm","tMrPse4","Cxbzt28","B3vUDhmGzxjYBW","Aw5N","yMj5te8","BNrZ","l2fWAs9ZDgf0Dq","y29UDhjHy3qGzq","r0vu","vvrvqLO","AwiT","yKrRsgq","mtq0ntK2mwjgs3zivW","rg56wLq","Aw5MBW","zgLZy29UBMvJDa","l2fWAs9WB3nPDa","z2v0ug9ZAxrPBW","r05Avee","sMvUwNe","y3rPB24","yMLUza","BMn0Aw9UkcKG","zvb4s2S","zxjYB3i","q29UDgvUDc1uEq","sfrWrNm","CM4GDgHPCYiPka","CLnbz20","CMfkBMm","AgvHzgvYCW","DgvK","zNfxBeG","EuPjBu8","z2v0t3jKzxjZ","BezRDhe","CNjVCJO","igvYCM9YoG","p2nVBMLKpq","BMjAAxC","Ev0Gq29UBMvJDa","BI9QC29U","BM5Ly3q","C2vHCMnOq29UDa","Ev0Gr2v0ig9Yza","y3rVCIGICMv0Dq","DwfptfK","ANnVBG","BM90igf2ywLSyq","C2vHCMnO","mtuZnJLmswfUywK","z2f0zxDHEvbVCG","rg9lA3a","y29UC29Szq","C3rHDhvZ","mZuXnJq0z01xquHZ","Ev0Gt3jKzxiGzG","wuPIDLG","D1P3CwG","Ag9ZDa","l2fWAs9Hy2nVDq","q3jKBhm","mZiYmZiYn1fvvxv2zq","yxbWBgLJyxrPBW","v0PZvvG","nvDlB01grG","mZzbEwjUzwO","BwvZC2fNzq","CMrLCIbLCNjVCG","Ev0Gu2vHCMnOia","B3jKzxjZ","yxv0AgvUDgLJyq","BM93","Ev0GqNjPzgDLia","y29UBMvJDgvK","zevUAMe","AwffAwK","ohzoy3nfDq","w0LcieDHDgv3yq","Cg9ZAxrPB25Z","zxHJzxb0Aw9U","y2XPzw50swq","kcGOlISPkYKRkq","Bwv0Ag9K","Ad9ZEw1IB2W9","AxrPB25ZigvYCG","zeDqDNe","z2v0uxvVDgu","zxjZigvYCM9YoG","D2fYBG","CMv0DxjUicHMDq","B3jKzxiGzxjYBW","y2HLy2TdB25Uzq","E30Uy29UC3rYDq","D1f2u1q","zxvrtMG"];return(le=function(){return e})()}function de(e,t){e-=154;const n=le();let s=n[e];if(void 0===de.AAgVGg){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};de.TbxDNN=r,de.QKPeoi={},de.AAgVGg=!0}const a=e+n[0],c=de.QKPeoi[a];if(c)s=c;else{const e=function(e){this.vBFTvd=e,this.jwdtXy=[1,0,0],this.SpsRiO=function(){return"newState"},this.VHCAcl="\\w+ *\\(\\) *{\\w+ *",this.IDwGBq="['|\"].+['|\"];? *}"};e.prototype.hAotZU=function(){const e=new RegExp(this.VHCAcl+this.IDwGBq).test(this.SpsRiO.toString())?--this.jwdtXy[1]:--this.jwdtXy[0];return this.HRVKfh(e)},e.prototype.HRVKfh=function(e){return Boolean(~e)?this.IUNDcx(this.vBFTvd):e},e.prototype.IUNDcx=function(e){for(let t=0,n=this.jwdtXy.length;t<n;t++)this.jwdtXy.push(Math.round(Math.random())),n=this.jwdtXy.length;return e(this.jwdtXy[0])},new e(de).hAotZU(),s=de.TbxDNN(s),de.QKPeoi[a]=s}return s}!function(){const e=de,t=le();for(;;)try{if(388853===parseInt(e(257))/1*(parseInt(e(273))/2)+parseInt(e(219))/3+parseInt(e(262))/4+-parseInt(e(272))/5*(parseInt(e(177))/6)+-parseInt(e(269))/7+-parseInt(e(154))/8*(parseInt(e(189))/9)+parseInt(e(204))/10)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ue=function(){const e=de,t={};t[e(230)]=function(e,t){return e===t},t.kbTQm=e(185);const n=t;let s=!0;return function(e,t){const r=s?function(){const s=de,r={iaEii:function(e,t){return e(t)},JxyaN:s(167)+s(229)};if(n[s(230)](s(185),n[s(175)])){if(t){const n=t.apply(e,arguments);return t=null,n}}else _0x2d8d5b=r[s(283)](_0x3defc6,r[s(197)]+"{}.constru"+s(252)+s(234)+" ));")()}:function(){};return s=!1,r}}()(void 0,function(){const e=de;return ue.toString()[e(256)](e(159)+"+$")[e(174)]()[e(195)+"r"](ue)[e(256)]("(((.+)+)+)+$")});ue();const xe=function(){let e=!0;return function(t,n){const s=de,r={};r[s(192)]=s(191);const a=r,c=e?function(){const e=s;if(n){if(e(181)===a.BHllD){const t=_0x4c0109?function(){if(_0x5ae7db){const t=_0x4c89a1[e(187)](_0x18272f,arguments);return _0x48b9c2=null,t}}:function(){};return _0x3776dc=!1,t}{const s=n[e(187)](t,arguments);return n=null,s}}}:function(){};return e=!1,c}}();xe(void 0,function(){const e=de,t={Crdls:function(e,t){return e(t)},nbZiw:function(e,t){return e+t},wQvST:function(e,t){return e+t},rSAgm:e(167)+e(229),bbyLO:e(170)+'ctor("retu'+e(234)+" )",UTUBZ:e(221),PbfBW:e(157),TQHDk:e(205)},n=function(){const n=e;let s;try{s=t[n(268)](Function,t[n(246)](t[n(171)](t[n(235)],t[n(211)]),");"))()}catch(r){s=window}return s}(),s=n.console=n[e(260)]||{},r=[e(202),e(166),t[e(216)],"error",t.PbfBW,e(190),t[e(178)]];for(let a=0;a<r.length;a++){const t=xe.constructor.prototype[e(228)](xe),n=r[a],c=s[n]||t;t.__proto__=xe.bind(xe),t[e(174)]=c.toString.bind(c),s[n]=t}})();class he{constructor(){n(this,e,!1)}async[(e=oe(281),oe(169)+oe(227))](){const e=oe,t={wZwqh:function(e){return e()},YJbvX:e(215),uwUoq:function(e,t){return e===t},DoKkp:function(e,t){return e===t},qpYOo:e(155)+e(280)+e(255)+"ble:"};try{const n=t[e(265)](ce),s={};s["Content-Type"]=e(270)+"n/json";const r={};r[e(160)]=t[e(264)],r[e(237)]=s;const a=await fetch(ie()+(e(213)+"s"),r);if(!a.ok){const t={};return t[e(281)]=!1,t[e(278)+e(238)]=!1,t[e(188)+"ng"]=!1,t}const c=await a[e(254)]();return this.connected=t[e(194)](c[e(281)],!0),{connected:!0===c[e(182)+e(210)],authenticated:t[e(259)](c.connected,!0),paperTrading:4002===n[e(258)+"t"]}}catch(n){const t={};return t[e(281)]=!1,t[e(278)+e(238)]=!1,t[e(188)+"ng"]=!1,t}}async[oe(183)](){const e=oe,t={};t[e(226)]=function(e,t){return e===t},t[e(172)]="aeoZf";const n=t;try{if(n[e(226)](n[e(172)],"aeoZf")){const t=ce(),n={};n[e(232)+"pe"]=e(270)+"n/json";const s={};s[e(266)]=t.gatewayHost,s[e(173)]=t[e(258)+"t"],s[e(158)]=t[e(158)];const r=await fetch(ie()+"/api/connect",{method:e(193),headers:n,body:JSON.stringify(s)});if(!r.ok)return!1;const a=await r[e(254)]();return this.connected=!0===a[e(281)],this[e(281)]}return _0x1ecb2c.error(e(155)+e(176)+e(275)+":",_0xec6fd1),null}catch(s){return!1}}async[oe(222)](){const e=oe;try{const t={};t[e(160)]=e(193),await fetch(ie()+(e(199)+e(249)),t),this[e(281)]=!1}catch{}}async getAccounts(){const e=oe,t=function(e){return e()};try{const n=await fetch(t(ie)+(e(267)+e(212)));if(!n.ok)return[];return(await n[e(254)]())[e(206)]||[]}catch(n){return[]}}async[oe(224)+"ns"](e){const t=oe,n={fqWlH:function(e,t){return e(t)},lFktq:function(e){return e()}};try{const s=await n[t(239)](fetch,n[t(242)](ie)+(t(223)+"ions?accou")+t(203)+e);if(!s.ok)return[];return(await s.json())[t(156)]||[]}catch(s){return[]}}async[oe(241)](){const e=oe,t={fetQm:e(218),dGPvq:function(e,t){return e(t)},ZjMPY:function(e){return e()}};try{if(e(220)===t.fetQm){_0x254f52[e(202)]("[IB Gatewa"+e(280)+e(255)+"ble:",_0x2daad6.message);const t={};return t[e(281)]=!1,t[e(278)+e(238)]=!1,t[e(188)+"ng"]=!1,t}{const n=await t[e(163)](fetch,t.ZjMPY(ie)+"/api/orders");if(!n.ok)return[];return(await n[e(254)]())[e(277)]||[]}}catch(n){return[]}}async[oe(250)+oe(200)](e){const t=oe,n={HTpFs:function(e,t){return e(t)}};try{const s=await fetch(ie()+"/api/searc"+t(161)+n[t(233)](encodeURIComponent,e));if(!s.ok)return[];return(await s[t(254)]()).contracts||[]}catch(s){return[]}}async placeOrder(e){const t=oe,n={yJImO:function(e){return e()},WJsUX:t(270)+t(248)};try{const s=await fetch(n[t(240)](ie)+(t(186)+"s"),{method:t(193),headers:{"Content-Type":n[t(271)]},body:JSON.stringify(e)});if(!s.ok)return null;const r=await s[t(254)]();return{orderId:r.orderId||t(217)+Date[t(279)](),status:r[t(261)]||"submitted"}}catch(s){return null}}async[oe(179)+"r"](e){const t=oe,n={GNZTA:function(e,t,n){return e(t,n)},uaOLY:function(e){return e()},MGBjf:t(196),qWowO:"[IB Gateway] Cancel "+t(168)+"r:"};try{return(await n[t(225)](fetch,n[t(253)](ie)+(t(186)+"s/")+e,{method:n[t(184)]})).ok}catch(s){return!1}}async[oe(164)](e){const t=oe,n={dEnja:t(155)+t(247)+" error:",raJnc:t(198),QtwbB:function(e){return e()}};try{if(n[t(236)]===t(207))return _0x2a10e6[t(231)](n[t(282)],_0x327411),!1;{const s=await fetch(n[t(201)](ie)+"/api/quote"+t(245)+e);if(!s.ok)return null;return await s.json()}}catch{return null}}}const fe=new he;function me(){const e=["B2fAuwe","Dw50","D1DHuxG","DgLTzwqGB3v0","C3rHCNrZv2L0Aa","zgvZDhj1y3rPDG","ChjPy2u","BwvZC2fNzq","A05hyxm","CKThwMm","DhjHy2u","y2fUy2vSBgvKlG","z0DAsM0","CMvMCMvZAerHDa","B3jKzxjuExbL","vunPzu8","Bg9HzgLUzW","u2vHD3i","AwnRicjdB25Uzq","y3rPB24","rKzqAM4","yxbWBhK","yuflseu","BNn1CMuGsuiGrW","mtKXmMzZDhLwCW","wuriEMK","zMLUza","zMLUzcbJB250CG","y291BNq","q3bNCem","ug5It2G","z2uGC2vYDMvYia","BvL0qMu","Bg9N","mZKXognqwezlsq","DxzZA2S","DgL0Bgu","CMv0DxjUicHMDq","zYbJB25Uzwn0Aq","yw5JrLu","ywn0igzVCIa","y1LZBhy","C3LTyM9S","s0zXv3G","CgXHy2vpCMrLCG","Aw5MBW","z2v0ug9ZAxrPBW","EhPktgu","y2HLy2TdB25Uzq","C2vYDMvYigLZia","rMfPBgvKihrVia","Bg9HzfbVC2L0Aq","tfvNtNG","zxjYB3i","wLrbrvi","tLLntum","t1Liwfi","Aw9UignOzwnRia","yMLUza","ihj1BM5PBMCUia","Bg9HzefJy291BG","ANn4wfG","Dg9tDhjPBMC","mJCZmteZmgTiAvnYuq","CNvUBMLUzYbHBG","CxzYvxO","tu15sKy","s3npDMS","u3rHCNqGDgHLia","t3jKzxiGq2fUyW","ifnLBgvJDgvK","ywXS","rM1Ttxa","Aw9UigvYCM9YoG","t3jKzxiG","Ev0Gq29UBMvJDa","B3jKzxjZ","x19WCM90B19F","yxrLD2f5","CgfWzxjuCMfKAq","B1fUEwu","t3jKzxiGrMfPBa","y3vYCMvUDa","vfDWz0C","iezVDw5K","z3nvEva","sfHQwLy","ywnJB3vUDeLK","D2fYBG","C2vHCMnO","DMfYAwfUDa","zw9zvxq","B3vUDcbMAxjZDa","DgfIBgu","ANPrsNm","zMLYC3qU","ChjVDg90ExbL","zgvZy3jPChrPBW","EvfYChm","AguGyNjPzgDLia","sNL2yKS","DLzJEfe","AxDtAhu","D2f5iI4","uxDfuva","igHHCYbIzwvUia","uvHTB2e","nty5ndbdyKPgD0q","ntqXndi4offKB1PvAq","EK1dyNi","mta3nJu1n29mqNrQwG","yxv0AgvUDgLJyq","y1LYCwi","Aw5JBhvKzxm","zcbbueKGAxmGzq","DgvK","q29UBMvJDgvK","y29UAwq","lIbfBNn1CMuGDa","CxvHBNrPDhK","C2LKzq","y29UC29Szq","mtiYnZCXmZrwsNvLv1q","CMrjt2u","u3LTyM9Sie5VDa","BMn0Aw9UkcKG","BMfIBgvKlG","BwXSz0m","t2nKA0m","E30Uy29UC3rYDq","ywnJB3vUDhm","CenJB2O","z2v0qwnJB3vUDa","y29UC3rYDwn0BW","BMvJDgLVBI4","igzHAwXLzdOG","swvOsgu","CfjVqNi","q29UBMvJDgLVBG","CM4GDgHPCYiPka","B3rSBg8","mKDHBgPOwq","qNjPzgDLihj1BG","C2vSzwn0qwnJBW","y29UBMvJDgvK","A1LTEhC","D1zzqKS","Be9KweK","q291BgqGBM90ia","zwzvte8","z1jUCfq","sevYugi","yxrLD2f5ignVBG","CI4Gq2HLy2SGzW","y29UBMvJDc4Grq","y3qGDg8Gr2f0zq","w0LcieDHDgv3yq","tM8GqwnJB3vUDa","CwTXuxy","Dg9mB3DLCKnHCW","AM9swwK","t1DRyxC","ywnJB3vUDfr5Ca","zwXSzwq","u3vJy2vZC2z1Ba","Ev0Gq2HLy2TPBG","y29UBMvJDa","uurZzgS","yxvRDMW","zxHJzxb0Aw9U","BMLUzYbIDxqGBG","CKzNsNC","DfzuBfy","ic0G","yxrLD2f5igLZia","BgvUz3rO","CNvUBMLUzY4","B24UlI4","mteYmgnyzLzTuG","AvbACLK","rhfLs3u","C2vSzwn0zwrbyW","BhKGy29UBMvJDa","kcGOlISPkYKRkq","Bg9Hze9YzgvYCW","AKfpu04","u1jbC1O","Bg9JywWGyNjPza","mtGWnZGZmhnyyNzZEq","qNjPzgDLig5VDa"];return(me=function(){return e})()}!function(){const e=je,t=me();for(;;)try{if(812870===parseInt(e(519))/1*(parseInt(e(550))/2)+-parseInt(e(633))/3*(-parseInt(e(623))/4)+-parseInt(e(472))/5+-parseInt(e(516))/6*(-parseInt(e(587))/7)+-parseInt(e(517))/8+-parseInt(e(531))/9+parseInt(e(597))/10)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ge=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=je,t={};t[e(611)]=e(592)+"+$";const n=t;return ge[e(471)]()[e(498)](n[e(611)]).toString().constructor(ge)[e(498)](e(592)+"+$")});ge();const ve=function(){const e=je,t={};t[e(569)]=e(644),t[e(594)]="trace";const n=t;let s=!0;return function(e,t){const r=s?function(){const s=je,r={ancFU:function(e,t){return e(t)},ZTAER:function(e,t){return e+t},EOgFU:s(636)+"nction() ",rFgJw:s(538)+'ctor("retu'+s(548)+" )",QXmoa:"warn",iwShu:n[s(569)],qvrUz:n[s(594)],qkqQv:function(e,t){return e<t}};if("DUQNf"===s(481)){let e;try{e=r[s(638)](_0x44ca4a,r[s(653)](r[s(653)](r.EOgFU,r[s(580)]),");"))()}catch(a){e=_0x348acf}const t=e.console=e[s(530)]||{},n=["log",r[s(515)],r[s(511)],s(652),"exception",s(502),r[s(474)]];for(let a=0;r[s(567)](a,n[s(584)]);a++){const e=_0x157d6c[s(542)+"r"].prototype[s(467)](_0x4a3506),r=n[a],c=t[r]||e;e.__proto__=_0x425f90[s(467)](_0x174239),e[s(471)]=c.toString[s(467)](c),t[r]=e}}else if(t){const n=t[s(620)](e,arguments);return t=null,n}}:function(){};return s=!1,r}}();function je(e,t){e-=464;const n=me();let s=n[e];if(void 0===je.IrxzcI){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};je.BflGKe=r,je.XePzFK={},je.IrxzcI=!0}const a=e+n[0],c=je.XePzFK[a];if(c)s=c;else{const e=function(e){this.lCRpSc=e,this.HygnEX=[1,0,0],this.SDQqKb=function(){return"newState"},this.lzKeJp="\\w+ *\\(\\) *{\\w+ *",this.GBEgex="['|\"].+['|\"];? *}"};e.prototype.jQqulb=function(){const e=new RegExp(this.lzKeJp+this.GBEgex).test(this.SDQqKb.toString())?--this.HygnEX[1]:--this.HygnEX[0];return this.JAFqGE(e)},e.prototype.JAFqGE=function(e){return Boolean(~e)?this.DfDOxq(this.lCRpSc):e},e.prototype.DfDOxq=function(e){for(let t=0,n=this.HygnEX.length;t<n;t++)this.HygnEX.push(Math.round(Math.random())),n=this.HygnEX.length;return e(this.HygnEX[0])},new e(je).jQqulb(),s=je.BflGKe(s),je.XePzFK[a]=s}return s}ve(void 0,function(){const e=je,t={lhnXK:function(e,t){return e(t)},gsUyP:function(e,t){return e+t},gRnpT:e(636)+e(534),mllgC:function(e){return e()},pCcoj:"warn",yQrps:e(578),TWpgG:e(502),PnbOh:e(609),zMCbr:function(e,t){return e<t}};let n;try{const s=t.lhnXK(Function,t[e(494)](t[e(559)],e(538)+'ctor("return this")( )')+");");n=t[e(536)](s)}catch(a){n=window}const s=n[e(530)]=n.console||{},r=[e(632),t[e(540)],e(644),e(652),t[e(507)],t[e(492)],t[e(629)]];for(let c=0;t[e(518)](c,r[e(584)]);c++){const t=ve[e(542)+"r"][e(505)].bind(ve),n=r[c],a=s[n]||t;t[e(486)]=ve.bind(ve),t[e(471)]=a.toString[e(467)](a),s[n]=t}})();const ye=["SPY","QQQ","AAPL","MSFT","NVDA","TSLA","AMD","META"];function pe(){const{connected:e,authenticated:t,paperTrading:n,accounts:s,selectedAccount:k,positions:F,orders:Q,loading:$,error:ee,checkConnection:te,connectToGateway:ne,refreshData:se,placeOrder:re,cancelOrder:ae,selectAccount:ce}=function(){var e;const t=je,n={HXjZV:function(e,t){return e(t)},FFPjn:"[IB Gatewa"+t(574)+t(637)+t(586),OYHXR:function(e,t,n){return e(t,n)},aukvl:t(608),cYslv:function(e,t){return e!==t},QDsdk:t(554),LAVRv:"TUQzV",HErPb:t(565)+t(484)+t(482),cYrqb:function(e,t){return e+t},jzQJs:t(538)+'ctor("retu'+t(548)+" )",NYMMC:function(e){return e()},YDHzi:function(e,t){return e(t)},OcdkC:function(e,t){return e(t)},uvskk:t(525),KsOvk:t(588),jsxXX:function(e){return e()},SRAsZ:function(e,t){return e(t)},IehHe:t(604)+"e",xzJLe:function(e,t){return e===t},mYtBe:function(e,t){return e(t)},oQnye:t(601),OWkaw:"Could not place orde"+t(562)+t(561)+t(543),MMyJF:t(555),PUcYY:function(e,t){return e!==t},lOdXI:t(589),GdGaK:t(478)+t(572),Seawr:function(e){return e()},pRoBr:function(e){return e()},kNGas:function(e){return e()},xeeZA:function(e,t){return e(t)},aAKHE:t(558),JyvbK:function(e,t){return e(t)},oaZQa:function(e,t,n){return e(t,n)}},s={};s[t(553)]=!1,s[t(520)+t(524)]=!1,s[t(488)+"ng"]=!1,s[t(539)]=[],s["selectedAc"+t(627)]=null,s.positions=[],s[t(485)]=[],s[t(615)]=!0,s.error=null;const[c,i]=n[t(509)](r.useState,s),o=n[t(495)](r.useRef,null),{toast:l}=a(),d=n[t(465)](r.useCallback,async()=>{const e=t,s={QwEQP:function(e,t){return e(t)}};n[e(495)](i,e=>({...e,loading:!0,error:null}));const r=n[e(465)](setTimeout,()=>{const t=e;i(e=>({...e,connected:!1,authenticated:!1,loading:!1,error:"Connection timed out"+t(527)+t(508)+t(648)+t(585)}))},8e3);try{if(n[e(577)]!==e(510)){const t=await fe["checkConne"+e(618)]();return clearTimeout(r),i(n=>({...n,connected:t.connected,authenticated:t["authentica"+e(524)],paperTrading:t[e(488)+"ng"],loading:!1,error:t[e(553)]?t[e(520)+e(524)]?null:e(551)+e(579)+"ot connected to IB Gateway. Cl"+e(617)+e(564)+e(512):e(598)+e(468)+e(477)+e(596)+e(630)+e(504)})),t}s[e(513)](_0x547249,e=>({...e,selectedAccount:_0x2f1374}))}catch(a){if(n[e(640)](n[e(576)],n.LAVRv)){clearTimeout(r),i(t=>({...t,connected:!1,authenticated:!1,loading:!1,error:e(649)+"connect: "+a[e(606)]}));const t={};return t[e(553)]=!1,t["authentica"+e(524)]=!1,t[e(488)+"ng"]=!1,t}n[e(495)](_0x356737,t=>({...t,loading:!1,error:e(649)+e(563)+e(622)+e(583)+e(473)+e(523)+e(535)}))}},[]),u=n[t(599)](r.useCallback,async()=>{const e=t;n[e(624)](i,e=>({...e,loading:!0,error:null}));try{const t=await fe[e(575)]();if(t)n[e(537)](l,{title:n[e(634)],description:e(573)+e(591)+"ed to IB G"+e(487)}),await n[e(464)](d),await x();else if(n[e(476)]===n.KsOvk)n[e(624)](i,t=>({...t,loading:!1,error:e(649)+"connect. Ensure IB G"+e(583)+e(473)+e(523)+"nabled."}));else{const t=Whoffu[e(495)](_0x9565a0,Whoffu[e(521)](e(636)+e(534),Whoffu[e(503)])+");");_0x54a408=Whoffu.NYMMC(t)}return t}catch(s){return i(t=>({...t,loading:!1,error:e(547)+e(544)+s.message})),!1}},[l,d]),x=n[t(465)](r.useCallback,async()=>{const e=t;if(e(614)==e(614)){const t=await fe[e(541)+"s"](),s=t.find(t=>t[e(496)][e(603)]("DU")||t[e(571)+"e"][e(568)+"e"]()[e(522)]("paper"));return n[e(537)](i,e=>({...e,accounts:t,selectedAccount:s||t[0]||null})),t}{const t=_0x21e35c[e(542)+"r"][e(505)][e(467)](_0x490995),n=_0x1cf26b[_0x3e35dd],s=_0x46040d[n]||t;t[e(486)]=_0x239787[e(467)](_0x1de63f),t[e(471)]=s[e(471)][e(467)](s),_0xaccb91[n]=t}},[]),h=r.useCallback(async()=>{const e=t;if(!c[e(590)+e(627)])return[];const n=await fe[e(645)+"ns"](c[e(590)+e(627)][e(496)]);return i(e=>({...e,positions:n})),n},[c[t(590)+t(627)]]),f=r.useCallback(async()=>{const e=await fe.getOrders();return n.OcdkC(i,t=>({...t,orders:e})),e},[]),m=r.useCallback(async()=>{const e=t;c[e(520)+e(524)]&&await Promise[e(480)]([x(),h(),n[e(470)](f)])},[c["authentica"+t(524)],x,h,f]),g=r.useCallback(async e=>{const s=t;if(!c.selectedAccount)return n[s(595)](l,{title:s(566)+s(479),description:"Please select an acc"+s(501)+".",variant:n[s(545)]}),null;const r=await fe.searchContract(e[s(641)]);if(n[s(646)](r[s(584)],0)){const t={};return t[s(635)]=s(533)+s(493),t[s(506)+"n"]=s(557)+s(626)+s(639)+e[s(641)],t.variant=s(604)+"e",l(t),null}const a=r[0],i={};i[s(496)]=c["selectedAc"+s(627)][s(496)],i.conid=a[s(526)],i[s(641)]=e[s(641)],i.side=e[s(529)],i[s(528)]=e[s(528)],i.orderType=e[s(613)],i.price=e[s(605)];const o=await fe[s(643)](i);if(o){const t={};t[s(635)]="Order Placed",t[s(506)+"n"]=e.side+" "+e[s(528)]+" "+e[s(641)]+s(582)+o.status,n[s(631)](l,t),await n.jsxXX(f)}else if("wWaQx"!==n[s(489)])_0xfbd4aa[s(491)]&&_0x481375(_0x4aefb4[s(491)]);else{const e={};e[s(635)]=s(490)+"ed",e.description=n[s(570)],e[s(499)]=n[s(545)],l(e)}return o},[c[t(590)+t(627)],l,f]),v=r.useCallback(async e=>{const s=t;if(n.cYslv("wVYBK",n[s(475)])){const e=_0x18ebc0?function(){if(_0x10d769){const e=_0x1203d7[s(620)](_0x241d2c,arguments);return _0x7f47dd=null,e}}:function(){};return _0x310055=!1,e}{const t=await fe.cancelOrder(e);if(t)if(n.PUcYY(n[s(556)],s(642))){const t={};t[s(635)]=n.GdGaK,t[s(506)+"n"]=s(483)+e+(s(514)+s(610)),l(t),await n[s(616)](f)}else n[s(470)](_0x34de21);return t}},[l,f]),j=r.useCallback(e=>{const s=t,r=c.accounts[s(625)](t=>t[s(496)]===e);r&&n.OcdkC(i,e=>({...e,selectedAccount:r}))},[c[t(539)]]);n[t(465)](r.useEffect,()=>{const e=t,s={otllo:function(e){return n[je(546)](e)},LUgNx:function(e){return e()},vRZpW:function(e){return e()},tVTlV:function(e,t,n){return e(t,n)}};return n[e(607)](async()=>{const e=je,t={rdIOe:function(e){return e()}};(await d())[e(520)+"ted"]&&(await s[e(549)](x),await s[e(651)](h),await s.vRZpW(f),o[e(491)]=s[e(581)](setInterval,()=>{t[e(532)](m)},1e4))}),()=>{o[e(491)]&&clearInterval(o.current)}},[]),n[t(465)](r.useEffect,()=>{const e=t,s={CpgpC:function(e,t){return n.xeeZA(e,t)}};n[e(640)](e(500),n[e(621)])?c[e(590)+e(627)]&&c[e(520)+e(524)]&&n[e(616)](h):(_0x5726d4[e(497)](e(565)+e(484)+e(466)+"timed out"),s[e(628)](_0x5f26be,t=>({...t,connected:!1,authenticated:!1,loading:!1,error:e(547)+" timed out. Ensure the bridge "+e(648)+e(585)})))},[null==(e=c[t(590)+t(627)])?void 0:e[t(496)]]);const y={...c};return y[t(647)+t(618)]=d,y["connectToG"+t(487)]=u,y[t(469)+"ts"]=x,y[t(650)+"ons"]=h,y[t(593)]=f,y[t(612)+"a"]=m,y[t(643)]=g,y.cancelOrder=v,y[t(552)+t(600)]=j,y}(),[ie,oe]=r.useState("overview"),[le,de]=r.useState([]),[ue,xe]=r.useState(!1),[he,me]=r.useState([]),[ge,ve]=r.useState({total:0,today:0,pnl:0}),[pe,we]=r.useState(!1),[Ne,Ce]=r.useState({symbol:"SPY",side:"BUY",quantity:1,orderType:"MKT",price:0}),[be,Be]=r.useState(!1);r.useEffect(()=>{const e=async()=>{try{const{data:e}=await c.from("farm_status").select("*").eq("farm_name","high-frequency-paper-trader").single();if(e){const t=new Date(e.updated_at),n=t>new Date(Date.now()-12e4);we("trading"===e.status||n)}const{data:t}=await c.from("autonomous_trades").select("*").order("created_at",{ascending:!1}).limit(50);if(t){me(t);const e=new Date;e.setHours(0,0,0,0);const n=t.filter(t=>new Date(t.created_at)>=e),s=t.reduce((e,t)=>e+(t.pnl||0),0);ve({total:t.length,today:n.length,pnl:s})}}catch(e){}};e();const t=c.channel("hf-trades").on("postgres_changes",{event:"INSERT",schema:"public",table:"autonomous_trades"},e=>{const t=e.new;me(e=>[t,...e].slice(0,50));const n=new Date;n.setHours(0,0,0,0);const s=new Date(t.created_at)>=n;ve(e=>({total:e.total+1,today:s?e.today+1:e.today,pnl:e.pnl+(t.pnl||0)}))}).subscribe(),n=setInterval(e,5e3);return()=>{clearInterval(n),t.unsubscribe()}},[]),r.useCallback(()=>{te()},[te]),r.useEffect(()=>{if(t){De();const e=setInterval(De,3e4);return()=>clearInterval(e)}},[t]);const De=async()=>{xe(!0);try{const{data:e,error:t}=await c.functions.invoke("stock-data",{body:{action:"batch",symbols:ye}});!t&&(null==e?void 0:e.stocks)&&de(e.stocks.map(e=>({symbol:e.symbol,price:e.latestPrice,change:e.change,changePercent:e.changePercent})))}catch(e){}finally{xe(!1)}},ze=e=>{Ce(t=>({...t,symbol:e,side:"BUY"})),oe("trade")},Ge=r.useMemo(()=>{const e=F.reduce((e,t)=>e+t.marketValue,0),t=F.reduce((e,t)=>e+t.unrealizedPnl,0);return{totalValue:e,totalPnL:t,totalRealizedPnL:F.reduce((e,t)=>e+t.realizedPnl,0),pnlPercent:(null==k?void 0:k.balance)?t/k.balance*100:0}},[F,k]);return $?i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(u,{className:"h-5 w-5 animate-spin text-primary"}),"Connecting to IB Gateway Bridge..."]})}),i.jsx(x,{children:"Checking connection to gateway"})]}),i.jsxs(h,{className:"space-y-4",children:[i.jsx(f,{value:33,className:"h-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Looking for the Client Portal Gateway..."}),i.jsxs(I,{children:[i.jsx(Z,{className:"h-4 w-4"}),i.jsx(K,{children:"Connection taking too long?"}),i.jsxs(S,{className:"space-y-2 mt-2",children:[i.jsx("p",{children:"Your browser may be blocking the connection. Try:"}),i.jsxs("ol",{className:"list-decimal list-inside text-sm space-y-1",children:[i.jsxs("li",{children:["Click ",i.jsx("strong",{children:"Gateway Settings"})," above to configure your gateway URL"]}),i.jsx("li",{children:"If using remotely, enter your machine's IP (e.g., https://192.168.1.100:5000)"}),i.jsxs("li",{children:["Accept the ",i.jsx("strong",{children:"self-signed certificate warning"})," in your browser"]}),i.jsx("li",{children:"Login if prompted, then return here"})]})]})]}),i.jsxs(m,{variant:"outline",size:"sm",onClick:()=>window.open("https://localhost:5000","_blank"),children:[i.jsx(g,{className:"h-4 w-4 mr-2"}),"Open Gateway in New Tab"]})]})]}):e?t?i.jsxs("div",{className:"space-y-6",children:[i.jsx(o,{className:"bg-gradient-to-br from-card via-card to-primary/5 border-primary/20",children:i.jsxs(h,{className:"pt-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(j,{className:"h-5 w-5 text-primary"}),i.jsx("span",{className:"font-medium",children:"IBKR Connected"}),n&&i.jsx(y,{variant:"outline",className:"bg-primary/10 text-primary border-primary",children:"Paper Trading"})]}),i.jsxs(p,{value:(null==k?void 0:k.accountId)||"",onValueChange:ce,children:[i.jsx(w,{className:"w-48",children:i.jsx(N,{placeholder:"Select Account"})}),i.jsx(C,{children:s.map(e=>i.jsxs(b,{value:e.accountId,children:[e.accountId," (",e.accountType,")"]},e.accountId))})]}),i.jsx(m,{variant:"ghost",size:"icon",onClick:se,children:i.jsx(v,{className:"h-4 w-4"})})]}),k&&i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[i.jsx(B,{className:"w-3 h-3"}),"Account Balance"]}),i.jsxs("div",{className:"text-3xl font-mono font-bold",children:["$",k.balance.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Buying Power"}),i.jsxs("div",{className:"text-xl font-mono",children:["$",k.buyingPower.toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})]}),F.length>0&&i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6 pt-6 border-t",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Positions Value"}),i.jsxs("div",{className:"text-xl font-bold",children:["$",Ge.totalValue.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Unrealized P&L"}),i.jsxs("div",{className:"text-xl font-bold "+(Ge.totalPnL>=0?"text-success":"text-destructive"),children:[Ge.totalPnL>=0?"+":"","$",Ge.totalPnL.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Realized P&L"}),i.jsxs("div",{className:"text-xl font-bold "+(Ge.totalRealizedPnL>=0?"text-success":"text-destructive"),children:[Ge.totalRealizedPnL>=0?"+":"","$",Ge.totalRealizedPnL.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Open Positions"}),i.jsx("div",{className:"text-xl font-bold",children:F.length})]})]})]})}),i.jsxs(D,{value:ie,onValueChange:oe,children:[i.jsxs(z,{className:"grid w-full grid-cols-2 max-w-md",children:[i.jsxs(G,{value:"overview",className:"flex items-center gap-1",children:[i.jsx(M,{className:"w-4 h-4"})," Overview"]}),i.jsxs(G,{value:"hf-trading",className:"flex items-center gap-1",children:[i.jsx(X,{className:"w-4 h-4"})," HF Trading",pe&&i.jsx("span",{className:"ml-1 w-2 h-2 bg-success rounded-full animate-pulse"})]})]}),i.jsx(q,{value:"overview",className:"mt-6",children:i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(A,{className:"w-5 h-5"}),"Quick Trade"]}),i.jsx(x,{children:"Click a symbol to start a trade"})]}),i.jsxs(h,{children:[i.jsx("div",{className:"grid grid-cols-4 gap-2",children:le.length>0?le.map(e=>i.jsxs(m,{variant:"outline",className:"flex flex-col h-auto py-3 hover:border-primary",onClick:()=>ze(e.symbol),children:[i.jsx("span",{className:"font-bold",children:e.symbol}),i.jsxs("span",{className:"text-sm",children:["$",e.price.toFixed(2)]}),i.jsxs("span",{className:"text-xs "+(e.changePercent>=0?"text-success":"text-destructive"),children:[e.changePercent>=0?"+":"",e.changePercent.toFixed(2),"%"]})]},e.symbol)):ye.map(e=>i.jsx(m,{variant:"outline",className:"py-6",onClick:()=>ze(e),children:e},e))}),ue&&i.jsx("div",{className:"text-center text-sm text-muted-foreground mt-2",children:"Updating quotes..."})]})]}),i.jsxs(o,{children:[i.jsx(l,{children:i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(V,{className:"w-5 h-5"}),"Current Positions"]})}),i.jsx(h,{children:0===F.length?i.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[i.jsx(P,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No open positions"}),i.jsx("p",{className:"text-sm",children:"Place a trade to get started"})]}):i.jsxs("div",{className:"space-y-3",children:[F.slice(0,5).map(e=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:e.symbol}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.position>0?"+":"",e.position," shares @ $",e.avgCost.toFixed(2)]})]}),i.jsxs("div",{className:"text-right "+(e.unrealizedPnl>=0?"text-success":"text-destructive"),children:[i.jsxs("div",{className:"font-medium",children:[e.unrealizedPnl>=0?"+":"","$",e.unrealizedPnl.toFixed(2)]}),i.jsxs("div",{className:"text-sm",children:["$",e.marketValue.toFixed(2)]})]})]},e.conid)),F.length>5&&i.jsxs(m,{variant:"ghost",className:"w-full",onClick:()=>oe("positions"),children:["View all ",F.length," positions"]})]})})]})]})}),i.jsx(q,{value:"hf-trading",className:"mt-6",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs(o,{className:"border-2 "+(pe?"border-warning bg-warning/5":"border-dashed"),children:[i.jsx(l,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 rounded-full "+(pe?"bg-warning/20":"bg-muted"),children:i.jsx(X,{className:"w-6 h-6 "+(pe?"text-warning animate-pulse":"text-muted-foreground")})}),i.jsxs("div",{children:[i.jsxs(d,{className:"flex items-center gap-2",children:["High-Frequency Paper Trading",pe&&i.jsxs(y,{className:"bg-warning text-warning-foreground",children:[i.jsx(P,{className:"w-3 h-3 mr-1 animate-pulse"}),"LIVE"]})]}),i.jsx(x,{children:"Terminal-based worker generating 100+ trades/day for En Pensent training"})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Worker Status"}),i.jsx("div",{className:"font-medium "+(pe?"text-warning":"text-muted-foreground"),children:pe?"RUNNING":"OFFLINE"})]})]})}),i.jsxs(h,{children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.total}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Trades"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.today}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Today's Trades"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"text-3xl font-bold font-mono "+(ge.pnl>=0?"text-success":"text-destructive"),children:[ge.pnl>=0?"+":"","$",ge.pnl.toFixed(2)]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total P&L"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono text-warning",children:pe?"30s":"N/A"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Cycle Time"})]})]}),i.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(L,{className:"w-4 h-4"}),i.jsx("span",{children:"Auto-refresh every 5 seconds from Supabase"}),i.jsx("span",{className:"mx-2",children:"•"}),i.jsx("span",{children:"11 symbols: AAPL, MSFT, NVDA, TSLA, AMD, META, GOOGL, AMZN, SPY, QQQ, IWM"})]})]})]}),i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(P,{className:"w-5 h-5"}),"Live Trade Feed",he.length>0&&i.jsxs(y,{variant:"secondary",children:[he.length," recent"]})]}),i.jsx(x,{children:"Real-time trades from high-frequency worker (updates every 5s)"})]}),i.jsx(h,{children:0===he.length?i.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[i.jsx(X,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{className:"text-lg",children:"No trades yet"}),i.jsx("p",{className:"text-sm",children:"Start the high-frequency worker to see activity"}),i.jsx("code",{className:"block mt-4 p-2 bg-muted rounded text-xs",children:"node farm/workers/high-frequency-paper-trader.mjs"})]}):i.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:he.map(e=>{var t;return i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:["BUY"===e.direction?i.jsx(U,{className:"w-4 h-4 text-success"}):i.jsx(R,{className:"w-4 h-4 text-destructive"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold",children:e.symbol}),i.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleTimeString()})]}),i.jsx(y,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction}),i.jsxs(y,{variant:"outline",className:"text-xs",children:[e.shares," shares"]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Entry"})]}),e.predicted_confidence&&i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-mono",children:[(100*e.predicted_confidence).toFixed(0),"%"]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Conf"})]}),void 0!==e.pnl&&null!==e.pnl&&i.jsxs("div",{className:"text-right font-mono "+(e.pnl>=0?"text-success":"text-destructive"),children:[i.jsxs("div",{children:[e.pnl>=0?"+":"","$",e.pnl.toFixed(2)]}),i.jsx("div",{className:"text-xs",children:"P&L"})]}),i.jsx(y,{variant:"outline",className:"open"===e.status?"bg-success/10 text-success":"bg-muted",children:e.status})]})]},e.id)})})})]}),he.filter(e=>"open"===e.status).length>0&&i.jsxs(o,{children:[i.jsx(l,{children:i.jsxs(d,{className:"text-lg flex items-center gap-2",children:[i.jsx(V,{className:"w-5 h-5"}),"Open HF Positions"]})}),i.jsx(h,{children:i.jsxs(Y,{children:[i.jsx(H,{children:i.jsxs(_,{children:[i.jsx(E,{children:"Symbol"}),i.jsx(E,{children:"Side"}),i.jsx(E,{className:"text-right",children:"Shares"}),i.jsx(E,{className:"text-right",children:"Entry"}),i.jsx(E,{className:"text-right",children:"Stop Loss"}),i.jsx(E,{className:"text-right",children:"Take Profit"}),i.jsx(E,{children:"Status"})]})}),i.jsx(T,{children:he.filter(e=>"open"===e.status).map(e=>{var t,n,s;return i.jsxs(_,{children:[i.jsx(W,{className:"font-bold",children:e.symbol}),i.jsx(W,{children:i.jsx(y,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction})}),i.jsx(W,{className:"text-right font-mono",children:e.shares}),i.jsxs(W,{className:"text-right font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),i.jsxs(W,{className:"text-right font-mono text-destructive",children:["$",(null==(n=e.stop_loss)?void 0:n.toFixed(2))||"N/A"]}),i.jsxs(W,{className:"text-right font-mono text-success",children:["$",(null==(s=e.take_profit)?void 0:s.toFixed(2))||"N/A"]}),i.jsx(W,{children:i.jsx(y,{variant:"outline",className:"bg-success/10 text-success border-success/30",children:"Open"})})]},e.id)})})]})})]})]})})]})]}):i.jsxs(o,{className:"border-warning/50",children:[i.jsx(l,{children:i.jsxs(d,{className:"flex items-center gap-2 text-warning",children:[i.jsx(J,{className:"h-5 w-5"}),"Gateway Running - Login Required"]})}),i.jsxs(h,{className:"space-y-4",children:[i.jsxs(I,{variant:"default",children:[i.jsx(Z,{className:"h-4 w-4"}),i.jsx(S,{children:'Bridge is running but not connected to IB Gateway. Open IB Gateway desktop app, log in, then click "Connect to Gateway".'})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(m,{onClick:ne,className:"flex-1",children:[i.jsx(J,{className:"h-4 w-4 mr-2"}),"Connect to Gateway"]}),i.jsxs(m,{variant:"outline",onClick:te,children:[i.jsx(v,{className:"h-4 w-4 mr-2"}),"Check Status"]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"IB Gateway must be running with API enabled (port 4002 for paper trading)."})]})]}):i.jsxs(o,{className:"border-destructive/50",children:[i.jsxs(l,{children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs(d,{className:"flex items-center gap-2 text-destructive",children:[i.jsx(O,{className:"h-5 w-5"}),"IB Gateway Bridge Not Running"]})}),i.jsx(x,{children:ee||"Start the IBKR Client Portal Gateway to begin trading."})]}),i.jsxs(h,{className:"space-y-4",children:[i.jsxs(I,{children:[i.jsx(Z,{className:"h-4 w-4"}),i.jsx(K,{children:"Quick Setup"}),i.jsx(S,{className:"space-y-2",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-2",children:[i.jsxs("li",{children:["Download the ",i.jsx("a",{href:"https://www.interactivebrokers.com/en/trading/ib-api.php",target:"_blank",rel:"noopener",className:"text-primary underline font-medium",children:"IBKR Client Portal Gateway"})]}),i.jsxs("li",{children:["Run ",i.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.sh"})," (Mac) or ",i.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.bat"})," (Windows)"]}),i.jsxs("li",{children:["Login at ",i.jsx("strong",{children:"https://localhost:5000"})," with IBKR credentials"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Using remote access?"})," Click Gateway Settings above and enter your machine's IP"]})]})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(m,{onClick:te,className:"flex-1",children:[i.jsx(v,{className:"h-4 w-4 mr-2"}),"Retry Connection"]}),i.jsxs(m,{variant:"outline",onClick:()=>window.open("https://localhost:5000","_blank"),children:[i.jsx(g,{className:"h-4 w-4 mr-2"}),"Open Gateway"]})]})]})]})}const we=()=>i.jsxs("div",{className:"container mx-auto py-8 px-4",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[i.jsx(F,{className:"w-8 h-8 text-primary"}),i.jsxs("h1",{className:"text-4xl font-bold",children:[i.jsx("span",{className:"text-primary",children:"En Pensent™"})," Trading"]})]}),i.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Paper trading powered by Interactive Brokers. Start with simulated funds, graduate to real money when ready."})]}),i.jsx(k,{componentName:"IBKRTradingDashboard",children:i.jsx(pe,{})}),i.jsx("p",{className:"text-center text-xs text-muted-foreground mt-8",children:"⚠️ Paper trading uses simulated funds. No real money is at risk. When ready, switch to a live IBKR account for real trading."})]});export{we as default};
