import{s as e,r as s,j as t,a5 as a,af as r,ag as l,aw as n,B as c,aK as i,a6 as d,q as o,t as m,v as u,b$ as x,W as h,w as j,aL as f,am as g,aM as p,aX as N,d8 as v,a8 as y,ah as w,Z as b,cT as k,ar as S,M as _,bH as C,ad as M,bE as I,b as R,bK as T,dr as E}from"./index-BRnl98aa.js";import{u as F}from"./useMutation-Sse2_gwU.js";import{S as L}from"./server-DJIufRru.js";import{C as D}from"./circle-alert-MTR9NIje.js";const P=new Map,O=new Map;async function q(s,t=5e3){const a=P.get(s);if(a&&Date.now()-a.timestamp<3e4)return a.result;const r=performance.now();let l;try{const{data:t,error:a}=await e.functions.invoke(s,{body:{healthCheck:!0,timestamp:Date.now()}}),n=performance.now()-r;if(function(e,s){O.has(e)||O.set(e,[]);const t=O.get(e);t.push(s),t.length>100&&t.shift()}(s,n),a)l={functionName:s,status:"error",responseTime:n,lastChecked:(new Date).toISOString(),error:a.message};else{let e="healthy";n>3e3?e="unhealthy":n>1e3&&(e="warning"),l={functionName:s,status:e,responseTime:n,lastChecked:(new Date).toISOString(),details:t}}}catch(n){l={functionName:s,status:"unhealthy",responseTime:performance.now()-r,lastChecked:(new Date).toISOString(),error:n instanceof Error?n.message:"Unknown error"}}return P.set(s,{result:l,timestamp:Date.now()}),l}function H(e){const s=O.get(e);if(!s||0===s.length)return null;const t=[...s].sort((e,s)=>e-s),a=t.length;return{functionName:e,totalInvocations:a,successfulInvocations:a,failedInvocations:0,averageResponseTime:t.reduce((e,s)=>e+s,0)/a,p95ResponseTime:t[Math.floor(.95*a)]||t[a-1],p99ResponseTime:t[Math.floor(.99*a)]||t[a-1],errorRate:0,lastInvocation:(new Date).toISOString()}}function U(e){const s=e.filter(e=>"healthy"===e.status).length,t=e.filter(e=>"warning"===e.status).length,a=e.filter(e=>"error"===e.status||"unhealthy"===e.status).length;let r="healthy";return a>0?r="critical":t>0&&(r="warning"),{status:r,healthy:s,warning:t,error:a,total:e.length}}const $={autoRefresh:!0,refreshInterval:3e4,functions:["check-subscription","create-checkout","customer-portal","grant-ceo-admin","stockfish-eval"]};function A(e){const t=s.useMemo(()=>({...$,...e}),[e]),[a,r]=s.useState({results:[],isLoading:!1,lastUpdated:null,systemStatus:"unknown",error:null}),[l,n]=s.useState(new Map),c=s.useRef(null),i=s.useRef("unknown"),d=s.useCallback(async()=>{r(e=>({...e,isLoading:!0,error:null}));try{const e=await async function(e,s=5e3){const t=e.map(e=>q(e,s));return Promise.all(t)}(t.functions),s=U(e),a=new Map(l);e.forEach(e=>{const s=H(e.functionName);s&&a.set(e.functionName,s)}),n(a),t.onStatusChange&&s.status!==i.current&&t.onStatusChange(s.status),i.current=s.status,r({results:e,isLoading:!1,lastUpdated:(new Date).toISOString(),systemStatus:s.status,error:null})}catch(e){const s=e instanceof Error?e:new Error("Unknown error");t.onError&&t.onError(s),r(e=>({...e,isLoading:!1,error:s.message}))}},[t,l]),o=s.useCallback(async e=>{try{const s=await q(e);r(t=>{const a=t.results.findIndex(s=>s.functionName===e),r=[...t.results];a>=0?r[a]=s:r.push(s);const l=U(r);return{...t,results:r,systemStatus:l.status,lastUpdated:(new Date).toISOString()}});const t=H(e);return t&&n(s=>{const a=new Map(s);return a.set(e,t),a}),s}catch(s){throw s instanceof Error?s:new Error("Failed to check function health")}},[]),m=s.useCallback(()=>{P.clear(),n(new Map),r(e=>({...e,results:[],lastUpdated:null,systemStatus:"unknown"}))},[]),u=s.useCallback(e=>l.get(e),[l]),x=s.useCallback(()=>Array.from(l.values()),[l]);return s.useEffect(()=>(d(),t.autoRefresh&&t.refreshInterval>0&&(c.current=setInterval(d,t.refreshInterval)),()=>{c.current&&(clearInterval(c.current),c.current=null)}),[d,t.autoRefresh,t.refreshInterval]),{results:a.results,isLoading:a.isLoading,lastUpdated:a.lastUpdated,systemStatus:a.systemStatus,error:a.error,checkHealth:d,checkSingleFunction:o,clearCache:m,getMetrics:u,getAllMetrics:x,healthyCount:a.results.filter(e=>"healthy"===e.status).length,warningCount:a.results.filter(e=>"warning"===e.status).length,errorCount:a.results.filter(e=>"error"===e.status||"unhealthy"===e.status).length,totalCount:a.results.length}}function K({className:e}){const[k,S]=s.useState("overview"),{results:_,isLoading:C,lastUpdated:M,systemStatus:I,error:R,checkHealth:T,checkSingleFunction:E,healthyCount:F,warningCount:P,errorCount:O,totalCount:q,getAllMetrics:H}=A({autoRefresh:!0,refreshInterval:3e4}),U=H(),$=e=>{switch(e){case"healthy":return"bg-emerald-500";case"warning":return"bg-amber-500";case"error":case"unhealthy":return"bg-red-500";default:return"bg-gray-500"}},K=e=>{switch(e){case"healthy":return t.jsx(f,{className:"h-4 w-4 text-emerald-500"});case"warning":return t.jsx(g,{className:"h-4 w-4 text-amber-500"});case"error":case"unhealthy":return t.jsx(p,{className:"h-4 w-4 text-red-500"});default:return t.jsx(x,{className:"h-4 w-4 text-gray-500"})}};return t.jsx("div",{className:e,children:t.jsxs(a,{className:"w-full",children:[t.jsxs(r,{className:"pb-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(L,{className:"h-5 w-5 text-primary"}),t.jsxs("div",{children:[t.jsx(l,{className:"text-lg",children:"Edge Function Monitor"}),t.jsx(n,{children:"Real-time health monitoring for Supabase Edge Functions"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[(()=>{switch(I){case"healthy":return t.jsxs(w,{className:"bg-emerald-500/10 text-emerald-500 border-emerald-500/20",children:[t.jsx(f,{className:"h-3 w-3 mr-1"}),"Healthy"]});case"warning":return t.jsxs(w,{className:"bg-amber-500/10 text-amber-500 border-amber-500/20",children:[t.jsx(g,{className:"h-3 w-3 mr-1"}),"Warning"]});case"critical":return t.jsxs(w,{className:"bg-red-500/10 text-red-500 border-red-500/20",children:[t.jsx(D,{className:"h-3 w-3 mr-1"}),"Critical"]});default:return t.jsxs(w,{variant:"secondary",children:[t.jsx(x,{className:"h-3 w-3 mr-1"}),"Unknown"]})}})(),t.jsx(c,{variant:"outline",size:"sm",onClick:()=>T(),disabled:C,children:t.jsx(i,{className:"h-4 w-4 "+(C?"animate-spin":"")})})]})]}),M&&t.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Last updated: ",new Date(M).toLocaleTimeString()]}),R&&t.jsxs("div",{className:"flex items-center gap-2 mt-2 text-red-500 text-sm",children:[t.jsx(D,{className:"h-4 w-4"}),t.jsx("span",{children:R})]})]}),t.jsx(d,{children:t.jsxs(o,{value:k,onValueChange:S,children:[t.jsxs(m,{className:"grid w-full grid-cols-3",children:[t.jsxs(u,{value:"overview",children:[t.jsx(x,{className:"h-4 w-4 mr-2"}),"Overview"]}),t.jsxs(u,{value:"functions",children:[t.jsx(L,{className:"h-4 w-4 mr-2"}),"Functions"]}),t.jsxs(u,{value:"metrics",children:[t.jsx(h,{className:"h-4 w-4 mr-2"}),"Metrics"]})]}),t.jsxs(j,{value:"overview",className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsx(a,{children:t.jsx(d,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total"}),t.jsx("p",{className:"text-2xl font-bold",children:q})]}),t.jsx(L,{className:"h-8 w-8 text-muted-foreground"})]})})}),t.jsx(a,{children:t.jsx(d,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Healthy"}),t.jsx("p",{className:"text-2xl font-bold text-emerald-500",children:F})]}),t.jsx(f,{className:"h-8 w-8 text-emerald-500"})]})})}),t.jsx(a,{children:t.jsx(d,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Warning"}),t.jsx("p",{className:"text-2xl font-bold text-amber-500",children:P})]}),t.jsx(g,{className:"h-8 w-8 text-amber-500"})]})})}),t.jsx(a,{children:t.jsx(d,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Error"}),t.jsx("p",{className:"text-2xl font-bold text-red-500",children:O})]}),t.jsx(p,{className:"h-8 w-8 text-red-500"})]})})})]}),C?t.jsxs("div",{className:"space-y-2",children:[t.jsx(N,{className:"h-12 w-full"}),t.jsx(N,{className:"h-12 w-full"}),t.jsx(N,{className:"h-12 w-full"})]}):_.length>0?t.jsx("div",{className:"space-y-2",children:_.map(e=>t.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[K(e.status),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:e.functionName}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.status," • ",Math.round(e.responseTime),"ms"]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:`h-2 w-2 rounded-full ${$(e.status)}`}),t.jsx(c,{variant:"ghost",size:"sm",onClick:()=>E(e.functionName),disabled:C,children:t.jsx(i,{className:"h-3 w-3"})})]})]},e.functionName))}):t.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[t.jsx(x,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"No functions monitored yet"}),t.jsx(c,{variant:"outline",onClick:()=>T(),className:"mt-4",disabled:C,children:"Start Monitoring"})]})]}),t.jsx(j,{value:"functions",className:"space-y-4",children:t.jsx(v,{className:"h-[400px]",children:C?t.jsx("div",{className:"space-y-2",children:[...Array(5)].map((e,s)=>t.jsx(N,{className:"h-20 w-full"},s))}):_.length>0?t.jsx("div",{className:"space-y-2",children:_.map(e=>t.jsx(a,{children:t.jsxs(d,{className:"p-4",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[K(e.status),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:e.functionName}),t.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-muted-foreground",children:[t.jsx(y,{className:"h-3 w-3"}),t.jsxs("span",{children:[Math.round(e.responseTime),"ms response"]}),t.jsx("span",{children:"•"}),t.jsxs("span",{children:["Checked: ",new Date(e.lastChecked).toLocaleTimeString()]})]}),e.error&&t.jsx("p",{className:"text-xs text-red-500 mt-1",children:e.error})]})]}),t.jsx(w,{variant:"healthy"===e.status?"default":"destructive",children:e.status})]}),e.details&&Object.keys(e.details).length>0&&t.jsxs("div",{className:"mt-3 pt-3 border-t",children:[t.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Details:"}),t.jsx("pre",{className:"text-xs bg-muted p-2 rounded overflow-x-auto",children:JSON.stringify(e.details,null,2)})]})]})},e.functionName))}):t.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[t.jsx(L,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"No function details available"})]})})}),t.jsx(j,{value:"metrics",className:"space-y-4",children:t.jsx(v,{className:"h-[400px]",children:U.length>0?t.jsx("div",{className:"space-y-2",children:U.map(e=>t.jsx(a,{children:t.jsxs(d,{className:"p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(b,{className:"h-4 w-4 text-primary"}),t.jsx("p",{className:"font-medium",children:e.functionName})]}),t.jsxs(w,{variant:"outline",children:[e.totalInvocations," calls"]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-muted-foreground text-xs",children:"Avg Response"}),t.jsxs("p",{className:"font-medium",children:[Math.round(e.averageResponseTime),"ms"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-muted-foreground text-xs",children:"P95 Response"}),t.jsxs("p",{className:"font-medium",children:[Math.round(e.p95ResponseTime),"ms"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-muted-foreground text-xs",children:"P99 Response"}),t.jsxs("p",{className:"font-medium",children:[Math.round(e.p99ResponseTime),"ms"]})]})]}),e.errorRate>0&&t.jsx("div",{className:"mt-3 pt-3 border-t",children:t.jsxs("p",{className:"text-xs text-red-500",children:["Error Rate: ",(100*e.errorRate).toFixed(1),"%"]})})]})},e.functionName))}):t.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[t.jsx(h,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"No metrics available yet"}),t.jsx("p",{className:"text-xs mt-2",children:"Metrics are collected as functions are invoked"})]})})})]})})]})})}const z={"market-collector":t.jsx(x,{className:"h-5 w-5"}),"prediction-engine":t.jsx(I,{className:"h-5 w-5"}),"resolution-engine":t.jsx(f,{className:"h-5 w-5"}),"evolution-engine":t.jsx(T,{className:"h-5 w-5"}),"correlation-engine":t.jsx(h,{className:"h-5 w-5"}),"autonomous-trader":t.jsx(b,{className:"h-5 w-5"}),"data-integrity":t.jsx(_,{className:"h-5 w-5"}),"prediction-accuracy":t.jsx(h,{className:"h-5 w-5"}),"system-fitness":t.jsx(x,{className:"h-5 w-5"})};function W(){var s,o;const m=k(),{data:u,isLoading:j,refetch:p}=S({queryKey:["system-vitals"],queryFn:async()=>{const{data:s,error:t}=await e.rpc("get_system_vitals");if(t)throw t;return s},refetchInterval:5e3}),{data:v}=S({queryKey:["evolution-state"],queryFn:async()=>{const{data:s,error:t}=await e.from("evolution_state").select("*").eq("state_type","global").single();if(t)throw t;return s},refetchInterval:1e4}),{data:y}=S({queryKey:["system-stats"],queryFn:async()=>{const[s,t,a]=await Promise.all([e.from("market_tick_history").select("id",{count:"exact",head:!0}),e.from("prediction_outcomes").select("id",{count:"exact",head:!0}),e.from("prediction_outcomes").select("direction_correct").not("resolved_at","is",null)]),r=a.data||[],l=r.filter(e=>e.direction_correct).length;return{totalTicks:s.count||0,totalPredictions:t.count||0,resolvedPredictions:r.length,correctPredictions:l,overallAccuracy:r.length>0?l/r.length:0}},refetchInterval:1e4}),b=F({mutationFn:async()=>{const{data:s,error:t}=await e.functions.invoke("system-heartbeat",{body:{action:"full_cycle"}});if(t)throw t;return s},onSuccess:e=>{var s,t;R.success("Heartbeat triggered successfully",{description:`Collected ${(null==(s=null==e?void 0:e.collect)?void 0:s.ticks)||0} ticks, ${(null==(t=null==e?void 0:e.predict)?void 0:t.predictions)||0} predictions`}),m.invalidateQueries({queryKey:["system-vitals"]}),m.invalidateQueries({queryKey:["system-stats"]})},onError:e=>{R.error("Heartbeat failed",{description:e.message})}}),T=e=>{switch(e){case"healthy":return"text-green-500";case"degraded":return"text-yellow-500";case"critical":return"text-destructive";default:return"text-muted-foreground"}},E=e=>{switch(e){case"healthy":return"default";case"degraded":return"secondary";case"critical":return"destructive";default:return"outline"}},L=(null==u?void 0:u.filter(e=>"heartbeat"===e.vital_type))||[],D=(null==u?void 0:u.filter(e=>"metric"===e.vital_type))||[],P=(null==u?void 0:u.filter(e=>e.is_healthy).length)||0,O=(null==u?void 0:u.length)||0,q=O>0?P/O*100:0;return j?t.jsxs("div",{className:"space-y-4",children:[t.jsx(N,{className:"h-32 w-full"}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsx(N,{className:"h-48"}),t.jsx(N,{className:"h-48"}),t.jsx(N,{className:"h-48"})]})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[t.jsxs(a,{className:"md:col-span-2",children:[t.jsxs(r,{className:"pb-2",children:[t.jsxs(l,{className:"flex items-center gap-2",children:[t.jsx(_,{className:"h-6 w-6 "+(q>=80?"text-green-500 animate-pulse":q>=50?"text-yellow-500":"text-destructive")}),"System Vitals"]}),t.jsx(n,{children:"Living system health at a glance"})]}),t.jsx(d,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Overall Health"}),t.jsxs("span",{className:"font-bold",children:[Math.round(q),"%"]})]}),t.jsx(C,{value:q,className:"h-3"}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("span",{children:[P," of ",O," systems healthy"]}),t.jsxs(c,{size:"sm",onClick:()=>b.mutate(),disabled:b.isPending,children:[b.isPending?t.jsx(i,{className:"h-4 w-4 mr-2 animate-spin"}):t.jsx(M,{className:"h-4 w-4 mr-2"}),"Trigger Heartbeat"]})]})]})})]}),t.jsxs(a,{children:[t.jsx(r,{className:"pb-2",children:t.jsx(l,{className:"text-sm font-medium",children:"Evolution"})}),t.jsxs(d,{children:[t.jsxs("div",{className:"text-3xl font-bold",children:["Gen ",(null==v?void 0:v.generation)||0]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Fitness: ",(100*((null==v?void 0:v.fitness_score)||0)).toFixed(1),"%"]}),t.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[(null==(s=null==v?void 0:v.total_predictions)?void 0:s.toLocaleString())||0," total predictions"]})]})]}),t.jsxs(a,{children:[t.jsx(r,{className:"pb-2",children:t.jsx(l,{className:"text-sm font-medium",children:"Accuracy"})}),t.jsxs(d,{children:[t.jsxs("div",{className:"text-3xl font-bold",children:[(100*((null==y?void 0:y.overallAccuracy)||0)).toFixed(1),"%"]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[(null==y?void 0:y.correctPredictions)||0," / ",(null==y?void 0:y.resolvedPredictions)||0," correct"]}),t.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[(null==(o=null==y?void 0:y.totalTicks)?void 0:o.toLocaleString())||0," ticks collected"]})]})]})]}),t.jsxs(a,{children:[t.jsxs(r,{children:[t.jsxs(l,{className:"flex items-center gap-2",children:[t.jsx(x,{className:"h-5 w-5"}),"Subsystem Heartbeats"]}),t.jsx(n,{children:"Real-time status of all system components"})]}),t.jsx(d,{children:t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:L.map(e=>{var s,a,r;return t.jsxs("div",{className:"p-4 rounded-lg border transition-colors "+(e.is_healthy?"border-green-500/30 bg-green-500/5":"degraded"===e.status?"border-yellow-500/30 bg-yellow-500/5":"critical"===e.status?"border-destructive/30 bg-destructive/5":"border-border bg-muted/30"),children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:T(e.status),children:z[e.vital_name]||t.jsx(x,{className:"h-5 w-5"})}),t.jsx("span",{className:"font-medium capitalize",children:e.vital_name.replace(/-/g," ")})]}),t.jsx(w,{variant:E(e.status),children:e.status})]}),t.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:null==(s=e.metadata)?void 0:s.description}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("span",{className:"text-muted-foreground",children:["Last pulse: ",(r=e.seconds_since_pulse,r<60?`${Math.floor(r)}s ago`:r<3600?`${Math.floor(r/60)}m ago`:r<86400?`${Math.floor(r/3600)}h ago`:`${Math.floor(r/86400)}d ago`)]}),t.jsxs("span",{className:"font-mono text-xs",children:["#",e.pulse_count.toLocaleString()]})]}),e.is_healthy?t.jsx("div",{className:"mt-2 h-1 bg-green-500/30 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-green-500 animate-pulse",style:{width:`${Math.max(10,100-e.seconds_since_pulse/(((null==(a=e.metadata)?void 0:a.interval_ms)||6e4)/1e3)*100)}%`}})}):t.jsx("div",{className:"mt-2 h-1 bg-destructive/30 rounded-full"})]},e.vital_name)})})})]}),t.jsxs(a,{children:[t.jsxs(r,{children:[t.jsxs(l,{className:"flex items-center gap-2",children:[t.jsx(h,{className:"h-5 w-5"}),"Performance Metrics"]}),t.jsx(n,{children:"Key performance indicators"})]}),t.jsx(d,{children:t.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:D.map(e=>t.jsxs("div",{className:"p-4 rounded-lg border bg-card",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("span",{className:"font-medium capitalize",children:e.vital_name.replace(/-/g," ")}),e.is_healthy?t.jsx(f,{className:"h-5 w-5 text-green-500"}):t.jsx(g,{className:"h-5 w-5 text-yellow-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-end justify-between",children:[t.jsxs("span",{className:"text-3xl font-bold",children:[(100*e.last_value).toFixed(1),"%"]}),t.jsxs("span",{className:"text-sm text-muted-foreground",children:["Target: ",(100*e.target_value).toFixed(0),"%"]})]}),t.jsx(C,{value:100*e.last_value,className:"h-2"})]})]},e.vital_name))})})]}),(null==v?void 0:v.genes)&&t.jsxs(a,{children:[t.jsxs(r,{children:[t.jsxs(l,{className:"flex items-center gap-2",children:[t.jsx(I,{className:"h-5 w-5"}),"Evolution Genes (Generation ",v.generation,")"]}),t.jsx(n,{children:"Current genetic parameters guiding predictions"})]}),t.jsx(d,{children:t.jsx("div",{className:"grid gap-3 md:grid-cols-4",children:Object.entries(v.genes).map(([e,s])=>t.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[t.jsx("div",{className:"text-sm text-muted-foreground capitalize",children:e.replace(/([A-Z])/g," $1").trim()}),t.jsx("div",{className:"text-xl font-mono font-bold",children:"number"==typeof s?s.toFixed(3):String(s)})]},e))})})]}),t.jsx(K,{})]})}const G=()=>t.jsx(E,{featureName:"System Vitals",children:t.jsx(W,{})});export{G as default};
