var e=Object.defineProperty,t=(t,n,s)=>((t,n,s)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s)(t,"symbol"!=typeof n?n+"":n,s);import{aJ as n,r as s,g2 as r,s as a,j as c,C as i,p as o,t as l,L as d,w as u,x,aq as h,B as f,aF as m,v as g,cR as j,y as v,b8 as y,b9 as p,ba as w,bb as N,bc as C,a8 as B,aB as b,aC as D,aD as z,b4 as A,aE as q,aY as L,bh as M,cb as P,ad as G,g9 as U}from"./index-ckGSTu6A.js";import{A as I,a as K,b as S}from"./alert-Djhca3MQ.js";import{T as H,a as k,b as T,c as W,d as Y,e as O}from"./table-B6fkXnz5.js";import{C as Z}from"./circle-alert-iJdJXpIA.js";import{W as E}from"./wifi-off-CUkoymCO.js";import{W as J}from"./wifi-CqyyFfhV.js";import{B as F}from"./briefcase-BstgIxuL.js";import{T as _}from"./trending-down-C6JpEyxO.js";const V=n("Bolt",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]),X=n("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),R=Q;function Q(e,t){e-=465;const n=$();let s=n[e];if(void 0===Q.gYqfvc){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};Q.oDRdwj=r,Q.uWgfgp={},Q.gYqfvc=!0}const a=e+n[0],c=Q.uWgfgp[a];if(c)s=c;else{const e=function(e){this.JFtWSh=e,this.UVjBiH=[1,0,0],this.PFyteN=function(){return"newState"},this.fGjZsY="\\w+ *\\(\\) *{\\w+ *",this.cKLLLK="['|\"].+['|\"];? *}"};e.prototype.hDiYdr=function(){const e=new RegExp(this.fGjZsY+this.cKLLLK).test(this.PFyteN.toString())?--this.UVjBiH[1]:--this.UVjBiH[0];return this.ndNFaG(e)},e.prototype.ndNFaG=function(e){return Boolean(~e)?this.qIpiTB(this.JFtWSh):e},e.prototype.qIpiTB=function(e){for(let t=0,n=this.UVjBiH.length;t<n;t++)this.UVjBiH.push(Math.round(Math.random())),n=this.UVjBiH.length;return e(this.UVjBiH[0])},new e(Q).hDiYdr(),s=Q.oDRdwj(s),Q.uWgfgp[a]=s}return s}function $(){const e=["nJe1odq4mgTOsLvgqW","z2f0zxDHEvbVCG","y29UC3rYDwn0BW","rw9dyKe","Bg9N","y2XPzw50swq","mtbovNHgwKy","z2f0zxDHEuHVCW","yNjPzgDLvxjS","zxjYB3i","CgfYC2u","ChjVDg90ExbL","ntG3mtq5txvrDM90","ntzfCvn0D0W","Dg9tDhjPBMC","ntGXr1LVqNrU","yxbWBhK","y3rVCIGICMv0Dq","ndq3otG4nw5huMvgvW","AwjFz2f0zxDHEq","BfPztg4","C2v0sxrLBq","Aw5MBW","C3rYAw5NAwz5","ndK5mdH4tefivha","E30Uy29UC3rYDq","CMv0DxjUicHMDq","mta1mJe1EwvwDxbw","whDxvuS","mtiXndK0nK5vq3jlCW","CMvTB3zLsxrLBq","x19WCM90B19F","yMLUza","y29UC29Szq","mJe5ntq5ouDTyLPvsa","C2vHCMnO","Dw5KzwzPBMvK","BMn0Aw9UkcKG","Efn2Ahq","uKvKBNC","thz5C3m","BgvUz3rO","yuHgAeW","EeHfBxq"];return($=function(){return e})()}!function(){const e=Q,t=$();for(;;)try{if(408994===-parseInt(e(471))/1+-parseInt(e(488))/2+parseInt(e(493))/3+parseInt(e(472))/4*(parseInt(e(486))/5)+-parseInt(e(483))/6*(parseInt(e(474))/7)+parseInt(e(503))/8+parseInt(e(477))/9*(parseInt(e(465))/10))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ee=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[Q(475)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=Q;return ee[e(473)]()[e(494)]("(((.+)+)+)+$").toString()[e(505)+"r"](ee)[e(494)]("(((.+)+)+)+$")});ee();const te=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,s}}();te(void 0,function(){const e=Q,t={lZYLn:function(e,t){return e+t},EoCbA:e(484)+e(476)+'rn this")( )',xHEmt:function(e){return e()},XwWUK:e(468),xSvht:"trace",Lvyss:function(e,t){return e<t},LCgNW:e(498)};let n;try{const s=Function(t[e(479)](t[e(479)](e(485)+e(496),t[e(506)]),");"));n=t[e(502)](s)}catch(a){n=window}const s=n[e(492)]=n[e(492)]||{},r=[e(507),"warn",e(481),t[e(487)],"exception","table",t[e(497)]];for(let c=0;t[e(499)](c,r[e(500)]);c++)if("mERyX"!==t.LCgNW){const t=te.constructor[e(470)][e(491)](te),n=r[c],a=s[n]||t;t[e(490)]=te.bind(te),t.toString=a.toString[e(491)](a),s[n]=t}else _0x15cf35=_0x569e5a})();const ne=R(478)+"_bridge_url",se={};se[R(467)]="http://localhost:4000",se[R(466)+"t"]="127.0.0.1",se[R(504)+"t"]=4002,se[R(508)]=1;const re=se;function ae(){const e=R,t={};t[e(501)]=function(e,t){return e===t};if(t.aHFhL(typeof window,e(495)))return re;const n=localStorage.getItem(ne);if(n)try{return{...re,...JSON[e(469)](n)}}catch{return re}return re}function ce(){const e=R;return ae()[e(467)]}const ie=de;!function(){const e=de,t=ue();for(;;)try{if(799304===parseInt(e(543))/1*(-parseInt(e(456))/2)+-parseInt(e(500))/3*(parseInt(e(400))/4)+parseInt(e(455))/5*(parseInt(e(527))/6)+parseInt(e(427))/7+-parseInt(e(398))/8+-parseInt(e(506))/9+parseInt(e(418))/10*(parseInt(e(522))/11))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const oe=function(){const e=de,t={};t[e(459)]=e(460);const n=t;let s=!0;return function(t,r){const a=e,c={};c[a(452)]=n[a(459)];const i=c,o=s?function(){const e=a;if(r){if(i[e(452)]===e(460)){const n=r[e(401)](t,arguments);return r=null,n}_0x27362c=_0x4f6d3a}}:function(){};return s=!1,o}}()(void 0,function(){const e=de,t={};t[e(496)]=e(410)+"+$";const n=t;return oe[e(422)]()[e(502)](n[e(496)]).toString()[e(507)+"r"](oe).search("(((.+)+)+)+$")});oe();const le=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[de(401)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}();function de(e,t){e-=396;const n=ue();let s=n[e];if(void 0===de.NcqknM){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};de.hBrgIy=r,de.LHkJSY={},de.NcqknM=!0}const a=e+n[0],c=de.LHkJSY[a];if(c)s=c;else{const e=function(e){this.OTeZwH=e,this.rAiKQN=[1,0,0],this.Jgtbxa=function(){return"newState"},this.VFTUwb="\\w+ *\\(\\) *{\\w+ *",this.rZcolB="['|\"].+['|\"];? *}"};e.prototype.sQiaNv=function(){const e=new RegExp(this.VFTUwb+this.rZcolB).test(this.Jgtbxa.toString())?--this.rAiKQN[1]:--this.rAiKQN[0];return this.xBlXiH(e)},e.prototype.xBlXiH=function(e){return Boolean(~e)?this.ctEjsi(this.OTeZwH):e},e.prototype.ctEjsi=function(e){for(let t=0,n=this.rAiKQN.length;t<n;t++)this.rAiKQN.push(Math.round(Math.random())),n=this.rAiKQN.length;return e(this.rAiKQN[0])},new e(de).sQiaNv(),s=de.hBrgIy(s),de.LHkJSY[a]=s}return s}function ue(){const e=["CNjVCJO","Ad9ZEw1IB2W9","l2fWAs9ZzwfYyW","CMrLCIbLCNjVCG","t1Phu1e","D0LZsLi","quTlD04","C3rHDhvZ","y1H2u1G","DgfIBgu","DePSwwy","z2f0zxDHEuHVCW","DezQqKG","CMv0DxjUicHMDq","mJm0nNnQsMrizq","CMfJDa","tuTvt0i","BxfRqwm","BwvZC2fNzq","vfblt3m","odm1mZKYmev6u3fOtG","x19WCM90B19F","mtu2zvLjzwPA","yxbWBhK","igvYCM9YoG","wuPkuee","Bwv0Ag9K","wLj5yKC","BM5Ly3q","Bu9qy3K","BI9QC29U","yMLUza","kcGOlISPkYKRkq","CgfWzxjuCMfKAq","Cg9ZAxrPB25Z","Cg9YDa","CM4GDgHPCYiPka","r0PqCfa","y29UBMvJDa","yxbWBgLJyxrPBW","ntbyy3r2sxi","EgXuEgm","Aw5MBW","q29UDgvUDc1uEq","Dg9tDhjPBMC","D1vJBhO","rMzqqw8","AK1kz3C","ENncvvO","nZqXodGZofP2EK51yq","yxv0AgvUDgLJyq","AxrPB25ZigvYCG","r0vu","DhjHy2u","z2v0ug9ZAxrPBW","BMn0Aw9UkcKG","C2vHCMnOq29UDa","DMHYBfi","ANnVBG","DMrTEvC","Ev0GugXHy2uGBW","l2fWAs9WB3nPDa","yNjPzgDLuNvUBG","E30Uy29UC3rYDq","B3jKzxjjza","tef1Cui","ywLSzwq","AKriCvC","l2fWAs9JB25Uzq","zeDes2G","A0LYue8","l2fWAs9XDw90zq","DgvK","ywnJB3vUDhm","AfvPthy","y2XPzw50swq","AwiT","mte5otm1yNHXu0LR","mZCWy3fbA0TA","Ev0Gr2v0ig9Yza","y29UC29Szq","BwrTEgC","A2fSq3O","AhDAALC","zgfHtxy","l2fWAs9Hy2nVDq","Ev0Gt3jKzxiGzG","BvnttfO","D2fYBG","Ag9ZDa","ueLSq0G","Ev0Gq29UBMvJDa","B0PZs2e","Ev0Gr2v0igfJyW","vhz3zuq","uurnyvq","yLHcCMW","y29UDhjHy3qGzq","Aw5N","seTKsKG","B3jKzxiGzxjYBW","uhHXC3i","ue9tva","BgvUz3rO","C3vIBwL0DgvK","yMDAD3i","Ev0Gu2vHCMnOia","y0rNs3G","l2fWAs9ZDgf0Dq","ChjVDg90ExbL","tMHZtuC","zgLZy29UBMvJDa","yMXLoG","AK1oBuq","y3rPB24","l2fWAs9VCMrLCG","y29UBMvJDgvK","ANPcvgS","AKLtvK8","zgz3r3C","qM5TEwu","uKf2rwC","mtaZnda3r1PQsvjc","s2TgrfO","C2vHCMnO","z2f0zxDHEvbVCG","AffQvei","w0LcieDHDgv3yq","mtyWmZq1ofnrze1qvG","y29UC3rYDwn0BW","BNrjzd0","zxHJzxb0Aw9U","B3i6","yuX1uNK","AgvHzgvYCW","Ev0Gq2fUy2vSia","y3rVCIGICMv0Dq","z2v0uxvVDgu","BM93","BNvWuhK","zxjYB3i","CNn6rKi","vxHOvKO","t3f1vLe","ntGXnZi5nunzzMrKyW","qKvjA00","Bg9N","Ev0GqNjPzgDLia","Exvurxu","mJrUz2nYEum","rwfVruK"];return(ue=function(){return e})()}le(void 0,function(){const e=de,t={jMNmD:e(505)+"y] Cancel "+e(478)+"r:",SyAGH:function(e,t){return e+t},mOPcy:function(e){return e()},XXBiG:e(466),Mtsnh:e(518),qcCzV:e(509),FIjHo:e(538),jzBTk:"trace",XFNzp:function(e,t){return e<t},iKFjh:"KvNVD"};let n;try{const s=Function(t.SyAGH(e(542)+e(433)+(e(441)+'ctor("retu')+e(414)+" )",");"));n=t[e(407)](s)}catch(a){n=window}const s=n[e(458)]=n[e(458)]||{},r=["log",t.XXBiG,"info",t.Mtsnh,t.qcCzV,t.FIjHo,t[e(495)]];for(let c=0;t.XFNzp(c,r[e(481)]);c++){if("VhPjl"===t.iKFjh)return _0x3e088c.error(t[e(491)],_0xe0ef32),!1;{const t=le[e(507)+"r"][e(487)][e(409)](le),n=r[c],a=s[n]||t;t[e(399)]=le[e(409)](le),t[e(422)]=a.toString.bind(a),s[n]=t}}})();class xe{constructor(){t(this,"connected",!1)}async["checkConne"+ie(492)](){const e=ie,t={yuTEu:function(e,t,n){return e(t,n)},UScnl:function(e,t){return e===t},ZRybG:function(e,t){return e===t},KkFDZ:function(e,t){return e===t}};try{const n=ae(),s={};s[e(421)+"pe"]=e(417)+e(408);const r={};r[e(404)]=e(430),r[e(512)]=s;const a=await t[e(526)](fetch,ce()+(e(486)+"s"),r);if(!a.ok){const t={};return t[e(494)]=!1,t[e(428)+e(450)]=!1,t.paperTrading=!1,t}const c=await a[e(436)]();return this[e(494)]=t.UScnl(c[e(494)],!0),{connected:t[e(405)](c[e(440)+e(476)],!0),authenticated:t[e(405)](c[e(494)],!0),paperTrading:t[e(501)](n[e(503)+"t"],4002)}}catch(n){const t={connected:!1};return t[e(428)+"ted"]=!1,t[e(411)+"ng"]=!1,t}}async[ie(416)](){const e=ie,t={aLuRy:function(e,t,n){return e(t,n)},PfTZf:"applicatio"+e(408),LAuqB:function(e,t){return e===t},Bnmye:e(505)+e(469)+e(402)};try{const n=ae(),s={};s[e(467)]=n[e(540)+"t"],s[e(413)]=n[e(503)+"t"],s[e(453)]=n[e(453)];const r=await t[e(511)](fetch,ce()+(e(446)+"ct"),{method:e(480),headers:{"Content-Type":t.PfTZf},body:JSON.stringify(s)});if(!r.ok)return!1;const a=await r.json();return this[e(494)]=t[e(443)](a[e(494)],!0),this[e(494)]}catch(n){return!1}}async[ie(489)](){const e=ie,t={};t[e(541)]="return (fu"+e(433),t.QDMaT="dmWKI",t[e(415)]=e(480);const n=t;try{if("dmWKI"!==n[e(473)]){const t=_0x35284a(KItfdv[e(541)]+(e(441)+e(514)+e(414)+" ));"));_0x477ebf=t()}else{const t={};t[e(404)]=n[e(415)],await fetch(ce()+"/api/disco"+e(406),t),this[e(494)]=!1}}catch{}}async getAccounts(){const e=ie,t={UxhVJ:"[IB Gatewa"+e(469)+e(402),bXBrl:function(e,t){return e(t)},sJUha:function(e){return e()},vhrlR:function(e,t){return e===t},VcIXn:e(505)+e(471)+"ounts error:"};try{const n=await t[e(474)](fetch,t.sJUha(ce)+(e(463)+"nts"));if(!n.ok)return[];return(await n[e(436)]())[e(451)]||[]}catch(n){return t[e(435)](e(528),"cpZfw")?(_0x4fd5b3[e(518)](t[e(520)],_0x1e914f),!1):[]}}async[ie(432)+"ns"](e){const t=ie,n={zsBUZ:function(e,t){return e(t)},dGDKh:function(e,t){return e!==t},NhsMG:"FfPAo",cDgKx:"[IB Gateway] Get pos"+t(429)+t(510)};try{const s=await n[t(426)](fetch,ce()+(t(439)+"ions?accou")+t(508)+e);if(!s.ok)return[];return(await s[t(436)]())[t(412)]||[]}catch(s){if(n[t(447)](t(424),n[t(488)])){const e=_0x6bc719[t(401)](_0x49e3ec,arguments);return _0x154ae4=null,e}return[]}}async getOrders(){const e=ie,t={AKKwN:function(e,t){return e===t},vdmyW:e(521),rszFB:function(e,t){return e(t)},jDHqW:function(e){return e()},bgZwr:e(505)+e(457)+"ers error:"};try{if(t[e(535)](e(497),t[e(437)])){const t={};return t[e(494)]=!1,t[e(428)+e(450)]=!1,t.paperTrading=!1,t}{const n=await t[e(519)](fetch,t[e(445)](ce)+(e(493)+"s"));if(!n.ok)return[];return(await n.json()).orders||[]}}catch(n){return[]}}async[ie(434)+ie(544)](e){const t=ie,n={TPKOs:function(e,t){return e(t)},HKdJH:function(e){return e()},daaMv:t(505)+t(484)+t(475)+t(529)};try{const s=await n[t(397)](fetch,n[t(477)](ce)+(t(531)+t(530))+encodeURIComponent(e));if(!s.ok)return[];return(await s[t(436)]()).contracts||[]}catch(s){return[]}}async placeOrder(e){const t=ie,n={hitOZ:function(e,t,n){return e(t,n)},nupPy:function(e){return e()},mqkAc:t(480),jMJgw:t(417)+t(408),mSSLZ:t(505)+t(464)+t(444),RAvEg:t(482),wIsJR:t(505)+t(438)+t(532)+":"};try{const s=await n.hitOZ(fetch,n[t(517)](ce)+(t(493)+"s"),{method:n[t(546)],headers:{"Content-Type":n[t(425)]},body:JSON.stringify(e)});if(!s.ok)return null;const r=await s.json();return{orderId:r[t(442)]||t(454)+Date[t(516)](),status:r[t(536)]||n[t(499)]}}catch(s){return null}}async cancelOrder(e){const t=ie,n={kIrPO:function(e,t,n){return e(t,n)},hQjTB:function(e){return e()},Pxqsr:"DELETE"};try{return(await n[t(448)](fetch,n[t(504)](ce)+(t(493)+"s/")+e,{method:n[t(479)]})).ok}catch(s){return!1}}async[ie(515)](e){const t=ie,n={wUclz:function(e,t){return e+t},WTPVG:function(e,t){return e+t},tJlYf:"return (fu"+t(433),cXvSX:"{}.constru"+t(514)+t(414)+" )",OZGSQ:function(e){return e()},hwZjW:t(524),YJJPA:t(420),MKUOB:t(509),xlTxc:function(e,t){return e(t)},PIlCH:function(e){return e()},TvweD:function(e,t){return e===t},BEIkM:t(470)};try{const s=await n[t(419)](fetch,n[t(468)](ce)+(t(449)+"?conid=")+e);if(!s.ok)return null;return await s[t(436)]()}catch{if(n[t(472)](n[t(523)],n[t(523)]))return null;{let e;try{const n=_0x4096cd(YlTnns[t(423)](YlTnns.WTPVG(YlTnns[t(539)],YlTnns[t(537)]),");"));e=YlTnns[t(533)](n)}catch(s){e=_0x53fe89}const n=e[t(458)]=e.console||{},r=[YlTnns[t(461)],t(466),YlTnns[t(403)],t(518),YlTnns[t(545)],t(538),t(431)];for(let s=0;s<r[t(481)];s++){const e=_0x31e492[t(507)+"r"].prototype[t(409)](_0x5e244c),a=r[s],c=n[a]||e;e.__proto__=_0x34911a[t(409)](_0x8c5105),e[t(422)]=c.toString.bind(c),n[a]=e}}}}}const he=new xe;function fe(){const e=["u3rHCNqGDgHLia","zMLUzcbJB250CG","DfzIBxy","qNbxu2C","y29UAwq","BwvZC2fNzq","ANDfsw4","ywLzD3a","ywnZCeq","yxrLD2f5igLZia","AKHyzLO","CgfWzxjuCMfKAq","y2HLy2TdB25Uzq","y29UBMvJDc4Grq","ALn3AKW","mta4nMHbtgX0Cq","Bg9HzfbVC2L0Aq","ywXS","zwXSzwq","z2v0ug9ZAxrPBW","shbeCwS","y3rPB24","x19WCM90B19F","zwqGDg8GsuiGrW","ywnJB3vUDhm","t3jKzxiGrMfPBa","y29UBMvJDfrVrW","tw5sy2O","ntiYmZL6zu1hBLy","zMLYC3qU","ANfKDxC","y29UBMvJDa","Ee1wweq","ywn0igzVCIa","B3vUDcbMAxjZDa","BM13tNG","swThz2W","u3vJy2vZC2z1Ba","y29UBMvJDdOG","kcGOlISPkYKRkq","CNvUBMLUzYbHBG","t3jKzxiGq2fUyW","Eev5Bw8","mJCWmdi4oe1vz1nMDW","zxjYB3i","igzHAwXLzdOG","Ev0Gq29UBMvJDa","Aw9UignOzwnRia","yMLUza","yxrLD2f5lIbdBa","r09gBLu","qNjPzgDLihj1BG","uxLuDuW","Bu5etLK","mJyXnKDZv0rvsa","C3rHCNrZv2L0Aa","D0D6yNC","CgXHy2vpCMrLCG","zeLOA0O","v2zxreO","E30Uy29UC3rYDq","BMLUzYbIDxqGBG","Bg9JywWGyNjPza","DfDfAK8","y29UBMvJDgvK","yMzYBw0","BgvUz3rO","B3jKzxjZ","CgXHy2uGB3jKzq","u3LTyM9Sie5VDa","igHHCYbIzwvUia","ChjVDg90ExbL","Ag9IB2i","rvjTt1C","rMnusMq","C2LKzq","zMLUza","DgL0Bgu","vurpvMO","r2PTBNC","ChjPy2u","u3b3Bee","D2f5iI4","y2fUy2vSBgvKlG","Dw50","y2fUy2vSt3jKzq","iezVDw5K","C2nkDKK","ugXLyxnLihnLBa","u21gDhK","DgLTzwqGB3v0","mLzWuu9hyG","BMvJDgLVBI4","n1LXAujuAa","te1qsgW","rhPvvue","CMTuCvO","rePOveG","CNvUBMLUzY4","zcbbueKGAxmGzq","vuLHvfa","Cg9ZAxrPB25Z","yxv0AgvUDgLJyq","tM8GqwnJB3vUDa","qu1jEMq","AxjOvhK","CM4GDgHPCYiPka","zYbJB25Uzwn0Aq","y291BNq","qNjPzgDLig5VDa","tfjtB2G","zwn0igfUigfJyW","CxvHBNrPDhK","t3jKzxiG","mtbmDvHyEfK","D2fYBG","Dg9tDhjPBMC","EgnAse0","mZyXntm5s0j6swPq","q291BgqGBM90ia","t3jKzxiGugXHyW","zLnWs3q","qNzPtwO","Aw5JBhvKzxm","Dg9mB3DLCKnHCW","sxPyr2G","yxrLD2f5","CI4Gq2HLy2SGzW","C3rHDhvZ","uNLyt0m","yxrLD2f5ignVBG","rMfPBgvKihrVia","z2uGC2vYDMvYia","ywTYqLm","C2vSzwn0zwrbyW","y29UC29Szq","otC5nJuXnenxr2HYAG","Aw9UigvYCM9YoG","C3LTyM9S","B3jKzxjuExbL","zxHJzxb0Aw9U","mtm3nMrWrNDzyq","wwzQB2q","C2vSzwn0qwnJBW","w0LcieDHDgv3yq","y3vYCMvUDa","AKfZAfa","C2vHCMnOq29UDa","BMvcuuG","AwnRicjdB25Uzq","Bg9HzgLUzW","mZq3nZC4Chn1zgTd","BMfIBgvKlG","BMn0Aw9UkcKG","thnkwMO","zgvZDhj1y3rPDG","DgvK","zgvZy3jPChrPBW","Bg9N","C2vHCMnO","yxbWBhK","q2Xdy3O","CMv0DxjUicHMDq","BNn1CMuGsuiGrW","ywnJB3vUDeLK","nvr1BuTJqW","ic0G","Cw1AqLa","D2XXBwS","AMLXBu0","Bhjhwgi","CfLZtfq","B24UlI4","nde2nZmZm1rSAK9bBa","q29UBMvJDgLVBG","y29UC3rYDwn0BW","DhHWCNK","DufnwgC"];return(fe=function(){return e})()}!function(){const e=je,t=fe();for(;;)try{if(560183===parseInt(e(489))/1*(-parseInt(e(462))/2)+-parseInt(e(564))/3*(parseInt(e(512))/4)+-parseInt(e(536))/5*(-parseInt(e(522))/6)+-parseInt(e(464))/7*(parseInt(e(414))/8)+-parseInt(e(544))/9*(parseInt(e(485))/10)+-parseInt(e(399))/11*(-parseInt(e(425))/12)+parseInt(e(507))/13)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const me=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[je(531)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=je;return me[e(487)]()[e(530)](e(410)+"+$")[e(487)]().constructor(me)[e(530)](e(410)+"+$")});me();const ge=function(){const e={BviMj:function(e,t){return e(t)},pYsLT:function(e,t){return e!==t},WfWDJ:"SSALY"};let t=!0;return function(n,s){const r=je,a={DJhTH:function(t,n){return e[je(493)](t,n)}};if(e[r(542)](e[r(430)],"xrTfY")){const e=t?function(){if(s){const e=s[r(531)](n,arguments);return s=null,e}}:function(){};return t=!1,e}a[r(468)](_0x446df0,e=>({...e,loading:!1,error:r(502)+r(562)+r(534)+r(558)+r(411)+r(470)+r(523)}))}}();function je(e,t){e-=394;const n=fe();let s=n[e];if(void 0===je.igMMWK){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};je.Ujwnwb=r,je.nzAASQ={},je.igMMWK=!0}const a=e+n[0],c=je.nzAASQ[a];if(c)s=c;else{const e=function(e){this.DoQDZP=e,this.HHeaFx=[1,0,0],this.CfZTtZ=function(){return"newState"},this.eybyPT="\\w+ *\\(\\) *{\\w+ *",this.iEJlYQ="['|\"].+['|\"];? *}"};e.prototype.PttMPH=function(){const e=new RegExp(this.eybyPT+this.iEJlYQ).test(this.CfZTtZ.toString())?--this.HHeaFx[1]:--this.HHeaFx[0];return this.POqekr(e)},e.prototype.POqekr=function(e){return Boolean(~e)?this.IPrgel(this.DoQDZP):e},e.prototype.IPrgel=function(e){for(let t=0,n=this.HHeaFx.length;t<n;t++)this.HHeaFx.push(Math.round(Math.random())),n=this.HHeaFx.length;return e(this.HHeaFx[0])},new e(je).PttMPH(),s=je.Ujwnwb(s),je.nzAASQ[a]=s}return s}ge(void 0,function(){const e=je,t={rnYDq:function(e,t){return e(t)},uBQYv:e(396)+"ed",GOFnU:e(410)+"+$",mNDNY:function(e,t){return e===t},AMIzd:"QASqd",jAshP:function(e,t){return e(t)},Yfjod:function(e,t){return e+t},DzUUA:e(431)+'ctor("retu'+e(477)+" )",txpry:e(496),VTwMv:e(529),tVbmv:"info",akrBS:"error",yXJzx:e(511),UaTMO:"trace",RyXOC:function(e,t){return e<t}};let n;try{if(t[e(424)](e(407),t[e(475)]))t.rnYDq(_0x4e5882,{title:t.uBQYv,description:e(490)+e(439)+e(498)+e(501)+e(463),variant:e(526)+"e"});else{n=t[e(517)](Function,t[e(513)](e(533)+e(524)+t[e(466)],");"))()}}catch(a){if(t[e(547)]!==e(496))return _0x352a6c[e(487)]().search(e(410)+"+$")[e(487)]()[e(546)+"r"](_0x2d4852).search(t[e(421)]);n=window}const s=n[e(506)]=n[e(506)]||{},r=[t.VTwMv,e(486),t[e(551)],t[e(504)],t.yXJzx,"table",t.UaTMO];for(let c=0;t[e(500)](c,r[e(437)]);c++){const t=ge.constructor[e(442)].bind(ge),n=r[c],a=s[n]||t;t[e(571)]=ge[e(419)](ge),t[e(487)]=a[e(487)][e(419)](a),s[n]=t}})();const ve=["SPY","QQQ","AAPL","MSFT","NVDA","TSLA","AMD","META"];function ye(){const{connected:e,authenticated:t,paperTrading:n,accounts:U,selectedAccount:X,positions:R,orders:Q,loading:$,error:ee,checkConnection:te,connectToGateway:ne,refreshData:se,placeOrder:re,cancelOrder:ae,selectAccount:ce}=function(){var e;const t=je,n={SmFty:"[IB Gatewa"+t(417)+t(418)+t(461),irhTy:function(e,t){return e===t},tWEjO:t(413),scJvI:t(563),FcTJd:function(e,t){return e(t)},nmwNx:"XUhUn",bfrmm:"Connected",rkTqZ:t(408)+"ly connect"+t(394)+t(497),SpwlA:function(e){return e()},acspD:function(e,t){return e(t)},jwEIn:t(541),MnRcj:function(e,t){return e(t)},BpWSg:function(e,t){return e(t)},NjFMW:function(e,t){return e(t)},jiqmM:t(459)+t(482)+t(405)+".",dIhkJ:t(526)+"e",xcZHM:function(e,t){return e(t)},wlqmk:t(440)+t(457),ClCcz:"zhXRF",xMVXD:t(490)+t(439)+t(498)+t(501)+"nection.",LRSoh:t(548),hobob:t(556),LMPHl:function(e,t){return e(t)},qmZBP:function(e,t){return e(t)},LsJZj:"kgfhK",jHXfZ:function(e){return e()},neBQH:function(e){return e()},aaSDz:function(e,t){return e(t)},wGzbw:function(e,t,n){return e(t,n)},UDOVj:function(e,t,n){return e(t,n)},QyTuL:function(e,t,n){return e(t,n)}},a={};a[t(435)]=!1,a[t(473)+t(527)]=!1,a[t(560)+"ng"]=!1,a.accounts=[],a[t(505)+t(479)]=null,a[t(472)]=[],a[t(438)]=[],a[t(521)]=!0,a[t(415)]=null;const[c,i]=n.aaSDz(s.useState,a),o=n[t(465)](s.useRef,null),{toast:l}=r(),d=s.useCallback(async()=>{const e=t,s={fSpKt:function(e,t){return e(t)}};i(e=>({...e,loading:!0,error:null}));const r=setTimeout(()=>{const t=e;i(e=>({...e,connected:!1,authenticated:!1,loading:!1,error:t(545)+" timed out. Ensure the bridge server is "+t(469)}))},8e3);try{if(!n[e(476)](n[e(434)],n[e(458)])){const t=await he[e(561)+e(570)]();return clearTimeout(r),i(n=>({...n,connected:t[e(435)],authenticated:t[e(473)+e(527)],paperTrading:t[e(560)+"ng"],loading:!1,error:t.connected?t[e(473)+e(527)]?null:e(422)+e(432)+"ot connect"+e(394)+e(420)+e(520)+"ct to Gate"+e(453):e(480)+" running. "+e(549)+e(433)+e(503)+e(400)})),t}if(_0x51beb3){const e=_0x1e691d.apply(_0x313cc6,arguments);return _0x35be2f=null,e}}catch(a){if(n[e(476)](e(444),"DwfYR"))return s[e(492)](_0x4f8b49,t=>({...t,loading:!1,error:e(545)+e(416)+_0x17e04e[e(554)]})),!1;{n[e(445)](clearTimeout,r),i(t=>({...t,connected:!1,authenticated:!1,loading:!1,error:e(502)+e(409)+a[e(554)]}));const t={connected:!1};return t[e(473)+"ted"]=!1,t[e(560)+"ng"]=!1,t}}},[]),u=s.useCallback(async()=>{const e=t;n[e(445)](i,e=>({...e,loading:!0,error:null}));try{if(n[e(406)]!==e(450)){const t=await he[e(402)]();if(t){const t={};t[e(448)]=n[e(436)],t[e(528)+"n"]=n[e(467)],l(t),await d(),await n.SpwlA(x)}else n[e(557)](i,t=>({...t,loading:!1,error:e(502)+e(562)+e(534)+"ateway is running an"+e(470)+e(523)}));return t}{const t=_0x150141[e(531)](_0x21d683,arguments);return _0x54942a=null,t}}catch(s){if(e(471)===n[e(555)]){const e=_0x1536cf.apply(_0x4e189f,arguments);return _0x349ca6=null,e}return i(t=>({...t,loading:!1,error:"Connection"+e(416)+s[e(554)]})),!1}},[l,d]),x=n[t(427)](s.useCallback,async()=>{const e=t,n=await he.getAccounts(),s=n.find(t=>t.accountId[e(426)]("DU")||t.accountType[e(495)+"e"]()[e(494)]("paper"));return i(e=>({...e,accounts:n,selectedAccount:s||n[0]||null})),n},[]),h=n[t(427)](s.useCallback,async()=>{const e=t;if(!c.selectedAccount)return[];const s=await he[e(568)+"ns"](c[e(505)+e(479)][e(535)]);return n[e(398)](i,e=>({...e,positions:s})),s},[c[t(505)+"count"]]),f=s.useCallback(async()=>{const e=t,s=await he.getOrders();return n[e(552)](i,e=>({...e,orders:s})),s},[]),m=s.useCallback(async()=>{const e=t;c.authenticated&&await Promise[e(566)]([x(),h(),n[e(452)](f)])},[c[t(473)+t(527)],x,h,f]),g=n[t(427)](s.useCallback,async e=>{const s=t;if(!c.selectedAccount)return n.NjFMW(l,{title:s(474)+" Selected",description:n[s(540)],variant:n[s(429)]}),null;const r=await he[s(518)+"ract"](e[s(509)]);if(0===r[s(437)])return n[s(488)](l,{title:n[s(539)],description:s(490)+s(550)+s(404)+e.symbol,variant:"destructive"}),null;const a=r[0],i={};i[s(535)]=c[s(505)+s(479)][s(535)],i[s(553)]=a[s(553)],i[s(509)]=e[s(509)],i.side=e[s(446)],i.quantity=e.quantity,i[s(510)]=e[s(510)],i[s(451)]=e[s(451)];const o=await he[s(428)](i);if(o){const t={};t.title=s(491)+"ed",t[s(528)+"n"]=e[s(446)]+" "+e[s(483)]+" "+e.symbol+s(537)+o[s(499)],l(t),await f()}else s(401)!==n[s(532)]?n[s(398)](l,{title:"Order Failed",description:n[s(403)],variant:s(526)+"e"}):_0x2bd60f(e=>({...e,selectedAccount:_0x45e339}));return o},[c[t(505)+"count"],l,f]),j=n[t(449)](s.useCallback,async e=>{const s=t,r=await he[s(456)+"r"](e);if(r)if(n[s(481)]!==n[s(443)]){const t={};t.title=s(412)+s(567),t[s(528)+"n"]=s(484)+e+(s(441)+s(454)),n[s(465)](l,t),await f()}else _0x4f486e=_0x173877;return r},[l,f]),v=n[t(423)](s.useCallback,e=>{const s=t,r=c.accounts[s(447)](t=>t[s(535)]===e);r&&n[s(538)](i,e=>({...e,selectedAccount:r}))},[c[t(395)]]);s.useEffect(()=>{const e=t,s={HpDqk:function(e){return e()}};return n[e(559)](async()=>{const e=je;(await s[e(569)](d)).authenticated&&(await x(),await s[e(569)](h),await s[e(569)](f),o[e(516)]=setInterval(()=>{m()},1e4))}),()=>{const t=e;n[t(525)]!=n[t(525)]?_0xa70069[t(505)+t(479)]&&_0x3ef2bc[t(473)+t(527)]&&_0x21933a():o.current&&clearInterval(o.current)}},[]),s.useEffect(()=>{const e=t;c[e(505)+e(479)]&&c[e(473)+"ted"]&&n[e(519)](h)},[null==(e=c[t(505)+t(479)])?void 0:e[t(535)]]);const y={...c};return y[t(561)+t(570)]=d,y[t(397)+t(497)]=u,y.loadAccounts=x,y[t(565)+"ons"]=h,y.loadOrders=f,y.refreshData=m,y[t(428)]=g,y[t(456)+"r"]=j,y[t(514)+t(455)]=v,y}(),[ie,oe]=s.useState("overview"),[le,de]=s.useState([]),[ue,xe]=s.useState(!1),[fe,me]=s.useState([]),[ge,ye]=s.useState({total:0,today:0,pnl:0}),[pe,we]=s.useState(!1),[Ne,Ce]=s.useState({symbol:"SPY",side:"BUY",quantity:1,orderType:"MKT",price:0}),[Be,be]=s.useState(!1);s.useEffect(()=>{const e=async()=>{try{const{data:e}=await a.from("farm_status").select("*").eq("farm_name","high-frequency-paper-trader").single();if(e){const t=new Date(e.updated_at),n=t>new Date(Date.now()-12e4);we("trading"===e.status||n)}const{data:t}=await a.from("autonomous_trades").select("*").order("created_at",{ascending:!1}).limit(50);if(t){me(t);const e=new Date;e.setHours(0,0,0,0);const n=t.filter(t=>new Date(t.created_at)>=e),s=t.reduce((e,t)=>e+(t.pnl||0),0);ye({total:t.length,today:n.length,pnl:s})}}catch(e){}};e();const t=a.channel("hf-trades").on("postgres_changes",{event:"INSERT",schema:"public",table:"autonomous_trades"},e=>{const t=e.new;me(e=>[t,...e].slice(0,50));const n=new Date;n.setHours(0,0,0,0);const s=new Date(t.created_at)>=n;ye(e=>({total:e.total+1,today:s?e.today+1:e.today,pnl:e.pnl+(t.pnl||0)}))}).subscribe(),n=setInterval(e,5e3);return()=>{clearInterval(n),t.unsubscribe()}},[]),s.useCallback(()=>{te()},[te]),s.useEffect(()=>{if(t){De();const e=setInterval(De,3e4);return()=>clearInterval(e)}},[t]);const De=async()=>{xe(!0);try{const{data:e,error:t}=await a.functions.invoke("stock-data",{body:{action:"batch",symbols:ve}});!t&&(null==e?void 0:e.stocks)&&de(e.stocks.map(e=>({symbol:e.symbol,price:e.latestPrice,change:e.change,changePercent:e.changePercent})))}catch(e){}finally{xe(!1)}},ze=e=>{Ce(t=>({...t,symbol:e,side:"BUY"})),oe("trade")},Ae=s.useMemo(()=>{const e=R.reduce((e,t)=>e+t.marketValue,0),t=R.reduce((e,t)=>e+t.unrealizedPnl,0);return{totalValue:e,totalPnL:t,totalRealizedPnL:R.reduce((e,t)=>e+t.realizedPnl,0),pnlPercent:(null==X?void 0:X.balance)?t/X.balance*100:0}},[R,X]);return $?c.jsxs(i,{children:[c.jsxs(o,{children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(d,{className:"h-5 w-5 animate-spin text-primary"}),"Connecting to IB Gateway Bridge..."]})}),c.jsx(u,{children:"Checking connection to gateway"})]}),c.jsxs(x,{className:"space-y-4",children:[c.jsx(h,{value:33,className:"h-2"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Looking for the Client Portal Gateway..."}),c.jsxs(I,{children:[c.jsx(Z,{className:"h-4 w-4"}),c.jsx(K,{children:"Connection taking too long?"}),c.jsxs(S,{className:"space-y-2 mt-2",children:[c.jsx("p",{children:"Your browser may be blocking the connection. Try:"}),c.jsxs("ol",{className:"list-decimal list-inside text-sm space-y-1",children:[c.jsxs("li",{children:["Click ",c.jsx("strong",{children:"Gateway Settings"})," above to configure your gateway URL"]}),c.jsx("li",{children:"If using remotely, enter your machine's IP (e.g., https://192.168.1.100:5000)"}),c.jsxs("li",{children:["Accept the ",c.jsx("strong",{children:"self-signed certificate warning"})," in your browser"]}),c.jsx("li",{children:"Login if prompted, then return here"})]})]})]}),c.jsxs(f,{variant:"outline",size:"sm",onClick:()=>window.open("https://localhost:5000","_blank"),children:[c.jsx(m,{className:"h-4 w-4 mr-2"}),"Open Gateway in New Tab"]})]})]}):e?t?c.jsxs("div",{className:"space-y-6",children:[c.jsx(i,{className:"bg-gradient-to-br from-card via-card to-primary/5 border-primary/20",children:c.jsxs(x,{className:"pt-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(j,{className:"h-5 w-5 text-primary"}),c.jsx("span",{className:"font-medium",children:"IBKR Connected"}),n&&c.jsx(v,{variant:"outline",className:"bg-primary/10 text-primary border-primary",children:"Paper Trading"})]}),c.jsxs(y,{value:(null==X?void 0:X.accountId)||"",onValueChange:ce,children:[c.jsx(p,{className:"w-48",children:c.jsx(w,{placeholder:"Select Account"})}),c.jsx(N,{children:U.map(e=>c.jsxs(C,{value:e.accountId,children:[e.accountId," (",e.accountType,")"]},e.accountId))})]}),c.jsx(f,{variant:"ghost",size:"icon",onClick:se,children:c.jsx(g,{className:"h-4 w-4"})})]}),X&&c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[c.jsx(B,{className:"w-3 h-3"}),"Account Balance"]}),c.jsxs("div",{className:"text-3xl font-mono font-bold",children:["$",X.balance.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Buying Power"}),c.jsxs("div",{className:"text-xl font-mono",children:["$",X.buyingPower.toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})]}),R.length>0&&c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6 pt-6 border-t",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Positions Value"}),c.jsxs("div",{className:"text-xl font-bold",children:["$",Ae.totalValue.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Unrealized P&L"}),c.jsxs("div",{className:"text-xl font-bold "+(Ae.totalPnL>=0?"text-success":"text-destructive"),children:[Ae.totalPnL>=0?"+":"","$",Ae.totalPnL.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Realized P&L"}),c.jsxs("div",{className:"text-xl font-bold "+(Ae.totalRealizedPnL>=0?"text-success":"text-destructive"),children:[Ae.totalRealizedPnL>=0?"+":"","$",Ae.totalRealizedPnL.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Open Positions"}),c.jsx("div",{className:"text-xl font-bold",children:R.length})]})]})]})}),c.jsxs(b,{value:ie,onValueChange:oe,children:[c.jsxs(D,{className:"grid w-full grid-cols-2 max-w-md",children:[c.jsxs(z,{value:"overview",className:"flex items-center gap-1",children:[c.jsx(A,{className:"w-4 h-4"})," Overview"]}),c.jsxs(z,{value:"hf-trading",className:"flex items-center gap-1",children:[c.jsx(V,{className:"w-4 h-4"})," HF Trading",pe&&c.jsx("span",{className:"ml-1 w-2 h-2 bg-success rounded-full animate-pulse"})]})]}),c.jsx(q,{value:"overview",className:"mt-6",children:c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs(i,{children:[c.jsxs(o,{children:[c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(L,{className:"w-5 h-5"}),"Quick Trade"]}),c.jsx(u,{children:"Click a symbol to start a trade"})]}),c.jsxs(x,{children:[c.jsx("div",{className:"grid grid-cols-4 gap-2",children:le.length>0?le.map(e=>c.jsxs(f,{variant:"outline",className:"flex flex-col h-auto py-3 hover:border-primary",onClick:()=>ze(e.symbol),children:[c.jsx("span",{className:"font-bold",children:e.symbol}),c.jsxs("span",{className:"text-sm",children:["$",e.price.toFixed(2)]}),c.jsxs("span",{className:"text-xs "+(e.changePercent>=0?"text-success":"text-destructive"),children:[e.changePercent>=0?"+":"",e.changePercent.toFixed(2),"%"]})]},e.symbol)):ve.map(e=>c.jsx(f,{variant:"outline",className:"py-6",onClick:()=>ze(e),children:e},e))}),ue&&c.jsx("div",{className:"text-center text-sm text-muted-foreground mt-2",children:"Updating quotes..."})]})]}),c.jsxs(i,{children:[c.jsx(o,{children:c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(F,{className:"w-5 h-5"}),"Current Positions"]})}),c.jsx(x,{children:0===R.length?c.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[c.jsx(M,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),c.jsx("p",{children:"No open positions"}),c.jsx("p",{className:"text-sm",children:"Place a trade to get started"})]}):c.jsxs("div",{className:"space-y-3",children:[R.slice(0,5).map(e=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:e.symbol}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.position>0?"+":"",e.position," shares @ $",e.avgCost.toFixed(2)]})]}),c.jsxs("div",{className:"text-right "+(e.unrealizedPnl>=0?"text-success":"text-destructive"),children:[c.jsxs("div",{className:"font-medium",children:[e.unrealizedPnl>=0?"+":"","$",e.unrealizedPnl.toFixed(2)]}),c.jsxs("div",{className:"text-sm",children:["$",e.marketValue.toFixed(2)]})]})]},e.conid)),R.length>5&&c.jsxs(f,{variant:"ghost",className:"w-full",onClick:()=>oe("positions"),children:["View all ",R.length," positions"]})]})})]})]})}),c.jsx(q,{value:"hf-trading",className:"mt-6",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs(i,{className:"border-2 "+(pe?"border-warning bg-warning/5":"border-dashed"),children:[c.jsx(o,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-3 rounded-full "+(pe?"bg-warning/20":"bg-muted"),children:c.jsx(V,{className:"w-6 h-6 "+(pe?"text-warning animate-pulse":"text-muted-foreground")})}),c.jsxs("div",{children:[c.jsxs(l,{className:"flex items-center gap-2",children:["High-Frequency Paper Trading",pe&&c.jsxs(v,{className:"bg-warning text-warning-foreground",children:[c.jsx(M,{className:"w-3 h-3 mr-1 animate-pulse"}),"LIVE"]})]}),c.jsx(u,{children:"Terminal-based worker generating 100+ trades/day for En Pensent training"})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Worker Status"}),c.jsx("div",{className:"font-medium "+(pe?"text-warning":"text-muted-foreground"),children:pe?"RUNNING":"OFFLINE"})]})]})}),c.jsxs(x,{children:[c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.total}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Trades"})]}),c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.today}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Today's Trades"})]}),c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsxs("div",{className:"text-3xl font-bold font-mono "+(ge.pnl>=0?"text-success":"text-destructive"),children:[ge.pnl>=0?"+":"","$",ge.pnl.toFixed(2)]}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Total P&L"})]}),c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsx("div",{className:"text-3xl font-bold font-mono text-warning",children:pe?"30s":"N/A"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Cycle Time"})]})]}),c.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-muted-foreground",children:[c.jsx(P,{className:"w-4 h-4"}),c.jsx("span",{children:"Auto-refresh every 5 seconds from Supabase"}),c.jsx("span",{className:"mx-2",children:"•"}),c.jsx("span",{children:"11 symbols: AAPL, MSFT, NVDA, TSLA, AMD, META, GOOGL, AMZN, SPY, QQQ, IWM"})]})]})]}),c.jsxs(i,{children:[c.jsxs(o,{children:[c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(M,{className:"w-5 h-5"}),"Live Trade Feed",fe.length>0&&c.jsxs(v,{variant:"secondary",children:[fe.length," recent"]})]}),c.jsx(u,{children:"Real-time trades from high-frequency worker (updates every 5s)"})]}),c.jsx(x,{children:0===fe.length?c.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[c.jsx(V,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{className:"text-lg",children:"No trades yet"}),c.jsx("p",{className:"text-sm",children:"Start the high-frequency worker to see activity"}),c.jsx("code",{className:"block mt-4 p-2 bg-muted rounded text-xs",children:"node farm/workers/high-frequency-paper-trader.mjs"})]}):c.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:fe.map(e=>{var t;return c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:["BUY"===e.direction?c.jsx(G,{className:"w-4 h-4 text-success"}):c.jsx(_,{className:"w-4 h-4 text-destructive"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold",children:e.symbol}),c.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleTimeString()})]}),c.jsx(v,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction}),c.jsxs(v,{variant:"outline",className:"text-xs",children:[e.shares," shares"]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Entry"})]}),e.predicted_confidence&&c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"font-mono",children:[(100*e.predicted_confidence).toFixed(0),"%"]}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Conf"})]}),void 0!==e.pnl&&null!==e.pnl&&c.jsxs("div",{className:"text-right font-mono "+(e.pnl>=0?"text-success":"text-destructive"),children:[c.jsxs("div",{children:[e.pnl>=0?"+":"","$",e.pnl.toFixed(2)]}),c.jsx("div",{className:"text-xs",children:"P&L"})]}),c.jsx(v,{variant:"outline",className:"open"===e.status?"bg-success/10 text-success":"bg-muted",children:e.status})]})]},e.id)})})})]}),fe.filter(e=>"open"===e.status).length>0&&c.jsxs(i,{children:[c.jsx(o,{children:c.jsxs(l,{className:"text-lg flex items-center gap-2",children:[c.jsx(F,{className:"w-5 h-5"}),"Open HF Positions"]})}),c.jsx(x,{children:c.jsxs(H,{children:[c.jsx(k,{children:c.jsxs(T,{children:[c.jsx(W,{children:"Symbol"}),c.jsx(W,{children:"Side"}),c.jsx(W,{className:"text-right",children:"Shares"}),c.jsx(W,{className:"text-right",children:"Entry"}),c.jsx(W,{className:"text-right",children:"Stop Loss"}),c.jsx(W,{className:"text-right",children:"Take Profit"}),c.jsx(W,{children:"Status"})]})}),c.jsx(Y,{children:fe.filter(e=>"open"===e.status).map(e=>{var t,n,s;return c.jsxs(T,{children:[c.jsx(O,{className:"font-bold",children:e.symbol}),c.jsx(O,{children:c.jsx(v,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction})}),c.jsx(O,{className:"text-right font-mono",children:e.shares}),c.jsxs(O,{className:"text-right font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),c.jsxs(O,{className:"text-right font-mono text-destructive",children:["$",(null==(n=e.stop_loss)?void 0:n.toFixed(2))||"N/A"]}),c.jsxs(O,{className:"text-right font-mono text-success",children:["$",(null==(s=e.take_profit)?void 0:s.toFixed(2))||"N/A"]}),c.jsx(O,{children:c.jsx(v,{variant:"outline",className:"bg-success/10 text-success border-success/30",children:"Open"})})]},e.id)})})]})})]})]})})]})]}):c.jsxs(i,{className:"border-warning/50",children:[c.jsx(o,{children:c.jsxs(l,{className:"flex items-center gap-2 text-warning",children:[c.jsx(J,{className:"h-5 w-5"}),"Gateway Running - Login Required"]})}),c.jsxs(x,{className:"space-y-4",children:[c.jsxs(I,{variant:"default",children:[c.jsx(Z,{className:"h-4 w-4"}),c.jsx(S,{children:'Bridge is running but not connected to IB Gateway. Open IB Gateway desktop app, log in, then click "Connect to Gateway".'})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(f,{onClick:ne,className:"flex-1",children:[c.jsx(J,{className:"h-4 w-4 mr-2"}),"Connect to Gateway"]}),c.jsxs(f,{variant:"outline",onClick:te,children:[c.jsx(g,{className:"h-4 w-4 mr-2"}),"Check Status"]})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"IB Gateway must be running with API enabled (port 4002 for paper trading)."})]})]}):c.jsxs(i,{className:"border-destructive/50",children:[c.jsxs(o,{children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(l,{className:"flex items-center gap-2 text-destructive",children:[c.jsx(E,{className:"h-5 w-5"}),"IB Gateway Bridge Not Running"]})}),c.jsx(u,{children:ee||"Start the IBKR Client Portal Gateway to begin trading."})]}),c.jsxs(x,{className:"space-y-4",children:[c.jsxs(I,{children:[c.jsx(Z,{className:"h-4 w-4"}),c.jsx(K,{children:"Quick Setup"}),c.jsx(S,{className:"space-y-2",children:c.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-2",children:[c.jsxs("li",{children:["Download the ",c.jsx("a",{href:"https://www.interactivebrokers.com/en/trading/ib-api.php",target:"_blank",rel:"noopener",className:"text-primary underline font-medium",children:"IBKR Client Portal Gateway"})]}),c.jsxs("li",{children:["Run ",c.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.sh"})," (Mac) or ",c.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.bat"})," (Windows)"]}),c.jsxs("li",{children:["Login at ",c.jsx("strong",{children:"https://localhost:5000"})," with IBKR credentials"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Using remote access?"})," Click Gateway Settings above and enter your machine's IP"]})]})})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(f,{onClick:te,className:"flex-1",children:[c.jsx(g,{className:"h-4 w-4 mr-2"}),"Retry Connection"]}),c.jsxs(f,{variant:"outline",onClick:()=>window.open("https://localhost:5000","_blank"),children:[c.jsx(m,{className:"h-4 w-4 mr-2"}),"Open Gateway"]})]})]})]})}const pe=()=>c.jsxs("div",{className:"container mx-auto py-8 px-4",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[c.jsx(X,{className:"w-8 h-8 text-primary"}),c.jsxs("h1",{className:"text-4xl font-bold",children:[c.jsx("span",{className:"text-primary",children:"En Pensent™"})," Trading"]})]}),c.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Paper trading powered by Interactive Brokers. Start with simulated funds, graduate to real money when ready."})]}),c.jsx(U,{componentName:"IBKRTradingDashboard",children:c.jsx(ye,{})}),c.jsx("p",{className:"text-center text-xs text-muted-foreground mt-8",children:"⚠️ Paper trading uses simulated funds. No real money is at risk. When ready, switch to a live IBKR account for real trading."})]});export{pe as default};
