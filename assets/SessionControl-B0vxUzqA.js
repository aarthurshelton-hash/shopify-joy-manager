const n='/**\n * Session Control Component\n * Start/Stop trading sessions with $1000 starting balance\n */\n\nimport React from \'react\';\nimport { motion, AnimatePresence } from \'framer-motion\';\nimport { \n  Play, Pause, Square, RotateCcw, DollarSign, \n  TrendingUp, TrendingDown, Clock, Trophy, \n  AlertCircle, Zap, Target\n} from \'lucide-react\';\nimport { Card, CardContent, CardHeader, CardTitle } from \'@/components/ui/card\';\nimport { Button } from \'@/components/ui/button\';\nimport { Badge } from \'@/components/ui/badge\';\nimport { Separator } from \'@/components/ui/separator\';\nimport { cn } from \'@/lib/utils\';\nimport { useTradingSessionStore } from \'@/stores/tradingSessionStore\';\n\ninterface SessionControlProps {\n  onSessionStart?: () => void;\n  onSessionEnd?: () => void;\n  compact?: boolean;\n}\n\nexport const SessionControl: React.FC<SessionControlProps> = ({\n  onSessionStart,\n  onSessionEnd,\n  compact = false\n}) => {\n  const { \n    currentSession, \n    startSession, \n    pauseSession, \n    resumeSession, \n    endSession,\n    getSessionStats,\n    getAllTimeStats,\n    activeTrades\n  } = useTradingSessionStore();\n  \n  const sessionStats = getSessionStats();\n  const allTimeStats = getAllTimeStats();\n  \n  const handleStart = () => {\n    startSession(1000);\n    onSessionStart?.();\n  };\n  \n  const handleEnd = () => {\n    endSession();\n    onSessionEnd?.();\n  };\n  \n  const formatDuration = (ms: number) => {\n    const seconds = Math.floor(ms / 1000);\n    const minutes = Math.floor(seconds / 60);\n    const hours = Math.floor(minutes / 60);\n    \n    if (hours > 0) {\n      return `${hours}h ${minutes % 60}m`;\n    }\n    if (minutes > 0) {\n      return `${minutes}m ${seconds % 60}s`;\n    }\n    return `${seconds}s`;\n  };\n  \n  const formatMoney = (amount: number) => {\n    const sign = amount >= 0 ? \'+\' : \'\';\n    return `${sign}$${Math.abs(amount).toFixed(2)}`;\n  };\n  \n  if (compact) {\n    return (\n      <div className="flex items-center gap-3 p-3 bg-card/50 rounded-lg border border-primary/20">\n        {!currentSession ? (\n          <Button onClick={handleStart} size="sm" className="gap-2">\n            <Play className="w-4 h-4" />\n            Start $1,000 Session\n          </Button>\n        ) : (\n          <>\n            <div className="flex items-center gap-2">\n              <DollarSign className="w-4 h-4 text-primary" />\n              <div>\n                <div className={cn(\n                  "text-lg font-mono font-bold",\n                  currentSession.currentBalance >= currentSession.startingBalance \n                    ? "text-green-400" \n                    : "text-red-400"\n                )}>\n                  ${currentSession.currentBalance.toFixed(2)}\n                </div>\n                <div className="text-[10px] text-muted-foreground">\n                  {formatMoney(sessionStats.totalGrowth)} ({sessionStats.growthPercent.toFixed(2)}%)\n                </div>\n              </div>\n            </div>\n            \n            <Separator orientation="vertical" className="h-8" />\n            \n            <div className="flex items-center gap-1">\n              {currentSession.status === \'active\' ? (\n                <Button variant="ghost" size="sm" onClick={pauseSession}>\n                  <Pause className="w-4 h-4" />\n                </Button>\n              ) : (\n                <Button variant="ghost" size="sm" onClick={resumeSession}>\n                  <Play className="w-4 h-4" />\n                </Button>\n              )}\n              <Button variant="ghost" size="sm" onClick={handleEnd}>\n                <Square className="w-4 h-4" />\n              </Button>\n            </div>\n            \n            <Badge variant="outline" className="text-xs">\n              {activeTrades.length} open\n            </Badge>\n          </>\n        )}\n      </div>\n    );\n  }\n  \n  return (\n    <Card className="bg-card/50 backdrop-blur border-primary/20">\n      <CardHeader className="pb-2">\n        <div className="flex items-center justify-between">\n          <CardTitle className="flex items-center gap-2 text-lg">\n            <DollarSign className="w-5 h-5 text-primary" />\n            Trading Session\n          </CardTitle>\n          \n          {currentSession && (\n            <Badge \n              variant="outline"\n              className={cn(\n                "text-xs",\n                currentSession.status === \'active\' \n                  ? "border-green-500/30 text-green-400" \n                  : "border-yellow-500/30 text-yellow-400"\n              )}\n            >\n              {currentSession.status === \'active\' ? \'● LIVE\' : \'○ PAUSED\'}\n            </Badge>\n          )}\n        </div>\n      </CardHeader>\n      \n      <CardContent className="space-y-4">\n        <AnimatePresence mode="wait">\n          {!currentSession ? (\n            /* Start Session View */\n            <motion.div\n              key="start"\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -20 }}\n              className="space-y-4"\n            >\n              <div className="text-center p-6 bg-muted/30 rounded-lg">\n                <motion.div\n                  animate={{ scale: [1, 1.05, 1] }}\n                  transition={{ duration: 2, repeat: Infinity }}\n                  className="text-5xl font-mono font-bold text-primary mb-2"\n                >\n                  $1,000\n                </motion.div>\n                <p className="text-sm text-muted-foreground">\n                  Starting Balance\n                </p>\n                <p className="text-xs text-muted-foreground mt-2">\n                  How much can you grow it in one session?\n                </p>\n              </div>\n              \n              <Button \n                onClick={handleStart} \n                className="w-full gap-2 h-12 text-lg"\n                size="lg"\n              >\n                <Play className="w-5 h-5" />\n                Start Trading Session\n              </Button>\n              \n              {/* All-Time Stats */}\n              {allTimeStats.totalSessions > 0 && (\n                <div className="grid grid-cols-2 gap-2 text-center">\n                  <div className="p-2 bg-muted/20 rounded">\n                    <div className="text-xs text-muted-foreground">Sessions</div>\n                    <div className="text-sm font-mono">{allTimeStats.totalSessions}</div>\n                  </div>\n                  <div className="p-2 bg-muted/20 rounded">\n                    <div className="text-xs text-muted-foreground">Best Growth</div>\n                    <div className="text-sm font-mono text-green-400">\n                      ${allTimeStats.bestSession.toFixed(2)}\n                    </div>\n                  </div>\n                  <div className="p-2 bg-muted/20 rounded">\n                    <div className="text-xs text-muted-foreground">Total Trades</div>\n                    <div className="text-sm font-mono">{allTimeStats.totalTrades}</div>\n                  </div>\n                  <div className="p-2 bg-muted/20 rounded">\n                    <div className="text-xs text-muted-foreground">Win Rate</div>\n                    <div className="text-sm font-mono">\n                      {allTimeStats.overallWinRate.toFixed(1)}%\n                    </div>\n                  </div>\n                </div>\n              )}\n            </motion.div>\n          ) : (\n            /* Active Session View */\n            <motion.div\n              key="active"\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -20 }}\n              className="space-y-4"\n            >\n              {/* Current Balance */}\n              <div className="text-center p-4 bg-muted/30 rounded-lg">\n                <div className={cn(\n                  "text-4xl font-mono font-bold transition-colors",\n                  currentSession.currentBalance >= currentSession.startingBalance \n                    ? "text-green-400" \n                    : "text-red-400"\n                )}>\n                  ${currentSession.currentBalance.toFixed(2)}\n                </div>\n                \n                <div className="flex items-center justify-center gap-2 mt-2">\n                  {sessionStats.totalGrowth >= 0 ? (\n                    <TrendingUp className="w-4 h-4 text-green-400" />\n                  ) : (\n                    <TrendingDown className="w-4 h-4 text-red-400" />\n                  )}\n                  <span className={cn(\n                    "text-lg font-mono",\n                    sessionStats.totalGrowth >= 0 ? "text-green-400" : "text-red-400"\n                  )}>\n                    {formatMoney(sessionStats.totalGrowth)} \n                    ({sessionStats.growthPercent >= 0 ? \'+\' : \'\'}\n                    {sessionStats.growthPercent.toFixed(2)}%)\n                  </span>\n                </div>\n                \n                <div className="flex items-center justify-center gap-4 mt-3 text-xs text-muted-foreground">\n                  <span className="flex items-center gap-1">\n                    <Clock className="w-3 h-3" />\n                    {formatDuration(sessionStats.sessionDuration)}\n                  </span>\n                  <span>Peak: ${currentSession.peakBalance.toFixed(2)}</span>\n                  <span>Low: ${currentSession.troughBalance.toFixed(2)}</span>\n                </div>\n              </div>\n              \n              {/* Session Stats */}\n              <div className="grid grid-cols-4 gap-2 text-center">\n                <div className="p-2 bg-muted/20 rounded">\n                  <div className="text-xs text-muted-foreground">Trades</div>\n                  <div className="text-sm font-mono">{currentSession.totalTrades}</div>\n                </div>\n                <div className="p-2 bg-muted/20 rounded">\n                  <div className="text-xs text-muted-foreground">Win Rate</div>\n                  <div className={cn(\n                    "text-sm font-mono",\n                    sessionStats.winRate >= 50 ? "text-green-400" : "text-red-400"\n                  )}>\n                    {sessionStats.winRate.toFixed(0)}%\n                  </div>\n                </div>\n                <div className="p-2 bg-muted/20 rounded">\n                  <div className="text-xs text-muted-foreground">Best</div>\n                  <div className="text-sm font-mono text-green-400">\n                    +${currentSession.bestTrade.toFixed(2)}\n                  </div>\n                </div>\n                <div className="p-2 bg-muted/20 rounded">\n                  <div className="text-xs text-muted-foreground">Worst</div>\n                  <div className="text-sm font-mono text-red-400">\n                    ${currentSession.worstTrade.toFixed(2)}\n                  </div>\n                </div>\n              </div>\n              \n              {/* Prediction Accuracy */}\n              <div className="flex items-center justify-between p-3 bg-muted/20 rounded-lg">\n                <div className="flex items-center gap-2">\n                  <Target className="w-4 h-4 text-primary" />\n                  <span className="text-sm">Session Predictions</span>\n                </div>\n                <div className="text-right">\n                  <div className={cn(\n                    "text-sm font-mono font-bold",\n                    currentSession.predictions > 0 && \n                    (currentSession.correctPredictions / currentSession.predictions) >= 0.5\n                      ? "text-green-400" \n                      : "text-red-400"\n                  )}>\n                    {currentSession.correctPredictions}/{currentSession.predictions}\n                  </div>\n                  <div className="text-[10px] text-muted-foreground">\n                    {currentSession.predictions > 0 \n                      ? `${((currentSession.correctPredictions / currentSession.predictions) * 100).toFixed(1)}%`\n                      : \'—\'}\n                  </div>\n                </div>\n              </div>\n              \n              {/* Open Positions Warning */}\n              {activeTrades.length > 0 && (\n                <div className="flex items-center gap-2 p-2 bg-yellow-500/10 border border-yellow-500/20 rounded-lg">\n                  <AlertCircle className="w-4 h-4 text-yellow-400" />\n                  <span className="text-sm text-yellow-400">\n                    {activeTrades.length} open position{activeTrades.length > 1 ? \'s\' : \'\'}\n                  </span>\n                </div>\n              )}\n              \n              {/* Controls */}\n              <div className="flex gap-2">\n                {currentSession.status === \'active\' ? (\n                  <Button \n                    variant="outline" \n                    className="flex-1 gap-2"\n                    onClick={pauseSession}\n                  >\n                    <Pause className="w-4 h-4" />\n                    Pause\n                  </Button>\n                ) : (\n                  <Button \n                    variant="outline" \n                    className="flex-1 gap-2"\n                    onClick={resumeSession}\n                  >\n                    <Play className="w-4 h-4" />\n                    Resume\n                  </Button>\n                )}\n                \n                <Button \n                  variant="destructive" \n                  className="flex-1 gap-2"\n                  onClick={handleEnd}\n                >\n                  <Square className="w-4 h-4" />\n                  End Session\n                </Button>\n              </div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </CardContent>\n    </Card>\n  );\n};\n';export{n as default};
