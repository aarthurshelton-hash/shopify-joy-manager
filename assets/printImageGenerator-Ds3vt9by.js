import{du as t}from"./index-xchx37pq.js";import{b as n}from"./browser-DEPKJqf2.js";!function(){const t=o,n=i();for(;;)try{if(146094===-parseInt(t(512))/1+-parseInt(t(508))/2+-parseInt(t(473))/3*(parseInt(t(523))/4)+parseInt(t(550))/5+-parseInt(t(561))/6+parseInt(t(526))/7*(parseInt(t(482))/8)+parseInt(t(472))/9)break;n.push(n.shift())}catch(r){n.push(n.shift())}}();const r=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}()(void 0,function(){const t=o,n={};n[t(493)]="(((.+)+)+)+$";const e=n;return r[t(495)]()[t(542)](e[t(493)])[t(495)]()[t(511)+"r"](r).search(e[t(493)])});r();const e=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[o(491)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function o(t,n){t-=472;const r=i();let e=r[t];if(void 0===o.kYQTsr){var u=function(t){let n="",r="",e=n+u;for(let o,i,u=0,c=0;i=t.charAt(c++);~i&&(o=u%4?64*o+i:i,u++%4)?n+=e.charCodeAt(c+10)-10!=0?String.fromCharCode(255&o>>(-2*u&6)):u:0)i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(i);for(let o=0,i=n.length;o<i;o++)r+="%"+("00"+n.charCodeAt(o).toString(16)).slice(-2);return decodeURIComponent(r)};o.gkxXzy=u,o.gtrRxD={},o.kYQTsr=!0}const c=t+r[0],s=o.gtrRxD[c];if(s)e=s;else{const t=function(t){this.pjiYTd=t,this.NghxbD=[1,0,0],this.qQnWaX=function(){return"newState"},this.nXNTEM="\\w+ *\\(\\) *{\\w+ *",this.QESUyN="['|\"].+['|\"];? *}"};t.prototype.pQTcbf=function(){const t=new RegExp(this.nXNTEM+this.QESUyN).test(this.qQnWaX.toString())?--this.NghxbD[1]:--this.NghxbD[0];return this.Ugssjt(t)},t.prototype.Ugssjt=function(t){return Boolean(~t)?this.jagdlO(this.pjiYTd):t},t.prototype.jagdlO=function(t){for(let n=0,r=this.NghxbD.length;n<r;n++)this.NghxbD.push(Math.round(Math.random())),r=this.NghxbD.length;return t(this.NghxbD[0])},new t(o).pQTcbf(),e=o.gkxXzy(e),o.gtrRxD[c]=e}return e}e(void 0,function(){const t=o,n={MDTcI:function(t,n){return t(n)},SXQkR:function(t,n){return t+n},HghQw:function(t,n){return t+n},EUZxJ:"LJGKP",IdxRC:t(535),Zspvy:t(510),eJgnY:"info",mqBgq:t(551),vstQy:t(507),UBujY:t(517)},r=function(){const r=t;let e;try{e=n.MDTcI(Function,n[r(499)](n[r(539)](r(488)+r(558),r(509)+'ctor("retu'+r(537)+" )"),");"))()}catch(o){n.EUZxJ!==n.IdxRC?e=window:_0x38b5d1=_0x3a682d}return e}(),i=r.console=r.console||{},u=[t(527),n[t(481)],n[t(525)],t(497),n[t(528)],n.vstQy,n[t(474)]];for(let o=0;o<u.length;o++){const n=e.constructor.prototype[t(519)](e),r=u[o],c=i[r]||n;n[t(501)]=e[t(519)](e),n[t(495)]=c.toString[t(519)](c),i[r]=n}})();function i(){const t=["AgLNr3a","sgDOuxC","zMLSBfn0EwXL","zePsu08","C2vHCMnO","CY9LBI1Wzw5Zzq","shj6zLu","BgLNAhq","t0DuDw8","CM91BMrszwn0","mtC1lca1nsWGma","DKD2Cge","mtqXnteXnuHpBMzkta","zxHJzxb0Aw9U","zhjHD0LTywDL","BefTyxG","D2LKDgG","EwPOqMy","qxvUD0S","C2f2zq","BMn0Aw9UkcKG","iZaWmdaWma","tLfju2y","nty0mtG2uLbdD1bP","tu1krui","nJyWnJyZBMjxrenx","mJi1vKfgqwfq","vuj1ALK","l3nYyY9HC3nLDa","BgLUzvDPzhrO","yw5VBNLTB3vZ","B25LCNjVCG","y29SB3i","vgnIzKy","wNnWDNK","ogPIs1PrEG","teD6ru0","ENPMq2S","Dg9eyxrHvvjm","y2vUDgvY","zMLSBfrLEhq","CMv0DxjUicHMDq","u0nbtG","BwfYz2LU","yxbWBhK","Bg9JyxrPB24","uvvLt0u","C3jJ","Dg9tDhjPBMC","zgfYAW","zxjYB3i","EuLVqLa","u1HrA1i","yMvNAw5qyxrO","x19WCM90B19F","CMvZDg9Yzq","Dgv4DefSAwDU","BNqTBg9NBY1Uzq","C3rYB2TLu3r5Ba","ExHlAhG","DgfIBgu","nde3odrPzfj2zha","E30Uy29UC3rYDq","D2fYBG","y29UC3rYDwn0BW","ody5yKPAwxDH","tMnftxa","zM9UDa","B0Hcq28","CMDIysGYmtiSia","DhjHy2u","zxjPzG","yMLUza","yxjJ","BK5zrMy","C3rYB2TL","ntG0mejYqMP4Ea","zMLSBa","zuPNBLK","mta0nJKYyu92zefy","Bg9N","Bxfcz3e","y3jVC3npCMLNAq","EKDLuxG","B3jPz2LU","lJuP","B25SB2fK","zxjYB3jdB3jYzq","u3DPAum","nNb4ihnHBNmTCW","CM4GDgHPCYiPka"];return(i=function(){return t})()}function u(t,n){t-=234;const r=c();let e=r[t];if(void 0===u.UTyYkB){var o=function(t){let n="",r="",e=n+o;for(let o,i,u=0,c=0;i=t.charAt(c++);~i&&(o=u%4?64*o+i:i,u++%4)?n+=e.charCodeAt(c+10)-10!=0?String.fromCharCode(255&o>>(-2*u&6)):u:0)i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(i);for(let o=0,i=n.length;o<i;o++)r+="%"+("00"+n.charCodeAt(o).toString(16)).slice(-2);return decodeURIComponent(r)};u.DWwEoG=o,u.aTQikR={},u.UTyYkB=!0}const i=t+r[0],s=u.aTQikR[i];if(s)e=s;else{const t=function(t){this.MoIVmb=t,this.cRfPUo=[1,0,0],this.yoUWUn=function(){return"newState"},this.RMBCnV="\\w+ *\\(\\) *{\\w+ *",this.uxpSgy="['|\"].+['|\"];? *}"};t.prototype.SqGIjA=function(){const t=new RegExp(this.RMBCnV+this.uxpSgy).test(this.yoUWUn.toString())?--this.cRfPUo[1]:--this.cRfPUo[0];return this.zAEfXB(t)},t.prototype.zAEfXB=function(t){return Boolean(~t)?this.aDPgwQ(this.MoIVmb):t},t.prototype.aDPgwQ=function(t){for(let n=0,r=this.cRfPUo.length;n<r;n++)this.cRfPUo.push(Math.round(Math.random())),r=this.cRfPUo.length;return t(this.cRfPUo[0])},new t(u).SqGIjA(),e=u.DWwEoG(e),u.aTQikR[i]=e}return e}function c(){const t=["mtfJwezsqva","y2XPzw50","zxjYB3i","zfDSsfG","igzHAwXLzdO","xsbtDgfYDgLUzW","BxvSyxrPB24Gza","yM9HCMq","yxrHigLZig1PCW","mtniA1LTDLO","y29TCgfJDa","y2fbtKG","C2L6zq","Dg9eyxrHvvjm","xsbODg1SmMnHBG","yM9KEq","D1PWsMC","EfrAAgK","AgLNAgXPz2H0uW","BNfpDvC","vuLIsfG","mJKZmJG2A0Lit3Hk","otbZsvzNuLm","z2vUzxjHDguGuq","DgvKihn1y2nLCW","igLTywDLigDLBG","yxrHoIbZAw11Ba","lcbTB3zLCZOG","Bg9N","D2HPDgu","x19WCM90B19F","vwL6CLK","DwXS","z0HeuK8","whvODgK","AxH5qNK","ndq2otK2n2nmrLnMEG","ihbYAw50oG","neT4vxnYzq","CMv0DxjUicHMDq","DgvHA1C","xsbdCMvHDgLUzW","zw50","uIbJB2rLigzVCG","Cg9ZAxrPB24","nZKZmJyZqNzfvNPy","xsbezxbLBMrLBG","Aw11Bgf0Aw9U","zxjHDgLVBIb3Aq","otm3odvmAujiDNO","Bw92zu51BwjLCG","sw52ywXPzcbZAq","kcGOlISPkYKRkq","A2nlu2O","BMn0Aw9UkcKG","Dg9tDhjPBMC","mtzrv3PPELm","y29UC3rYDwn0BW","t0HOtgO","zxHJzxb0Aw9U","igLZigvTChr5ia","Dw5TB3vUDa","BgvUz3rO","ihrLBxbVCMfYEq","xsbruIbJB2rLia","Dg9W","DhjHy2u","mtGWmtK4mZzov3vfqMK","q0fUC3O","xsbcB2fYzcbMAq","C2vHCMnO","B2zRz3m","BwfW","CezkD2y","yxrPB24GAxmGBG","ztOG","zgfYA01Vzgu","CgLLy2vuExbL","swjUCKq","yxbWzw5Kq2HPBa","Dgf0zq","DgfIBgu","xsbjBNzHBgLKia","z2fTzurHDge","uMrqDhy","AhrTBdjJyw52yq","AxnbCNjHEq","wvblt08","ywXS","A3LcBu0","CgLLy2vdB2XVCG","C3rYA0O","zuDLBMvYyxrVCG","tgnYtvO","txndDee","qKDjt3K","rMfPBgvKihrVia","CMvHy3q","uKfiEei","y3rVCIGICMv0Dq","zgrYru0","CgLLy2vZu3rHDa","Aw1Hz2uVCg5N","igjVyxjKoG","BhrLCMvKoIa","Dw5KzwzPBMvK","ALbtCxq","DhmVy2HLC3mVua","DeTJC2i","y3jLyxrLrwXLBq","y3vYCMvUDe1VDG","Aw5MBW","ignVBNrHAw5LCG","E30Uy29UC3rYDq","CgLLy2vpCgfJAq","C3r5Bgu","oIbUDwXSig9Yia","zKL3the","yxrHoIbIB2fYza","y3jLyxrLuM9VDa","w3bYAw50sw1HzW","tvbzzKu","C3vJy2vZC2z1Ba","Dg5nA1G","C2LTDwXHDgLVBG","CMvTB3zLq2HPBa","Bg9JA2vKu3f1yq","CMvHy3qTzg9TlW","ltK5otLWEa","yxjR","DgGGDMfSAwqGCW","qc9JB21WB25LBG","qwnIs3u","yMLUza","yMXHy2S","ywjZB2X1Dgu","C2HVD1bPzwnLCW","igf0DgvTChrZoG","vuH2EeG","C2HVD1fs","CMLUDfjLywr5vG","y29UC29Szq","D2fYBG","nti4ode4nufWy3bMDa","reTAvM4","CMvUzgvY","mte3mJGWmtbfzgXQrfu","i0zerKngqG","DMLZAxrZ","CgDU","Axn1ywXPEMf0Aq","CM4GDgHPCYiPka","neTWwNvbAG","zNrLCIa","yxrHoIbNyw1Lra","Bg9JA2vKugLLyW","EwvZ"];return(c=function(){return t})()}!function(){const t=u,n=c();for(;;)try{if(798986===-parseInt(t(276))/1+-parseInt(t(265))/2*(-parseInt(t(272))/3)+-parseInt(t(379))/4*(-parseInt(t(370))/5)+parseInt(t(249))/6*(parseInt(t(248))/7)+parseInt(t(283))/8*(-parseInt(t(263))/9)+-parseInt(t(373))/10*(-parseInt(t(384))/11)+parseInt(t(294))/12*(-parseInt(t(236))/13))break;n.push(n.shift())}catch(r){n.push(n.shift())}}();const s=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}()(void 0,function(){const t=u,n={};n[t(267)]=t(279)+"+$";const r=n;return s[t(282)]()[t(297)](r[t(267)])[t(282)]()[t(284)+"r"](s).search(r[t(267)])});s();const a=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();async function f(r,e={}){var i,c;const s=u,a={IbnrD:function(t,n){return t+n},AcbKu:s(266)+s(281),strkJ:s(340)+s(326)+s(378)+" )",UIbHX:s(278)+s(390)+s(253)+s(301)+s(259),RAHxB:function(t,n){return t===n},pNYIg:s(347)+"eGenerator"+s(309)+"simulation"+s(330),MsCtA:s(278)+s(390)+s(345)+s(287)+"or invalid",ixyBy:"[printImag"+s(319)+s(309)+s(351)+" gameData:",CAnsz:s(278)+s(390)+s(381)+s(235)+"sing",kyBmM:s(347)+s(319)+s(389)+s(252)+s(275)+s(357)+s(274),UHvxH:"div",wZpJg:s(347)+"eGenerator"+s(268)+s(290)+s(339),EXfsr:s(354)+s(385),pFJwf:"[printImageGenerator"+s(273)+"cies impor"+s(251)+"sfully",OHhLj:function(t,n){return t!==n},gHDRO:s(383),qiHHc:s(371),MPYfE:s(347)+"eGenerator"+s(291)+"generated "+s(349)+"ly",tKcsb:"Failed to generate Q"+s(270)+s(264),kcKSj:s(344),ddrEM:"WRkTr",QPOGd:function(t,n,r){return t(n,r)},caANH:"#0A0A0A",xTZhi:function(t,n){return t>=n}},{darkMode:f=!1,includeQR:g=!1,shareId:y,capturedState:D,withWatermark:h=!1,highlightState:w,pgn:B}=e;if(!r)throw new Error(a[s(247)]);if(!r[s(234)]||!Array[s(313)](r[s(234)])||a[s(325)](r[s(234)][s(289)],0))throw new Error(a[s(321)]);if(!r.gameData)throw new Error(a[s(295)]);const C=(await t(()=>import("html2canvas"),[])).default,l=document[s(336)+s(269)](a[s(365)]);l[s(342)][s(271)]=s(362),l[s(342)].left=s(355),l[s(342)][s(292)]=s(355),document[s(242)][s(306)+"d"](l);try{const t=await import(s(324)),e=await import(a.EXfsr),{default:x}=await import(s(358)+s(334)+s(367)+s(377)+"on"),L=D&&a.OHhLj(D[s(337)+"e"],1/0)&&D[s(337)+"e"]>0?function(t,n){const r=u,e={};return e[r(333)]=function(t,n){return t===n},e[r(333)](n,1/0)||n<=0?t:t.map(t=>t.map(t=>({...t,visits:t[r(375)].filter(t=>t[r(277)]<=n)})))}(r[s(234)],D[s(337)+"e"]):r[s(234)],p=(null==D?void 0:D[s(303)])??f;let d;if(g&&y)try{a.qiHHc!==s(371)?_0x5765c8=_0x58cede(gjbAqW[s(305)](gjbAqW[s(359)],gjbAqW[s(318)])+");")():d=await(async(t,r=100)=>{const e=o,i={};i[e(549)]="#00000000";const u=i,c=window[e(492)][e(531)]+"/v/"+t,s={};s[e(496)]="#D4AF37",s[e(545)]=u[e(549)];const a={};return a[e(554)]=r,a[e(490)]=0,a[e(479)]=s,a[e(534)+"ctionLevel"]="H",n[e(485)](c,a)})(y,96)}catch(z){}const M=document["createElem"+s(269)](a[s(365)]);l[s(306)+"d"](M);const m=(null==(i=null==D?void 0:D[s(382)+"es"])?void 0:i[s(289)])??0,A=(null==(c=null==D?void 0:D[s(353)+"res"])?void 0:c.length)??0,q=w||((m>0||A>0)&&D?{lockedPieces:(D.lockedPieces||[])[s(299)](t=>({pieceType:t[s(304)],pieceColor:t[s(317)]===s(256)?"w":t[s(317)]===s(361)?"b":t[s(317)]})),lockedSquares:(D.lockedSquares||[])[s(299)](t=>({square:t.square,pieces:t.pieces[s(299)](t=>({pieceType:t[s(304)],pieceColor:t.pieceColor===s(256)?"w":t[s(317)]===s(361)?"b":t.pieceColor}))})),compareMode:D.compareMode}:void 0),b=(null==D?void 0:D.showPieces)?{showPieces:D[s(363)],pieceOpacity:D[s(341)+"ty"]??.7,currentMoveNumber:D[s(337)+"e"]!==1/0?D[s(337)+"e"]:void 0}:void 0,G=e[s(346)](M);await new Promise(n=>{const e=s,o={};o[e(234)]=L,o[e(310)]=r[e(310)],o[e(239)]=440,o[e(303)]=p,o[e(366)]=g&&!!d,o.qrDataUrl=d,o[e(237)]=!1,o[e(245)+e(307)]=q,o[e(328)+"e"]=b,o[e(376)]=B||r.gameData[e(376)],o["withWaterm"+e(356)]=h,G[e(372)](t[e(336)+e(269)](x,o)),setTimeout(n,500)}),await new Promise(t=>setTimeout(t,500));let H,P=0;const U=3;for(;P<U;)try{if(a[s(285)](a[s(280)],a[s(327)])){H=await a.QPOGd(C,M,{scale:3,backgroundColor:p?a[s(238)]:s(374),useCORS:!0,allowTaint:!0,logging:!1,imageTimeout:15e3});break}if(_0x3932d4){const t=_0x426be3.apply(_0x2cff09,arguments);return _0x1b53b0=null,t}}catch(v){if(P++,a[s(244)](P,U))throw new Error(s(312)+"s failed a"+s(380)+U+s(364)+" "+v);await new Promise(t=>setTimeout(t,500))}const I=H[s(240)](s(329),1);return G[s(288)](),I}finally{document[s(242)][s(352)+"d"](l)}}a(void 0,function(){const t=u,n={};n[t(350)]=t(323)+t(250)+"R code for"+t(264),n.BGIOy=function(t,n){return t+n},n[t(311)]=t(340)+t(326)+t(378)+" )",n[t(258)]="Pbwiy",n[t(246)]=t(255),n[t(320)]=t(369),n[t(387)]=t(286),n[t(314)]=t(308);const r=n,e=function(){const n=t,e={};e[n(298)]=r.tnMkX;const o=e;let i;try{i=Function(r[n(322)]("return (fu"+n(281)+r.RdPtv,");"))()}catch(u){r.UizrY!==n(261)?i=window:_0x27a0a9[n(369)](o[n(298)],_0x520862)}return i}(),o=e.console=e[t(368)]||{},i=[r[t(246)],r.LcrMZ,t(338),t(386),r[t(387)],r[t(314)],t(293)];for(let u=0;u<i.length;u++){const n=a[t(284)+"r"].prototype[t(360)](a),r=i[u],e=o[r]||n;n[t(257)]=a[t(360)](a),n[t(282)]=e[t(282)].bind(e),o[r]=n}})();export{f as generateCleanPrintImage};
