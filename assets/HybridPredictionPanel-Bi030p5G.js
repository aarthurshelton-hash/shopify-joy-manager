const e='/**\n * Hybrid Prediction Panel\n * \n * En Pensent™ Patent-Pending Technology\n * \n * Side-by-side display of:\n * - Stockfish tactical analysis\n * - Color Flow strategic trajectories\n * - Pattern matching predictions (80-move lookahead)\n */\n\nimport React, { useState } from \'react\';\nimport { motion, AnimatePresence } from \'framer-motion\';\nimport { Button } from \'@/components/ui/button\';\nimport { Badge } from \'@/components/ui/badge\';\nimport { Progress } from \'@/components/ui/progress\';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \'@/components/ui/tabs\';\nimport { ScrollArea } from \'@/components/ui/scroll-area\';\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \'@/components/ui/tooltip\';\nimport {\n  Brain,\n  Cpu,\n  Palette,\n  TrendingUp,\n  Zap,\n  Target,\n  Loader2,\n  Sparkles,\n  AlertTriangle,\n  ChevronRight,\n  Layers,\n  Compass,\n  Activity,\n  Eye,\n  Clock,\n  CheckCircle2,\n  XCircle,\n  Minus,\n} from \'lucide-react\';\nimport { useHybridPrediction } from \'@/hooks/useHybridPrediction\';\nimport { HybridPrediction, TrajectoryMilestone } from \'@/lib/chess/hybridPrediction\';\nimport { PatternPrediction, PatternMatch } from \'@/lib/chess/patternLearning\';\nimport { ColorFlowSignature, StrategicArchetype, ARCHETYPE_DEFINITIONS } from \'@/lib/chess/colorFlowAnalysis\';\n\ninterface HybridPredictionPanelProps {\n  pgn: string;\n  compact?: boolean;\n}\n\nexport const HybridPredictionPanel: React.FC<HybridPredictionPanelProps> = ({\n  pgn,\n  compact = false,\n}) => {\n  const { \n    isAnalyzing, \n    progress, \n    error, \n    result, \n    analyzeGame, \n    clearResults \n  } = useHybridPrediction();\n\n  const [activeTab, setActiveTab] = useState<\'fusion\' | \'tactical\' | \'strategic\' | \'patterns\'>(\'fusion\');\n\n  const handleAnalyze = () => {\n    clearResults();\n    analyzeGame(pgn, { depth: 20 });\n  };\n\n  if (compact) {\n    return <CompactView \n      pgn={pgn}\n      isAnalyzing={isAnalyzing}\n      result={result}\n      onAnalyze={handleAnalyze}\n    />;\n  }\n\n  return (\n    <div className="space-y-4">\n      {/* Header */}\n      <div className="flex items-center justify-between">\n        <div className="flex items-center gap-3">\n          <div className="relative">\n            <Brain className="h-6 w-6 text-primary" />\n            <Sparkles className="h-3 w-3 text-amber-500 absolute -top-1 -right-1" />\n          </div>\n          <div>\n            <h3 className="font-display text-sm uppercase tracking-wider">\n              Hybrid Prediction Engine\n            </h3>\n            <p className="text-xs text-muted-foreground">\n              Stockfish + Color Flow Fusion\n            </p>\n          </div>\n        </div>\n        \n        <Button\n          onClick={handleAnalyze}\n          disabled={isAnalyzing || !pgn}\n          className="bg-gradient-to-r from-primary to-purple-600 hover:from-primary/90 hover:to-purple-600/90"\n        >\n          {isAnalyzing ? (\n            <>\n              <Loader2 className="h-4 w-4 animate-spin mr-2" />\n              Analyzing...\n            </>\n          ) : (\n            <>\n              <Zap className="h-4 w-4 mr-2" />\n              Generate Prediction\n            </>\n          )}\n        </Button>\n      </div>\n\n      {/* Progress */}\n      <AnimatePresence>\n        {isAnalyzing && progress && (\n          <motion.div\n            initial={{ opacity: 0, height: 0 }}\n            animate={{ opacity: 1, height: \'auto\' }}\n            exit={{ opacity: 0, height: 0 }}\n            className="p-4 rounded-lg bg-gradient-to-br from-primary/10 to-purple-500/10 border border-primary/30"\n          >\n            <div className="flex items-center justify-between mb-2">\n              <div className="flex items-center gap-2">\n                <Loader2 className="h-4 w-4 animate-spin text-primary" />\n                <span className="text-sm font-medium">{progress.stage}</span>\n              </div>\n              <span className="text-sm font-mono text-primary">{progress.percent.toFixed(0)}%</span>\n            </div>\n            <Progress value={progress.percent} className="h-2" />\n            {progress.details && (\n              <p className="text-xs text-muted-foreground mt-2">{progress.details}</p>\n            )}\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Error */}\n      {error && (\n        <div className="p-4 rounded-lg bg-destructive/10 border border-destructive/30 flex items-center gap-3">\n          <AlertTriangle className="h-5 w-5 text-destructive" />\n          <span className="text-sm text-destructive">{error}</span>\n        </div>\n      )}\n\n      {/* Results */}\n      {result.hybridPrediction && (\n        <Tabs value={activeTab} onValueChange={(v) => setActiveTab(v as typeof activeTab)}>\n          <TabsList className="grid w-full grid-cols-4 mb-4">\n            <TabsTrigger value="fusion" className="flex items-center gap-1">\n              <Layers className="h-3 w-3" />\n              <span className="hidden sm:inline">Fusion</span>\n            </TabsTrigger>\n            <TabsTrigger value="tactical" className="flex items-center gap-1">\n              <Cpu className="h-3 w-3" />\n              <span className="hidden sm:inline">Tactical</span>\n            </TabsTrigger>\n            <TabsTrigger value="strategic" className="flex items-center gap-1">\n              <Palette className="h-3 w-3" />\n              <span className="hidden sm:inline">Strategic</span>\n            </TabsTrigger>\n            <TabsTrigger value="patterns" className="flex items-center gap-1">\n              <Compass className="h-3 w-3" />\n              <span className="hidden sm:inline">80-Move</span>\n            </TabsTrigger>\n          </TabsList>\n\n          <TabsContent value="fusion">\n            <FusionView \n              prediction={result.hybridPrediction} \n              colorSignature={result.colorFlowSignature}\n            />\n          </TabsContent>\n\n          <TabsContent value="tactical">\n            <TacticalView prediction={result.hybridPrediction} />\n          </TabsContent>\n\n          <TabsContent value="strategic">\n            <StrategicView \n              prediction={result.hybridPrediction}\n              colorSignature={result.colorFlowSignature}\n            />\n          </TabsContent>\n\n          <TabsContent value="patterns">\n            <PatternView patternPrediction={result.patternPrediction} />\n          </TabsContent>\n        </Tabs>\n      )}\n\n      {/* Empty State */}\n      {!isAnalyzing && !result.hybridPrediction && !error && (\n        <div className="p-8 rounded-lg border border-dashed border-border/50 text-center bg-card/30">\n          <div className="relative inline-block mb-4">\n            <Brain className="h-12 w-12 text-muted-foreground/30" />\n            <div className="absolute -right-2 -top-2 flex">\n              <Cpu className="h-5 w-5 text-blue-500/50" />\n              <Palette className="h-5 w-5 text-purple-500/50 -ml-1" />\n            </div>\n          </div>\n          <h4 className="font-medium mb-2">Hybrid Prediction Engine</h4>\n          <p className="text-sm text-muted-foreground max-w-md mx-auto">\n            Combines Stockfish\'s 30-move tactical depth with Color Flow\'s \n            80-move strategic trajectory prediction for unprecedented game insight.\n          </p>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// ==================== SUB-COMPONENTS ====================\n\nconst CompactView: React.FC<{\n  pgn: string;\n  isAnalyzing: boolean;\n  result: ReturnType<typeof useHybridPrediction>[\'result\'];\n  onAnalyze: () => void;\n}> = ({ pgn, isAnalyzing, result, onAnalyze }) => (\n  <div className="p-3 rounded-lg border border-border/50 bg-card/50 space-y-2">\n    <div className="flex items-center justify-between">\n      <div className="flex items-center gap-2">\n        <Brain className="h-4 w-4 text-primary" />\n        <span className="text-sm font-medium">Hybrid Engine</span>\n        <Badge variant="outline" className="text-[10px]">\n          Stockfish + Color Flow\n        </Badge>\n      </div>\n      <Button\n        size="sm"\n        variant="outline"\n        onClick={onAnalyze}\n        disabled={isAnalyzing || !pgn}\n        className="h-7 text-xs"\n      >\n        {isAnalyzing ? <Loader2 className="h-3 w-3 animate-spin" /> : \'Analyze\'}\n      </Button>\n    </div>\n    \n    {result.hybridPrediction && (\n      <div className="grid grid-cols-2 gap-2 text-xs">\n        <div className="p-2 rounded bg-blue-500/10 border border-blue-500/20">\n          <span className="text-muted-foreground">Tactical:</span>\n          <span className="ml-1 font-mono font-bold text-blue-500">\n            {result.hybridPrediction.fusedRecommendation.move}\n          </span>\n        </div>\n        <div className="p-2 rounded bg-purple-500/10 border border-purple-500/20">\n          <span className="text-muted-foreground">Strategic:</span>\n          <span className="ml-1 font-medium text-purple-500 capitalize">\n            {result.hybridPrediction.strategicAnalysis.archetype.replace(\'_\', \' \')}\n          </span>\n        </div>\n      </div>\n    )}\n  </div>\n);\n\nconst FusionView: React.FC<{\n  prediction: HybridPrediction;\n  colorSignature: ColorFlowSignature | null;\n}> = ({ prediction, colorSignature }) => (\n  <div className="space-y-4">\n    {/* Combined Score */}\n    <div className="p-4 rounded-lg bg-gradient-to-br from-primary/10 via-purple-500/10 to-amber-500/10 border border-primary/30">\n      <div className="flex items-center justify-between mb-3">\n        <Badge className="bg-gradient-to-r from-primary to-purple-600 text-white">\n          <Layers className="h-3 w-3 mr-1" />\n          Fused Recommendation\n        </Badge>\n        <div className="text-right">\n          <div className="text-2xl font-bold text-primary">\n            {prediction.fusedRecommendation.moveConfidence.toFixed(0)}%\n          </div>\n          <div className="text-xs text-muted-foreground">Confidence</div>\n        </div>\n      </div>\n\n      <div className="text-3xl font-display font-bold text-primary mb-3">\n        {prediction.fusedRecommendation.move}\n      </div>\n\n      <div className="space-y-2 mb-4">\n        {prediction.fusedRecommendation.reasoning.map((reason, i) => (\n          <div key={i} className="flex items-start gap-2 text-sm">\n            <ChevronRight className="h-4 w-4 text-primary shrink-0 mt-0.5" />\n            <span>{reason}</span>\n          </div>\n        ))}\n      </div>\n\n      <div className="grid grid-cols-2 gap-3 pt-3 border-t border-border/30">\n        <div className="p-2 rounded bg-background/50">\n          <div className="text-xs text-muted-foreground mb-1">Trajectory Alignment</div>\n          <p className="text-sm">{prediction.fusedRecommendation.trajectoryAlignment}</p>\n        </div>\n        <div className="p-2 rounded bg-background/50">\n          <div className="text-xs text-muted-foreground mb-1">Trade-off</div>\n          <p className="text-sm">{prediction.fusedRecommendation.tradeoffAnalysis}</p>\n        </div>\n      </div>\n    </div>\n\n    {/* Confidence Breakdown */}\n    <div className="grid grid-cols-4 gap-2">\n      <ConfidenceMetric \n        label="Overall" \n        value={prediction.confidence.overall} \n        icon={<Brain className="h-3 w-3" />}\n      />\n      <ConfidenceMetric \n        label="Tactical" \n        value={prediction.confidence.tactical} \n        icon={<Cpu className="h-3 w-3" />}\n        color="blue"\n      />\n      <ConfidenceMetric \n        label="Strategic" \n        value={prediction.confidence.strategic} \n        icon={<Palette className="h-3 w-3" />}\n        color="purple"\n      />\n      <ConfidenceMetric \n        label="Alignment" \n        value={prediction.confidence.alignment} \n        icon={<Activity className="h-3 w-3" />}\n        color="amber"\n      />\n    </div>\n\n    {/* Trajectory Prediction */}\n    <TrajectorySection trajectory={prediction.trajectoryPrediction} />\n  </div>\n);\n\nconst TacticalView: React.FC<{ prediction: HybridPrediction }> = ({ prediction }) => (\n  <div className="space-y-4">\n    {/* Stockfish Analysis Header */}\n    <div className="flex items-center gap-2 mb-2">\n      <Cpu className="h-5 w-5 text-blue-500" />\n      <h4 className="font-medium">Stockfish 17 Analysis</h4>\n      <Badge variant="outline" className="text-[10px]">~3200 ELO</Badge>\n    </div>\n\n    {/* Best Move */}\n    <div className="p-4 rounded-lg bg-blue-500/10 border border-blue-500/30">\n      <div className="flex items-center justify-between mb-2">\n        <Badge className="bg-blue-500/20 text-blue-600">\n          <Target className="h-3 w-3 mr-1" />\n          Best Move\n        </Badge>\n        <div className="font-mono text-lg font-bold text-blue-500">\n          {prediction.tacticalAnalysis.evaluation > 0 ? \'+\' : \'\'}\n          {(prediction.tacticalAnalysis.evaluation / 100).toFixed(2)}\n        </div>\n      </div>\n\n      <div className="text-3xl font-display font-bold text-blue-500 mb-3">\n        {prediction.tacticalAnalysis.bestMove}\n      </div>\n\n      {prediction.tacticalAnalysis.mateIn && (\n        <Badge className="bg-red-500/20 text-red-600 mb-3">\n          Mate in {prediction.tacticalAnalysis.mateIn}\n        </Badge>\n      )}\n\n      {/* Principal Variation */}\n      <div className="p-3 rounded bg-background/50 mb-3">\n        <div className="text-xs text-muted-foreground mb-2">Principal Variation:</div>\n        <div className="flex flex-wrap gap-1 font-mono text-sm">\n          {prediction.tacticalAnalysis.principalVariation.slice(0, 8).map((move, i) => (\n            <span key={i} className="px-1.5 py-0.5 rounded bg-blue-500/10">\n              {move}\n            </span>\n          ))}\n          {prediction.tacticalAnalysis.principalVariation.length > 8 && (\n            <span className="text-muted-foreground">\n              +{prediction.tacticalAnalysis.principalVariation.length - 8}\n            </span>\n          )}\n        </div>\n      </div>\n    </div>\n\n    {/* Tactical Themes */}\n    {prediction.tacticalAnalysis.tacticalThemes.length > 0 && (\n      <div className="p-3 rounded-lg border border-border/50">\n        <div className="text-xs text-muted-foreground mb-2">Detected Themes:</div>\n        <div className="flex flex-wrap gap-1">\n          {prediction.tacticalAnalysis.tacticalThemes.map((theme, i) => (\n            <Badge key={i} variant="secondary" className="text-xs capitalize">\n              {theme.replace(\'_\', \' \')}\n            </Badge>\n          ))}\n        </div>\n      </div>\n    )}\n\n    {/* Immediate Threats */}\n    {prediction.tacticalAnalysis.immediateThreats.length > 0 && (\n      <div className="p-3 rounded-lg bg-amber-500/10 border border-amber-500/30">\n        <div className="flex items-center gap-2 mb-2">\n          <AlertTriangle className="h-4 w-4 text-amber-500" />\n          <span className="text-sm font-medium text-amber-600">Immediate Threats</span>\n        </div>\n        <ul className="space-y-1">\n          {prediction.tacticalAnalysis.immediateThreats.map((threat, i) => (\n            <li key={i} className="text-sm flex items-start gap-2">\n              <ChevronRight className="h-4 w-4 text-amber-500 shrink-0" />\n              {threat}\n            </li>\n          ))}\n        </ul>\n      </div>\n    )}\n  </div>\n);\n\nconst StrategicView: React.FC<{\n  prediction: HybridPrediction;\n  colorSignature: ColorFlowSignature | null;\n}> = ({ prediction, colorSignature }) => {\n  const archetype = prediction.strategicAnalysis.archetype as StrategicArchetype;\n  const archetypeDef = ARCHETYPE_DEFINITIONS[archetype];\n\n  return (\n    <div className="space-y-4">\n      {/* Color Flow Header */}\n      <div className="flex items-center gap-2 mb-2">\n        <Palette className="h-5 w-5 text-purple-500" />\n        <h4 className="font-medium">Color Flow Analysis</h4>\n        <Badge variant="outline" className="text-[10px]">\n          {colorSignature?.intensity || 0}% Intensity\n        </Badge>\n      </div>\n\n      {/* Strategic Archetype */}\n      <div className="p-4 rounded-lg bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-500/30">\n        <div className="flex items-center justify-between mb-3">\n          <Badge className="bg-purple-500/20 text-purple-600">\n            <Compass className="h-3 w-3 mr-1" />\n            Strategic Archetype\n          </Badge>\n          <Badge variant="outline" className="text-xs">\n            {archetypeDef?.lookaheadConfidence || 40}+ moves ahead\n          </Badge>\n        </div>\n\n        <h3 className="text-xl font-display font-bold text-purple-500 mb-2 capitalize">\n          {prediction.strategicAnalysis.archetypeName}\n        </h3>\n\n        <p className="text-sm text-muted-foreground mb-4">\n          {archetypeDef?.description || \'Game pattern detected from color flow analysis.\'}\n        </p>\n\n        <div className="grid grid-cols-2 gap-3">\n          <div className="p-2 rounded bg-background/50">\n            <div className="text-xs text-muted-foreground">Flow Direction</div>\n            <div className="font-medium capitalize">\n              {prediction.strategicAnalysis.flowDirection}\n            </div>\n          </div>\n          <div className="p-2 rounded bg-background/50">\n            <div className="text-xs text-muted-foreground">Dominant Side</div>\n            <div className="font-medium capitalize">\n              {prediction.strategicAnalysis.dominantSide}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Quadrant Profile */}\n      {colorSignature && (\n        <div className="p-3 rounded-lg border border-border/50">\n          <div className="text-xs text-muted-foreground mb-3">Territory Control by Quadrant:</div>\n          <div className="grid grid-cols-2 gap-2">\n            <QuadrantBar label="Kingside ♔" value={colorSignature.quadrantProfile.kingsideWhite} />\n            <QuadrantBar label="Kingside ♚" value={colorSignature.quadrantProfile.kingsideBlack} />\n            <QuadrantBar label="Queenside ♔" value={colorSignature.quadrantProfile.queensideWhite} />\n            <QuadrantBar label="Queenside ♚" value={colorSignature.quadrantProfile.queensideBlack} />\n          </div>\n          <div className="mt-2 pt-2 border-t border-border/30">\n            <QuadrantBar label="Center Control" value={colorSignature.quadrantProfile.center} />\n          </div>\n        </div>\n      )}\n\n      {/* Strategic Guidance */}\n      <div className="p-3 rounded-lg bg-purple-500/5 border border-purple-500/20">\n        <div className="text-xs text-muted-foreground mb-2">Strategic Guidance:</div>\n        <ul className="space-y-2">\n          {prediction.strategicAnalysis.strategicGuidance.map((guide, i) => (\n            <li key={i} className="flex items-start gap-2 text-sm">\n              <Sparkles className="h-4 w-4 text-purple-500 shrink-0 mt-0.5" />\n              {guide}\n            </li>\n          ))}\n        </ul>\n      </div>\n\n      {/* Critical Squares */}\n      <div className="p-3 rounded-lg border border-border/50">\n        <div className="text-xs text-muted-foreground mb-2">Critical Squares:</div>\n        <div className="flex flex-wrap gap-1">\n          {prediction.strategicAnalysis.criticalSquares.map((sq, i) => (\n            <Badge key={i} variant="outline" className="font-mono text-xs">\n              {sq}\n            </Badge>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst PatternView: React.FC<{ patternPrediction: PatternPrediction | null }> = ({ patternPrediction }) => {\n  if (!patternPrediction) {\n    return (\n      <div className="p-6 rounded-lg border border-dashed border-border/50 text-center">\n        <Compass className="h-8 w-8 mx-auto text-muted-foreground/30 mb-2" />\n        <p className="text-sm text-muted-foreground">\n          Pattern prediction not available\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <div className="space-y-4">\n      {/* 80-Move Lookahead Header */}\n      <div className="flex items-center gap-2 mb-2">\n        <Clock className="h-5 w-5 text-amber-500" />\n        <h4 className="font-medium">Pattern-Based Trajectory</h4>\n        <Badge className="bg-amber-500/20 text-amber-600">\n          {patternPrediction.lookaheadMoves}+ Moves Ahead\n        </Badge>\n      </div>\n\n      {/* Aggregate Prediction */}\n      <div className="p-4 rounded-lg bg-gradient-to-br from-amber-500/10 to-orange-500/10 border border-amber-500/30">\n        <div className="flex items-center justify-between mb-4">\n          <Badge className="bg-amber-500/20 text-amber-600">\n            <Eye className="h-3 w-3 mr-1" />\n            Predicted Outcome\n          </Badge>\n          <span className="text-sm font-mono">{patternPrediction.confidence}% confidence</span>\n        </div>\n\n        <div className="flex items-center justify-center gap-4 mb-4">\n          <OutcomeIndicator \n            label="White Wins" \n            probability={patternPrediction.aggregatePrediction.whiteWinProbability}\n            isActive={patternPrediction.mostLikelyOutcome === \'white_wins\'}\n            icon={<CheckCircle2 className="h-4 w-4" />}\n          />\n          <OutcomeIndicator \n            label="Draw" \n            probability={patternPrediction.aggregatePrediction.drawProbability}\n            isActive={patternPrediction.mostLikelyOutcome === \'draw\'}\n            icon={<Minus className="h-4 w-4" />}\n          />\n          <OutcomeIndicator \n            label="Black Wins" \n            probability={patternPrediction.aggregatePrediction.blackWinProbability}\n            isActive={patternPrediction.mostLikelyOutcome === \'black_wins\'}\n            icon={<XCircle className="h-4 w-4" />}\n          />\n        </div>\n\n        {/* Probability Bars */}\n        <div className="space-y-2">\n          <ProbabilityBar \n            label="♔ White" \n            value={patternPrediction.aggregatePrediction.whiteWinProbability} \n            color="text-white bg-slate-200"\n          />\n          <ProbabilityBar \n            label="½ Draw" \n            value={patternPrediction.aggregatePrediction.drawProbability} \n            color="text-gray-600 bg-gray-400"\n          />\n          <ProbabilityBar \n            label="♚ Black" \n            value={patternPrediction.aggregatePrediction.blackWinProbability} \n            color="text-black bg-slate-800"\n          />\n        </div>\n      </div>\n\n      {/* Pattern Insights */}\n      {patternPrediction.insights.length > 0 && (\n        <div className="p-3 rounded-lg bg-amber-500/5 border border-amber-500/20">\n          <div className="text-xs text-muted-foreground mb-2">Pattern Insights:</div>\n          <ul className="space-y-2">\n            {patternPrediction.insights.map((insight, i) => (\n              <li key={i} className="flex items-start gap-2 text-sm">\n                <TrendingUp className="h-4 w-4 text-amber-500 shrink-0 mt-0.5" />\n                {insight}\n              </li>\n            ))}\n          </ul>\n        </div>\n      )}\n\n      {/* Top Pattern Matches */}\n      {patternPrediction.topMatches.length > 0 && (\n        <div className="p-3 rounded-lg border border-border/50">\n          <div className="text-xs text-muted-foreground mb-2">\n            Similar Historical Patterns ({patternPrediction.topMatches.length}):\n          </div>\n          <ScrollArea className="h-40">\n            <div className="space-y-2 pr-4">\n              {patternPrediction.topMatches.slice(0, 5).map((match, i) => (\n                <PatternMatchCard key={i} match={match} rank={i + 1} />\n              ))}\n            </div>\n          </ScrollArea>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// ==================== UTILITY COMPONENTS ====================\n\nconst ConfidenceMetric: React.FC<{\n  label: string;\n  value: number;\n  icon: React.ReactNode;\n  color?: \'blue\' | \'purple\' | \'amber\' | \'primary\';\n}> = ({ label, value, icon, color = \'primary\' }) => {\n  const colorClasses = {\n    primary: \'text-primary border-primary/30 bg-primary/5\',\n    blue: \'text-blue-500 border-blue-500/30 bg-blue-500/5\',\n    purple: \'text-purple-500 border-purple-500/30 bg-purple-500/5\',\n    amber: \'text-amber-500 border-amber-500/30 bg-amber-500/5\',\n  };\n\n  return (\n    <div className={`p-2 rounded-lg border ${colorClasses[color]} text-center`}>\n      <div className="flex items-center justify-center gap-1 mb-1">\n        {icon}\n        <span className="text-[10px] uppercase tracking-wide">{label}</span>\n      </div>\n      <div className="text-lg font-bold">{value.toFixed(0)}%</div>\n    </div>\n  );\n};\n\nconst TrajectorySection: React.FC<{ \n  trajectory: HybridPrediction[\'trajectoryPrediction\'] \n}> = ({ trajectory }) => (\n  <div className="p-4 rounded-lg border border-border/50 bg-card/50">\n    <div className="flex items-center justify-between mb-3">\n      <div className="flex items-center gap-2">\n        <TrendingUp className="h-4 w-4 text-primary" />\n        <span className="text-sm font-medium">Game Trajectory</span>\n      </div>\n      <Badge variant="outline" className="text-xs">\n        {trajectory.horizonMoves} moves ahead\n      </Badge>\n    </div>\n\n    {/* Outcome Probabilities */}\n    <div className="grid grid-cols-3 gap-2 mb-4">\n      <div className="p-2 rounded bg-green-500/10 text-center">\n        <div className="text-xs text-muted-foreground">♔ White</div>\n        <div className="font-bold text-green-600">\n          {(trajectory.outcomeProbabilities.whiteWin * 100).toFixed(0)}%\n        </div>\n      </div>\n      <div className="p-2 rounded bg-gray-500/10 text-center">\n        <div className="text-xs text-muted-foreground">Draw</div>\n        <div className="font-bold text-gray-600">\n          {(trajectory.outcomeProbabilities.draw * 100).toFixed(0)}%\n        </div>\n      </div>\n      <div className="p-2 rounded bg-slate-500/10 text-center">\n        <div className="text-xs text-muted-foreground">♚ Black</div>\n        <div className="font-bold text-slate-600">\n          {(trajectory.outcomeProbabilities.blackWin * 100).toFixed(0)}%\n        </div>\n      </div>\n    </div>\n\n    {/* Expected Milestones */}\n    {trajectory.expectedMilestones.length > 0 && (\n      <div className="space-y-2">\n        <div className="text-xs text-muted-foreground">Expected Milestones:</div>\n        {trajectory.expectedMilestones.slice(0, 3).map((milestone, i) => (\n          <MilestoneItem key={i} milestone={milestone} />\n        ))}\n      </div>\n    )}\n\n    {/* Trajectory Breakers */}\n    {trajectory.trajectoryBreakers.length > 0 && (\n      <div className="mt-3 pt-3 border-t border-border/30">\n        <div className="text-xs text-muted-foreground mb-2">What could change this:</div>\n        <div className="flex flex-wrap gap-1">\n          {trajectory.trajectoryBreakers.map((breaker, i) => (\n            <Badge key={i} variant="secondary" className="text-xs">\n              {breaker}\n            </Badge>\n          ))}\n        </div>\n      </div>\n    )}\n  </div>\n);\n\nconst MilestoneItem: React.FC<{ milestone: TrajectoryMilestone }> = ({ milestone }) => (\n  <div className="flex items-start gap-2 p-2 rounded bg-background/50 text-sm">\n    <Badge variant="outline" className="text-[10px] shrink-0">\n      ~Move {milestone.approximateMoveNumber}\n    </Badge>\n    <div>\n      <p>{milestone.description}</p>\n      <p className="text-xs text-muted-foreground mt-1">\n        {milestone.expectedColorFlow}\n      </p>\n    </div>\n  </div>\n);\n\nconst QuadrantBar: React.FC<{ label: string; value: number }> = ({ label, value }) => (\n  <div>\n    <div className="flex items-center justify-between text-xs mb-1">\n      <span>{label}</span>\n      <span className="font-mono">{value.toFixed(0)}</span>\n    </div>\n    <div className="h-1.5 rounded-full bg-border overflow-hidden">\n      <div \n        className={`h-full rounded-full transition-all ${\n          value > 0 ? \'bg-purple-500\' : \'bg-pink-500\'\n        }`}\n        style={{ width: `${Math.abs(value)}%` }}\n      />\n    </div>\n  </div>\n);\n\nconst OutcomeIndicator: React.FC<{\n  label: string;\n  probability: number;\n  isActive: boolean;\n  icon: React.ReactNode;\n}> = ({ label, probability, isActive, icon }) => (\n  <div className={`text-center p-2 rounded-lg transition-all ${\n    isActive \n      ? \'bg-amber-500/20 border border-amber-500/50 scale-105\' \n      : \'bg-background/50 opacity-60\'\n  }`}>\n    <div className={`mb-1 ${isActive ? \'text-amber-500\' : \'text-muted-foreground\'}`}>\n      {icon}\n    </div>\n    <div className="text-xs text-muted-foreground">{label}</div>\n    <div className={`font-bold ${isActive ? \'text-amber-500\' : \'\'}`}>\n      {probability.toFixed(0)}%\n    </div>\n  </div>\n);\n\nconst ProbabilityBar: React.FC<{\n  label: string;\n  value: number;\n  color: string;\n}> = ({ label, value, color }) => (\n  <div className="flex items-center gap-2">\n    <span className="text-xs w-16 shrink-0">{label}</span>\n    <div className="flex-1 h-3 rounded-full bg-border overflow-hidden">\n      <div \n        className={`h-full rounded-full ${color}`}\n        style={{ width: `${value}%` }}\n      />\n    </div>\n    <span className="text-xs font-mono w-10 text-right">{value.toFixed(0)}%</span>\n  </div>\n);\n\nconst PatternMatchCard: React.FC<{ match: PatternMatch; rank: number }> = ({ match, rank }) => (\n  <div className="p-2 rounded border border-border/30 bg-card/30">\n    <div className="flex items-center justify-between mb-1">\n      <Badge variant="outline" className="text-[10px]">\n        #{rank} • {match.similarity.toFixed(0)}% similar\n      </Badge>\n      <Badge className={`text-[10px] ${\n        match.predictedOutcome === \'white_wins\' ? \'bg-green-500/20 text-green-600\' :\n        match.predictedOutcome === \'black_wins\' ? \'bg-red-500/20 text-red-600\' :\n        \'bg-gray-500/20 text-gray-600\'\n      }`}>\n        {match.predictedOutcome.replace(\'_\', \' \')}\n      </Badge>\n    </div>\n    <div className="flex flex-wrap gap-1">\n      {match.matchingFactors.slice(0, 3).map((factor, i) => (\n        <span key={i} className="text-[10px] text-muted-foreground">\n          {factor}{i < Math.min(match.matchingFactors.length, 3) - 1 && \' • \'}\n        </span>\n      ))}\n    </div>\n  </div>\n);\n\nexport default HybridPredictionPanel;\n';export{e as default};
