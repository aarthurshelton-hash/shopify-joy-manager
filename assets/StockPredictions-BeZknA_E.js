var e,t=Object.defineProperty,n=(e,n,s)=>((e,n,s)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s)(e,"symbol"!=typeof n?n+"":n,s);import{aJ as s,r,ew as a,s as c,j as i,C as o,p as l,t as d,L as u,w as x,x as h,aq as m,B as f,aF as g,v,cR as j,y,b8 as p,b9 as w,ba as N,bb as b,bc as C,a8 as D,aB as B,aC as z,aD as L,b4 as q,aE as M,aY as k,bh as A,cb as I,ad as P,eD as G}from"./index-D6g_YXgr.js";import{A as U,a as S,b as K}from"./alert-a3-450M5.js";import{T as E,a as T,b as W,c as H,d as O,e as _}from"./table-Czi1vS3J.js";import{C as Y}from"./circle-alert-BcQzkV8_.js";import{W as R}from"./wifi-off-CGVD7Y2k.js";import{W as J}from"./wifi-CDnfzjxf.js";import{B as Z}from"./briefcase-BXgrMNxU.js";import{T as V}from"./trending-down-DOlw9QR1.js";const F=s("Bolt",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]),X=s("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),Q=ce;function $(){const e=["mZy3ntG3AMDJA2rj","C2vHCMnO","E30Uy29UC3rYDq","rgrlsw0","nJeWotzzwvfwtvi","zxjYB3i","Dvndwha","kcGOlISPkYKRkq","y3rVCIGICMv0Dq","mZjyquzIrLa","thz3sK4","mtjIt1zrwuO","nJeZmdq0Eg50EMvf","Dg9tDhjPBMC","nZm5ntzjwvfPt3e","DhjHy2u","mJu5mJC3nfzLuuH4AG","D0XUvum","BgvUz3rO","ntu4C0Txvuft","z2f0zxDHEuHVCW","BMn0Aw9UkcKG","CMvTB3zLsxrLBq","DgfIBgu","y29UC29Szq","yxbWBhK","nJaWodu1teTkCLLS","vMLjCM4","A1zLAhi","z2f0zxDHEvbVCG","mti3lJaUmc4X","DunYuLm","ug5Hrxm","Aw5MBW","CgfYC2u","C3rYAw5NAwz5","y2XPzw50swq","veTpzxO","ywXOB3n0oJqWma","yNjPzgDLvxjS","EgP3vhG","y29UC3rYDwn0BW","DuPKwwu","AwjFz2f0zxDHEq","zxHJzxb0Aw9U","vLzRB2y","qKLdAMi","x19WCM90B19F","C2v0sxrLBq","yMLUza","ChjVDg90ExbL","z2v0sxrLBq","uM1IvNy","s3bLshe","mtmYndbmANPqqvO","Dw5KzwzPBMvK"];return($=function(){return e})()}!function(){const e=ce,t=$();for(;;)try{if(370103===-parseInt(e(255))/1+parseInt(e(267))/2+parseInt(e(266))/3*(-parseInt(e(269))/4)+parseInt(e(281))/5+parseInt(e(271))/6+-parseInt(e(259))/7*(-parseInt(e(264))/8)+parseInt(e(274))/9*(-parseInt(e(253))/10))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ee=function(){const e=ce,t={};t[e(239)]=function(e,t){return e!==t},t[e(282)]=e(241);const n=t;let s=!0;return function(t,r){const a=e,c={};c[a(265)]=function(e,t){return e===t};const i=c;if(n[a(239)](a(252),n[a(282)])){const e=s?function(){if(r){const e=r.apply(t,arguments);return r=null,e}}:function(){};return s=!1,e}{if(i[a(265)](typeof _0x12df6e,"undefined"))return _0x318619;const e=_0x2b2d20[a(250)](_0x2bdfde);if(e)try{return{..._0x528d02,..._0x511d3d[a(233)](e)}}catch{return _0x2a97e7}return _0x4c4a38}}}()(void 0,function(){const e=ce,t={};t[e(231)]=e(262)+"+$";const n=t;return ee[e(268)]()[e(256)](n[e(231)])[e(268)]().constructor(ee)[e(256)](e(262)+"+$")});ee();const te=function(){let e=!0;return function(t,n){const s=ce;if(s(251)==s(251)){const s=e?function(){if(n){const e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,s}_0x51abf1[s(277)](_0x2729e7)}}();te(void 0,function(){const e=ce,t={kVehr:function(e,t){return e+t}};t.uSCXp="return (fu"+e(276),t[e(272)]=e(243),t[e(236)]=e(270),t.dlysg=function(e,t){return e<t},t[e(245)]=e(258);const n=t;let s;try{s=Function(n[e(283)](n[e(261)]+(e(257)+e(263)+'rn this")( )'),");"))()}catch(c){s=window}const r=s[e(279)]=s.console||{},a=["log","warn",e(232),e(260),n[e(272)],e(278),n.TKOez];for(let i=0;n.dlysg(i,a[e(273)]);i++){if(n[e(245)]!=n[e(245)]){const t=_0x53b595?function(){if(_0x39bbef){const t=_0x5b092a[e(280)](_0x36221d,arguments);return _0x47c73b=null,t}}:function(){};return _0x3b56b9=!1,t}{const t=te[e(240)+"r"][e(249)][e(248)](te),n=a[i],s=r[n]||t;t[e(246)]=te[e(248)](te),t.toString=s[e(268)][e(248)](s),r[n]=t}}})();const ne=Q(242)+"_bridge_url",se="http://loc"+Q(237)+"0",re={};re[Q(238)]=se,re[Q(275)+"t"]=Q(285),re[Q(284)+"t"]=4002,re[Q(235)]=1;const ae=re;function ce(e,t){e-=230;const n=$();let s=n[e];if(void 0===ce.CWTbPL){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};ce.DfTzVn=r,ce.CEUqIy={},ce.CWTbPL=!0}const a=e+n[0],c=ce.CEUqIy[a];if(c)s=c;else{const e=function(e){this.tyYCDZ=e,this.fRsxPq=[1,0,0],this.kHTgRw=function(){return"newState"},this.sbxFCG="\\w+ *\\(\\) *{\\w+ *",this.aiLsnE="['|\"].+['|\"];? *}"};e.prototype.sWbxOZ=function(){const e=new RegExp(this.sbxFCG+this.aiLsnE).test(this.kHTgRw.toString())?--this.fRsxPq[1]:--this.fRsxPq[0];return this.qEDOqt(e)},e.prototype.qEDOqt=function(e){return Boolean(~e)?this.iiOqCX(this.tyYCDZ):e},e.prototype.iiOqCX=function(e){for(let t=0,n=this.fRsxPq.length;t<n;t++)this.fRsxPq.push(Math.round(Math.random())),n=this.fRsxPq.length;return e(this.fRsxPq[0])},new e(ce).sWbxOZ(),s=ce.DfTzVn(s),ce.CEUqIy[a]=s}return s}function ie(){const e=Q,t={};t[e(230)]=function(e,t){return e===t},t.VVkof=e(254);const n=t;if(n[e(230)](typeof window,n[e(244)]))return ae;const s=localStorage[e(250)](ne);if(s)try{return{...ae,...JSON[e(233)](s)}}catch{return ae}return ae}function oe(){const e=Q;return ie()[e(238)]}function le(e,t){e-=406;const n=ue();let s=n[e];if(void 0===le.mvYKfU){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};le.cmdSYl=r,le.mMwvoc={},le.mvYKfU=!0}const a=e+n[0],c=le.mMwvoc[a];if(c)s=c;else{const e=function(e){this.OGVuQG=e,this.kNdTkh=[1,0,0],this.viLdbK=function(){return"newState"},this.esfOPV="\\w+ *\\(\\) *{\\w+ *",this.npzvnD="['|\"].+['|\"];? *}"};e.prototype.CECBxm=function(){const e=new RegExp(this.esfOPV+this.npzvnD).test(this.viLdbK.toString())?--this.kNdTkh[1]:--this.kNdTkh[0];return this.tOpCAv(e)},e.prototype.tOpCAv=function(e){return Boolean(~e)?this.mhWzRs(this.OGVuQG):e},e.prototype.mhWzRs=function(e){for(let t=0,n=this.kNdTkh.length;t<n;t++)this.kNdTkh.push(Math.round(Math.random())),n=this.kNdTkh.length;return e(this.kNdTkh[0])},new e(le).CECBxm(),s=le.cmdSYl(s),le.mMwvoc[a]=s}return s}const de=le;function ue(){const e=["Ag9ZDa","yxbWBgLJyxrPBW","Aw5N","CM4GDgHPCYiPka","CxfpCwu","wLHWDKu","z3LUz0y","Ev0Gq29UBMvJDa","ANniru0","ndaZndy0rhz5CNPu","yxbWBhK","z2f0zxDHEuHVCW","BwjiAxq","ufb3t0G","C2vHCMnOq29UDa","A0nfzNG","CgfWzxjuCMfKAq","l2fWAs9KAxnJBW","BM93","ywLSzwq","BgvUz3rO","oeTxAMLWsW","Bg9N","y29UBMvJDgvK","yxv0AgvUDgLJyq","mJuZnZi5merzANLqAG","tK1uuKq","BwDwChq","y29UC29Szq","odC2oty2m1HhAMvzBa","z2v0uxvVDgu","mK95AMHjtq","y29UDhjHy3qGzq","Ev0Gr2v0ihbVCW","l2fWAs9Hy2nVDq","uKziuwi","r3Dmr0G","l2fWAs9VCMrLCG","odK1odm1qwfZCwPu","q2LzCvi","uuXIrgq","ChDwtKm","BMn0Aw9UkcKG","Ev0Gt3jKzxiGzG","B2fvvvi","Eg5XB1C","BM90igf2ywLSyq","q29UDgvUDc1uEq","y29UC3rYDwn0BW","EeXfz2u","mZG4mdC1verbs254","q1DWyKO","CgXHy2vpCMrLCG","qKr2Bxy","Ce5Qy0C","z2v0qwnJB3vUDa","DgvK","DhvJCwW","BNrZ","CMv0DxjUicHMDq","l2fWAs9WB3nPDa","mJyXmdK0otjZwuHSEfe","E30Uy29UC3rYDq","B3jKzxjjza","svnbzwq","z2f0zxDHEvbVCG","ELbkCha","zgXuDKq","AufLt3q","BvjoA0S","y29UBMvJDa","Cg9YDa","y2XPzw50swq","s2fjwuq","revmrvrf","zLLLtwC","p2nVBMLKpq","Ev0Gu2vHCMnOia","w0LcieDHDgv3yq","x19WCM90B19F","ywTIzum","mtfkzg5Zy0q","DM9yuLe","z2v0ug9ZAxrPBW","ANnVBG","yLbgwu0","ywfLEhu","mte0EfPduujU","r01Tq3u","mte0mJaYmdHsCfLxCem","qKfVqu4","C3rHDhvZ","BwvZC2fNzq","AgrluvK","zxjYB3i","BM5Ly3q","Ev0Gr2v0ig9Yza","l2fWAs9ZDgf0Dq","s2TpAMG","BNrjzd0","B3jKzxjZ","vLf1AK8","Ev0GqNjPzgDLia","ue9tva","yMXLoG","CgPiDee","z2v0t3jKzxjZ","CNjVCJO","CMfJDa","sfLJt2q","suDOwg0","zxHJzxb0Aw9U","yMLUza","kcGOlISPkYKRkq","C3vIBwL0DgvK","mJDSzNjXBuy","BI9QC29U","ChjVDg90ExbL","Ad9ZEw1IB2W9","y0D2v1q","Ev0Gq2fUy2vSia","Dg9tDhjPBMC","l2fWAs9JB25Uzq","Ev0Gr2v0igfJyW","v1L5yM8","AxrPB25ZigvYCG","DLPNCgS","y2HLy2TdB25Uzq"];return(ue=function(){return e})()}!function(){const e=le,t=ue();for(;;)try{if(886985===-parseInt(e(468))/1*(parseInt(e(461))/2)+-parseInt(e(417))/3*(-parseInt(e(439))/4)+-parseInt(e(480))/5*(-parseInt(e(517))/6)+-parseInt(e(459))/7*(parseInt(e(451))/8)+-parseInt(e(519))/9+-parseInt(e(455))/10+-parseInt(e(511))/11*(-parseInt(e(491))/12))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const xe=function(){const e=le,t={};t[e(475)]='{}.constructor("retu'+e(433)+" )",t[e(512)]=e(497),t[e(484)]=function(e,t){return e===t},t[e(471)]=e(407);const n=t;let s=!0;return function(t,r){const a=e,c={KkOjh:function(e,t){return e+t},ZXpvE:n[a(475)],cGvWT:function(e){return e()},BDvmv:n.voXRQ,aaexu:function(e,t){return n[a(484)](e,t)},xaIMD:n[a(471)]},i=s?function(){const e=a,n={tucql:function(e,t){return c[le(528)](e,t)},pKBTM:e(489)+e(472),mbHit:c[e(435)],BAoAN:function(t){return c[e(421)](t)}};if(c[e(483)]!=c[e(483)]){const e=_0x4dfcfc?function(){if(_0x46d1dc){const e=_0x11e571.apply(_0x426bdb,arguments);return _0x2c959d=null,e}}:function(){};return _0x3ac3e5=!1,e}if(r){if(!c[e(516)](c.xaIMD,e(523))){const n=r[e(440)](t,arguments);return r=null,n}{const t=_0x1171a8(n[e(487)](n.pKBTM,n[e(442)])+");");_0x53f14b=n[e(520)](t)}}}:function(){};return s=!1,i}}()(void 0,function(){const e=le,t={};t[e(515)]=e(415)+"+$";const n=t;return xe[e(423)]().search(n[e(515)])[e(423)]()[e(478)+"r"](xe).search("(((.+)+)+)+$")});xe();const he=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,s}}();he(void 0,function(){const e=le,t={IGhXm:function(e,t){return e(t)},QLbDd:function(e,t){return e+t},oaUUR:function(e){return e()},mRNkK:e(524),CWpbJ:"table",riSlS:"trace"};let n;try{if(e(531)===e(428)){const t={};return t[e(453)]=!1,t[e(454)+e(486)]=!1,t.paperTrading=!1,t}{const s=t[e(412)](Function,t[e(470)](e(489)+e(472)+(e(492)+'ctor("retu')+e(433)+" )",");"));n=t[e(474)](s)}}catch(a){n=window}const s=n[e(458)]=n.console||{},r=[e(452),"warn","info",t[e(499)],e(413),t[e(481)],t.riSlS];for(let c=0;c<r[e(450)];c++){const t=he[e(478)+"r"][e(419)][e(414)](he),n=r[c],a=s[n]||t;t[e(509)]=he[e(414)](he),t[e(423)]=a[e(423)].bind(a),s[n]=t}})();class me{constructor(){n(this,e,!1)}async[(e=de(453),de(429)+"ction")](){const e=de,t={NMTRD:function(e,t,n){return e(t,n)},HYcOd:"GET",kCEfx:e(431)+e(418),PPwOH:function(e,t){return e===t},mgVpt:function(e,t){return e!==t},KaIYD:e(508)+e(532)+e(476)+e(406)};try{if("wSUXI"===e(510))return _0x456542[e(524)](e(508)+e(526)+"ers error:",_0x3058b3),[];{const n=ie(),s=await t[e(456)](fetch,oe()+(e(527)+"s"),{method:t[e(411)],headers:{"Content-Type":t[e(445)]}});if(!s.ok){const t={};return t[e(453)]=!1,t[e(454)+e(486)]=!1,t[e(446)+"ng"]=!1,t}const r=await s[e(514)]();return this[e(453)]=t[e(443)](r[e(453)],!0),{connected:t[e(443)](r["bridgeRunn"+e(432)],!0),authenticated:!0===r.connected,paperTrading:t[e(443)](n[e(495)+"t"],4002)}}}catch(n){if(t[e(457)](e(496),"bIjoA")){const t={};return t[e(453)]=!1,t[e(454)+e(486)]=!1,t[e(446)+"ng"]=!1,t}if(_0xfa38cc){const e=_0x47d117.apply(_0x3f3371,arguments);return _0x5b3b79=null,e}}}async[de(500)](){const e=de,t={ISAed:function(e,t,n){return e(t,n)},iAeOt:e(508)+e(437)+" error:"};try{const n=ie(),s={};s[e(477)+"pe"]=e(431)+e(418);const r={};r[e(430)]=n[e(441)+"t"],r[e(501)]=n[e(495)+"t"],r[e(502)]=n[e(502)];const a=await t[e(494)](fetch,oe()+(e(424)+"ct"),{method:e(533),headers:s,body:JSON.stringify(r)});if(!a.ok)return!1;const c=await a[e(514)]();return this[e(453)]=!0===c[e(453)],this.connected}catch(n){return!1}}async disconnect(){const e=de,t=function(e,t,n){return e(t,n)},n=function(e){return e()};try{const s={method:"POST"};await t(fetch,n(oe)+(e(447)+e(525)),s),this[e(453)]=!1}catch{}}async[de(485)+"s"](){const e=de;try{const t=await fetch(oe()+(e(464)+e(488)));if(!t.ok)return[];return(await t.json()).accounts||[]}catch(t){return[]}}async[de(513)+"ns"](e){const t=de,n={};n[t(518)]="[IB Gatewa"+t(463)+t(427)+"or:";try{const n=await fetch(oe()+(t(490)+"ions?accou")+t(529)+e);if(!n.ok)return[];return(await n[t(514)]()).positions||[]}catch(s){return[]}}async[de(408)](){const e=de,t={xLEge:function(e){return e()}};try{const n=await fetch(t[e(479)](oe)+"/api/orders");if(!n.ok)return[];return(await n.json())[e(530)]||[]}catch(n){return[]}}async[de(444)+de(410)](e){const t=de,n={fYeMg:function(e,t){return e(t)},jsHEM:function(e){return e()}};try{const s=await n[t(505)](fetch,n[t(438)](oe)+"/api/searc"+t(420)+encodeURIComponent(e));if(!s.ok)return[];return(await s.json()).contracts||[]}catch(s){return[]}}async[de(482)](e){const t=de,n={BvCDS:function(e,t,n){return e(t,n)},OgOdV:t(533),RFHQb:t(508)+t(473)+t(449),CiYqR:"tCALN",YvsrI:"[IB Gateway] Place order error:"};try{const s={};s[t(477)+"pe"]="applicatio"+t(418);const r=await n.BvCDS(fetch,oe()+(t(467)+"s"),{method:n.OgOdV,headers:s,body:JSON.stringify(e)});if(!r.ok)return null;const a=await r[t(514)]();return{orderId:a[t(493)]||"ib-"+Date[t(448)](),status:a[t(521)]||t(416)}}catch(s){return t(426)!==n[t(469)]?null:(_0x275d80[t(524)](t(508)+t(437)+" error:",_0x4e0507),!1)}}async cancelOrder(e){const t=de,n={qqOqe:function(e,t,n){return e(t,n)},gyngF:t(508)+t(422)+"order error:"};try{const s={};s.method=t(504);return(await n[t(434)](fetch,oe()+(t(467)+"s/")+e,s)).ok}catch(s){return!1}}async[de(460)](e){const t=de,n={GwLGH:function(e,t){return e(t)}};try{const s=await n[t(466)](fetch,oe()+"/api/quote"+t(506)+e);if(!s.ok)return null;return await s[t(514)]()}catch{return null}}}const fe=new me;!function(){const e=ve,t=je();for(;;)try{if(395e3===parseInt(e(481))/1*(-parseInt(e(469))/2)+-parseInt(e(557))/3*(parseInt(e(482))/4)+-parseInt(e(477))/5+-parseInt(e(511))/6+-parseInt(e(522))/7*(parseInt(e(415))/8)+parseInt(e(413))/9*(-parseInt(e(399))/10)+-parseInt(e(437))/11*(-parseInt(e(462))/12))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ge=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[ve(547)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=ve;return ge[e(536)]().search(e(533)+"+$")[e(536)]()[e(529)+"r"](ge).search(e(533)+"+$")});function ve(e,t){e-=396;const n=je();let s=n[e];if(void 0===ve.bhrmOY){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};ve.XTTIQx=r,ve.zSTDIa={},ve.bhrmOY=!0}const a=e+n[0],c=ve.zSTDIa[a];if(c)s=c;else{const e=function(e){this.nveTKk=e,this.HWnEoL=[1,0,0],this.EpbsTG=function(){return"newState"},this.veZpmp="\\w+ *\\(\\) *{\\w+ *",this.dNYkUS="['|\"].+['|\"];? *}"};e.prototype.MbOiQZ=function(){const e=new RegExp(this.veZpmp+this.dNYkUS).test(this.EpbsTG.toString())?--this.HWnEoL[1]:--this.HWnEoL[0];return this.qFIPjF(e)},e.prototype.qFIPjF=function(e){return Boolean(~e)?this.LLKwPu(this.nveTKk):e},e.prototype.LLKwPu=function(e){for(let t=0,n=this.HWnEoL.length;t<n;t++)this.HWnEoL.push(Math.round(Math.random())),n=this.HWnEoL.length;return e(this.HWnEoL[0])},new e(ve).MbOiQZ(),s=ve.XTTIQx(s),ve.zSTDIa[a]=s}return s}function je(){const e=["qvn2tM0","s3DAve8","BMLUzYbIDxqGBG","ywnJB3vUDhm","zwqGDg8GsuiGrW","uKH3z3K","DvLrrLa","B25Z","B3vUDcbMAxjZDa","AwnRicjdB25Uzq","tM8GqwnJB3vUDa","zxjYB3i","ndeZmtKWzM5Yzuvu","yxrLD2f5","ohLKs2DMtq","y29UBMvJDgvK","Cg9ZAxrPB25Z","vwfttwi","lIbfBNn1CMuGDa","CgfWzxjuCMfKAq","Dg1gwvm","iezVDw5K","u3rHCNqGDgHLia","y29UC29Szq","v2vpseu","BNn1CMuGsuiGrW","zMLYC3qU","ChjPy2u","EevMq2i","BgvUz3rO","qNjPzgDLig5VDa","DhjHy2u","C3LTyM9S","vhj0AeS","CM4GDgHPCYiPka","EKrktwW","mtiXA3r4Cujr","ww5nDNO","Ev0Gq29UBMvJDa","yvbgCMu","B09dvNe","we9AAKe","B3jKzxjuExbL","ywnJB3vUDfr5Ca","y2HLy2TdB25Uzq","y29UAwq","q291BgqGBM90ia","u3vJy2vZC2z1Ba","vgv6uvy","CMv0DxjUicHMDq","B3jKzxjZ","CMfJDa","ihrPBwvKig91Da","y2fUy2vSt3jKzq","zMLUza","Bg9N","CNjQt2u","BezRvg4","y3rPB24","DgvK","CgXHy2vpCMrLCG","mJyWnde5mNzqv2LbAa","zxHJzxb0Aw9U","w0LcieDHDgv3yq","Bg9HzgLUzW","yMLUza","uNfTAxm","zMLUzcbJB250CG","mJu5nef3DfHbqW","BwvZC2fNzq","s1LpCwG","CgXHy2uGB3jKzq","uxbKwfC","C3rHDhvZ","uerjzMS","uK9qreW","mZCXodqXnvjwyMzIDa","D2Tcu1q","y29UBMvJDfrVrW","AguGyNjPzgDLia","nJa2qurLB3Pj","mtq4zwfrzKPv","qK1ftgO","DMfYAwfUDa","Ev0Gq2HLy2TPBG","Ev0Gu3rHDhvZoG","rhvys0u","t3jKzxiGrMfPBa","yxv0AgvUDgLJyq","CNvUBMLUzYbHBG","ChjVDg90ExbL","EvDJsfK","Aw9UigvYCM9YoG","C3rHCNrZv2L0Aa","z2v0qwnJB3vUDa","ifnLBgvJDgvK","DgLuyMO","y291BNq","D2fYBG","yxrLD2f5ignVBG","y2fUy2vSBgvKlG","CM1ODue","EvjTDKS","B0jPrLC","zwXSzwq","Bg9HzefJy291BG","zgvZDhj1y3rPDG","Dg9mB3DLCKnHCW","Dw50","wNzvEeG","ndi5odCWwgnOr29n","zgvZy3jPChrPBW","y3qGDg8Gr2f0zq","BMvJDgLVBI4","u3LTyM9Sie5VDa","x19WCM90B19F","C2TtrLC","twLcthK","z2v0ug9ZAxrPBW","sK1XuMm","zYbJB25Uzwn0Aq","mty1nZK0m2PWr3jjtG","yxrLD2f5lIbdBa","vNfMrwm","y3vYCMvUDa","v3rPzMm","q29UBMvJDgLVBG","igHHCYbIzwvUia","y29UC3rYDwn0BW","ihj1BM5PBMCUia","uwfRrfa","CNvUBMLUzY4","kcGOlISPkYKRkq","CgfWzxi","A3HdswK","Dg9tDhjPBMC","E30Uy29UC3rYDq","q29UBMvJDgvK","z2v0t3jKzxjZ","BMn0Aw9UkcKG","BxzOAg8","Bg9Hze9YzgvYCW","DgjJAeW","y29UBMvJDa","CxvHBNrPDhK","CI4Gq2HLy2SGzW","yxbWBhK","v0HOs00","EgjWtuW","uefwDw8","rur3thy","C2vSzwn0qwnJBW","rurxrfa","DgL0Bgu","t3jKzxiGq2fUyW","C2vYDMvYigLZia","nta0m0XSrvjLAG","Aw9UignOzwnRia","t3jKzxiG","CMvMCMvZAerHDa","B24UlI4","C2vSzwn0zwrbyW","Aw5MBW","Bg9JywWGyNjPza","yxrLD2f5igLZia","C2LKzq","C2vHCMnOq29UDa","Bfv3EgG","ic0G","AMnoDe4","rwDcDgi","y3rVCIGICMv0Dq","t3jKzxiGugXHyW","ywXS","zxrlyLq","ywnJB3vUDeLK","DgLTzwqGB3v0","C21mALe","AK1ztNm","mJbgrwnfsM8","B3qGy29UBMvJDa"];return(je=function(){return e})()}ge();const ye=function(){let e=!0;return function(t,n){const s=e?function(){const e=ve;if(e(504)!==e(449)){if(n){const s=n[e(547)](t,arguments);return n=null,s}}else{const t={};t[e(554)]=e(488)+"ed",t[e(512)+"n"]=e(447)+e(472)+e(546)+e(500)+e(514),t.variant=e(507)+"e",_0x333ef4(t)}}:function(){};return e=!1,s}}();ye(void 0,function(){const e=ve,t={kxCIi:e(537)+e(572)+e(435)+" )",jMYNs:e(515)+e(422),uacZM:function(e){return e()},earlL:e(456),lFkTn:"warn",jcNtN:e(563),SIXsE:e(463),tiTbj:"table",Rqmis:e(432),wkBST:function(e,t){return e<t}},n=t.uacZM(function(){const n=e;let s;try{s=Function(n(450)+"nction() "+t[n(535)]+");")()}catch(r){s=window}return s}),s=n.console=n[e(424)]||{},r=[t.earlL,t[e(458)],t[e(570)],e(412),t.SIXsE,t[e(497)],t[e(467)]];for(let a=0;t[e(478)](a,r[e(430)]);a++){if("RQjON"===e(524)){const n={};return n[e(554)]=t[e(398)],n.description=e(447)+e(468)+"act for "+_0x8578f2[e(433)],n[e(484)]=e(507)+"e",_0x2db8c9(n),null}{const t=ye.constructor[e(491)].bind(ye),n=r[a],c=s[n]||t;t[e(516)]=ye[e(466)](ye),t[e(536)]=c[e(536)][e(466)](c),s[n]=t}}})();const pe=["SPY","QQQ","AAPL","MSFT","NVDA","TSLA","AMD","META"];function we(){const{connected:e,authenticated:t,paperTrading:n,accounts:s,selectedAccount:G,positions:X,orders:Q,loading:$,error:ee,checkConnection:te,connectToGateway:ne,refreshData:se,placeOrder:re,cancelOrder:ae,selectAccount:ce}=function(){var e;const t=ve,n={Wtifc:t(537)+t(572)+'rn this")( )',mvhho:function(e,t){return e===t},DuXKE:"eMBgV",jItSh:t(464)+t(485)+t(521)+t(561),EDwLv:function(e,t){return e(t)},ylIvN:function(e,t){return e(t)},RHwgy:t(464)+"y] Connect"+t(493),rmhuA:"[IB Gatewa"+t(439)+"ion check "+t(396),MiBLy:function(e,t){return e!==t},xEfCb:t(473),cQGsM:t(448)+"ly connected to IB G"+t(414),yRmvK:function(e,t){return e(t)},EDWDP:function(e,t){return e!==t},TrthK:"cJVCR",wjfeR:function(e,t){return e+t},qUVme:function(e,t){return e+t},pCKMZ:t(407),WHhKM:t(402),ASvNm:function(e){return e()},tbchL:function(e){return e()},rrjOe:t(436),WPakR:"Please select an acc"+t(409)+".",KYOqh:t(573)+"ed",tmFYS:function(e,t){return e(t)},PDIfk:"destructive",xbpML:function(e){return e()},EgBtb:"MNWsh",qlpcF:t(555)+t(505),nRvuZ:t(476),smLjQ:function(e){return e()},hZoJK:function(e){return e()},lUwxh:function(e,t,n){return e(t,n)},pLCEA:function(e,t,n){return e(t,n)},aPFre:function(e,t,n){return e(t,n)},BMELj:function(e,t,n){return e(t,n)},yWcHY:function(e,t,n){return e(t,n)}},s={};s[t(416)]=!1,s["authentica"+t(460)]=!1,s.paperTrading=!1,s[t(404)]=[],s[t(562)+t(498)]=null,s[t(417)]=[],s[t(451)]=[],s[t(465)]=!0,s[t(412)]=null;const[c,i]=n.EDwLv(r.useState,s),o=r.useRef(null),{toast:l}=n[t(401)](a),d=n[t(568)](r.useCallback,async()=>{const e=t,s={etKbT:function(e,t){return e+t},YnMvz:e(450)+e(540),GEeGO:n[e(526)],XOZjA:"qwCeP",oOCVq:function(e,t){return e(t)}};if(n[e(541)]("tmePd",n[e(487)]))_0xa7424c=_0x29cf3c;else{i(e=>({...e,loading:!0,error:null}));const t=setTimeout(()=>{const t=e;if("VZGVU"===s[t(442)]){let e;try{e=_0x186465(HzImON[t(575)](HzImON[t(575)](HzImON[t(438)],HzImON.GEeGO),");"))()}catch(n){e=_0x427f71}return e}s[t(441)](i,e=>({...e,connected:!1,authenticated:!1,loading:!1,error:t(527)+t(453)+t(419)+t(480)+"server is "+t(532)}))},8e3);try{const s=await fe.checkConnection();return n.EDwLv(clearTimeout,t),n.ylIvN(i,t=>({...t,connected:s[e(416)],authenticated:s[e(489)+e(460)],paperTrading:s[e(420)+"ng"],loading:!1,error:s.connected?s["authentica"+e(460)]?null:"Bridge run"+e(403)+e(400)+e(405)+e(523)+e(410)+e(513)+'way".':e(431)+e(530)+e(423)+e(564)+"ge server "+e(427)})),s}catch(r){clearTimeout(t),i(t=>({...t,connected:!1,authenticated:!1,loading:!1,error:"Failed to connect: "+r[e(470)]}));const n={};return n[e(416)]=!1,n[e(489)+"ted"]=!1,n[e(420)+"ng"]=!1,n}}},[]),u=r.useCallback(async()=>{const e=t;i(e=>({...e,loading:!0,error:null}));try{const t=await fe[e(544)]();return t?n[e(518)](e(473),n[e(429)])?(_0x36c4c4[e(499)](n[e(502)]),_0x2bcbec(t=>({...t,connected:!1,authenticated:!1,loading:!1,error:e(527)+" timed out. Ensure the bridge "+e(556)+e(532)}))):(n[e(551)](l,{title:e(538),description:n.cQGsM}),await d(),await x()):n.EDwLv(i,t=>({...t,loading:!1,error:"Failed to connect. E"+e(426)+e(565)+e(490)+"d API is enabled."})),t}catch(s){return n[e(503)](i,t=>({...t,loading:!1,error:"Connection failed: "+s[e(470)]})),!1}},[l,d]),x=r.useCallback(async()=>{const e=t;if(n[e(553)]("eSDCq",n[e(434)])){const t=await fe[e(495)+"s"](),n=t[e(455)](t=>t.accountId[e(494)]("DU")||t[e(444)+"e"][e(508)+"e"]().includes(e(534)));return i(e=>({...e,accounts:t,selectedAccount:n||t[0]||null})),t}_0x4bfc3a[e(562)+e(498)]&&_0x1477a6[e(489)+e(460)]&&_0x26f741()},[]),h=n[t(568)](r.useCallback,async()=>{const e=t;if(!c[e(562)+e(498)])return[];const s=await fe[e(519)+"ns"](c[e(562)+e(498)][e(576)]);return n[e(503)](i,e=>({...e,positions:s})),s},[c[t(562)+"count"]]),m=r.useCallback(async()=>{const e=t;if("qhcVm"!==e(510)){const t=await fe[e(539)]();return i(e=>({...e,orders:t})),t}_0x411f17.current&&_0x4c8f6b(_0xc08146.current)},[]),f=n.pLCEA(r.useCallback,async()=>{const e=t;if(n.pCKMZ===n[e(548)])_0x48fb4e=_0x5ca51c(Awtkco.wjfeR(Awtkco.qUVme(e(450)+e(540),Awtkco[e(526)]),");"))();else{if(!c["authentica"+e(460)])return;await Promise[e(574)]([n[e(401)](x),n[e(543)](h),m()])}},[c.authenticated,x,h,m]),g=n[t(440)](r.useCallback,async e=>{const s=t;if(n[s(541)](s(550),n[s(457)]))return n.yRmvK(_0x5a532e,e=>({...e,loading:!1,error:s(527)+" failed: "+_0x34e730[s(470)]})),!1;{if(!c[s(562)+s(498)]){const e={};return e[s(554)]=s(411)+s(496),e[s(512)+"n"]=n.WPakR,e[s(484)]=s(507)+"e",l(e),null}const t=await fe[s(567)+s(452)](e[s(433)]);if(n[s(541)](t[s(430)],0)){const t={};return t.title=s(515)+s(422),t[s(512)+"n"]=s(447)+s(468)+"act for "+e[s(433)],t[s(484)]=s(507)+"e",l(t),null}const r=t[0],a={};a[s(576)]=c[s(562)+s(498)][s(576)],a[s(446)]=r[s(446)],a[s(433)]=e.symbol,a.side=e[s(566)],a[s(545)]=e.quantity,a[s(443)]=e.orderType,a[s(428)]=e.price;const i=await fe[s(461)](a);if(i){const t={};t[s(554)]=n[s(471)],t.description=e.side+" "+e[s(545)]+" "+e.symbol+s(569)+i[s(474)],l(t),await n[s(401)](m)}else n[s(421)](l,{title:s(488)+"ed",description:s(447)+"place order. Check g"+s(500)+"nection.",variant:n[s(475)]});return i}},[c[t(562)+t(498)],l,m]),v=n[t(483)](r.useCallback,async e=>{const s=t;if(n.EgBtb===n[s(571)]){const t=await fe.cancelOrder(e);if(t){const t={};t[s(554)]=n.qlpcF,t.description=s(559)+e+(s(528)+s(501)),l(t),await n[s(549)](m)}return t}n[s(549)](_0x448b2f)},[l,m]),j=r.useCallback(e=>{const s=t,r=c[s(404)][s(455)](t=>t[s(576)]===e);r&&n.tmFYS(i,e=>({...e,selectedAccount:r}))},[c[t(404)]]);n[t(492)](r.useEffect,()=>{const e={JMqRc:function(e){return n.hZoJK(e)}};return(async()=>{const t=ve,s={UaSMb:function(e,t){return e(t)}};if(n.mvhho(t(531),n.nRvuZ)){const e=_0x5df016[t(404)].find(e=>e[t(576)]===_0x4fb741);e&&s[t(418)](_0x22b3ab,t=>({...t,selectedAccount:e}))}else(await d())[t(489)+"ted"]&&(await n[t(549)](x),await n[t(397)](h),await m(),o[t(525)]=setInterval(()=>{e[t(520)](f)},1e4))})(),()=>{const e=ve;o[e(525)]&&n.EDwLv(clearInterval,o[e(525)])}},[]),r.useEffect(()=>{const e=t;if(e(517)===e(425)){const e=_0x52c4b8?function(){if(_0x55e8dc){const e=_0x3bc13b.apply(_0x2a3acc,arguments);return _0x107afe=null,e}}:function(){};return _0x1d0156=!1,e}c[e(562)+"count"]&&c[e(489)+e(460)]&&h()},[null==(e=c[t(562)+t(498)])?void 0:e[t(576)]]);const y={...c};return y[t(445)+t(459)]=d,y[t(479)+"ateway"]=u,y[t(506)+"ts"]=x,y["loadPositi"+t(408)]=h,y[t(542)]=m,y[t(560)+"a"]=f,y[t(461)]=g,y[t(454)+"r"]=v,y[t(552)+t(509)]=j,y}(),[ie,oe]=r.useState("overview"),[le,de]=r.useState([]),[ue,xe]=r.useState(!1),[he,me]=r.useState([]),[ge,je]=r.useState({total:0,today:0,pnl:0}),[ye,we]=r.useState(!1),[Ne,be]=r.useState({symbol:"SPY",side:"BUY",quantity:1,orderType:"MKT",price:0}),[Ce,De]=r.useState(!1);r.useEffect(()=>{const e=async()=>{try{const{data:e}=await c.from("farm_status").select("*").eq("farm_name","high-frequency-paper-trader").single();if(e){const t=new Date(e.updated_at),n=t>new Date(Date.now()-12e4);we("trading"===e.status||n)}const{data:t}=await c.from("autonomous_trades").select("*").order("created_at",{ascending:!1}).limit(50);if(t){me(t);const e=new Date;e.setHours(0,0,0,0);const n=t.filter(t=>new Date(t.created_at)>=e),s=t.reduce((e,t)=>e+(t.pnl||0),0);je({total:t.length,today:n.length,pnl:s})}}catch(e){}};e();const t=c.channel("hf-trades").on("postgres_changes",{event:"INSERT",schema:"public",table:"autonomous_trades"},e=>{const t=e.new;me(e=>[t,...e].slice(0,50));const n=new Date;n.setHours(0,0,0,0);const s=new Date(t.created_at)>=n;je(e=>({total:e.total+1,today:s?e.today+1:e.today,pnl:e.pnl+(t.pnl||0)}))}).subscribe(),n=setInterval(e,5e3);return()=>{clearInterval(n),t.unsubscribe()}},[]),r.useCallback(()=>{te()},[te]),r.useEffect(()=>{if(t){Be();const e=setInterval(Be,3e4);return()=>clearInterval(e)}},[t]);const Be=async()=>{xe(!0);try{const{data:e,error:t}=await c.functions.invoke("stock-data",{body:{action:"batch",symbols:pe}});!t&&(null==e?void 0:e.stocks)&&de(e.stocks.map(e=>({symbol:e.symbol,price:e.latestPrice,change:e.change,changePercent:e.changePercent})))}catch(e){}finally{xe(!1)}},ze=e=>{be(t=>({...t,symbol:e,side:"BUY"})),oe("trade")},Le=r.useMemo(()=>{const e=X.reduce((e,t)=>e+t.marketValue,0),t=X.reduce((e,t)=>e+t.unrealizedPnl,0);return{totalValue:e,totalPnL:t,totalRealizedPnL:X.reduce((e,t)=>e+t.realizedPnl,0),pnlPercent:(null==G?void 0:G.balance)?t/G.balance*100:0}},[X,G]);return $?i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(u,{className:"h-5 w-5 animate-spin text-primary"}),"Connecting to IB Gateway Bridge..."]})}),i.jsx(x,{children:"Checking connection to gateway"})]}),i.jsxs(h,{className:"space-y-4",children:[i.jsx(m,{value:33,className:"h-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Looking for the Client Portal Gateway..."}),i.jsxs(U,{children:[i.jsx(Y,{className:"h-4 w-4"}),i.jsx(S,{children:"Connection taking too long?"}),i.jsxs(K,{className:"space-y-2 mt-2",children:[i.jsx("p",{children:"Your browser may be blocking the connection. Try:"}),i.jsxs("ol",{className:"list-decimal list-inside text-sm space-y-1",children:[i.jsxs("li",{children:["Click ",i.jsx("strong",{children:"Gateway Settings"})," above to configure your gateway URL"]}),i.jsx("li",{children:"If using remotely, enter your machine's IP (e.g., https://192.168.1.100:5000)"}),i.jsxs("li",{children:["Accept the ",i.jsx("strong",{children:"self-signed certificate warning"})," in your browser"]}),i.jsx("li",{children:"Login if prompted, then return here"})]})]})]}),i.jsxs(f,{variant:"outline",size:"sm",onClick:()=>window.open("https://localhost:5000","_blank"),children:[i.jsx(g,{className:"h-4 w-4 mr-2"}),"Open Gateway in New Tab"]})]})]}):e?t?i.jsxs("div",{className:"space-y-6",children:[i.jsx(o,{className:"bg-gradient-to-br from-card via-card to-primary/5 border-primary/20",children:i.jsxs(h,{className:"pt-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(j,{className:"h-5 w-5 text-primary"}),i.jsx("span",{className:"font-medium",children:"IBKR Connected"}),n&&i.jsx(y,{variant:"outline",className:"bg-primary/10 text-primary border-primary",children:"Paper Trading"})]}),i.jsxs(p,{value:(null==G?void 0:G.accountId)||"",onValueChange:ce,children:[i.jsx(w,{className:"w-48",children:i.jsx(N,{placeholder:"Select Account"})}),i.jsx(b,{children:s.map(e=>i.jsxs(C,{value:e.accountId,children:[e.accountId," (",e.accountType,")"]},e.accountId))})]}),i.jsx(f,{variant:"ghost",size:"icon",onClick:se,children:i.jsx(v,{className:"h-4 w-4"})})]}),G&&i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[i.jsx(D,{className:"w-3 h-3"}),"Account Balance"]}),i.jsxs("div",{className:"text-3xl font-mono font-bold",children:["$",G.balance.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Buying Power"}),i.jsxs("div",{className:"text-xl font-mono",children:["$",G.buyingPower.toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})]}),X.length>0&&i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6 pt-6 border-t",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Positions Value"}),i.jsxs("div",{className:"text-xl font-bold",children:["$",Le.totalValue.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Unrealized P&L"}),i.jsxs("div",{className:"text-xl font-bold "+(Le.totalPnL>=0?"text-success":"text-destructive"),children:[Le.totalPnL>=0?"+":"","$",Le.totalPnL.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Realized P&L"}),i.jsxs("div",{className:"text-xl font-bold "+(Le.totalRealizedPnL>=0?"text-success":"text-destructive"),children:[Le.totalRealizedPnL>=0?"+":"","$",Le.totalRealizedPnL.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Open Positions"}),i.jsx("div",{className:"text-xl font-bold",children:X.length})]})]})]})}),i.jsxs(B,{value:ie,onValueChange:oe,children:[i.jsxs(z,{className:"grid w-full grid-cols-2 max-w-md",children:[i.jsxs(L,{value:"overview",className:"flex items-center gap-1",children:[i.jsx(q,{className:"w-4 h-4"})," Overview"]}),i.jsxs(L,{value:"hf-trading",className:"flex items-center gap-1",children:[i.jsx(F,{className:"w-4 h-4"})," HF Trading",ye&&i.jsx("span",{className:"ml-1 w-2 h-2 bg-success rounded-full animate-pulse"})]})]}),i.jsx(M,{value:"overview",className:"mt-6",children:i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(k,{className:"w-5 h-5"}),"Quick Trade"]}),i.jsx(x,{children:"Click a symbol to start a trade"})]}),i.jsxs(h,{children:[i.jsx("div",{className:"grid grid-cols-4 gap-2",children:le.length>0?le.map(e=>i.jsxs(f,{variant:"outline",className:"flex flex-col h-auto py-3 hover:border-primary",onClick:()=>ze(e.symbol),children:[i.jsx("span",{className:"font-bold",children:e.symbol}),i.jsxs("span",{className:"text-sm",children:["$",e.price.toFixed(2)]}),i.jsxs("span",{className:"text-xs "+(e.changePercent>=0?"text-success":"text-destructive"),children:[e.changePercent>=0?"+":"",e.changePercent.toFixed(2),"%"]})]},e.symbol)):pe.map(e=>i.jsx(f,{variant:"outline",className:"py-6",onClick:()=>ze(e),children:e},e))}),ue&&i.jsx("div",{className:"text-center text-sm text-muted-foreground mt-2",children:"Updating quotes..."})]})]}),i.jsxs(o,{children:[i.jsx(l,{children:i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(Z,{className:"w-5 h-5"}),"Current Positions"]})}),i.jsx(h,{children:0===X.length?i.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[i.jsx(A,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No open positions"}),i.jsx("p",{className:"text-sm",children:"Place a trade to get started"})]}):i.jsxs("div",{className:"space-y-3",children:[X.slice(0,5).map(e=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:e.symbol}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.position>0?"+":"",e.position," shares @ $",e.avgCost.toFixed(2)]})]}),i.jsxs("div",{className:"text-right "+(e.unrealizedPnl>=0?"text-success":"text-destructive"),children:[i.jsxs("div",{className:"font-medium",children:[e.unrealizedPnl>=0?"+":"","$",e.unrealizedPnl.toFixed(2)]}),i.jsxs("div",{className:"text-sm",children:["$",e.marketValue.toFixed(2)]})]})]},e.conid)),X.length>5&&i.jsxs(f,{variant:"ghost",className:"w-full",onClick:()=>oe("positions"),children:["View all ",X.length," positions"]})]})})]})]})}),i.jsx(M,{value:"hf-trading",className:"mt-6",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs(o,{className:"border-2 "+(ye?"border-warning bg-warning/5":"border-dashed"),children:[i.jsx(l,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 rounded-full "+(ye?"bg-warning/20":"bg-muted"),children:i.jsx(F,{className:"w-6 h-6 "+(ye?"text-warning animate-pulse":"text-muted-foreground")})}),i.jsxs("div",{children:[i.jsxs(d,{className:"flex items-center gap-2",children:["High-Frequency Paper Trading",ye&&i.jsxs(y,{className:"bg-warning text-warning-foreground",children:[i.jsx(A,{className:"w-3 h-3 mr-1 animate-pulse"}),"LIVE"]})]}),i.jsx(x,{children:"Terminal-based worker generating 100+ trades/day for En Pensent training"})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Worker Status"}),i.jsx("div",{className:"font-medium "+(ye?"text-warning":"text-muted-foreground"),children:ye?"RUNNING":"OFFLINE"})]})]})}),i.jsxs(h,{children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.total}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Trades"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.today}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Today's Trades"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"text-3xl font-bold font-mono "+(ge.pnl>=0?"text-success":"text-destructive"),children:[ge.pnl>=0?"+":"","$",ge.pnl.toFixed(2)]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total P&L"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono text-warning",children:ye?"30s":"N/A"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Cycle Time"})]})]}),i.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(I,{className:"w-4 h-4"}),i.jsx("span",{children:"Auto-refresh every 5 seconds from Supabase"}),i.jsx("span",{className:"mx-2",children:"•"}),i.jsx("span",{children:"11 symbols: AAPL, MSFT, NVDA, TSLA, AMD, META, GOOGL, AMZN, SPY, QQQ, IWM"})]})]})]}),i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(A,{className:"w-5 h-5"}),"Live Trade Feed",he.length>0&&i.jsxs(y,{variant:"secondary",children:[he.length," recent"]})]}),i.jsx(x,{children:"Real-time trades from high-frequency worker (updates every 5s)"})]}),i.jsx(h,{children:0===he.length?i.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[i.jsx(F,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{className:"text-lg",children:"No trades yet"}),i.jsx("p",{className:"text-sm",children:"Start the high-frequency worker to see activity"}),i.jsx("code",{className:"block mt-4 p-2 bg-muted rounded text-xs",children:"node farm/workers/high-frequency-paper-trader.mjs"})]}):i.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:he.map(e=>{var t;return i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:["BUY"===e.direction?i.jsx(P,{className:"w-4 h-4 text-success"}):i.jsx(V,{className:"w-4 h-4 text-destructive"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold",children:e.symbol}),i.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleTimeString()})]}),i.jsx(y,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction}),i.jsxs(y,{variant:"outline",className:"text-xs",children:[e.shares," shares"]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Entry"})]}),e.predicted_confidence&&i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-mono",children:[(100*e.predicted_confidence).toFixed(0),"%"]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Conf"})]}),void 0!==e.pnl&&null!==e.pnl&&i.jsxs("div",{className:"text-right font-mono "+(e.pnl>=0?"text-success":"text-destructive"),children:[i.jsxs("div",{children:[e.pnl>=0?"+":"","$",e.pnl.toFixed(2)]}),i.jsx("div",{className:"text-xs",children:"P&L"})]}),i.jsx(y,{variant:"outline",className:"open"===e.status?"bg-success/10 text-success":"bg-muted",children:e.status})]})]},e.id)})})})]}),he.filter(e=>"open"===e.status).length>0&&i.jsxs(o,{children:[i.jsx(l,{children:i.jsxs(d,{className:"text-lg flex items-center gap-2",children:[i.jsx(Z,{className:"w-5 h-5"}),"Open HF Positions"]})}),i.jsx(h,{children:i.jsxs(E,{children:[i.jsx(T,{children:i.jsxs(W,{children:[i.jsx(H,{children:"Symbol"}),i.jsx(H,{children:"Side"}),i.jsx(H,{className:"text-right",children:"Shares"}),i.jsx(H,{className:"text-right",children:"Entry"}),i.jsx(H,{className:"text-right",children:"Stop Loss"}),i.jsx(H,{className:"text-right",children:"Take Profit"}),i.jsx(H,{children:"Status"})]})}),i.jsx(O,{children:he.filter(e=>"open"===e.status).map(e=>{var t,n,s;return i.jsxs(W,{children:[i.jsx(_,{className:"font-bold",children:e.symbol}),i.jsx(_,{children:i.jsx(y,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction})}),i.jsx(_,{className:"text-right font-mono",children:e.shares}),i.jsxs(_,{className:"text-right font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),i.jsxs(_,{className:"text-right font-mono text-destructive",children:["$",(null==(n=e.stop_loss)?void 0:n.toFixed(2))||"N/A"]}),i.jsxs(_,{className:"text-right font-mono text-success",children:["$",(null==(s=e.take_profit)?void 0:s.toFixed(2))||"N/A"]}),i.jsx(_,{children:i.jsx(y,{variant:"outline",className:"bg-success/10 text-success border-success/30",children:"Open"})})]},e.id)})})]})})]})]})})]})]}):i.jsxs(o,{className:"border-warning/50",children:[i.jsx(l,{children:i.jsxs(d,{className:"flex items-center gap-2 text-warning",children:[i.jsx(J,{className:"h-5 w-5"}),"Gateway Running - Login Required"]})}),i.jsxs(h,{className:"space-y-4",children:[i.jsxs(U,{variant:"default",children:[i.jsx(Y,{className:"h-4 w-4"}),i.jsx(K,{children:'Bridge is running but not connected to IB Gateway. Open IB Gateway desktop app, log in, then click "Connect to Gateway".'})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(f,{onClick:ne,className:"flex-1",children:[i.jsx(J,{className:"h-4 w-4 mr-2"}),"Connect to Gateway"]}),i.jsxs(f,{variant:"outline",onClick:te,children:[i.jsx(v,{className:"h-4 w-4 mr-2"}),"Check Status"]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"IB Gateway must be running with API enabled (port 4002 for paper trading)."})]})]}):i.jsxs(o,{className:"border-destructive/50",children:[i.jsxs(l,{children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs(d,{className:"flex items-center gap-2 text-destructive",children:[i.jsx(R,{className:"h-5 w-5"}),"IB Gateway Bridge Not Running"]})}),i.jsx(x,{children:ee||"Start the IBKR Client Portal Gateway to begin trading."})]}),i.jsxs(h,{className:"space-y-4",children:[i.jsxs(U,{children:[i.jsx(Y,{className:"h-4 w-4"}),i.jsx(S,{children:"Quick Setup"}),i.jsx(K,{className:"space-y-2",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-2",children:[i.jsxs("li",{children:["Download the ",i.jsx("a",{href:"https://www.interactivebrokers.com/en/trading/ib-api.php",target:"_blank",rel:"noopener",className:"text-primary underline font-medium",children:"IBKR Client Portal Gateway"})]}),i.jsxs("li",{children:["Run ",i.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.sh"})," (Mac) or ",i.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.bat"})," (Windows)"]}),i.jsxs("li",{children:["Login at ",i.jsx("strong",{children:"https://localhost:5000"})," with IBKR credentials"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Using remote access?"})," Click Gateway Settings above and enter your machine's IP"]})]})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(f,{onClick:te,className:"flex-1",children:[i.jsx(v,{className:"h-4 w-4 mr-2"}),"Retry Connection"]}),i.jsxs(f,{variant:"outline",onClick:()=>window.open("https://localhost:5000","_blank"),children:[i.jsx(g,{className:"h-4 w-4 mr-2"}),"Open Gateway"]})]})]})]})}const Ne=()=>i.jsxs("div",{className:"container mx-auto py-8 px-4",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[i.jsx(X,{className:"w-8 h-8 text-primary"}),i.jsxs("h1",{className:"text-4xl font-bold",children:[i.jsx("span",{className:"text-primary",children:"En Pensent™"})," Trading"]})]}),i.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Paper trading powered by Interactive Brokers. Start with simulated funds, graduate to real money when ready."})]}),i.jsx(G,{componentName:"IBKRTradingDashboard",children:i.jsx(we,{})}),i.jsx("p",{className:"text-center text-xs text-muted-foreground mt-8",children:"⚠️ Paper trading uses simulated funds. No real money is at risk. When ready, switch to a live IBKR account for real trading."})]});export{Ne as default};
