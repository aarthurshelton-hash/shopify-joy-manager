import{d6 as e,d7 as t,cp as n,a as s,u as r,r as a,J as i,o,s as c,aH as l,aa as u,cM as d,j as m,L as x,C as f,x as h,D as p,B as g,A as v,p as w,t as b,cN as y,bC as j,S as C,a6 as z,P as N,y as M,bG as D,T as L,aq as B,z as _,cU as A,aj as S,aT as E,ca as G,b as q,d8 as I}from"./index-DMpRWcyL.js";!function(){const e=P,t=Y();for(;;)try{if(204357===parseInt(e(382))/1+parseInt(e(290))/2*(-parseInt(e(461))/3)+parseInt(e(394))/4+parseInt(e(473))/5*(parseInt(e(341))/6)+parseInt(e(306))/7*(parseInt(e(252))/8)+parseInt(e(463))/9*(parseInt(e(308))/10)+parseInt(e(297))/11*(-parseInt(e(419))/12))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const K=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[P(298)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=P,t={};t[e(398)]=e(462)+"+$";const n=t;return K[e(447)]().search(n.wnVlG)[e(447)]()[e(256)+"r"](K)[e(439)](n.wnVlG)});K();const W=function(){let e=!0;return function(t,n){const s=e?function(){const e=P;if(n){if(e(399)!==e(274)){const e=n.apply(t,arguments);return n=null,e}_0x12c4ff[e(414)](_0x4e7cf5)}}:function(){};return e=!1,s}}();function P(e,t){e-=235;const n=Y();let s=n[e];if(void 0===P.UARjbP){var r=function(e){let t="",n="",s=t+r;for(let r,a,i=0,o=0;a=e.charAt(o++);~a&&(r=i%4?64*r+a:a,i++%4)?t+=s.charCodeAt(o+10)-10!=0?String.fromCharCode(255&r>>(-2*i&6)):i:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};P.jzTrFt=r,P.QCGUHq={},P.UARjbP=!0}const a=e+n[0],i=P.QCGUHq[a];if(i)s=i;else{const e=function(e){this.WzIdck=e,this.IcerSK=[1,0,0],this.UiWBLB=function(){return"newState"},this.NLWDZP="\\w+ *\\(\\) *{\\w+ *",this.WYEAZM="['|\"].+['|\"];? *}"};e.prototype.qMBrXS=function(){const e=new RegExp(this.NLWDZP+this.WYEAZM).test(this.UiWBLB.toString())?--this.IcerSK[1]:--this.IcerSK[0];return this.nIoYZq(e)},e.prototype.nIoYZq=function(e){return Boolean(~e)?this.diCaMw(this.WzIdck):e},e.prototype.diCaMw=function(e){for(let t=0,n=this.IcerSK.length;t<n;t++)this.IcerSK.push(Math.round(Math.random())),n=this.IcerSK.length;return e(this.IcerSK[0])},new e(P).qMBrXS(),s=P.jzTrFt(s),P.QCGUHq[a]=s}return s}W(void 0,function(){const e=P,t={eKEFe:function(e,t){return e(t)},gandJ:function(e,t){return e+t},gEhmT:function(e,t){return e+t},bHAOm:function(e){return e()},JbXbO:e(401),QDGqI:"exception",rSpuC:function(e,t){return e<t}},n=t.bHAOm(function(){const n=e;let s;try{s=t[n(403)](Function,t[n(272)](t[n(448)]("return (fu"+n(451),n(431)+n(385)+n(449)+" )"),");"))()}catch(r){s=window}return s}),s=n[e(317)]=n[e(317)]||{},r=[e(424),t[e(435)],e(354),e(262),t[e(406)],e(321),"trace"];for(let a=0;t[e(418)](a,r[e(392)]);a++){const t=W[e(256)+"r"][e(470)][e(359)](W),n=r[a],i=s[n]||t;t[e(305)]=W[e(359)](W),t[e(447)]=i.toString.bind(i),s[n]=t}})();async function H(){const e=P;document[e(432)]&&document.fonts[e(268)]&&await document[e(432)][e(268)],await new Promise(e=>setTimeout(e,150))}function Y(){const e=["BurLCMG","q2LUEMvSjYWGjW","AM9PBG","iZbbmeeWqq","ntmZmdu4sfDYAKfQ","Bw92zxm","CwDUy3u","zw50","rufzvKy","CMvKDwnL","CKn3z3O","y3rvuKW","BgLhEu4","tgvfBMK","yLLiCw4","CMLM","Bw92zvrV","Aw5MBW","y2vUDgvY","AgLNAa","ywXS","yxjJ","yMLUza","zw9Yz2LHlcbZzq","wvfwtem","CNvkAuG","C3bSAxq","AMHNvwS","i2u3ztvLna","nJaWidi0ChGGjW","s3jeCuO","iJaGmca","vLPVyNC","phjLy3qGEd0I","Dgv4DefSAwDU","DwLUDfG","uhrLAwi","D3CUDZmUB3jNlW","y3jLyxrLrwXLBq","D2HPDgu","zxH4yM4","ru4Guevou0vova","DMLZAxrZ","y29T","z2v0q29UDgv4Da","mJm1ndvxq2PTwNy","ww9gswi","pc9ZDMC+","y3rVCIGICMv0Dq","wMTUuMS","vw5RBM93BG","BwvHC3vYzvrLEa","vgLTzxmGtMv3ia","u0vVD3e","q3foAgK","BgvUz3rO","nJaWideZChGGjW","nJC4mdaWwgDkzKrs","iIb5psiWiIb3Aq","ve1Lzgy","ugfjrhK","D25wBeC","DK5ZwvC","wNL6sK0","D2fYBG","vNrVANO","zuTfrMu","Dwnusw4","B25SB2fK","uurhCuK","BNmTC2vYAwy","yM9YzgvY","s0Lhz04","CM91BMrszwn0","zfbQt0i","BwvZlcbZzxjPzG","BKPyy2i","ChvZAa","Bw9Yyw50jYWGrW","zfj6CKK","BLffsuG","CLnWDum","mJrPD1bUr0m","Dgv4DejHC2vSAq","AgvPz2H0","sw50zxiNlcbZyq","BhLPu1K","Bg9N","Aw1Hz2vtBw9VDa","mJaWmc9ZDMCIia","idiWChGGj0nVCG","i0zerKngqG","BgLUzvDPzhrO","Dg9eyxrHvvjm","E30Uy29UC3rYDq","zM9UDhm","zhrOpsi","zM9UDa","sMjyyK8","CMvZDg9Yzq","iIbOzwLNAhq9iG","iI8+","C2vHCMnO","rMfPBgvKihrVia","BwLU","C3vzrKC","zMLSBfrLEhq","v2HPDgu","uuTZu0W","zePJwLy","Dg9tDhjPBMC","z0vOBvq","CM4GDgHPCYiPka","zMLSBfjLy3q","BMn0Aw9UkcKG","yw5VBNLTB3vZ","B2LdueS","AgLUz0vUywjSzq","uLzszgG","u3HxDKm","t29eBNy","y25JBfK","D2LKDgG","vxHPz2e","m3HlruPqtq","kcGOlISPkYKRkq","mJDZz1HXswO","iIb2Awv3qM94pq","Ae13zxm","zgvMyxvSDa","ndaWideWChGGjW","zwPpqxy","Bg9HzcbtvKC","ChjVDg90ExbL","AxrHBgLJiduWma","wM9Ks1q","mtbVq1HbywG","y3jLyxrLt2jQzq","sNDbvwW","s0rYALO","BwLKzgXL","wxriAwS","Eg1So2nOyxjZzq","uKTHEwW","Aw5JBhvKzxm","EffUCNy","yxvSug4","CgLLy2u","icdIGkiGia","ntaWideXChGGjW","iZC4nZe2yW","qK5wELC","i2e4yti5zq","sKDvvvC","mtz4wMTLuw4","sKT0Bgy","zgf0zq","ChbbvM0","y29UC3rYDwn0BW","iIbMAwXSpsi","B0f1DKK","Effrreu","Ahr0Chm6lY9LBG","CMv0DxjUicHMDq","zxjYB3i","iZfbmueXqq","C3vIC3rYAw5N","ww5Jt2W","y05Wzwi","y2XPCa","CMvHzhK","vejgzum","B25LCNjVCG","BgLUzvrV","z2fUzeO","DhLWzq","tufHsfG","C2nHBgu","mJu1lcaYntuSia","CMDIysGYntuSia","y2fUDMfZ","DhjHBNnWyxjLBG","iIb3Awr0Ad0I","v25iEe0","CMv2B2TLt2jQzq","zgrLDKe","Dg9vChbLCKnHCW","phn2zYb4BwXUCW","C3rYB2TL","lI4U","zhjHD0LTywDL","BgvMDa","mJiYodaYC1n0y1bI","ide4ChGGj0nVCG","Bgf5zxjtAxPL","tMXQBLm","AxnmAwDODa","qxDLrvG","ihzZia","mJKWode0n3PzzgfIva","yxbWBhK","C09iDw0","D2zHzeu","4PMuievoifbftLnf","C3rYB2TLu3r5Ba","vNLowfa","BgLNAhq","x19WCM90B19F","mJK1nteYA1zXwuDo","Dd11DgyToa","mti5nZGZmejuy0rhEa","yMvNAw5qyxrO","ueHfzNe","te5Az0m","CxjJB2rL","pZ8/pY4/pY4/pW","EKHJyLe","iIb5psi","rMzzrxK","y29UC29Szq","thLjyMG","sxrKv20","y29SB3i","DgfIBgu","B1PIuNO","C3jJ","mc45nsK","zMLSBfn0EwXL","C2f2zq","Dw5HAha","zxzLBNq","tLrHEMS","AwPdtLG","uuTYy08","ndaWideXChGGjW","qMXHy2S","Ee1ZEK0","y3jVC3npCMLNAq","CgvUC2vUDc5JBW"];return(Y=function(){return e})()}async function T(e){const t=P,n={};n[t(269)]=t(312),n[t(265)]=t(260)+t(336)+"m",n[t(442)]="#FAFAFA",n[t(369)]=t(263),n[t(266)]=t(279)+"t";const s=n;return(await import(s.TBFeC))[t(466)][t(430)](s[t(265)],{width:200,margin:1,color:{dark:e?s[t(442)]:s[t(369)],light:s[t(266)]},errorCorrectionLevel:"M"})}async function U(){const e=P,t={};t.OoDnv=e(452);const s=t;return new Promise((t,r)=>{const a=e,i=new Image;i[a(335)+"n"]=s[a(457)],i[a(405)]=()=>t(i),i[a(270)]=r,i[a(323)]=n})}async function k(n,s,r={}){const a=P,i={ppAVm:function(e,t){return e-t},LNZgC:a(387),aiYqb:a(313),WnHxM:"500 12px '"+a(422)+a(407),Vtojz:"center",zHcbQ:function(e,t){return e+t},qgncu:function(e,t){return e*t},cnclY:function(e,t){return e/t},ucTIn:"{}.constru"+a(385)+a(449)+" )",sOHum:a(278),xhAaI:function(e,t){return e*t},glXGD:function(e,t){return e(t)},Pteib:"image/svg+xml;charse"+a(307),RKayl:function(e){return e()},bYHqn:function(e,t){return e*t},ZyzJM:function(e,t){return e+t},uintX:function(e,t){return e*t},AbTbS:function(e,t){return e+t},dJcZV:a(428),uWEmJ:function(e,t){return e+t},NljnS:"#292524",xQnrv:a(365),oZbRz:function(e,t){return e-t},NTazk:"#a8a29e",CqNhi:function(e,t){return e+t},XAKDB:a(444),lyiSY:a(366)+a(338)+a(389)+"Roman', se"+a(352),eliux:"left",FfYEy:a(471)+a(427)+"morant', G"+a(360)+"rif",PaIDy:function(e,t){return e+t},qVTWP:"3|4|1|2|0",LeEni:"italic 500"+a(291)+a(415)+"eorgia, se"+a(352),exxbn:a(334),EAYVF:function(e,t){return e!==t},unahp:a(246),LyIbh:function(e,t){return e*t},YoFIb:function(e,t){return e/t},FsdSb:function(e,t){return e===t},ZxKrQ:a(367),zcoGu:function(e,t){return e>t},wfadE:function(e,t){return e*t},oiCPK:function(e,t){return e+t},SxWvC:function(e,t){return e>=t},SEowq:a(301)+"NT â™š",JwAUl:function(e,t){return e-t},PHEfq:function(e,t){return e!==t},JKtlf:function(e,t){return e(t)},QKrcO:function(e,t){return e+t},YQVLC:function(e,t){return e/t},TMedf:function(e,t){return e+t},jhgUk:function(e,t){return e/t},RfpMN:function(e,t){return e+t},ItdWm:"alphabetic",dRzrI:"#44403c",gnwwF:a(393)+a(422)+a(407),nQEIH:function(e,t){return e+t},gmqlm:"enpensent."+a(380),ddevA:function(e,t){return e+t}};await i.RKayl(H);const{boardSize:o=600,darkMode:c=!1,withWatermark:l=!1,title:u}=r,d=function(n,s){const r=P,a={dPjOB:function(e,t){return e+t}};a[r(244)]=function(e,t){return e/t},a[r(465)]=function(e,t){return e*t},a[r(349)]=function(e,t){return e<t},a[r(251)]=function(e,t){return e===t},a[r(409)]=r(445),a[r(259)]=function(e,t){return e+t},a[r(237)]=function(e,t){return e-t},a[r(347)]=function(e,t){return e*t},a[r(413)]=function(e,t){return e<t},a[r(472)]=function(e,t){return e+t};const i=a,o=i[r(244)](s,8),c=i.hMwes(s,.02),l=i[r(411)](s,2*c);let u=r(285)+'="http://w'+r(374)+r(426)+'width="'+l+r(437)+l+(r(464)+r(368))+l+" "+l+'">';u+='<rect x="0'+r(395)+r(433)+l+r(437)+l+r(257)+e[r(408)]+r(438);for(let d=0;i.liGyN(d,8);d++){const s=7-d;for(let a=0;a<8;a++)if(i[r(251)](i[r(409)],i[r(409)])){const l=n[s][a],m=l[r(294)]?e[r(304)]:e.dark,x=i[r(411)](c,i[r(465)](a,o)),f=i.xQQDE(c,d*o);if(u+=r(370)+x+'" y="'+f+r(280)+o+'" height="'+o+r(257)+m+r(438),l[r(379)][r(392)]>0){const e=.08*o,n=[];for(const i of l[r(379)]){const e=t(i[r(245)],i[r(320)]);!n[r(242)](e)&&n.push(e)}const s=Math[r(441)](n[r(392)],6),a=[];let c=i[r(237)](o,i.rCwgz(e,2));const d=.7*c/s;for(let t=0;i[r(413)](t,s);t++){const e={};if(e.color=n[t],e[r(292)]=c,a[r(414)](e),c-=d,i[r(413)](c,i[r(347)](o,.1)))break}for(const t of a){const e=i[r(237)](o,t[r(292)])/2;u+=r(370)+i[r(472)](x,e)+r(315)+(f+e)+'" width="'+t.layerSize+r(437)+t[r(292)]+r(257)+t[r(320)]+r(438)}}}else _0x5f0fd9=_0x13f88d(IUFsLY.dPjOB(r(261)+"nction() "+(r(431)+r(385)+r(449))+" )",");"))()}return u+=r(384),u}(n,o),m=i.bYHqn(o,.02),x=o+i[a(351)](m,2),f=await async function(e,t,n){const s=P,r={};r[s(337)]=s(278),r.wMAlZ=function(e,t){return e*t},r[s(330)]=function(e,t){return e*t};const a=r;return new Promise((r,i)=>{const o=s,c=new Image,l={};l[o(273)]="image/svg+"+o(240)+"t=utf-8";const u=new Blob([e],l),d=URL[o(235)+o(348)](u);c[o(405)]=()=>{const e=o,s=document[e(375)+e(344)](a[e(337)]);s[e(459)]=a.wMAlZ(t,5),s[e(421)]=a[e(330)](n,5);const i=s[e(381)]("2d");i[e(275)](5,5),i[e(288)](c,0,0,t,n),URL[e(282)+e(348)](d),r(s)},c[o(270)]=()=>{const e=o;URL[e(282)+"ctURL"](d),i(new Error(e(440)+e(469)))},c[o(323)]=d})}(d,x,x),h=60,p=i[a(400)](x,i[a(372)](h,2)),g=i.AbTbS(x+220,60)+120,v=document[a(375)+a(344)](i[a(299)]);v[a(459)]=i.uintX(p,5),v[a(421)]=5*g;const w=v[a(381)]("2d");w.scale(5,5),w[a(425)+a(454)+"d"]=!0,w[a(425)+"hingQuality"]=a(356),w[a(325)]=c?a(340):i[a(446)],w[a(450)](0,0,p,g),w[a(288)](f,0,0,f[a(459)],f[a(421)],h,h,x,x);const b=i.uWEmJ(h,x)+28;w[a(302)+"e"]=c?i.NljnS:i[a(243)],w.lineWidth=1,w[a(309)](),w[a(353)](h,b),w[a(271)](i[a(322)](p,h),b),w[a(286)]();const y=c?"#fafaf9":i[a(293)],j=a(c?250:248),C=a(c?248:250),z=c?a(248):i[a(329)],N=i.cnclY(p,2);let M=i[a(391)](b,55);const D=s[a(376)]||i.XAKDB,L=s.black||a(333);w.textBaseline=a(238),w[a(434)]=i[a(423)];const B=w[a(388)+"t"](D)[a(459)],_=w[a(388)+"t"](L)[a(459)];w[a(434)]="italic 500 20px 'Cor"+a(415)+"eorgia, se"+a(352);const A=a(296),S=w[a(388)+"t"](A).width,E=N-(B+S+_)/2;if(w[a(434)]=i.lyiSY,w[a(325)]=y,w[a(371)]=i.eliux,w[a(443)](D,E,M),w[a(434)]=i[a(316)],w[a(325)]=z,w[a(443)](A,E+B,M),w[a(434)]=i.lyiSY,w[a(325)]=y,w[a(443)](L,i[a(397)](E,B)+S,M),M+=36,s[a(328)]&&s.event!==a(387)){const e=i.qVTWP[a(363)]("|");let t=0;for(;;){switch(e[t++]){case"0":M+=32;continue;case"1":w.textAlign=i[a(402)];continue;case"2":w[a(443)](s.event,N,M);continue;case"3":w[a(325)]=j;continue;case"4":w.font=i[a(350)];continue}break}}const G=u,q=s[a(254)]||"";if(G||q)if(i[a(377)]===a(362)){const e=i[a(255)](_0x1cc0fe,_0x665ce7[a(292)])/2;_0x5e616b+='<rect x="'+(_0xecca69+e)+a(315)+(_0x5357ae+e)+a(280)+_0x316eb0.layerSize+'" height="'+_0x1113dd[a(292)]+'" fill="'+_0x4d89ab[a(320)]+a(438)}else{w[a(325)]=C,w[a(434)]=i[a(281)],w.textAlign=i[a(402)];let e="";if(G){if(!i[a(345)](a(468),a(258)))return _0x36ab68&&_0xbd1bba!==i[a(311)]&&_0x2cfad3!==i.aiYqb?_0x53adb7:_0x3df968;e=G[a(284)+"e"](),q&&(e+=i[a(327)]+q)}else if("TAQaX"===a(295)){_0xf5036c[a(325)]=_0x42ba67,_0x551a9e[a(434)]=i.WnHxM,_0x41c4d5[a(371)]=i[a(402)];let e="";_0x9333e9?(e=_0x42c227[a(284)+"e"](),_0x264774&&(e+=i[a(314)]("  â€¢  ",_0x503bba))):e=_0x41bc54;const t=2,n=e.split(""),s=n.reduce((e,t)=>e+_0x4f85.measureText(t)[a(459)],0),r=i[a(343)](n[a(392)]-1,t);let o=_0x155626-i[a(458)](s+r,2);for(const c of n)_0x2270de.textAlign="left",_0x2b5814.fillText(c,o,_0x346e9d),o+=i.zHcbQ(_0x4a427f[a(388)+"t"](c)[a(459)],t);_0x558a96+=28}else e=q;const t=2,n=e[a(363)](""),s=n[a(346)]((e,t)=>e+w[a(388)+"t"](t).width,0),r=i[a(318)](n[a(392)]-1,t);let o=N-i[a(383)](i[a(400)](s,r),2);for(const c of n){if(i.FsdSb(a(386),i.ZxKrQ)){let e;try{e=_0x4f4033(a(261)+a(451)+pEwGRt[a(404)]+");")()}catch(Z){e=_0x59d83e}return e}w.textAlign="left",w[a(443)](c,o,M),o+=w.measureText(c).width+t}M+=28}if(s[a(342)]&&i.zcoGu(s[a(342)][a(392)],0)){w.fillStyle=C,w.font=a(467)+a(389)+"Roman', Ti"+a(412),w.textAlign=a(355);const e=s[a(342)][a(339)](" "),t=e.length>400?e[a(264)](0,400)+a(287):e,n=i[a(322)](i[a(255)](p,i[a(300)](h,2)),40),r=t.split(" ");let o="",c=M;const l=15,u=4;let d=0;for(const s of r){const e=i[a(453)](o+(o?" ":""),s);if(w.measureText(e)[a(459)]>n&&o){if(w[a(443)](o,N,c),o=s,c+=l,d++,i[a(456)](d,u))break}else o=e}o&&d<u&&w[a(443)](o,N,c)}const I=g-h-20;w[a(325)]=C,w[a(434)]=a(247)+a(422)+a(407),w[a(371)]=i.Vtojz;const K=i[a(390)][a(363)](""),W=K[a(346)]((e,t)=>e+w.measureText(t).width,0),Y=i[a(400)](W,4*i[a(236)](K[a(392)],1));let k=i[a(236)](N,Y/2);for(const e of K)w[a(371)]=i.eliux,w[a(443)](e,k,I),k+=w.measureText(e)[a(459)]+4;if(l)if(i[a(310)](a(460),a(249))){const[e,t]=await Promise[a(357)]([i[a(253)](T,!1),i[a(241)](U)]),n=220,s=65,r=i[a(453)](h,x)-n-12,o=i.QKrcO(h,x)-s-12;w.fillStyle=a(277)+a(276)+a(324),w[a(309)](),w[a(410)](r,o,n,s,6),w.fill(),w[a(302)+"e"]=i.xQnrv,w[a(429)]=1,w[a(286)]();const c=48,l=r+12,u=o+i[a(361)](i[a(255)](s,c),2);w[a(326)](),w[a(309)](),w[a(358)](i[a(396)](l,c/2),u+i[a(364)](c,2),c/2,0,2*Math.PI),w[a(267)](),w.drawImage(t,l,u,c,c),w[a(436)]();const d=i.RfpMN(i[a(331)](l,c),10);w.textAlign=a(289),w[a(420)+"ne"]=i[a(319)],w[a(325)]=i[a(416)],w[a(434)]=i.gnwwF,w.fillText(a(378),d,i[a(417)](o,28)),w[a(325)]=a(248),w[a(434)]=a(332)+"Inter', sans-serif",w[a(443)](i.gmqlm,d,i[a(283)](o,46));const m=50,f=i[a(236)](i[a(453)](r,n),m)-10,p=o+i[a(322)](s,m)/2,g=new Image;await new Promise(t=>{const n=a;g.onload=()=>{w[P(288)](g,f,p,m,m),t()},g[n(270)]=()=>t(),g.src=e})}else{const e={VyNXP:function(e,t){return i.glXGD(e,t)},RVRdh:"Failed to "+a(469)},t=new _0x47149e,n={};n.type=i[a(373)];const s=new _0xf127f9([_0x568e32],n),r=_0x5f1099[a(235)+a(348)](s);t[a(405)]=()=>{const e=a,n=_0xb3496e[e(375)+e(344)](i[e(299)]);n[e(459)]=i.xhAaI(_0xf839d2,_0x4de0b3),n[e(421)]=_0x4e0eb1*_0x332a71;const s=n[e(381)]("2d");s.scale(_0xb9bff8,_0x278e0f),s[e(288)](t,0,0,_0x151eb9,_0x1b567b),_0xd9b3a9[e(282)+e(348)](r),_0x26428a(n)},t[a(270)]=()=>{const t=a;_0x497fbb[t(282)+t(348)](r),e[t(303)](_0x4e2bbe,new _0x3d6e51(e[t(455)]))},t[a(323)]=r}return v}const Z=G.filter(e=>"custom"!==e.id);const O=["Exemplar â„–001 â€¢ Genesis","Exemplar â„–002 â€¢ Prototype","Exemplar â„–003 â€¢ Blueprint","Exemplar â„–004 â€¢ Foundation","Exemplar â„–005 â€¢ Pioneer","Exemplar â„–006 â€¢ Alpha","Exemplar â„–007 â€¢ Benchmark","Exemplar â„–008 â€¢ Catalyst","Exemplar â„–009 â€¢ Origin","Exemplar â„–010 â€¢ Spectrum","Exemplar â„–011 â€¢ Prism","Exemplar â„–012 â€¢ Vertex","Exemplar â„–013 â€¢ Meridian","Exemplar â„–014 â€¢ Zenith","Exemplar â„–015 â€¢ Nexus","Exemplar â„–016 â€¢ Axiom","Exemplar â„–017 â€¢ Epoch","Exemplar â„–018 â€¢ Vector","Exemplar â„–019 â€¢ Cipher","Exemplar â„–020 â€¢ Matrix","Exemplar â„–021 â€¢ Helix","Exemplar â„–022 â€¢ Synthesis","Exemplar â„–023 â€¢ Thesis","Exemplar â„–024 â€¢ Opus","Exemplar â„–025 â€¢ Finale","Sunset Clash","Ocean Depths","Earth Tones","Forest Canopy","Copper Age","Midnight Purple","Rustic Charm","Steel Gray","Olive Grove","Slate Dreams","Berry Burst","Sandy Beach","Wine Country","Mint Fresh","Mahogany Dreams","Arctic Ice","Coral Reef","Lavender Fields","Bronze Medal","Neon Nights","Autumn Leaves","Crystal Cave","Desert Dusk","Emerald City","Fire Dance"];const V=()=>{const e=s(),{user:t,isLoading:n}=r(),[K,W]=a.useState(null),[P,H]=a.useState(!1),[Y,T]=a.useState(0),[U,V]=a.useState(""),[F,J]=a.useState([]),[R,X]=a.useState(50),[Q,$]=a.useState(!0),[ee,te]=a.useState(!1),[ne,se]=a.useState(null);a.useEffect(()=>{n||(async()=>{if(!t)return void W(!1);const{data:e}=await c.rpc("has_role",{_user_id:t.id,_role:"admin"});W(!0===e)})()},[t,n]);const re=a.useCallback(async(e,n,s,r,a=!0)=>{try{const m=i(e.pgn),x=a?Z[Math.floor(Math.random()*Z.length)]:Z[s%Z.length],f=function(e,t){const n=G.find(e=>e.id===t)||G[0];return e.map(e=>e.map(e=>({...e,visits:e.visits.map(e=>{const t=("w"===e.color?n.white:n.black)[e.piece]||"#888888";return{...e,hexColor:t}})})))}(m.board,x.id);o(x.id);const h=await k(f,m.gameData,{boardSize:600,darkMode:!1,withWatermark:!1,title:n}),p=await new Promise((e,t)=>{h.toBlob(n=>{n?e(n):t(new Error("Failed to create blob"))},"image/png",.95)}),g=Date.now(),v=`${t.id}/${g}-${n.replace(/[^a-z0-9]/gi,"-").toLowerCase()}.png`,{error:w}=await c.storage.from("visualizations").upload(v,p,{contentType:"image/png",upsert:!1});if(w)throw w;const{data:b}=c.storage.from("visualizations").getPublicUrl(v),y=l(e.pgn),j={white:m.gameData.white,black:m.gameData.black,event:m.gameData.event,date:m.gameData.date,result:m.gameData.result,pgn:m.gameData.pgn,moves:m.gameData.moves,board:f,totalMoves:m.totalMoves,visualizationState:{paletteId:x.id,paletteName:x.name,isOfficialPalette:!0,darkMode:!1,currentMove:1/0,isExemplar:r,exemplarNumber:r?s+1:void 0,gameHash:y}},{data:C,error:z}=await c.from("saved_visualizations").insert({user_id:t.id,title:n,pgn:e.pgn,game_data:j,image_path:b.publicUrl}).select().single();if(z)throw z;const N=function(e,t){if(e){const e=99,n=Math.max(0,10*(25-t));return e+Math.floor(300*Math.random())+n}return 199+Math.floor(600*Math.random())}(r,s),{data:M,error:D}=await u(C.id,N);if(D)throw D;const L=function(e,t){const n=e?1.5:1,s=e?Math.max(0,.1*(25-t)):0;return{viewCount:Math.floor((15*Math.random()+3)*n+5*s),hdDownloads:Math.floor(3*Math.random()*n),gifDownloads:Math.floor(2*Math.random()*n),tradeCount:e?Math.floor(2*Math.random()):0}}(r,s);for(let e=0;e<L.viewCount;e++)await c.rpc("record_vision_interaction",{p_visualization_id:C.id,p_user_id:t.id,p_interaction_type:"view"}),await new Promise(e=>setTimeout(e,50));const B=d(e.pgn),_=a?"premium":"genesis";return{title:n,success:!0,visualizationId:C.id,listingId:null==M?void 0:M.id,isExemplar:r,paletteId:x.id,paletteName:x.name,gameHash:y,tier:_,openingName:null==B?void 0:B.fullName}}catch(m){return{title:n,success:!1,error:m.message,isExemplar:r}}},[t]),ae=F.filter(e=>e.success).length,ie=F.filter(e=>!e.success).length;return F.filter(e=>e.success&&e.isExemplar).length,n||null===K?m.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:m.jsx(x,{className:"h-8 w-8 animate-spin text-primary"})}):t&&K?m.jsx("div",{className:"min-h-screen bg-background p-8",children:m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsxs(g,{variant:"ghost",onClick:()=>e("/marketplace"),className:"mb-6",children:[m.jsx(v,{className:"h-4 w-4 mr-2"}),"Return to Marketplace"]}),m.jsxs(f,{children:[m.jsx(w,{children:m.jsxs(b,{className:"flex items-center gap-3",children:[m.jsx(y,{className:"h-6 w-6 text-primary"}),"Seed Marketplace with Visions"]})}),m.jsxs(h,{className:"space-y-6",children:[m.jsx("div",{className:"p-4 rounded-lg bg-amber-500/10 border border-amber-500/30",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(j,{className:"h-5 w-5 text-amber-500 mt-0.5"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-amber-600",children:"CEO Only"}),m.jsxs("p",{className:"text-sm text-muted-foreground",children:["Generates ",R," visions: ",Math.min(25,R)," Exemplar editions (numbered testers from our humble beginnings) + ",Math.max(0,R-25)," creative community visions. Exemplars: $0.99-$4.99, Creative: $1.99-$7.99."]})]})]})}),m.jsxs("div",{className:"flex items-center justify-between gap-4",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("label",{className:"text-sm text-muted-foreground",children:"Number of visions:"}),m.jsxs("select",{value:R,onChange:e=>X(Number(e.target.value)),disabled:P,className:"bg-muted border border-border rounded px-3 py-2",children:[m.jsx("option",{value:5,children:"5 (test)"}),m.jsx("option",{value:10,children:"10"}),m.jsx("option",{value:25,children:"25"}),m.jsx("option",{value:50,children:"50"})]})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(C,{id:"use-official-palettes",checked:Q,onCheckedChange:$,disabled:P}),m.jsxs(z,{htmlFor:"use-official-palettes",className:"flex items-center gap-2",children:[m.jsx(N,{className:"h-4 w-4 text-primary"}),m.jsx("span",{className:"text-sm",children:"Official Palettes"})]})]}),Q&&m.jsxs(M,{variant:"secondary",className:"text-xs",children:[Z.length," palettes"]})]})]}),m.jsx(g,{onClick:async()=>{if(!t)return void q.error("You must be logged in as the CEO account");H(!0),J([]),T(0);const e=[],n=I.slice(0,Math.min(R,I.length)),s=[];for(let t=0;t<R;t++){const e=t%n.length,r=t<25,a=O[t]||`Vision ${t+1}`;s.push({game:n[e],title:a,isExemplar:r})}for(let t=0;t<s.length;t++){const{game:n,title:r,isExemplar:a}=s[t];V(`${a?"ðŸ†":"ðŸŽ¨"} ${r} (${t+1}/${s.length})`);const i=await re(n,r,t,a,Q);e.push(i),J([...e]),T((t+1)/s.length*100),await new Promise(e=>setTimeout(e,300))}H(!1);const r=e.filter(e=>e.success).length,a=e.filter(e=>!e.success).length,i=e.filter(e=>e.success&&e.isExemplar).length;r>0?q.success(`Created ${r} visions`,{description:`${i} Exemplars, ${r-i} Creative${a>0?` (${a} failed)`:""}`}):q.error("Failed to create any visions")},disabled:P||!t,className:"w-full",size:"lg",children:P?m.jsxs(m.Fragment,{children:[m.jsx(x,{className:"h-5 w-5 mr-2 animate-spin"}),"Generating..."]}):m.jsxs(m.Fragment,{children:[m.jsx(D,{className:"h-5 w-5 mr-2"}),"Start Seeding"]})}),m.jsxs("div",{className:"border-t border-border pt-6 mt-6",children:[m.jsx("div",{className:"p-4 rounded-lg bg-destructive/10 border border-destructive/30 mb-4",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(L,{className:"h-5 w-5 text-destructive mt-0.5"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-destructive",children:"Delete My Test Visions"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Deletes only YOUR visions that have NOT earned royalties from other users' print orders. Visions with natural value accrual are preserved. Safe for testing cleanup."})]})]})}),m.jsx(g,{onClick:async()=>{if(!t)return;if(window.confirm("This will delete all YOUR visions that have NOT earned royalties from other users' print orders.\n\nVisions with natural value accrual will be preserved.\n\nAre you sure?")){te(!0),se(null);try{const{data:e,error:n}=await c.from("saved_visualizations").select("id").eq("user_id",t.id);if(n)throw n;if(!e||0===e.length)return q.info("No visions to delete"),void te(!1);const s=e.map(e=>e.id),{data:r,error:a}=await c.from("vision_scores").select("visualization_id, royalty_cents_earned, royalty_orders_count").in("visualization_id",s);if(a)throw a;const i=new Set((r||[]).filter(e=>e.royalty_cents_earned>0||e.royalty_orders_count>0).map(e=>e.visualization_id)),o=s.filter(e=>!i.has(e)),l=s.filter(e=>i.has(e));if(0===o.length)return q.info("All your visions have accrued natural value - none deleted"),se({deleted:0,preserved:l.length}),void te(!1);await c.from("visualization_listings").delete().in("visualization_id",o),await c.from("vision_scores").delete().in("visualization_id",o),await c.from("vision_interactions").delete().in("visualization_id",o),await c.from("visualization_transfers").delete().in("visualization_id",o);const{error:u}=await c.from("saved_visualizations").delete().in("id",o);if(u)throw u;for(const d of e.filter(e=>o.includes(e.id)))await c.storage.from("visualizations").remove([`${t.id}/`]);se({deleted:o.length,preserved:l.length}),q.success(`Deleted ${o.length} test visions`,{description:l.length>0?`${l.length} visions with natural value preserved`:void 0})}catch(e){q.error("Failed to delete visions",{description:e.message})}finally{te(!1)}}},disabled:ee||P||!t,variant:"destructive",className:"w-full",size:"lg",children:ee?m.jsxs(m.Fragment,{children:[m.jsx(x,{className:"h-5 w-5 mr-2 animate-spin"}),"Deleting Test Visions..."]}):m.jsxs(m.Fragment,{children:[m.jsx(L,{className:"h-5 w-5 mr-2"}),"Delete My Test Visions"]})}),ne&&m.jsx("div",{className:"mt-4 p-3 rounded-lg bg-muted text-sm",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("span",{className:"text-destructive",children:["ðŸ—‘ ",ne.deleted," deleted"]}),ne.preserved>0&&m.jsxs("span",{className:"text-green-500",children:["âœ“ ",ne.preserved," preserved (has value)"]})]})})]}),P&&m.jsxs("div",{className:"space-y-2",children:[m.jsx(B,{value:Y,className:"h-2"}),m.jsx("p",{className:"text-sm text-muted-foreground text-center",children:U})]}),F.length>0&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center gap-4 text-sm flex-wrap",children:[m.jsxs("span",{className:"flex items-center gap-1 text-green-500",children:[m.jsx(_,{className:"h-4 w-4"}),ae," successful"]}),m.jsxs("span",{className:"flex items-center gap-1 text-purple-500",children:[m.jsx(A,{className:"h-4 w-4"}),F.filter(e=>e.success&&"premium"===e.tier).length," Premium"]}),m.jsxs("span",{className:"flex items-center gap-1 text-blue-500",children:[m.jsx(S,{className:"h-4 w-4"}),F.filter(e=>e.success&&"genesis"===e.tier).length," Genesis"]}),ie>0&&m.jsxs("span",{className:"flex items-center gap-1 text-red-500",children:[m.jsx(p,{className:"h-4 w-4"}),ie," failed"]})]}),m.jsx("div",{className:"max-h-64 overflow-y-auto space-y-1 border border-border rounded-lg p-2",children:F.map((e,t)=>m.jsxs(E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"text-sm p-2 rounded flex items-center justify-between gap-2 "+(e.success?"premium"===e.tier?"bg-purple-500/10 border border-purple-500/20":"bg-blue-500/10 border border-blue-500/20":"bg-red-500/10 text-red-600"),children:[m.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[e.success?"premium"===e.tier?m.jsx(A,{className:"h-4 w-4 text-purple-500 flex-shrink-0"}):m.jsx(S,{className:"h-4 w-4 text-blue-500 flex-shrink-0"}):m.jsx(p,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),m.jsx("span",{className:"truncate",children:e.title}),e.openingName&&m.jsx(M,{variant:"secondary",className:"text-[9px] hidden sm:inline-flex",children:e.openingName}),e.error&&m.jsxs("span",{className:"text-xs opacity-70",children:["(",e.error,")"]})]}),e.success&&m.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[m.jsxs(M,{variant:"outline",className:"text-[10px] "+("premium"===e.tier?"border-purple-500/50":"border-blue-500/50"),children:[m.jsx(N,{className:"h-2.5 w-2.5 mr-1"}),e.paletteName]}),e.gameHash&&m.jsx("a",{href:`/g/${e.gameHash}?p=${e.paletteId}`,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-primary hover:underline",children:"View â†’"})]})]},t))})]})]})]})]})}):m.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:m.jsx(f,{className:"max-w-md",children:m.jsxs(h,{className:"pt-6 text-center",children:[m.jsx(p,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),m.jsx("h2",{className:"text-xl font-bold mb-2",children:"Access Denied"}),m.jsx("p",{className:"text-muted-foreground mb-4",children:"You need admin privileges to access this page."}),m.jsx(g,{onClick:()=>e("/"),children:"Go Home"})]})})})};export{V as default};
