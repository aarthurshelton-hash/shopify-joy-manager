const r='import React, { Component, ErrorInfo, ReactNode } from \'react\';\nimport { AlertTriangle, RefreshCw } from \'lucide-react\';\nimport { Button } from \'@/components/ui/button\';\nimport { Card, CardContent, CardHeader, CardTitle } from \'@/components/ui/card\';\nimport { reportReactError } from \'@/lib/errorReporting\';\n\ninterface Props {\n  children: ReactNode;\n  fallback?: ReactNode;\n  componentName?: string;\n}\n\ninterface State {\n  hasError: boolean;\n  error: Error | null;\n}\n\nexport class ErrorBoundary extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = { hasError: false, error: null };\n  }\n\n  static getDerivedStateFromError(error: Error): State {\n    return { hasError: true, error };\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo): void {\n    // Report to our error collection system\n    reportReactError(\n      error,\n      errorInfo.componentStack || \'\',\n      this.props.componentName\n    );\n\n    console.error(\'Error caught by boundary:\', error, errorInfo);\n  }\n\n  handleRetry = (): void => {\n    this.setState({ hasError: false, error: null });\n  };\n\n  render(): ReactNode {\n    if (this.state.hasError) {\n      if (this.props.fallback) {\n        return this.props.fallback;\n      }\n\n      return (\n        <Card className="m-4 border-destructive">\n          <CardHeader>\n            <CardTitle className="flex items-center gap-2 text-destructive">\n              <AlertTriangle className="h-5 w-5" />\n              Something went wrong\n            </CardTitle>\n          </CardHeader>\n          <CardContent className="space-y-4">\n            <p className="text-sm text-muted-foreground">\n              We\'ve been notified and are working to fix this issue.\n            </p>\n            {process.env.NODE_ENV === \'development\' && this.state.error && (\n              <pre className="p-2 bg-muted rounded text-xs overflow-auto max-h-32">\n                {this.state.error.message}\n              </pre>\n            )}\n            <Button onClick={this.handleRetry} variant="outline" size="sm">\n              <RefreshCw className="h-4 w-4 mr-2" />\n              Try Again\n            </Button>\n          </CardContent>\n        </Card>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n\n// HOC for wrapping components\nexport function withErrorBoundary<P extends object>(\n  WrappedComponent: React.ComponentType<P>,\n  componentName?: string\n): React.FC<P> {\n  return function WithErrorBoundaryWrapper(props: P) {\n    return (\n      <ErrorBoundary componentName={componentName || WrappedComponent.displayName}>\n        <WrappedComponent {...props} />\n      </ErrorBoundary>\n    );\n  };\n}\n';export{r as default};
