var e,t=Object.defineProperty,n=(e,n,s)=>((e,n,s)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s)(e,"symbol"!=typeof n?n+"":n,s);import{aJ as s,r,eu as a,s as c,j as i,C as o,p as l,t as d,L as u,w as x,x as h,aq as m,B as f,aF as g,v,cR as j,y,b8 as p,b9 as w,ba as N,bb as C,bc as b,a8 as B,aB as D,aC as z,aD as L,b4 as G,aE as A,aY as q,bh as U,cb as I,ad as P,eB as M}from"./index-DqGlL_-P.js";import{A as k,a as S,b as W}from"./alert-kA0jURae.js";import{T as H,a as Y,b as K,c as J,d as E,e as T}from"./table-DxTr8Dlp.js";import{C as V}from"./circle-alert-D6aKiAhz.js";import{W as Z}from"./wifi-off-CzX4elcX.js";import{W as O}from"./wifi-quzIxQ2o.js";import{B as F}from"./briefcase-CH4SKard.js";import{T as _}from"./trending-down-DGbo0gCG.js";const R=s("Bolt",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]),X=s("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),Q=re;!function(){const e=re,t=ie();for(;;)try{if(478292===parseInt(e(189))/1*(parseInt(e(191))/2)+-parseInt(e(173))/3*(-parseInt(e(154))/4)+-parseInt(e(160))/5+parseInt(e(155))/6*(parseInt(e(181))/7)+-parseInt(e(182))/8*(-parseInt(e(195))/9)+parseInt(e(152))/10*(-parseInt(e(190))/11)+-parseInt(e(171))/12*(parseInt(e(186))/13))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const $=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[re(172)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=re,t={};t[e(167)]=e(177)+"+$";const n=t;return $.toString()[e(153)](n.ZbxJx)[e(151)]()[e(185)+"r"]($)[e(153)]("(((.+)+)+)+$")});$();const ee=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[re(172)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}();ee(void 0,function(){const e=re,t={mcTlk:function(e,t){return e(t)},PHxRU:function(e,t){return e+t},SdPmV:e(162)+e(198)+e(187)+" )",WJSEi:"log",KxJgZ:e(193),mtxUh:function(e,t){return e<t}};let n;try{n=t[e(165)](Function,t.PHxRU(e(180)+"nction() ",t.SdPmV)+");")()}catch(a){n=window}const s=n.console=n[e(199)]||{},r=[t[e(161)],e(159),e(164),e(194),e(163),t[e(170)],e(168)];for(let c=0;t[e(169)](c,r[e(184)]);c++){const t=ee[e(185)+"r"][e(156)].bind(ee),n=r[c],a=s[n]||t;t[e(178)]=ee[e(192)](ee),t.toString=a.toString[e(192)](a),s[n]=t}})();const te="ib_gateway"+Q(174)+"l",ne=Q(166)+Q(176)+"0",se={};function re(e,t){e-=151;const n=ie();let s=n[e];if(void 0===re.FsnNej){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};re.TpeoLo=r,re.TcELeq={},re.FsnNej=!0}const a=e+n[0],c=re.TcELeq[a];if(c)s=c;else{const e=function(e){this.YdhwNq=e,this.edIzxD=[1,0,0],this.PelJWn=function(){return"newState"},this.xVvGHs="\\w+ *\\(\\) *{\\w+ *",this.NNHyQL="['|\"].+['|\"];? *}"};e.prototype.IFgBuQ=function(){const e=new RegExp(this.xVvGHs+this.NNHyQL).test(this.PelJWn.toString())?--this.edIzxD[1]:--this.edIzxD[0];return this.UsjQnB(e)},e.prototype.UsjQnB=function(e){return Boolean(~e)?this.ZvAnvx(this.YdhwNq):e},e.prototype.ZvAnvx=function(e){for(let t=0,n=this.edIzxD.length;t<n;t++)this.edIzxD.push(Math.round(Math.random())),n=this.edIzxD.length;return e(this.edIzxD[0])},new e(re).IFgBuQ(),s=re.TpeoLo(s),re.TcELeq[a]=s}return s}se.bridgeUrl=ne,se[Q(157)+"t"]=Q(175),se[Q(196)+"t"]=4002,se.clientId=1;const ae=se;function ce(){const e=Q,t={};t.iIJom=e(179);if(typeof window===t.iIJom)return ae;const n=localStorage[e(183)](te);if(n)try{return{...ae,...JSON[e(197)](n)}}catch{return ae}return ae}function ie(){const e=["ndK5nda0ngXbBNDXBW","nMr2Agj4Ca","yMLUza","DgfIBgu","zxjYB3i","ovjeAwTdDq","z2f0zxDHEvbVCG","CgfYC2u","y3rVCIGICMv0Dq","y29UC29Szq","Dg9tDhjPBMC","mtbNq1boyxG","C2vHCMnO","mJrur1nsBe0","nti4AgH3rfzN","ChjVDg90ExbL","z2f0zxDHEuHVCW","BgzyC0S","D2fYBG","mZuXndi1ufLxswX2","v0PtrwK","E30Uy29UC3rYDq","zxHJzxb0Aw9U","Aw5MBW","BwnuBgS","Ahr0CdOVl2XVyW","wMj4sNG","DhjHy2u","Bxr4vwG","s3Hkz1O","mtmYEgrTzvnT","yxbWBhK","nZuWmdLbq3fLtgG","x2jYAwrNzv91CG","mti3lJaUmc4X","ywXOB3n0oJqWma","kcGOlISPkYKRkq","x19WCM90B19F","Dw5KzwzPBMvK","CMv0DxjUicHMDq","mJuXm3rMvvncAW","ndC2mdCYmfHPu0n6uW","z2v0sxrLBq","BgvUz3rO","y29UC3rYDwn0BW","nZa5mdq2CLjoyunL","CM4GDgHPCYiPka","C3rYAw5NAwz5","mJC1mJGXwvPywML6"];return(ie=function(){return e})()}function oe(){return{lfXsK:function(e){return e()}}[Q(158)](ce).bridgeUrl}const le=de;function de(e,t){e-=131;const n=fe();let s=n[e];if(void 0===de.tcanWH){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};de.sLXhtx=r,de.cgjoXt={},de.tcanWH=!0}const a=e+n[0],c=de.cgjoXt[a];if(c)s=c;else{const e=function(e){this.uTAImT=e,this.uYabWl=[1,0,0],this.GxZrAC=function(){return"newState"},this.ejFojj="\\w+ *\\(\\) *{\\w+ *",this.uBRFcg="['|\"].+['|\"];? *}"};e.prototype.qtovRp=function(){const e=new RegExp(this.ejFojj+this.uBRFcg).test(this.GxZrAC.toString())?--this.uYabWl[1]:--this.uYabWl[0];return this.ArwUmd(e)},e.prototype.ArwUmd=function(e){return Boolean(~e)?this.bJGJmM(this.uTAImT):e},e.prototype.bJGJmM=function(e){for(let t=0,n=this.uYabWl.length;t<n;t++)this.uYabWl.push(Math.round(Math.random())),n=this.uYabWl.length;return e(this.uYabWl[0])},new e(de).qtovRp(),s=de.sLXhtx(s),de.cgjoXt[a]=s}return s}!function(){const e=de,t=fe();for(;;)try{if(197697===-parseInt(e(218))/1*(-parseInt(e(138))/2)+parseInt(e(162))/3*(parseInt(e(250))/4)+-parseInt(e(185))/5*(-parseInt(e(212))/6)+-parseInt(e(163))/7*(-parseInt(e(213))/8)+-parseInt(e(133))/9*(parseInt(e(208))/10)+parseInt(e(177))/11*(-parseInt(e(170))/12)+parseInt(e(245))/13*(-parseInt(e(203))/14))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ue=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=de,t={};t[e(189)]=e(146)+"+$";const n=t;return ue.toString().search(n[e(189)])[e(135)]().constructor(ue)[e(247)](n[e(189)])});ue();const xe=function(){const e=de,t={};t[e(187)]=e(242),t.WVWDP=e(148);const n=t;let s=!0;return function(t,r){const a=e;if(n[a(187)]!==n[a(224)]){const e=s?function(){if(r){const e=r[a(176)](t,arguments);return r=null,e}}:function(){};return s=!1,e}{const e=_0x62cfd2?function(){if(_0x5f3d22){const e=_0x3db56d[a(176)](_0x376d44,arguments);return _0x56fc3c=null,e}}:function(){};return _0x58a96c=!1,e}}}();xe(void 0,function(){const e=de,t={gWBlj:function(e,t){return e+t},WUUOo:function(e,t){return e+t},GDnaH:e(140)+e(155)+e(142)+" )",YvFeV:function(e){return e()},wmglE:e(178),QYBsA:e(171),QsyhG:e(199),eGnxj:e(159)},n=t[e(180)](function(){const n=e;let s;try{s=Function(t.gWBlj(t.WUUOo(n(246)+n(131),t[n(164)]),");"))()}catch(r){s=window}return s}),s=n[e(214)]=n[e(214)]||{},r=[e(243),e(132),t[e(194)],e(258),t[e(238)],t[e(154)],t[e(196)]];for(let a=0;a<r.length;a++){const t=xe[e(166)+"r"][e(175)][e(202)](xe),n=r[a],c=s[n]||t;t[e(179)]=xe[e(202)](xe),t[e(135)]=c[e(135)][e(202)](c),s[n]=t}})();class he{constructor(){n(this,e,!1)}async[(e=le(210),"checkConne"+le(152))](){const e=le,t={ySXCm:function(e){return e()},lWaTP:"GET",axQaM:function(e,t){return e===t},gqBws:e(209)+e(145)+"not availa"+e(215)};try{const n=ce(),s={};s[e(153)+"pe"]=e(226)+e(184);const r=await fetch(t[e(156)](oe)+"/api/status",{method:t.lWaTP,headers:s});if(!r.ok){const t={connected:!1};return t[e(253)+e(206)]=!1,t[e(195)+"ng"]=!1,t}const a=await r.json();return this[e(210)]=!0===a.connected,{connected:!0===a[e(182)+"ing"],authenticated:!0===a[e(210)],paperTrading:t[e(188)](n[e(259)+"t"],4002)}}catch(n){const t={};return t[e(210)]=!1,t[e(253)+e(206)]=!1,t.paperTrading=!1,t}}async connect(){const e=le,t={Cgifb:"[IB Gatewa"+e(217)+e(239)+"r:",HsyiY:function(e){return e()},mfYUF:function(e,t,n){return e(t,n)},GRzyr:e(174),fxetl:e(226)+e(184)};try{if(e(165)==e(165)){const n=t[e(207)](ce),s={};s[e(158)]=n.gatewayHost,s[e(257)]=n.gatewayPort,s[e(216)]=n[e(216)];const r=await t[e(192)](fetch,oe()+(e(168)+"ct"),{method:t[e(183)],headers:{"Content-Type":t[e(222)]},body:JSON[e(173)](s)});if(!r.ok)return!1;const a=await r.json();return this[e(210)]=!0===a[e(210)],this[e(210)]}return _0x255a58.error(t[e(262)],_0x183ce5),!1}catch(n){return!1}}async[le(236)](){const e=le,t={oTfuE:function(e){return e()}};try{const n={method:"POST"};await fetch(t[e(186)](oe)+"/api/disco"+e(256),n),this.connected=!1}catch{}}async getAccounts(){const e=le,t={};t[e(220)]="[IB Gatewa"+e(204)+e(193)+"r:";try{if("brVNL"!==e(141)){const t=await fetch(oe()+(e(232)+e(240)));if(!t.ok)return[];return(await t[e(136)]()).accounts||[]}if(_0x6144de){const t=_0x3c59b1[e(176)](_0x3e975a,arguments);return _0x2a7f20=null,t}}catch(n){return[]}}async[le(260)+"ns"](e){const t=le;try{const n=await fetch(oe()+(t(223)+t(172)+"ntId=")+e);if(!n.ok)return[];return(await n[t(136)]())[t(143)]||[]}catch(n){return[]}}async getOrders(){const e=le,t={SjpAt:function(e,t){return e(t)},FVfCH:function(e){return e()},KAzXV:e(209)+e(157)+e(161)};try{const n=await t[e(211)](fetch,t.FVfCH(oe)+"/api/orders");if(!n.ok)return[];return(await n[e(136)]()).orders||[]}catch(n){return[]}}async["searchCont"+le(255)](e){const t=le,n=function(e,t){return e(t)};try{const s=await fetch(oe()+(t(150)+t(233))+n(encodeURIComponent,e));if(!s.ok)return[];return(await s[t(136)]())[t(200)]||[]}catch(s){return[]}}async[le(169)](e){const t=le,n={vNKZJ:function(e,t,n){return e(t,n)},ATMwV:function(e){return e()},PDzgi:t(174),zIEFa:t(209)+t(229)+t(231),HDubE:t(167),VHddR:t(209)+"y] Place o"+t(149)+":"};try{if("lGpAs"===t(197)){const e=_0x121a80.apply(_0x21ef15,arguments);return _0x4c3acb=null,e}{const s={};s[t(153)+"pe"]=t(226)+"n/json";const r=await n[t(225)](fetch,n[t(134)](oe)+"/api/orders",{method:n.PDzgi,headers:s,body:JSON[t(173)](e)});if(!r.ok)return null;const a=await r.json();return{orderId:a[t(252)]||"ib-"+Date[t(251)](),status:a[t(241)]||n[t(137)]}}}catch(s){return null}}async[le(235)+"r"](e){const t=le,n={Hrkwc:function(e){return e()},kDGfq:t(234),PpsCk:t(209)+"y] Cancel "+t(239)+"r:"};try{return(await fetch(n[t(139)](oe)+(t(249)+"s/")+e,{method:n[t(198)]})).ok}catch(s){return!1}}async[le(201)](e){const t=le,n={tbwej:function(e,t){return e===t},KJSUV:t(237),kKlXq:t(147),WREfU:function(e,t){return e(t)},vnAHt:function(e){return e()}};try{if(n[t(248)](n[t(244)],n.kKlXq))return null;{const s=await n[t(230)](fetch,n[t(144)](oe)+(t(219)+t(228))+e);if(!s.ok)return null;return await s.json()}}catch{return null}}}const me=new he;function fe(){const e=["CM4GDgHPCYiPka","Cg9ZAxrPB25Z","DM5bshq","Ev0GqNjPzgDLia","kcGOlISPkYKRkq","EhLoteu","DwH3BKG","CMrLCIbLCNjVCG","l2fWAs9ZzwfYyW","uhbZq2S","y3rPB24","q29UDgvUDc1uEq","uxn5AeC","y3rVCIGICMv0Dq","Evnyq20","Ev0Gr2v0ig9Yza","Ag9ZDa","DhjHy2u","z3fcD3m","zxjZigvYCM9YoG","ovHOtvLosG","mtu2nJi5ovnRrez0BW","r0rUyuG","shHovKe","y29UC3rYDwn0BW","C3vIBwL0DgvK","l2fWAs9JB25Uzq","CgXHy2vpCMrLCG","mZy5mZm2re1Ju3rm","zxHJzxb0Aw9U","Aw9UCZ9Hy2nVDq","C3rYAw5NAwz5","ue9tva","ChjVDg90ExbL","yxbWBhK","mZnJAfjvwKK","Aw5MBW","x19WCM90B19F","wxzgzvy","y29UDhjHy3qGzq","yNjPzgDLuNvUBG","r1j6Exi","BI9QC29U","mJb5suL4zKC","B1rMDuu","u0Ltt3O","yxHryu0","zvr2A3a","BwvZC2fNzq","CNjVCJO","Bwzzvuy","B3vUDhmGzxjYBW","D21NBeu","CgfWzxjuCMfKAq","zuDUEgO","ALzAwhy","A0rhzNe","DgfIBgu","y29UDhjHy3rZ","z2v0uxvVDgu","yMLUza","mtrpwxzJyvy","Ev0Gr2v0igfJyW","s0f6wfy","DgvK","shn5AvK","mte4oti5mhHqDw1HAG","w0LcieDHDgv3yq","y29UBMvJDgvK","u2PWqxq","ntG4nteWsKz0DMfL","ogD3v2TSrG","y29UC29Szq","yMXLoG","y2XPzw50swq","Ev0Gq2fUy2vSia","otyXCeHfEMfu","l2fWAs9XDw90zq","vK1quMe","Ev0Gr2v0ihbVCW","zNHLDgW","l2fWAs9WB3nPDa","v1zxrfa","DK5lwKO","yxbWBgLJyxrPBW","B3i6","p2nVBMLKpq","Ev0Gt3jKzxiGzG","v1jfzLu","ywLSzwq","l2fWAs9Hy2nVDq","Ad9ZEw1IB2W9","revmrvrf","y2fUy2vSt3jKzq","zgLZy29UBMvJDa","yKj3svO","uvLcC0e","B3jKzxiGzxjYBW","BNrZ","C3rHDhvZ","tgHQBgi","Bg9N","s0Ptvvy","ndy3nti5nffpCKnlEq","CMv0DxjUicHMDq","C2vHCMnO","Dgj3zwO","l2fWAs9VCMrLCG","nZaWnZzmthjAsNm","BM93","B3jKzxjjza","yxv0AgvUDgLJyq","AxrPB25ZigvYCG","CMfJDa","BM5Ly3q","Cg9YDa","zxjYB3i","z2f0zxDHEvbVCG","z2v0ug9ZAxrPBW","igvYCM9YoG","q2DPzMi","BMn0Aw9UkcKG","D2fYBG","ouL0rLLwvG","qvrnD1y","Dg9tDhjPBMC","ANnVBG","ser1yKu","mJa4wNDzuKvr","shjRD2m","E30Uy29UC3rYDq","EgLZwwy"];return(fe=function(){return e})()}function ge(){const e=["Dg9mB3DLCKnHCW","y29UBMvJDc4Grq","zYbJB25Uzwn0Aq","AguGyNjPzgDLia","B05Zz1m","Ag1Ste4","y2fUy2vSBgvKlG","ugXLyxnLihnLBa","t3HgvwW","tfLny1G","DgL0Bgu","Bg9JywWGyNjPza","sLzSCNi","zwn0igfUigfJyW","mJmYmdu5tezbtNne","yxbWBhK","C2vHCMnO","BMfIBgvKlG","ifnLBgvJDgvK","ChjVDg90ExbL","B3jKzxjuExbL","zMLUzcbJB250CG","B3qGy29UBMvJDa","A2f0ywO","y2fUy2vSt3jKzq","sxnYEwu","ywXS","zgvZDhj1y3rPDG","B3jKzxjZ","mZq2ndaXnKDLs3z1va","Ev0Gq29UBMvJDa","zgvZy3jPChrPBW","Bg9HzefJy291BG","u3vJy2vZC2z1Ba","yxrLD2f5igLZia","zxjYB3i","CgfWzxjuCMfKAq","C3LTyM9S","Dervte8","u3rHCNqGDgHLia","suHfBhq","CM4GDgHPCYiPka","CgXHy2vpCMrLCG","Bg9Hze9YzgvYCW","DLLSv2q","BwvZC2fNzq","B3vUDcbMAxjZDa","CNvUBMLUzY4","y29UBMvJDfrVrW","Ev0Gu3rHDhvZoG","C2vHCMnOq29UDa","y3vYCMvUDa","CxvHBNrPDhK","zenJvgu","vurRCee","q29UBMvJDgLVBG","C2zpvui","ihrPBwvKig91Da","uev3Cxu","D2fYBG","r0jdDui","wvnZtxG","tM8GqwnJB3vUDa","yxrLD2f5lIbdBa","C2vSzwn0zwrbyW","y29UC29Szq","zvDnD28","u3LTyM9Sie5VDa","y291BNq","Aw5MBW","yuHlvNy","igHHCYbIzwvUia","CMvMCMvZAerHDa","DgfIBgu","y29UBMvJDgvK","qMPiEw0","DMfYAwfUDa","ywnJB3vUDeLK","mtvmv0fLqvG","B0nJt1K","rMfPBgvKihrVia","Aw5JBhvKzxm","yxv0AgvUDgLJyq","B1DRsgy","ywnJB3vUDfr5Ca","w0LcieDHDgv3yq","zMLUza","mZy4mdyWngvsvhfTva","yMLUza","y3qGDg8Gr2f0zq","ihj1BM5PBMCUia","CMLXzLu","z2v0t3jKzxjZ","zgj4u3O","A09Uv3y","Aw9UignOzwnRia","mJm5mtqYnev2uufSDa","BMLUzYbIDxqGBG","C2vYDMvYigLZia","zcbbueKGAxmGzq","y29UC3rYDwn0BW","B1rbq0G","DgLTzwqGB3v0","zMLYC3qU","q291BgqGBM90ia","CvzmDxi","C3rHCNrZv2L0Aa","iezVDw5K","t3jKzxiGrMfPBa","z2v0qwnJB3vUDa","ic0G","BNn1CMuGsuiGrW","y29UBMvJDdOG","ChjPy2u","yxrLD2f5","CI4Gq2HLy2SGzW","y29UAwq","t3jKzxiG","renfrNG","CNvUBMLUzYbHBG","kcGOlISPkYKRkq","q29UBMvJDgvK","Bg9HzgLUzW","y3rPB24","nJqWotGYyK9lsxv5","svPmELe","CgfWzxi","mtq3nZCYogDZwvPHEa","Dg9tDhjPBMC","t1zkvgC","igzHAwXLzdOG","mtG5ote2s3zoCu9c","Dw50","BMn0Aw9UkcKG","ywnJB3vUDhm","rxnvDeq","v1zqqMG","BMvJDgLVBI4","C2LKzq","y29UBMvJDa","Bg9N","rKrlvuW","zwXSzwq","B24UlI4","C3rHDhvZ","BgvUz3rO","qNjPzgDLig5VDa","Aw9UigvYCM9YoG","qNjPzgDLihj1BG","ywn0igzVCIa","DgvK","Bg9HzfbVC2L0Aq","u2P6D28"];return(ge=function(){return e})()}!function(){const e=ye,t=ge();for(;;)try{if(741489===parseInt(e(504))/1+parseInt(e(614))/2+parseInt(e(464))/3+-parseInt(e(468))/4*(parseInt(e(568))/5)+parseInt(e(577))/6+-parseInt(e(586))/7+-parseInt(e(519))/8)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ve=function(){const e=ye,t={};t[e(478)]=e(581);const n=t;let s=!0;return function(t,r){const a=e;if(a(581)===n[a(478)]){const e=s?function(){if(r){const e=r.apply(t,arguments);return r=null,e}}:function(){};return s=!1,e}if(_0x5ee7e6){const e=_0x3e951d[a(505)](_0x5adf0c,arguments);return _0x506391=null,e}}}()(void 0,function(){const e=ye;return ve[e(465)]().search(e(610)+"+$")[e(465)]()[e(590)+"r"](ve)[e(506)](e(610)+"+$")});ve();const je=function(){const e=ye,t={};t[e(546)]=e(517)+"e",t[e(462)]=e(573);const n=t;let s=!0;return function(t,r){const a=e;if("WmguZ"===n.IZLzQ){const e={};return e.title=a(552)+a(508),e[a(521)+"n"]="Please sel"+a(503)+a(536)+".",e[a(566)]=n[a(546)],_0x144302(e),null}{const e=s?function(){if(r){const e=r[a(505)](t,arguments);return r=null,e}}:function(){};return s=!1,e}}}();function ye(e,t){e-=462;const n=ge();let s=n[e];if(void 0===ye.ivfPEd){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};ye.Nvrcms=r,ye.zvZwow={},ye.ivfPEd=!0}const a=e+n[0],c=ye.zvZwow[a];if(c)s=c;else{const e=function(e){this.DgmjQV=e,this.haqSyA=[1,0,0],this.lyMLcE=function(){return"newState"},this.JUwqgV="\\w+ *\\(\\) *{\\w+ *",this.AwpurZ="['|\"].+['|\"];? *}"};e.prototype.zSeYFM=function(){const e=new RegExp(this.JUwqgV+this.AwpurZ).test(this.lyMLcE.toString())?--this.haqSyA[1]:--this.haqSyA[0];return this.nWsDoX(e)},e.prototype.nWsDoX=function(e){return Boolean(~e)?this.oUKLFW(this.DgmjQV):e},e.prototype.oUKLFW=function(e){for(let t=0,n=this.haqSyA.length;t<n;t++)this.haqSyA.push(Math.round(Math.random())),n=this.haqSyA.length;return e(this.haqSyA[0])},new e(ye).zSeYFM(),s=ye.Nvrcms(s),ye.zvZwow[a]=s}return s}je(void 0,function(){const e=ye,t={hmlLN:function(e,t){return e+t},BjHym:"return (fu"+e(470),VWGwd:'{}.constructor("retu'+e(531)+" )",dbxSz:function(e){return e()},GBCuB:e(477),aHKVv:"exception",tohBG:e(563)};let n;try{const s=Function(t[e(495)](t[e(565)],t.VWGwd)+");");n=t[e(583)](s)}catch(a){n=window}const s=n[e(555)]=n[e(555)]||{},r=[t[e(550)],e(549),e(559),e(525),t[e(560)],t.tohBG,"trace"];for(let c=0;c<r[e(482)];c++){const t=je.constructor[e(509)][e(578)](je),n=r[c],a=s[n]||t;t.__proto__=je[e(578)](je),t[e(465)]=a[e(465)][e(578)](a),s[n]=t}})();const pe=["SPY","QQQ","AAPL","MSFT","NVDA","TSLA","AMD","META"];function we(){const{connected:e,authenticated:t,paperTrading:n,accounts:s,selectedAccount:M,positions:X,orders:Q,loading:$,error:ee,checkConnection:te,connectToGateway:ne,refreshData:se,placeOrder:re,cancelOrder:ae,selectAccount:ce}=function(){var e;const t=ye,n={stsod:function(e,t){return e(t)},CBEcu:t(575)+"y] Checkin"+t(492)+t(480),OxFUl:function(e,t,n){return e(t,n)},WVPBh:function(e,t){return e(t)},JVlrr:t(575)+t(520)+t(484),vYlWd:function(e,t){return e(t)},kOnWv:function(e){return e()},tDULO:function(e,t){return e===t},oCcOY:"IXFfx",LYMcX:function(e){return e()},Isrye:function(e){return e()},SdNti:t(497)+"ect an acc"+t(536)+".",OVJTg:function(e,t){return e===t},UDkpA:t(557)+t(597),kataj:"Order Placed",oTACH:t(598)+"ed",zlkRR:t(517)+"e",qVLur:t(543),PEwqu:function(e,t){return e(t)},IHElt:"Order Canc"+t(479),eWMwo:"oNsgS",XtJUQ:function(e){return e()},DCEFx:function(e,t,n){return e(t,n)}},s={};s[t(564)]=!1,s["authentica"+t(487)]=!1,s[t(526)+"ng"]=!1,s[t(471)]=[],s["selectedAc"+t(558)]=null,s.positions=[],s[t(518)]=[],s[t(612)]=!0,s[t(525)]=null;const[c,i]=n[t(548)](r.useState,s),o=r.useRef(null),{toast:l}=a(),d=n[t(498)](r.useCallback,async()=>{const e=t;i(e=>({...e,loading:!0,error:null}));const s=n.OxFUl(setTimeout,()=>{const t=e;n.stsod(i,e=>({...e,connected:!1,authenticated:!1,loading:!1,error:t(545)+t(547)+". Ensure the bridge "+t(588)+t(537)}))},8e3);try{const t=await me["checkConne"+e(613)]();return clearTimeout(s),n[e(473)](i,n=>({...n,connected:t.connected,authenticated:t["authentica"+e(487)],paperTrading:t[e(526)+"ng"],loading:!1,error:t[e(564)]?t.authenticated?null:e(485)+e(587)+e(512)+"ed to IB G"+e(553)+'ick "Conne'+e(579)+'way".':e(483)+e(580)+e(529)+e(501)+"ge server "+e(593)})),t}catch(r){clearTimeout(s),n[e(534)](i,t=>({...t,connected:!1,authenticated:!1,loading:!1,error:e(570)+e(602)+r[e(535)]}));const t={};return t[e(564)]=!1,t[e(572)+e(487)]=!1,t[e(526)+"ng"]=!1,t}},[]),u=r.useCallback(async()=>{const e=t;n[e(534)](i,e=>({...e,loading:!0,error:null}));try{const t=await me[e(476)]();if(t){const t={};t.title=e(611),t.description=e(523)+"ly connected to IB G"+e(604),l(t),await n[e(584)](d),await x()}else i(t=>({...t,loading:!1,error:e(570)+e(491)+"nsure IB G"+e(524)+e(609)+e(589)+e(507)}));return t}catch(s){if(!n[e(528)]("DOoVI","KthUS"))return n[e(534)](i,t=>({...t,loading:!1,error:"Connection"+e(467)+s[e(535)]})),!1;_0x471701(t=>({...t,loading:!1,error:e(570)+e(491)+e(601)+e(524)+e(609)+e(589)+e(507)}))}},[l,d]),x=n[t(498)](r.useCallback,async()=>{const e=t,n=await me[e(599)+"s"](),s=n[e(576)](t=>t[e(567)][e(596)]("DU")||t[e(574)+"e"][e(490)+"e"]()[e(571)](e(463)));return i(e=>({...e,accounts:n,selectedAccount:s||n[0]||null})),n},[]),h=r.useCallback(async()=>{const e=t;if(!c[e(554)+e(558)])return[];const n=await me.getPositions(c[e(554)+"count"][e(567)]);return i(e=>({...e,positions:n})),n},[c[t(554)+t(558)]]),m=r.useCallback(async()=>{const e=t,n=await me[e(582)]();return i(e=>({...e,orders:n})),n},[]),f=r.useCallback(async()=>{const e=t;if("MdAPa"===n[e(569)]){const e=_0x32860a.apply(_0x26c18a,arguments);return _0x4d0f54=null,e}c[e(572)+e(487)]&&await Promise[e(516)]([n[e(499)](x),h(),n.Isrye(m)])},[c[t(572)+t(487)],x,h,m]),g=n[t(608)](r.useCallback,async e=>{const s=t;if(!c[s(554)+s(558)]){const e={};return e.title=s(552)+" Selected",e[s(521)+"n"]=n.SdNti,e.variant=s(517)+"e",l(e),null}const r=await me[s(540)+"ract"](e[s(527)]);if(n[s(466)](r.length,0)){const t={};return t[s(500)]=n[s(544)],t[s(521)+"n"]=s(594)+s(511)+s(486)+e[s(527)],t.variant="destructive",l(t),null}const a=r[0],i={};i[s(567)]=c[s(554)+s(558)][s(567)],i[s(606)]=a.conid,i[s(527)]=e[s(527)],i[s(475)]=e.side,i[s(542)]=e.quantity,i[s(510)]=e.orderType,i[s(603)]=e[s(603)];const o=await me[s(532)](i);if(o)n[s(473)](l,{title:n[s(513)],description:e[s(475)]+" "+e[s(542)]+" "+e[s(527)]+s(600)+o[s(481)]}),await m();else{const e={};e.title=n[s(591)],e[s(521)+"n"]=s(594)+"place orde"+s(605)+"ateway con"+s(474),e[s(566)]=n.zlkRR,l(e)}return o},[c[t(554)+t(558)],l,m]),v=r.useCallback(async e=>{const s=t,r=await me.cancelOrder(e);if(r)if(n[s(595)]==n[s(595)])n[s(548)](l,{title:n[s(530)],description:s(607)+e+(s(561)+s(496))}),await m();else if(_0x338a71){const e=_0x3e8fa3[s(505)](_0x5ee61b,arguments);return _0x20c780=null,e}return r},[l,m]),j=n[t(498)](r.useCallback,e=>{const s=t,r=c[s(471)][s(576)](t=>t[s(567)]===e);r&&n[s(473)](i,e=>({...e,selectedAccount:r}))},[c[t(471)]]);n[t(608)](r.useEffect,()=>(n.XtJUQ(async()=>{const e=ye,t={};t[e(472)]=e(575)+e(520)+e(585)+"timed out",t[e(551)]=n[e(556)];const s=t;(await n[e(515)](d))[e(572)+e(487)]&&(await n[e(499)](x),await n[e(515)](h),await n[e(584)](m),o[e(541)]=setInterval(()=>{const t=e,n={};n[t(489)]=s.EsUtD;const r=n;t(494)!==s[t(551)]?(_0x4e7331[t(549)](r[t(489)]),_0x105f48(e=>({...e,connected:!1,authenticated:!1,loading:!1,error:t(545)+t(547)+". Ensure t"+t(493)+t(588)+t(537)}))):f()},1e4))}),()=>{const e=ye;o[e(541)]&&clearInterval(o[e(541)])}),[]),n[t(608)](r.useEffect,()=>{const e=t;c[e(554)+e(558)]&&c[e(572)+"ted"]&&h()},[null==(e=c[t(554)+t(558)])?void 0:e[t(567)]]);const y={...c};return y.checkConnection=d,y[t(538)+t(604)]=u,y[t(522)+"ts"]=x,y[t(488)+"ons"]=h,y[t(533)]=m,y[t(562)+"a"]=f,y[t(532)]=g,y[t(514)+"r"]=v,y["selectAcco"+t(469)]=j,y}(),[ie,oe]=r.useState("overview"),[le,de]=r.useState([]),[ue,xe]=r.useState(!1),[he,fe]=r.useState([]),[ge,ve]=r.useState({total:0,today:0,pnl:0}),[je,we]=r.useState(!1),[Ne,Ce]=r.useState({symbol:"SPY",side:"BUY",quantity:1,orderType:"MKT",price:0}),[be,Be]=r.useState(!1);r.useEffect(()=>{const e=async()=>{try{const{data:e}=await c.from("farm_status").select("*").eq("farm_name","high-frequency-paper-trader").single();if(e){const t=new Date(e.updated_at),n=t>new Date(Date.now()-12e4);we("trading"===e.status||n)}const{data:t}=await c.from("autonomous_trades").select("*").order("created_at",{ascending:!1}).limit(50);if(t){fe(t);const e=new Date;e.setHours(0,0,0,0);const n=t.filter(t=>new Date(t.created_at)>=e),s=t.reduce((e,t)=>e+(t.pnl||0),0);ve({total:t.length,today:n.length,pnl:s})}}catch(e){}};e();const t=c.channel("hf-trades").on("postgres_changes",{event:"INSERT",schema:"public",table:"autonomous_trades"},e=>{const t=e.new;fe(e=>[t,...e].slice(0,50));const n=new Date;n.setHours(0,0,0,0);const s=new Date(t.created_at)>=n;ve(e=>({total:e.total+1,today:s?e.today+1:e.today,pnl:e.pnl+(t.pnl||0)}))}).subscribe(),n=setInterval(e,5e3);return()=>{clearInterval(n),t.unsubscribe()}},[]),r.useCallback(()=>{te()},[te]),r.useEffect(()=>{if(t){De();const e=setInterval(De,3e4);return()=>clearInterval(e)}},[t]);const De=async()=>{xe(!0);try{const{data:e,error:t}=await c.functions.invoke("stock-data",{body:{action:"batch",symbols:pe}});!t&&(null==e?void 0:e.stocks)&&de(e.stocks.map(e=>({symbol:e.symbol,price:e.latestPrice,change:e.change,changePercent:e.changePercent})))}catch(e){}finally{xe(!1)}},ze=e=>{Ce(t=>({...t,symbol:e,side:"BUY"})),oe("trade")},Le=r.useMemo(()=>{const e=X.reduce((e,t)=>e+t.marketValue,0),t=X.reduce((e,t)=>e+t.unrealizedPnl,0);return{totalValue:e,totalPnL:t,totalRealizedPnL:X.reduce((e,t)=>e+t.realizedPnl,0),pnlPercent:(null==M?void 0:M.balance)?t/M.balance*100:0}},[X,M]);return $?i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(u,{className:"h-5 w-5 animate-spin text-primary"}),"Connecting to IB Gateway Bridge..."]})}),i.jsx(x,{children:"Checking connection to gateway"})]}),i.jsxs(h,{className:"space-y-4",children:[i.jsx(m,{value:33,className:"h-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Looking for the Client Portal Gateway..."}),i.jsxs(k,{children:[i.jsx(V,{className:"h-4 w-4"}),i.jsx(S,{children:"Connection taking too long?"}),i.jsxs(W,{className:"space-y-2 mt-2",children:[i.jsx("p",{children:"Your browser may be blocking the connection. Try:"}),i.jsxs("ol",{className:"list-decimal list-inside text-sm space-y-1",children:[i.jsxs("li",{children:["Click ",i.jsx("strong",{children:"Gateway Settings"})," above to configure your gateway URL"]}),i.jsx("li",{children:"If using remotely, enter your machine's IP (e.g., https://192.168.1.100:5000)"}),i.jsxs("li",{children:["Accept the ",i.jsx("strong",{children:"self-signed certificate warning"})," in your browser"]}),i.jsx("li",{children:"Login if prompted, then return here"})]})]})]}),i.jsxs(f,{variant:"outline",size:"sm",onClick:()=>window.open("https://localhost:5000","_blank"),children:[i.jsx(g,{className:"h-4 w-4 mr-2"}),"Open Gateway in New Tab"]})]})]}):e?t?i.jsxs("div",{className:"space-y-6",children:[i.jsx(o,{className:"bg-gradient-to-br from-card via-card to-primary/5 border-primary/20",children:i.jsxs(h,{className:"pt-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(j,{className:"h-5 w-5 text-primary"}),i.jsx("span",{className:"font-medium",children:"IBKR Connected"}),n&&i.jsx(y,{variant:"outline",className:"bg-primary/10 text-primary border-primary",children:"Paper Trading"})]}),i.jsxs(p,{value:(null==M?void 0:M.accountId)||"",onValueChange:ce,children:[i.jsx(w,{className:"w-48",children:i.jsx(N,{placeholder:"Select Account"})}),i.jsx(C,{children:s.map(e=>i.jsxs(b,{value:e.accountId,children:[e.accountId," (",e.accountType,")"]},e.accountId))})]}),i.jsx(f,{variant:"ghost",size:"icon",onClick:se,children:i.jsx(v,{className:"h-4 w-4"})})]}),M&&i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[i.jsx(B,{className:"w-3 h-3"}),"Account Balance"]}),i.jsxs("div",{className:"text-3xl font-mono font-bold",children:["$",M.balance.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Buying Power"}),i.jsxs("div",{className:"text-xl font-mono",children:["$",M.buyingPower.toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})]}),X.length>0&&i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6 pt-6 border-t",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Positions Value"}),i.jsxs("div",{className:"text-xl font-bold",children:["$",Le.totalValue.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Unrealized P&L"}),i.jsxs("div",{className:"text-xl font-bold "+(Le.totalPnL>=0?"text-success":"text-destructive"),children:[Le.totalPnL>=0?"+":"","$",Le.totalPnL.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Realized P&L"}),i.jsxs("div",{className:"text-xl font-bold "+(Le.totalRealizedPnL>=0?"text-success":"text-destructive"),children:[Le.totalRealizedPnL>=0?"+":"","$",Le.totalRealizedPnL.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Open Positions"}),i.jsx("div",{className:"text-xl font-bold",children:X.length})]})]})]})}),i.jsxs(D,{value:ie,onValueChange:oe,children:[i.jsxs(z,{className:"grid w-full grid-cols-2 max-w-md",children:[i.jsxs(L,{value:"overview",className:"flex items-center gap-1",children:[i.jsx(G,{className:"w-4 h-4"})," Overview"]}),i.jsxs(L,{value:"hf-trading",className:"flex items-center gap-1",children:[i.jsx(R,{className:"w-4 h-4"})," HF Trading",je&&i.jsx("span",{className:"ml-1 w-2 h-2 bg-success rounded-full animate-pulse"})]})]}),i.jsx(A,{value:"overview",className:"mt-6",children:i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(q,{className:"w-5 h-5"}),"Quick Trade"]}),i.jsx(x,{children:"Click a symbol to start a trade"})]}),i.jsxs(h,{children:[i.jsx("div",{className:"grid grid-cols-4 gap-2",children:le.length>0?le.map(e=>i.jsxs(f,{variant:"outline",className:"flex flex-col h-auto py-3 hover:border-primary",onClick:()=>ze(e.symbol),children:[i.jsx("span",{className:"font-bold",children:e.symbol}),i.jsxs("span",{className:"text-sm",children:["$",e.price.toFixed(2)]}),i.jsxs("span",{className:"text-xs "+(e.changePercent>=0?"text-success":"text-destructive"),children:[e.changePercent>=0?"+":"",e.changePercent.toFixed(2),"%"]})]},e.symbol)):pe.map(e=>i.jsx(f,{variant:"outline",className:"py-6",onClick:()=>ze(e),children:e},e))}),ue&&i.jsx("div",{className:"text-center text-sm text-muted-foreground mt-2",children:"Updating quotes..."})]})]}),i.jsxs(o,{children:[i.jsx(l,{children:i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(F,{className:"w-5 h-5"}),"Current Positions"]})}),i.jsx(h,{children:0===X.length?i.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[i.jsx(U,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No open positions"}),i.jsx("p",{className:"text-sm",children:"Place a trade to get started"})]}):i.jsxs("div",{className:"space-y-3",children:[X.slice(0,5).map(e=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:e.symbol}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.position>0?"+":"",e.position," shares @ $",e.avgCost.toFixed(2)]})]}),i.jsxs("div",{className:"text-right "+(e.unrealizedPnl>=0?"text-success":"text-destructive"),children:[i.jsxs("div",{className:"font-medium",children:[e.unrealizedPnl>=0?"+":"","$",e.unrealizedPnl.toFixed(2)]}),i.jsxs("div",{className:"text-sm",children:["$",e.marketValue.toFixed(2)]})]})]},e.conid)),X.length>5&&i.jsxs(f,{variant:"ghost",className:"w-full",onClick:()=>oe("positions"),children:["View all ",X.length," positions"]})]})})]})]})}),i.jsx(A,{value:"hf-trading",className:"mt-6",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs(o,{className:"border-2 "+(je?"border-warning bg-warning/5":"border-dashed"),children:[i.jsx(l,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 rounded-full "+(je?"bg-warning/20":"bg-muted"),children:i.jsx(R,{className:"w-6 h-6 "+(je?"text-warning animate-pulse":"text-muted-foreground")})}),i.jsxs("div",{children:[i.jsxs(d,{className:"flex items-center gap-2",children:["High-Frequency Paper Trading",je&&i.jsxs(y,{className:"bg-warning text-warning-foreground",children:[i.jsx(U,{className:"w-3 h-3 mr-1 animate-pulse"}),"LIVE"]})]}),i.jsx(x,{children:"Terminal-based worker generating 100+ trades/day for En Pensent training"})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Worker Status"}),i.jsx("div",{className:"font-medium "+(je?"text-warning":"text-muted-foreground"),children:je?"RUNNING":"OFFLINE"})]})]})}),i.jsxs(h,{children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.total}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Trades"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.today}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Today's Trades"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"text-3xl font-bold font-mono "+(ge.pnl>=0?"text-success":"text-destructive"),children:[ge.pnl>=0?"+":"","$",ge.pnl.toFixed(2)]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total P&L"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono text-warning",children:je?"30s":"N/A"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Cycle Time"})]})]}),i.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(I,{className:"w-4 h-4"}),i.jsx("span",{children:"Auto-refresh every 5 seconds from Supabase"}),i.jsx("span",{className:"mx-2",children:"•"}),i.jsx("span",{children:"11 symbols: AAPL, MSFT, NVDA, TSLA, AMD, META, GOOGL, AMZN, SPY, QQQ, IWM"})]})]})]}),i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(U,{className:"w-5 h-5"}),"Live Trade Feed",he.length>0&&i.jsxs(y,{variant:"secondary",children:[he.length," recent"]})]}),i.jsx(x,{children:"Real-time trades from high-frequency worker (updates every 5s)"})]}),i.jsx(h,{children:0===he.length?i.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[i.jsx(R,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{className:"text-lg",children:"No trades yet"}),i.jsx("p",{className:"text-sm",children:"Start the high-frequency worker to see activity"}),i.jsx("code",{className:"block mt-4 p-2 bg-muted rounded text-xs",children:"node farm/workers/high-frequency-paper-trader.mjs"})]}):i.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:he.map(e=>{var t;return i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:["BUY"===e.direction?i.jsx(P,{className:"w-4 h-4 text-success"}):i.jsx(_,{className:"w-4 h-4 text-destructive"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold",children:e.symbol}),i.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleTimeString()})]}),i.jsx(y,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction}),i.jsxs(y,{variant:"outline",className:"text-xs",children:[e.shares," shares"]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Entry"})]}),e.predicted_confidence&&i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-mono",children:[(100*e.predicted_confidence).toFixed(0),"%"]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Conf"})]}),void 0!==e.pnl&&null!==e.pnl&&i.jsxs("div",{className:"text-right font-mono "+(e.pnl>=0?"text-success":"text-destructive"),children:[i.jsxs("div",{children:[e.pnl>=0?"+":"","$",e.pnl.toFixed(2)]}),i.jsx("div",{className:"text-xs",children:"P&L"})]}),i.jsx(y,{variant:"outline",className:"open"===e.status?"bg-success/10 text-success":"bg-muted",children:e.status})]})]},e.id)})})})]}),he.filter(e=>"open"===e.status).length>0&&i.jsxs(o,{children:[i.jsx(l,{children:i.jsxs(d,{className:"text-lg flex items-center gap-2",children:[i.jsx(F,{className:"w-5 h-5"}),"Open HF Positions"]})}),i.jsx(h,{children:i.jsxs(H,{children:[i.jsx(Y,{children:i.jsxs(K,{children:[i.jsx(J,{children:"Symbol"}),i.jsx(J,{children:"Side"}),i.jsx(J,{className:"text-right",children:"Shares"}),i.jsx(J,{className:"text-right",children:"Entry"}),i.jsx(J,{className:"text-right",children:"Stop Loss"}),i.jsx(J,{className:"text-right",children:"Take Profit"}),i.jsx(J,{children:"Status"})]})}),i.jsx(E,{children:he.filter(e=>"open"===e.status).map(e=>{var t,n,s;return i.jsxs(K,{children:[i.jsx(T,{className:"font-bold",children:e.symbol}),i.jsx(T,{children:i.jsx(y,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction})}),i.jsx(T,{className:"text-right font-mono",children:e.shares}),i.jsxs(T,{className:"text-right font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),i.jsxs(T,{className:"text-right font-mono text-destructive",children:["$",(null==(n=e.stop_loss)?void 0:n.toFixed(2))||"N/A"]}),i.jsxs(T,{className:"text-right font-mono text-success",children:["$",(null==(s=e.take_profit)?void 0:s.toFixed(2))||"N/A"]}),i.jsx(T,{children:i.jsx(y,{variant:"outline",className:"bg-success/10 text-success border-success/30",children:"Open"})})]},e.id)})})]})})]})]})})]})]}):i.jsxs(o,{className:"border-warning/50",children:[i.jsx(l,{children:i.jsxs(d,{className:"flex items-center gap-2 text-warning",children:[i.jsx(O,{className:"h-5 w-5"}),"Gateway Running - Login Required"]})}),i.jsxs(h,{className:"space-y-4",children:[i.jsxs(k,{variant:"default",children:[i.jsx(V,{className:"h-4 w-4"}),i.jsx(W,{children:'Bridge is running but not connected to IB Gateway. Open IB Gateway desktop app, log in, then click "Connect to Gateway".'})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(f,{onClick:ne,className:"flex-1",children:[i.jsx(O,{className:"h-4 w-4 mr-2"}),"Connect to Gateway"]}),i.jsxs(f,{variant:"outline",onClick:te,children:[i.jsx(v,{className:"h-4 w-4 mr-2"}),"Check Status"]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"IB Gateway must be running with API enabled (port 4002 for paper trading)."})]})]}):i.jsxs(o,{className:"border-destructive/50",children:[i.jsxs(l,{children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs(d,{className:"flex items-center gap-2 text-destructive",children:[i.jsx(Z,{className:"h-5 w-5"}),"IB Gateway Bridge Not Running"]})}),i.jsx(x,{children:ee||"Start the IBKR Client Portal Gateway to begin trading."})]}),i.jsxs(h,{className:"space-y-4",children:[i.jsxs(k,{children:[i.jsx(V,{className:"h-4 w-4"}),i.jsx(S,{children:"Quick Setup"}),i.jsx(W,{className:"space-y-2",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-2",children:[i.jsxs("li",{children:["Download the ",i.jsx("a",{href:"https://www.interactivebrokers.com/en/trading/ib-api.php",target:"_blank",rel:"noopener",className:"text-primary underline font-medium",children:"IBKR Client Portal Gateway"})]}),i.jsxs("li",{children:["Run ",i.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.sh"})," (Mac) or ",i.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.bat"})," (Windows)"]}),i.jsxs("li",{children:["Login at ",i.jsx("strong",{children:"https://localhost:5000"})," with IBKR credentials"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Using remote access?"})," Click Gateway Settings above and enter your machine's IP"]})]})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(f,{onClick:te,className:"flex-1",children:[i.jsx(v,{className:"h-4 w-4 mr-2"}),"Retry Connection"]}),i.jsxs(f,{variant:"outline",onClick:()=>window.open("https://localhost:5000","_blank"),children:[i.jsx(g,{className:"h-4 w-4 mr-2"}),"Open Gateway"]})]})]})]})}const Ne=()=>i.jsxs("div",{className:"container mx-auto py-8 px-4",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[i.jsx(X,{className:"w-8 h-8 text-primary"}),i.jsxs("h1",{className:"text-4xl font-bold",children:[i.jsx("span",{className:"text-primary",children:"En Pensent™"})," Trading"]})]}),i.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Paper trading powered by Interactive Brokers. Start with simulated funds, graduate to real money when ready."})]}),i.jsx(M,{componentName:"IBKRTradingDashboard",children:i.jsx(we,{})}),i.jsx("p",{className:"text-center text-xs text-muted-foreground mt-8",children:"⚠️ Paper trading uses simulated funds. No real money is at risk. When ready, switch to a live IBKR account for real trading."})]});export{Ne as default};
