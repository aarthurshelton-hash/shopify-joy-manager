import{d9 as e,da as t,cs as n,a as s,u as r,r as a,J as i,o,s as c,aJ as l,aa as u,cP as d,j as m,L as f,C as x,x as h,D as p,B as v,A as g,p as w,t as j,cQ as y,bF as C,S as b,a6 as z,P as N,y as M,bJ as S,T as q,aq as D,z as _,cX as E,aj as A,aV as L,cd as B,b as k,db as G}from"./index-CiI6UKiY.js";function K(){const e=["AxnmAwDODa","phn2zYb4BwXUCW","B2frq3K","ndaWideWChGGjW","AgXnweO","Dgv4DejHC2vSAq","zw9Yz2LHlcbZzq","BMTIzgO","C2nHBgu","thv4BeS","mtG1mdCYzezNDNPX","Cef0ExG","zhjHD0LTywDL","sw50zxiNlcbZyq","AKPmu2m","Dev5Eg0","BgLUzvrV","zhrOpsi","zMTNvuW","CNfKANO","ELfYwwG","DhjHy2u","nJaWidi0ChGGjW","txfYCxy","zwTeueK","zNngrMG","r3vnwKu","iIb3Awr0Ad0I","q2vcEgC","zK1PAMC","wxjiCe4","CMvZDg9Yzq","z1LyCMm","zgfYAW","B25LCNjVCG","BwLKzgXL","D2LKDgG","iI8+","y3jVC3npCMLNAq","uMXmD1m","AvbKrgG","vvf1zKm","CLnMqLG","swnLCNK","vufvugO","iZbbmeeWqq","i0zbrKfgqq","qMXHy2S","mta0nZy5mejTC2LwEa","uM9Tyw4NlcbuAq","odu5nZfArfHmCNK","AgLNAa","rvnnr24","iIbMAwXSpsi","yvLvvgu","tMr0qwS","E30Uy29UC3rYDq","tw5xs0q","ExvIt1a","AM9PBG","mJuZnJuZnK1Kv0PzDW","phjLy3qGEd0Ima","tMLJzMS","CMv2B2TLt2jQzq","B3bXAwy","i0zerKngqG","CMv0DxjUicHMDq","Aw1Hz2uVC3zNkW","C0HQC1y","tLjHEvu","uKr6AxK","zfPwqKK","CvDQENK","x19WCM90B19F","BwvHC3vYzvrLEa","C0zMyLi","uxHyBeC","AxrHBgLJiduWma","tKTcDwq","sgHlzeu","C3bSAxq","psjODhrWoI8VDW","DgfIBgu","y29UC3rYDwn0BW","y2fUDMfZ","phjLy3qGEd0I","mJu1lcaYntuSia","CMvHzhK","EefIDLO","yMXHy2S","CM91BMrszwn0","ihzZia","rMzMCve","Dg9tDhjPBMC","BgvMDa","y3rVCIGICMv0Dq","svH2C3i","yMvNAw5qyxrO","s3fpt24","z2v0q29UDgv4Da","zM9UDhm","iIb5psiWiIb3Aq","i2e4yti5zq","CvnKs2u","uwL5wge","BvzUy3u","pc9ZDMC+","y29SB3i","AgvPz2H0","zMLSBa","vgLTzxmGtMv3ia","nJaWideZChGGjW","q2LUEMvSjYWGjW","Egf2s0C","t0zHDwK","Bw9Yyw50jYWGrW","AgLUz1f1ywXPDa","iIb5psi","tffUy2S","Bg9N","C2vHCMnO","zgf0zq","EKTjr1y","D2HPDgu","ru4Guevou0vova","y29T","suD2s1m","uLHMv3i","yw5VBNLTB3vZ","ALbtzMi","EM9qDeS","zMLSBfjLy3q","Dgv4DefSAwDU","zxzLBNq","iZq0ndaZyW","iIbOzwLNAhq9iG","zw50","ChjVDg90ExbL","EuvHALK","ywXWAgfIzxrPyW","ug1cz1K","CM4GDgHPCYiPka","Dg9vChbLCKnHCW","swzdCwC","zhv0EeS","zhzkyxi","iZC4nZe2yW","BgvUz3rO","B25SB2fK","ntaWideXChGGjW","kcGOlISPkYKRkq","Bgv4ENC","C3vIC3rYAw5N","zfHRrKC","CuHSCLK","iZi5mJuYna","zMLSBfn0EwXL","wvLZv1i","Bhblq0C","rMfPBgvKihrVia","DejRuey","yxbWBhK","Eg1So2nOyxjZzq","CMvKDwnL","DujUs1G","zgvMyxvSDa","rvrxA1m","idiWChGGj0nVCG","zxHJzxb0Aw9U","ndaWideXChGGjW","AxfwEMS","CMTnv0q","Bg9HzcbtvKC","y3jLyxrLrwXLBq","BwvZlcbZzxjPzG","Aw5MBW","BMn0Aw9UkcKG","Aw1Hz2vtBw9VDa","CMLM","nde3ndi5merTAxjvAa","zKDAwKu","qxzRvvm","BwLU","BgLUzvDPzhrO","BNmTC2vYAwy","ugT5CMu","AK56q3y","EgnZu1y","y2vUDgvY","C2f2zq","DhzoA1C","BMzLz1i","Bw92zxm","q1vIt1K","vw5RBM93BG","AgLUz0vUywjSzq","iIb2Awv3qM94pq","mc45nsK","CxjJB2rL","BuPqr0S","quvNCfG","C3jJ","y3rvuKW","v0nsDgK","DwTqvKq","qMHru0K","CgLLy2u","wePAq1q","zw1Xsxe","ntaWideYChGGjW","yxjJ","BMPMtei","yKfoseq","zMLSBfrLEhq","Bgf5zxjtAxPL","mte1ndqZndrRreD5qMG","uM9Tyw4NlcbZzq","ChvZAa","zu1zsLK","i2u3ztvLna","uuPoBeC","Aw5JBhvKzxm","wgzNt1K","yMLUza","mte3nJi0ohP3z1vOza","AKjbsMi","sfDLCM8","iZfbmueXqq","CMDIysGYntuSia","y29UC29Szq","u3nOExa","EgzvBNm","DxrXtgG","pZ8/pY4/pY4/pW","zM9UDa"];return(K=function(){return e})()}!function(){const e=O,t=K();for(;;)try{if(600363===-parseInt(e(248))/1+parseInt(e(208))/2+-parseInt(e(246))/3+-parseInt(e(187))/4+-parseInt(e(142))/5+parseInt(e(258))/6+parseInt(e(178))/7)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const P=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[O(359)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=O;return P[e(291)]().search(e(348)+"+$").toString()[e(281)+"r"](P)[e(318)](e(348)+"+$")});P();const I=function(){const e=O,t={};t[e(175)]=e(326),t.pAtyx=e(239);const n=t;let s=!0;return function(t,r){const a=e,i={};i[a(253)]=n[a(175)],i[a(328)]=a(338);const o=i;if(n[a(209)]==n[a(209)]){const e=s?function(){if(a(154)===o.zoPtK)return _0x2ca08e;if(r){const e=r.apply(t,arguments);return r=null,e}}:function(){};return s=!1,e}{const e=new _0x27954a;e[a(236)+"n"]=o[a(253)],e[a(346)]=()=>_0xaad2c4(e),e[a(232)]=_0xf8f95c,e.src=_0x2e6887}}}();function O(e,t){e-=130;const n=K();let s=n[e];if(void 0===O.xLDCES){var r=function(e){let t="",n="",s=t+r;for(let r,a,i=0,o=0;a=e.charAt(o++);~a&&(r=i%4?64*r+a:a,i++%4)?t+=s.charCodeAt(o+10)-10!=0?String.fromCharCode(255&r>>(-2*i&6)):i:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};O.SCoHbf=r,O.GCdbYe={},O.xLDCES=!0}const a=e+n[0],i=O.GCdbYe[a];if(i)s=i;else{const e=function(e){this.Mynhvn=e,this.tfCCjV=[1,0,0],this.exyORf=function(){return"newState"},this.UPtJOx="\\w+ *\\(\\) *{\\w+ *",this.yMTevf="['|\"].+['|\"];? *}"};e.prototype.NQfsqp=function(){const e=new RegExp(this.UPtJOx+this.yMTevf).test(this.exyORf.toString())?--this.tfCCjV[1]:--this.tfCCjV[0];return this.eVaQeA(e)},e.prototype.eVaQeA=function(e){return Boolean(~e)?this.hGgWcO(this.Mynhvn):e},e.prototype.hGgWcO=function(e){for(let t=0,n=this.tfCCjV.length;t<n;t++)this.tfCCjV.push(Math.round(Math.random())),n=this.tfCCjV.length;return e(this.tfCCjV[0])},new e(O).NQfsqp(),s=O.SCoHbf(s),O.GCdbYe[a]=s}return s}I(void 0,function(){const e=O,t={jJLSc:function(e,t){return e(t)},BhQSI:function(e,t){return e+t},CeBxg:function(e){return e()},NRayU:"warn",Xgkob:"info",yaaiA:"error",uBnKX:e(280),Sshyp:function(e,t){return e<t},erOAx:function(e,t){return e!==t},ekDPI:"TbDpR"};let n;try{const s=t[e(212)](Function,t[e(168)](t[e(168)](e(264)+e(139),e(254)+e(293)+e(339)+" )"),");"));n=t[e(226)](s)}catch(a){n=window}const s=n[e(192)]=n[e(192)]||{},r=[e(317),t[e(267)],t.Xgkob,t.yaaiA,e(131),t[e(362)],e(219)];for(let i=0;t[e(193)](i,r[e(345)]);i++)if(t.erOAx(t[e(222)],e(162))){const t=I.constructor[e(335)][e(186)](I),n=r[i],a=s[n]||t;t[e(271)]=I.bind(I),t.toString=a.toString[e(186)](a),s[n]=t}else if(_0x5e80ee){const t=_0x286652[e(359)](_0xd53c2,arguments);return _0x4abcb9=null,t}})();async function T(){const e=O;document[e(298)]&&document.fonts[e(285)]&&await document.fonts[e(285)],await new Promise(e=>setTimeout(e,150))}function W(n,s){const r=O,a={};a[r(133)]="????.??.??",a[r(221)]=function(e,t){return e/t},a[r(171)]=function(e,t){return e*t},a[r(270)]=function(e,t){return e+t},a[r(213)]=function(e,t){return e<t},a[r(273)]=function(e,t){return e*t},a.opqif=function(e,t){return e>t},a[r(256)]=function(e,t){return e-t},a[r(294)]=function(e,t){return e*t},a[r(149)]=function(e,t){return e<t},a[r(185)]=r(143);const i=a,o=i.Mqrqv(s,8),c=i[r(171)](s,.02),l=i.qWjzy(s,i[r(171)](c,2));let u=r(199)+r(279)+'ww.w3.org/2000/svg" width="'+l+r(333)+l+r(159)+'"0 0 '+l+" "+l+'">';u+=r(259)+r(299)+r(215)+l+r(333)+l+r(251)+e.border+r(235);for(let d=0;i.tEyxm(d,8);d++){const s=7-d;for(let a=0;a<8;a++){const l=n[s][a],m=l[r(198)]?e.light:e[r(231)],f=c+a*o,x=c+i.sFfbR(d,o);if(u+='<rect x="'+f+r(315)+x+r(225)+o+r(333)+o+'" fill="'+m+r(235),i[r(262)](l.visits[r(345)],0)){const e=.08*o,n=[];for(const i of l.visits){const e=t(i[r(169)],i[r(305)]);!n[r(184)](e)&&n[r(180)](e)}const s=Math[r(145)](n[r(345)],6),a=[];let c=i[r(256)](o,i[r(294)](e,2));const d=i.Mqrqv(i[r(171)](c,.7),s);for(let t=0;i[r(149)](t,s);t++){const e={};if(e[r(305)]=n[t],e[r(177)]=c,a[r(180)](e),c-=d,i[r(149)](c,.1*o))break}for(const t of a){if(i[r(185)]!==r(143))return _0x344716&&_0x3c4a0b!==r(157)&&_0x14033c!==i[r(133)]?_0xb34676:_0x102711;{const e=(o-t[r(177)])/2;u+=r(283)+(f+e)+r(315)+(x+e)+r(225)+t.layerSize+'" height="'+t.layerSize+r(251)+t.color+r(235)}}}}}return u+=r(304),u}async function Y(e){const t=O,n={};n[t(189)]=t(161),n[t(202)]="https://enpensent.com",n[t(255)]="transparent";const s=n;return(await import(s.HWero))[t(363)].toDataURL(s[t(202)],{width:200,margin:1,color:{dark:t(e?244:190),light:s[t(255)]},errorCorrectionLevel:"M"})}async function U(){return new Promise((e,t)=>{const s=O,r=new Image;r[s(236)+"n"]=s(326),r[s(346)]=()=>e(r),r[s(232)]=t,r[s(164)]=n})}async function V(e,t,n={}){const s=O,r={IfCqg:s(292),LQnck:function(e,t){return e(t)},fkgUL:function(e,t){return e+t},RlLwS:'{}.constructor("retu'+s(339)+" )",MOARY:function(e){return e()},QJNlG:function(e,t){return e(t)},aYUTe:"return (fu"+s(139),Pkyre:function(e,t){return e<t},XJZCT:function(e,t){return e===t},xAbvZ:s(241),dXkFG:function(e){return e()},AjjEF:function(e,t,n){return e(t,n)},ETWkS:function(e,t){return e+t},RDziy:function(e,t){return e+t},iwMvH:s(282),jBAJb:function(e,t){return e*t},iPdDh:s(243),AvkUS:s(263),qHlrY:s(182),trSpR:"#292524",KqOOn:s(344),FuzPK:s(300),vpWVa:function(e,t){return e/t},OFaui:"White",lpKCG:s(245),tBkPF:s(233),xfUns:s(220)+"Cinzel', '"+s(308)+s(179)+"rif",zKIGV:s(275)+s(130)+"morant', G"+s(204)+s(141),rSfBX:function(e,t){return e+t},oaQCy:function(e,t){return e+t},AEgpX:s(275)+" 18px 'Cor"+s(313)+s(204)+"rif",fsFFh:s(151),TnThk:function(e,t){return e||t},qSdKe:function(e,t){return e===t},xcsSV:"  â€¢  ",FffqQ:function(e,t){return e-t},dvJar:function(e,t){return e-t},sHjsV:function(e,t){return e/t},gYXrc:function(e,t){return e+t},eMYJY:s(201)+s(308)+s(247)+s(137),uVbIS:function(e,t){return e>t},ESMGn:function(e,t){return e-t},ukPVD:function(e,t){return e*t},GPfxF:function(e,t){return e>=t},RXfWr:function(e,t){return e!==t},lexzw:s(302),Nicfk:s(311),fZjpA:"UAUPj",IBqXR:"â™” EN PENSENT â™š",OtViI:function(e,t){return e-t},gnJnd:function(e,t){return e-t},GuMZE:function(e,t){return e/t},dutxK:function(e,t){return e+t},CUbOY:s(309)+s(211)+s(147),HhKdE:s(132)+s(211)+s(147),jYYrY:function(e,t){return e-t},njfLB:function(e,t){return e+t}};await r[s(351)](T);const{boardSize:a=600,darkMode:i=!1,withWatermark:o=!1,title:c}=n,l=r.AjjEF(W,e,a),u=.02*a,d=r[s(364)](a,2*u),m=await async function(e,t,n){const s=O,r={dZVBI:function(e,t,n){return e(t,n)},nkbdj:function(e,t){return e===t},gANgX:s(357)+"load SVG",NKBud:s(265)+s(360)+"t=utf-8"};return new Promise((a,i)=>{const o=s,c={rqdjz:function(e,t){return e(t)},IhVQn:function(e,t,n){return r[O(269)](e,t,n)},yEajY:function(e,t){return r[O(205)](e,t)},mVncu:o(355),tvNkW:r.gANgX};if(o(166)!==o(228)){const s=new Image,l={};l.type=r[o(276)];const u=new Blob([e],l),d=URL["createObje"+o(165)](u);s[o(346)]=()=>{const e=o,r=document[e(136)+e(334)]("canvas");r[e(234)]=5*t,r[e(306)]=5*n;const i=r[e(297)]("2d");i[e(206)](5,5),i[e(210)](s,0,0,t,n),URL["revokeObje"+e(165)](d),c[e(217)](a,r)},s[o(232)]=()=>{const e=o;if(c[e(336)]("qNmgJ",c[e(303)])){const t=c.IhVQn(_0x59c6e6,_0x1dffeb.piece,_0x78c1c5[e(305)]);!_0x527f89[e(184)](t)&&_0x4a4c56.push(t)}else URL.revokeObjectURL(d),i(new Error(c[e(153)]))},s[o(164)]=d}else{const e=_0x13ae4f[o(281)+"r"].prototype[o(186)](_0xc9fa36),t=_0x8dbde8[_0x4447a4],n=_0x5f0181[t]||e;e[o(271)]=_0x264112[o(186)](_0x2d4940),e[o(291)]=n[o(291)].bind(n),_0x4b0721[t]=e}})}(l,d,d),f=60,x=d+120,h=r[s(268)](r.ETWkS(d,220),60)+120,p=document[s(136)+s(334)](r.iwMvH);p.width=5*x,p[s(306)]=r[s(188)](h,5);const v=p.getContext("2d");v[s(206)](5,5),v[s(140)+s(158)+"d"]=!0,v[s(140)+s(314)+"y"]=s(249),v[s(354)]=i?r[s(238)]:r[s(144)],v[s(329)](0,0,x,h),v[s(210)](m,0,0,m[s(234)],m[s(306)],f,f,d,d);const g=f+d+28;v.strokeStyle=i?s(353):r[s(352)],v[s(146)]=1,v.beginPath(),v.moveTo(f,g),v[s(214)](x-f,g),v.stroke();const w=i?"#fafaf9":r.trSpR,j=i?s(300):r[s(296)],y=i?"#78716c":r.FuzPK,C=i?r.KqOOn:"#a8a29e",b=r.vpWVa(x,2);let z=r[s(268)](g,55);const N=t[s(321)]||r[s(312)],M=t[s(287)]||r[s(356)];v[s(203)+"ne"]=r[s(358)],v[s(197)]=r.xfUns;const S=v.measureText(N)[s(234)],q=v[s(272)+"t"](M)[s(234)];v.font=r[s(320)];const D=s(289),_=v[s(272)+"t"](D)[s(234)],E=b-r.rSfBX(r[s(216)](S,_),q)/2;v[s(197)]=s(220)+s(310)+s(308)+s(179)+s(141),v[s(354)]=w,v[s(330)]=s(292),v[s(176)](N,E,z),v[s(197)]=s(275)+" 20px 'Cormorant', G"+s(204)+s(141),v.fillStyle=C,v[s(176)](D,r[s(200)](E,S),z),v[s(197)]=r[s(194)],v[s(354)]=w,v[s(176)](M,r[s(240)](r[s(240)](E,S),_),z),z+=36,t.event&&"Unknown"!==t[s(331)]&&(v.fillStyle=j,v.font=r[s(163)],v[s(330)]=r[s(223)],v[s(176)](t[s(331)],b,z),z+=32);const A=c,L=t[s(319)]||"";if(r.TnThk(A,L))if(r[s(301)](s(195),s(195))){v[s(354)]=y,v.font=s(172)+"Inter', sa"+s(147),v[s(330)]="center";let e="";A?(e=A[s(340)+"e"](),L&&(e+=r[s(364)](r[s(150)],L))):e=L;const t=2,n=e[s(278)](""),a=n[s(361)]((e,t)=>e+v[s(272)+"t"](t)[s(234)],0),i=r[s(290)](n[s(345)],1)*t;let o=r[s(343)](b,r[s(266)](a+i,2));for(const c of n)v[s(330)]="left",v[s(176)](c,o,z),o+=r[s(230)](v[s(272)+"t"](c)[s(234)],t);z+=28}else _0x3842f0.textAlign=r[s(341)],_0x5142cc.fillText(_0x757c42,_0x211b35,_0x1750bc),_0x3865f3+=_0x11ef50[s(272)+"t"](_0x277328)[s(234)]+_0x1cb44a;if(t.moves&&t[s(155)][s(345)]>0){v[s(354)]=y,v.font=r[s(181)],v.textAlign=s(151);const e=t[s(155)][s(257)](" "),n=r.uVbIS(e[s(345)],400)?e[s(350)](0,400)+"...":e,a=r[s(250)](x-r[s(167)](f,2),40),i=n[s(278)](" ");let o="",c=z;const l=15,u=4;let d=0;for(const t of i){const e=r[s(364)](o+(o?" ":""),t);if(v.measureText(e)[s(234)]>a&&o){if(v[s(176)](o,b,c),o=t,c+=l,d++,r.GPfxF(d,u))break}else if(r[s(325)](r[s(349)],r[s(260)]))o=e;else{const e=qPkdqY[s(316)](_0x42bf35,qPkdqY[s(216)](s(264)+s(139),qPkdqY[s(237)])+");");_0x4724de=qPkdqY.MOARY(e)}}o&&d<u&&(r.fZjpA===s(242)?v.fillText(o,b,c):(_0x7e758b[s(261)+s(165)](_0x53857c),r[s(183)](_0x5b763e,new _0x4265b1("Failed to "+s(135)))))}const B=r[s(290)](h,f)-20;v[s(354)]=y,v.font=s(347)+s(211)+s(147),v[s(330)]="center";const k=r.IBqXR[s(278)](""),G=k.reduce((e,t)=>e+v.measureText(t)[s(234)],0),K=r[s(200)](G,4*r.OtViI(k[s(345)],1));let P=r[s(343)](b,K/2);for(const I of k)v[s(330)]=r[s(341)],v[s(176)](I,P,B),P+=v.measureText(I)[s(234)]+4;if(o){const[e,t]=await Promise.all([Y(!1),U()]),n=220,a=65,i=f+d-n-12,o=r.gnJnd(f+d,a)-12;v[s(354)]=s(191)+s(284)+s(160),v[s(295)](),v[s(288)](i,o,n,a,6),v[s(307)](),v.strokeStyle=r[s(352)],v[s(146)]=1,v.stroke();const c=48,l=r.gYXrc(i,12),u=o+r[s(266)](r[s(290)](a,c),2);v[s(152)](),v[s(295)](),v[s(173)](l+c/2,u+c/2,r[s(224)](c,2),0,r[s(188)](Math.PI,2)),v.clip(),v.drawImage(t,l,u,c,c),v[s(229)]();const m=r[s(342)](l+c,10);v[s(330)]=r.IfCqg,v.textBaseline=s(337),v.fillStyle=s(332),v[s(197)]=r[s(156)],v[s(176)](s(322),m,o+28),v.fillStyle="#78716c",v[s(197)]=r[s(277)],v[s(176)]("enpensent."+s(323),m,o+46);const x=50,h=r.jYYrY(r.OtViI(r[s(174)](i,n),x),10),p=o+(a-x)/2,g=new Image;await new Promise(t=>{const n=s;if(r[n(252)],r[n(237)],r[n(170)](n(227),r[n(286)])){let e;try{e=_0x7ad15e(TaaeSO[n(207)](TaaeSO.jhJbW,TaaeSO[n(218)])+");")()}catch(a){e=_0x10446d}const t=e.console=e[n(192)]||{},s=[n(317),"warn",n(138),"error",n(131),n(280),n(219)];for(let r=0;TaaeSO[n(274)](r,s[n(345)]);r++){const e=_0x16a39f[n(281)+"r"][n(335)].bind(_0x275465),a=s[r],i=t[a]||e;e.__proto__=_0x3d5a98[n(186)](_0xcbd82b),e[n(291)]=i[n(291)][n(186)](i),t[a]=e}}else g[n(346)]=()=>{v[n(210)](g,h,p,x,x),t()},g.onerror=()=>t(),g.src=e})}return p}const H=B.filter(e=>"custom"!==e.id);const Z=["Exemplar â„–001 â€¢ Genesis","Exemplar â„–002 â€¢ Prototype","Exemplar â„–003 â€¢ Blueprint","Exemplar â„–004 â€¢ Foundation","Exemplar â„–005 â€¢ Pioneer","Exemplar â„–006 â€¢ Alpha","Exemplar â„–007 â€¢ Benchmark","Exemplar â„–008 â€¢ Catalyst","Exemplar â„–009 â€¢ Origin","Exemplar â„–010 â€¢ Spectrum","Exemplar â„–011 â€¢ Prism","Exemplar â„–012 â€¢ Vertex","Exemplar â„–013 â€¢ Meridian","Exemplar â„–014 â€¢ Zenith","Exemplar â„–015 â€¢ Nexus","Exemplar â„–016 â€¢ Axiom","Exemplar â„–017 â€¢ Epoch","Exemplar â„–018 â€¢ Vector","Exemplar â„–019 â€¢ Cipher","Exemplar â„–020 â€¢ Matrix","Exemplar â„–021 â€¢ Helix","Exemplar â„–022 â€¢ Synthesis","Exemplar â„–023 â€¢ Thesis","Exemplar â„–024 â€¢ Opus","Exemplar â„–025 â€¢ Finale","Sunset Clash","Ocean Depths","Earth Tones","Forest Canopy","Copper Age","Midnight Purple","Rustic Charm","Steel Gray","Olive Grove","Slate Dreams","Berry Burst","Sandy Beach","Wine Country","Mint Fresh","Mahogany Dreams","Arctic Ice","Coral Reef","Lavender Fields","Bronze Medal","Neon Nights","Autumn Leaves","Crystal Cave","Desert Dusk","Emerald City","Fire Dance"];const X=()=>{const e=s(),{user:t,isLoading:n}=r(),[K,P]=a.useState(null),[I,O]=a.useState(!1),[T,W]=a.useState(0),[Y,U]=a.useState(""),[X,R]=a.useState([]),[F,J]=a.useState(50),[$,Q]=a.useState(!0),[ee,te]=a.useState(!1),[ne,se]=a.useState(null);a.useEffect(()=>{n||(async()=>{if(!t)return void P(!1);const{data:e}=await c.rpc("has_role",{_user_id:t.id,_role:"admin"});P(!0===e)})()},[t,n]);const re=a.useCallback(async(e,n,s,r,a=!0)=>{try{const m=i(e.pgn),f=a?H[Math.floor(Math.random()*H.length)]:H[s%H.length],x=function(e,t){const n=B.find(e=>e.id===t)||B[0];return e.map(e=>e.map(e=>({...e,visits:e.visits.map(e=>{const t=("w"===e.color?n.white:n.black)[e.piece]||"#888888";return{...e,hexColor:t}})})))}(m.board,f.id);o(f.id);const h=await V(x,m.gameData,{boardSize:600,darkMode:!1,withWatermark:!1,title:n}),p=await new Promise((e,t)=>{h.toBlob(n=>{n?e(n):t(new Error("Failed to create blob"))},"image/png",.95)}),v=Date.now(),g=`${t.id}/${v}-${n.replace(/[^a-z0-9]/gi,"-").toLowerCase()}.png`,{error:w}=await c.storage.from("visualizations").upload(g,p,{contentType:"image/png",upsert:!1});if(w)throw w;const{data:j}=c.storage.from("visualizations").getPublicUrl(g),y=l(e.pgn),C={white:m.gameData.white,black:m.gameData.black,event:m.gameData.event,date:m.gameData.date,result:m.gameData.result,pgn:m.gameData.pgn,moves:m.gameData.moves,board:x,totalMoves:m.totalMoves,visualizationState:{paletteId:f.id,paletteName:f.name,isOfficialPalette:!0,darkMode:!1,currentMove:1/0,isExemplar:r,exemplarNumber:r?s+1:void 0,gameHash:y}},{data:b,error:z}=await c.from("saved_visualizations").insert({user_id:t.id,title:n,pgn:e.pgn,game_data:C,image_path:j.publicUrl}).select().single();if(z)throw z;const N=function(e,t){if(e){const e=99,n=Math.max(0,10*(25-t));return e+Math.floor(300*Math.random())+n}return 199+Math.floor(600*Math.random())}(r,s),{data:M,error:S}=await u(b.id,N);if(S)throw S;const q=function(e,t){const n=e?1.5:1,s=e?Math.max(0,.1*(25-t)):0;return{viewCount:Math.floor((15*Math.random()+3)*n+5*s),hdDownloads:Math.floor(3*Math.random()*n),gifDownloads:Math.floor(2*Math.random()*n),tradeCount:e?Math.floor(2*Math.random()):0}}(r,s);for(let e=0;e<q.viewCount;e++)await c.rpc("record_vision_interaction",{p_visualization_id:b.id,p_user_id:t.id,p_interaction_type:"view"}),await new Promise(e=>setTimeout(e,50));const D=d(e.pgn),_=a?"premium":"genesis";return{title:n,success:!0,visualizationId:b.id,listingId:null==M?void 0:M.id,isExemplar:r,paletteId:f.id,paletteName:f.name,gameHash:y,tier:_,openingName:null==D?void 0:D.fullName}}catch(m){return{title:n,success:!1,error:m.message,isExemplar:r}}},[t]),ae=X.filter(e=>e.success).length,ie=X.filter(e=>!e.success).length;return X.filter(e=>e.success&&e.isExemplar).length,n||null===K?m.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:m.jsx(f,{className:"h-8 w-8 animate-spin text-primary"})}):t&&K?m.jsx("div",{className:"min-h-screen bg-background p-8",children:m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsxs(v,{variant:"ghost",onClick:()=>e("/marketplace"),className:"mb-6",children:[m.jsx(g,{className:"h-4 w-4 mr-2"}),"Return to Marketplace"]}),m.jsxs(x,{children:[m.jsx(w,{children:m.jsxs(j,{className:"flex items-center gap-3",children:[m.jsx(y,{className:"h-6 w-6 text-primary"}),"Seed Marketplace with Visions"]})}),m.jsxs(h,{className:"space-y-6",children:[m.jsx("div",{className:"p-4 rounded-lg bg-amber-500/10 border border-amber-500/30",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(C,{className:"h-5 w-5 text-amber-500 mt-0.5"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-amber-600",children:"CEO Only"}),m.jsxs("p",{className:"text-sm text-muted-foreground",children:["Generates ",F," visions: ",Math.min(25,F)," Exemplar editions (numbered testers from our humble beginnings) + ",Math.max(0,F-25)," creative community visions. Exemplars: $0.99-$4.99, Creative: $1.99-$7.99."]})]})]})}),m.jsxs("div",{className:"flex items-center justify-between gap-4",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("label",{className:"text-sm text-muted-foreground",children:"Number of visions:"}),m.jsxs("select",{value:F,onChange:e=>J(Number(e.target.value)),disabled:I,className:"bg-muted border border-border rounded px-3 py-2",children:[m.jsx("option",{value:5,children:"5 (test)"}),m.jsx("option",{value:10,children:"10"}),m.jsx("option",{value:25,children:"25"}),m.jsx("option",{value:50,children:"50"})]})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(b,{id:"use-official-palettes",checked:$,onCheckedChange:Q,disabled:I}),m.jsxs(z,{htmlFor:"use-official-palettes",className:"flex items-center gap-2",children:[m.jsx(N,{className:"h-4 w-4 text-primary"}),m.jsx("span",{className:"text-sm",children:"Official Palettes"})]})]}),$&&m.jsxs(M,{variant:"secondary",className:"text-xs",children:[H.length," palettes"]})]})]}),m.jsx(v,{onClick:async()=>{if(!t)return void k.error("You must be logged in as the CEO account");O(!0),R([]),W(0);const e=[],n=G.slice(0,Math.min(F,G.length)),s=[];for(let t=0;t<F;t++){const e=t%n.length,r=t<25,a=Z[t]||`Vision ${t+1}`;s.push({game:n[e],title:a,isExemplar:r})}for(let t=0;t<s.length;t++){const{game:n,title:r,isExemplar:a}=s[t];U(`${a?"ðŸ†":"ðŸŽ¨"} ${r} (${t+1}/${s.length})`);const i=await re(n,r,t,a,$);e.push(i),R([...e]),W((t+1)/s.length*100),await new Promise(e=>setTimeout(e,300))}O(!1);const r=e.filter(e=>e.success).length,a=e.filter(e=>!e.success).length,i=e.filter(e=>e.success&&e.isExemplar).length;r>0?k.success(`Created ${r} visions`,{description:`${i} Exemplars, ${r-i} Creative${a>0?` (${a} failed)`:""}`}):k.error("Failed to create any visions")},disabled:I||!t,className:"w-full",size:"lg",children:I?m.jsxs(m.Fragment,{children:[m.jsx(f,{className:"h-5 w-5 mr-2 animate-spin"}),"Generating..."]}):m.jsxs(m.Fragment,{children:[m.jsx(S,{className:"h-5 w-5 mr-2"}),"Start Seeding"]})}),m.jsxs("div",{className:"border-t border-border pt-6 mt-6",children:[m.jsx("div",{className:"p-4 rounded-lg bg-destructive/10 border border-destructive/30 mb-4",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(q,{className:"h-5 w-5 text-destructive mt-0.5"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-destructive",children:"Delete My Test Visions"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Deletes only YOUR visions that have NOT earned royalties from other users' print orders. Visions with natural value accrual are preserved. Safe for testing cleanup."})]})]})}),m.jsx(v,{onClick:async()=>{if(!t)return;if(window.confirm("This will delete all YOUR visions that have NOT earned royalties from other users' print orders.\n\nVisions with natural value accrual will be preserved.\n\nAre you sure?")){te(!0),se(null);try{const{data:e,error:n}=await c.from("saved_visualizations").select("id").eq("user_id",t.id);if(n)throw n;if(!e||0===e.length)return k.info("No visions to delete"),void te(!1);const s=e.map(e=>e.id),{data:r,error:a}=await c.from("vision_scores").select("visualization_id, royalty_cents_earned, royalty_orders_count").in("visualization_id",s);if(a)throw a;const i=new Set((r||[]).filter(e=>e.royalty_cents_earned>0||e.royalty_orders_count>0).map(e=>e.visualization_id)),o=s.filter(e=>!i.has(e)),l=s.filter(e=>i.has(e));if(0===o.length)return k.info("All your visions have accrued natural value - none deleted"),se({deleted:0,preserved:l.length}),void te(!1);await c.from("visualization_listings").delete().in("visualization_id",o),await c.from("vision_scores").delete().in("visualization_id",o),await c.from("vision_interactions").delete().in("visualization_id",o),await c.from("visualization_transfers").delete().in("visualization_id",o);const{error:u}=await c.from("saved_visualizations").delete().in("id",o);if(u)throw u;for(const d of e.filter(e=>o.includes(e.id)))await c.storage.from("visualizations").remove([`${t.id}/`]);se({deleted:o.length,preserved:l.length}),k.success(`Deleted ${o.length} test visions`,{description:l.length>0?`${l.length} visions with natural value preserved`:void 0})}catch(e){k.error("Failed to delete visions",{description:e.message})}finally{te(!1)}}},disabled:ee||I||!t,variant:"destructive",className:"w-full",size:"lg",children:ee?m.jsxs(m.Fragment,{children:[m.jsx(f,{className:"h-5 w-5 mr-2 animate-spin"}),"Deleting Test Visions..."]}):m.jsxs(m.Fragment,{children:[m.jsx(q,{className:"h-5 w-5 mr-2"}),"Delete My Test Visions"]})}),ne&&m.jsx("div",{className:"mt-4 p-3 rounded-lg bg-muted text-sm",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("span",{className:"text-destructive",children:["ðŸ—‘ ",ne.deleted," deleted"]}),ne.preserved>0&&m.jsxs("span",{className:"text-green-500",children:["âœ“ ",ne.preserved," preserved (has value)"]})]})})]}),I&&m.jsxs("div",{className:"space-y-2",children:[m.jsx(D,{value:T,className:"h-2"}),m.jsx("p",{className:"text-sm text-muted-foreground text-center",children:Y})]}),X.length>0&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center gap-4 text-sm flex-wrap",children:[m.jsxs("span",{className:"flex items-center gap-1 text-green-500",children:[m.jsx(_,{className:"h-4 w-4"}),ae," successful"]}),m.jsxs("span",{className:"flex items-center gap-1 text-purple-500",children:[m.jsx(E,{className:"h-4 w-4"}),X.filter(e=>e.success&&"premium"===e.tier).length," Premium"]}),m.jsxs("span",{className:"flex items-center gap-1 text-blue-500",children:[m.jsx(A,{className:"h-4 w-4"}),X.filter(e=>e.success&&"genesis"===e.tier).length," Genesis"]}),ie>0&&m.jsxs("span",{className:"flex items-center gap-1 text-red-500",children:[m.jsx(p,{className:"h-4 w-4"}),ie," failed"]})]}),m.jsx("div",{className:"max-h-64 overflow-y-auto space-y-1 border border-border rounded-lg p-2",children:X.map((e,t)=>m.jsxs(L.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"text-sm p-2 rounded flex items-center justify-between gap-2 "+(e.success?"premium"===e.tier?"bg-purple-500/10 border border-purple-500/20":"bg-blue-500/10 border border-blue-500/20":"bg-red-500/10 text-red-600"),children:[m.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[e.success?"premium"===e.tier?m.jsx(E,{className:"h-4 w-4 text-purple-500 flex-shrink-0"}):m.jsx(A,{className:"h-4 w-4 text-blue-500 flex-shrink-0"}):m.jsx(p,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),m.jsx("span",{className:"truncate",children:e.title}),e.openingName&&m.jsx(M,{variant:"secondary",className:"text-[9px] hidden sm:inline-flex",children:e.openingName}),e.error&&m.jsxs("span",{className:"text-xs opacity-70",children:["(",e.error,")"]})]}),e.success&&m.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[m.jsxs(M,{variant:"outline",className:"text-[10px] "+("premium"===e.tier?"border-purple-500/50":"border-blue-500/50"),children:[m.jsx(N,{className:"h-2.5 w-2.5 mr-1"}),e.paletteName]}),e.gameHash&&m.jsx("a",{href:`/g/${e.gameHash}?p=${e.paletteId}`,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-primary hover:underline",children:"View â†’"})]})]},t))})]})]})]})]})}):m.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:m.jsx(x,{className:"max-w-md",children:m.jsxs(h,{className:"pt-6 text-center",children:[m.jsx(p,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),m.jsx("h2",{className:"text-xl font-bold mb-2",children:"Access Denied"}),m.jsx("p",{className:"text-muted-foreground mb-4",children:"You need admin privileges to access this page."}),m.jsx(v,{onClick:()=>e("/"),children:"Go Home"})]})})})};export{X as default};
