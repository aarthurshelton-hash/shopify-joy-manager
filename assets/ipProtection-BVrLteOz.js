const n="/**\n * @license\n * Copyright (c) 2024-2026 En Pensent LLC. All Rights Reserved.\n * Proprietary and Confidential.\n * \n * INTELLECTUAL PROPERTY NOTICE:\n * Natural Visionâ„¢, En Pensent, and the chess pattern recognition visualization\n * methodology are protected by trade secret law and international copyright.\n * Unauthorized reproduction, reverse engineering, or derivative works are\n * strictly prohibited and may result in civil and criminal penalties.\n */\n\n// Anti-debugging and console protection\nexport function initializeIPProtection(): void {\n  if (typeof window === 'undefined') return;\n  \n  // Detect DevTools opening (production only)\n  if (import.meta.env.PROD) {\n    const threshold = 160;\n    let devtoolsOpen = false;\n    \n    const checkDevTools = () => {\n      const widthThreshold = window.outerWidth - window.innerWidth > threshold;\n      const heightThreshold = window.outerHeight - window.innerHeight > threshold;\n      \n      if (widthThreshold || heightThreshold) {\n        if (!devtoolsOpen) {\n          devtoolsOpen = true;\n          console.clear();\n          console.log(\n            '%câš ï¸ PROPRIETARY SOFTWARE',\n            'color: #ff4444; font-size: 24px; font-weight: bold;'\n          );\n          console.log(\n            '%cThis application contains trade secrets and proprietary algorithms owned by En Pensent LLC.\\n' +\n            'Reverse engineering, decompiling, or extracting source code is strictly prohibited\\n' +\n            'under U.S. Code Title 18 Â§ 1832 (Economic Espionage Act) and international law.\\n\\n' +\n            'Â© 2024-2026 En Pensent LLC. All Rights Reserved.\\n' +\n            'Natural Visionâ„¢ is a registered trademark.',\n            'color: #888; font-size: 12px;'\n          );\n        }\n      } else {\n        devtoolsOpen = false;\n      }\n    };\n    \n    setInterval(checkDevTools, 1000);\n    \n    // Prevent right-click context menu on protected elements\n    document.addEventListener('contextmenu', (e) => {\n      const target = e.target as HTMLElement;\n      if (target.closest('[data-protected=\"true\"]') || target.closest('canvas')) {\n        e.preventDefault();\n      }\n    });\n    \n    // Disable keyboard shortcuts for saving/viewing source\n    document.addEventListener('keydown', (e) => {\n      if (\n        (e.ctrlKey || e.metaKey) && \n        (e.key === 's' || e.key === 'u' || e.key === 'S' || e.key === 'U')\n      ) {\n        e.preventDefault();\n      }\n    });\n  }\n  \n  // Console warning (always show)\n  console.log(\n    '%cðŸ”’ En Pensent',\n    'color: #6366f1; font-size: 18px; font-weight: bold;'\n  );\n  console.log(\n    '%cThis browser feature is intended for developers.\\n' +\n    'Do not paste any code here that others give you.\\n' +\n    'It could compromise your account security.',\n    'color: #888; font-size: 11px;'\n  );\n}\n\n// Fingerprint protection for vision images\nexport function generateProtectionHash(userId: string, visionId: string): string {\n  const timestamp = Date.now().toString(36);\n  const payload = `${userId}-${visionId}-${timestamp}`;\n  \n  // Simple hash for client-side (real hash done server-side)\n  let hash = 0;\n  for (let i = 0; i < payload.length; i++) {\n    const char = payload.charCodeAt(i);\n    hash = ((hash << 5) - hash) + char;\n    hash = hash & hash;\n  }\n  \n  return Math.abs(hash).toString(36);\n}\n\n// Rate limit tracker for API abuse detection\nconst requestCounts = new Map<string, { count: number; resetAt: number }>();\n\nexport function checkClientRateLimit(endpoint: string, maxRequests: number = 100): boolean {\n  const now = Date.now();\n  const windowMs = 60000; // 1 minute\n  \n  const key = endpoint;\n  const record = requestCounts.get(key);\n  \n  if (!record || now > record.resetAt) {\n    requestCounts.set(key, { count: 1, resetAt: now + windowMs });\n    return true;\n  }\n  \n  if (record.count >= maxRequests) {\n    console.warn(`[Security] Rate limit exceeded for ${endpoint}`);\n    return false;\n  }\n  \n  record.count++;\n  return true;\n}\n\n// Detect automated/bot behavior\nexport function detectBotBehavior(): boolean {\n  const indicators: boolean[] = [];\n  \n  // Check for headless browser\n  indicators.push(!!(navigator as any).webdriver);\n  \n  // Check for missing plugins (common in headless)\n  indicators.push(navigator.plugins.length === 0);\n  \n  // Check for automation-related properties\n  indicators.push(!!(window as any).callPhantom || !!(window as any)._phantom);\n  indicators.push(!!(window as any).__nightmare);\n  indicators.push(!!(window as any).Buffer);\n  indicators.push(!!(window as any).emit);\n  indicators.push(!!(window as any).spawn);\n  \n  // Check for Selenium\n  indicators.push(\n    !!(document as any).__selenium_unwrapped ||\n    !!(document as any).__webdriver_evaluate ||\n    !!(document as any).__driver_evaluate\n  );\n  \n  // Check for Puppeteer/Playwright\n  indicators.push(!!navigator.userAgent.match(/HeadlessChrome/));\n  \n  const suspicionScore = indicators.filter(Boolean).length;\n  return suspicionScore >= 2;\n}\n\n// Initialize on module load\nif (typeof window !== 'undefined') {\n  initializeIPProtection();\n}\n";export{n as default};
