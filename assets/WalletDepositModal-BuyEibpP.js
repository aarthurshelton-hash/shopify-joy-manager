const n='import { useState } from \'react\';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from \'@/components/ui/dialog\';\nimport { Button } from \'@/components/ui/button\';\nimport { Input } from \'@/components/ui/input\';\nimport { Label } from \'@/components/ui/label\';\nimport { CreditCard, Shield, AlertCircle } from \'lucide-react\';\nimport { initiateDeposit } from \'@/lib/marketplace/withdrawalApi\';\nimport { toast } from \'sonner\';\n\ninterface WalletDepositModalProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  onSuccess?: () => void;\n}\n\nconst PRESET_AMOUNTS = [500, 1000, 2500, 5000]; // cents\n\nexport function WalletDepositModal({ open, onOpenChange, onSuccess }: WalletDepositModalProps) {\n  const [amount, setAmount] = useState(\'\');\n  const [loading, setLoading] = useState(false);\n\n  const amountCents = Math.round(parseFloat(amount || \'0\') * 100);\n  const isValidAmount = amountCents >= 500 && amountCents <= 50000;\n\n  const handleDeposit = async () => {\n    if (!isValidAmount) return;\n\n    setLoading(true);\n    try {\n      const { url, error } = await initiateDeposit(amountCents);\n      \n      if (error) {\n        toast.error(error.message);\n        return;\n      }\n\n      if (url) {\n        window.open(url, \'_blank\');\n        onOpenChange(false);\n        onSuccess?.();\n      }\n    } catch (err) {\n      toast.error(\'Failed to initiate deposit\');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className="sm:max-w-md">\n        <DialogHeader>\n          <DialogTitle className="flex items-center gap-2">\n            <CreditCard className="h-5 w-5 text-primary" />\n            Add Funds to Wallet\n          </DialogTitle>\n          <DialogDescription>\n            Deposit funds to purchase visions on the marketplace\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className="space-y-6 py-4">\n          {/* Quick amounts */}\n          <div className="grid grid-cols-4 gap-2">\n            {PRESET_AMOUNTS.map((cents) => (\n              <Button\n                key={cents}\n                variant={amountCents === cents ? \'default\' : \'outline\'}\n                size="sm"\n                onClick={() => setAmount((cents / 100).toFixed(2))}\n              >\n                ${cents / 100}\n              </Button>\n            ))}\n          </div>\n\n          {/* Custom amount */}\n          <div className="space-y-2">\n            <Label htmlFor="amount">Custom Amount (USD)</Label>\n            <div className="relative">\n              <span className="absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground">$</span>\n              <Input\n                id="amount"\n                type="number"\n                min="5"\n                max="500"\n                step="0.01"\n                placeholder="0.00"\n                value={amount}\n                onChange={(e) => setAmount(e.target.value)}\n                className="pl-7"\n              />\n            </div>\n            <p className="text-xs text-muted-foreground">\n              Min: $5.00 â€¢ Max: $500.00 per deposit\n            </p>\n          </div>\n\n          {/* Security note */}\n          <div className="flex items-start gap-3 p-3 rounded-lg bg-muted/50">\n            <Shield className="h-5 w-5 text-green-600 shrink-0 mt-0.5" />\n            <div className="text-sm">\n              <p className="font-medium text-foreground">Secure Payment via Stripe</p>\n              <p className="text-muted-foreground">\n                Your payment info is never stored on our servers\n              </p>\n            </div>\n          </div>\n\n          {/* Warning about withdrawals */}\n          <div className="flex items-start gap-3 p-3 rounded-lg bg-amber-500/10 border border-amber-500/20">\n            <AlertCircle className="h-5 w-5 text-amber-600 shrink-0 mt-0.5" />\n            <div className="text-sm">\n              <p className="font-medium text-amber-700">Important</p>\n              <p className="text-amber-600/80">\n                Deposited funds can only be used for purchases. \n                Only earnings from sales can be withdrawn.\n              </p>\n            </div>\n          </div>\n\n          <Button \n            onClick={handleDeposit} \n            disabled={!isValidAmount || loading}\n            className="w-full"\n          >\n            {loading ? \'Processing...\' : `Deposit $${(amountCents / 100).toFixed(2)}`}\n          </Button>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n';export{n as default};
