const n="import { useEffect, useRef } from 'react';\nimport { recordVisionInteraction } from '@/lib/visualizations/visionScoring';\n\ninterface UseLiveScoringOptions {\n  visualizationId?: string;\n  enabled?: boolean;\n  trackPageViews?: boolean;\n}\n\n/**\n * Hook to automatically track vision interactions for live scoring\n * Tracks views, time on page, and integrates with the scoring system\n */\nexport function useLiveScoring({\n  visualizationId,\n  enabled = true,\n  trackPageViews = true,\n}: UseLiveScoringOptions = {}) {\n  const hasTrackedView = useRef(false);\n  const viewStartTime = useRef<number | null>(null);\n\n  useEffect(() => {\n    if (!enabled || !visualizationId || !trackPageViews) return;\n\n    // Track view when component mounts\n    if (!hasTrackedView.current) {\n      hasTrackedView.current = true;\n      viewStartTime.current = Date.now();\n      \n      // Record view interaction\n      recordVisionInteraction(visualizationId, 'view').catch(console.error);\n    }\n\n    return () => {\n      // Could track time spent viewing here for future analytics\n    };\n  }, [visualizationId, enabled, trackPageViews]);\n\n  const trackDownloadHD = async () => {\n    if (!visualizationId) return false;\n    return recordVisionInteraction(visualizationId, 'download_hd');\n  };\n\n  const trackDownloadGIF = async () => {\n    if (!visualizationId) return false;\n    return recordVisionInteraction(visualizationId, 'download_gif');\n  };\n\n  const trackPrintOrder = async (valueCents: number) => {\n    if (!visualizationId) return false;\n    return recordVisionInteraction(visualizationId, 'print_order', valueCents);\n  };\n\n  const trackTrade = async (valueCents: number) => {\n    if (!visualizationId) return false;\n    return recordVisionInteraction(visualizationId, 'trade', valueCents);\n  };\n\n  return {\n    trackDownloadHD,\n    trackDownloadGIF,\n    trackPrintOrder,\n    trackTrade,\n  };\n}\n\n/**\n * Hook to track global site engagement for platform-wide analytics\n * Use this on main pages to track visitor engagement\n */\nexport function useGlobalEngagement() {\n  const hasTrackedSession = useRef(false);\n\n  useEffect(() => {\n    if (hasTrackedSession.current) return;\n    hasTrackedSession.current = true;\n\n    // Track page view in session storage for analytics\n    const sessionKey = 'ep_session_views';\n    const currentViews = parseInt(sessionStorage.getItem(sessionKey) || '0', 10);\n    sessionStorage.setItem(sessionKey, String(currentViews + 1));\n\n    // Track unique daily visitor\n    const today = new Date().toDateString();\n    const lastVisit = localStorage.getItem('ep_last_visit');\n    if (lastVisit !== today) {\n      localStorage.setItem('ep_last_visit', today);\n      // Could send to analytics endpoint here\n    }\n  }, []);\n}\n";export{n as default};
