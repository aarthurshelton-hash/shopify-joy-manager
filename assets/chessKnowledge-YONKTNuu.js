const e="/**\n * Comprehensive Chess Knowledge Database\n * \n * This module provides a unified knowledge base for:\n * - Opening theory and ECO codes\n * - Gambit patterns and compensation\n * - Tactical pattern recognition\n * - Endgame theory\n * - Famous game templates\n * - Position evaluation heuristics\n */\n\nimport { PieceSymbol, Square } from 'chess.js';\n\n// ===================== OPENING KNOWLEDGE =====================\n\nexport interface OpeningKnowledge {\n  eco: string;\n  name: string;\n  variation?: string;\n  moves: string;\n  description: string;\n  category: 'open' | 'semi-open' | 'closed' | 'semi-closed' | 'flank' | 'irregular';\n  popularity: 'elite' | 'common' | 'rare' | 'historical';\n  keyIdeas: string[];\n  typicalPlans: {\n    white: string[];\n    black: string[];\n  };\n  criticalPositions?: string[]; // FEN strings of key positions\n}\n\n// Extended opening database with strategic ideas\nexport const OPENING_KNOWLEDGE: OpeningKnowledge[] = [\n  // OPEN GAMES (1.e4 e5)\n  {\n    eco: 'C50',\n    name: 'Italian Game',\n    moves: '1.e4 e5 2.Nf3 Nc6 3.Bc4',\n    description: 'Classic opening targeting f7 with rapid piece development',\n    category: 'open',\n    popularity: 'elite',\n    keyIdeas: ['Target f7 weakness', 'Control d5 with c3-d4', 'Quick castling'],\n    typicalPlans: {\n      white: ['Push d4 to open center', 'Attack on kingside', 'Piece pressure on f7'],\n      black: ['Develop Bc5 or Be7', 'Castle quickly', 'Counter in center with d6-d5'],\n    },\n  },\n  {\n    eco: 'C51',\n    name: 'Evans Gambit',\n    moves: '1.e4 e5 2.Nf3 Nc6 3.Bc4 Bc5 4.b4',\n    description: 'Sacrifices b-pawn for rapid development and attacking chances',\n    category: 'open',\n    popularity: 'common',\n    keyIdeas: ['Sacrifice pawn for tempo', 'Open lines for pieces', 'Attack before Black develops'],\n    typicalPlans: {\n      white: ['Develop rapidly after Bxb4', 'Push d4, seize center', 'Attack on f7 and kingside'],\n      black: ['Return pawn if overwhelmed', 'Develop harmoniously', 'Counter-attack e4'],\n    },\n  },\n  {\n    eco: 'C60',\n    name: 'Ruy Lopez',\n    moves: '1.e4 e5 2.Nf3 Nc6 3.Bb5',\n    description: 'The most thoroughly analyzed opening - pressure on e5 through c6',\n    category: 'open',\n    popularity: 'elite',\n    keyIdeas: ['Indirect pressure on e5', 'Slow strategic build-up', 'Maintain center tension'],\n    typicalPlans: {\n      white: ['Maintain tension', 'Maneuver knight via d2-f1-g3', 'Prepare d4 break'],\n      black: ['Fianchetto with b5, Bb7', 'Counter with d6-d5', 'Active piece play'],\n    },\n  },\n  {\n    eco: 'C30',\n    name: \"King's Gambit\",\n    moves: '1.e4 e5 2.f4',\n    description: 'Romantic era attacking opening - sacrifice f-pawn for open f-file',\n    category: 'open',\n    popularity: 'historical',\n    keyIdeas: ['Open f-file for attack', 'Rapid piece development', 'Aggressive king attack'],\n    typicalPlans: {\n      white: ['Recapture control of center', 'Attack via f-file', 'Develop Bc4, Nf3'],\n      black: ['Hold extra pawn', 'Counter-attack e4', 'Develop safely'],\n    },\n  },\n  \n  // SICILIAN DEFENSE (1.e4 c5)\n  {\n    eco: 'B90',\n    name: 'Sicilian Najdorf',\n    moves: '1.e4 c5 2.Nf3 d6 3.d4 cxd4 4.Nxd4 Nf6 5.Nc3 a6',\n    description: 'The most popular Sicilian - flexible, fighting, and deeply analyzed',\n    category: 'semi-open',\n    popularity: 'elite',\n    keyIdeas: ['Control b5 and e5', 'Flexible pawn structure', 'Counter-attack chances'],\n    typicalPlans: {\n      white: ['English Attack (Be3, f3, Qd2, g4)', 'Classical with Be2', 'Sharp Bg5 lines'],\n      black: ['Queenside expansion b5-b4', 'Central break e5 or d5', 'Piece activity'],\n    },\n  },\n  {\n    eco: 'B33',\n    name: 'Sicilian Sveshnikov',\n    moves: '1.e4 c5 2.Nf3 Nc6 3.d4 cxd4 4.Nxd4 Nf6 5.Nc3 e5',\n    description: 'Dynamic with weak d5 but incredibly active pieces',\n    category: 'semi-open',\n    popularity: 'elite',\n    keyIdeas: ['Accept weak d5 for activity', 'Piece pressure compensates', 'Sharp tactical play'],\n    typicalPlans: {\n      white: ['Exploit d5 outpost', 'Attack backward d6 pawn', 'Control light squares'],\n      black: ['Active piece play', 'Queenside expansion', 'Break with f5'],\n    },\n  },\n  \n  // FRENCH DEFENSE (1.e4 e6)\n  {\n    eco: 'C00',\n    name: 'French Defense',\n    moves: '1.e4 e6',\n    description: 'Solid but cramped - aims to undermine e4 with d5',\n    category: 'semi-open',\n    popularity: 'elite',\n    keyIdeas: ['Challenge e4 with d5', 'Solid pawn chain', 'Counter-attack on queenside'],\n    typicalPlans: {\n      white: ['Advance with e5', 'Kingside attack', 'Exploit cramped Black position'],\n      black: ['Undermine with c5', 'Break with f6', 'Exchange bad bishop'],\n    },\n  },\n  \n  // QUEEN'S GAMBIT (1.d4 d5 2.c4)\n  {\n    eco: 'D06',\n    name: \"Queen's Gambit\",\n    moves: '1.d4 d5 2.c4',\n    description: 'Classical opening - fight for central control with pawn sacrifice',\n    category: 'closed',\n    popularity: 'elite',\n    keyIdeas: ['Undermine d5', 'Control center', 'Positional play'],\n    typicalPlans: {\n      white: ['Develop pieces behind pawns', 'Minority attack', 'Pressure d-file'],\n      black: ['Maintain d5', 'Develop harmoniously', 'Counter-play on c-file'],\n    },\n  },\n  \n  // INDIAN DEFENSES\n  {\n    eco: 'E70',\n    name: \"King's Indian Defense\",\n    moves: '1.d4 Nf6 2.c4 g6 3.Nc3 Bg7 4.e4 d6',\n    description: 'Hypermodern defense - allow White center then attack it',\n    category: 'semi-closed',\n    popularity: 'elite',\n    keyIdeas: ['Fianchetto bishop', 'Strike with e5 or c5', 'Dynamic imbalanced play'],\n    typicalPlans: {\n      white: ['Space advantage', 'Queenside expansion', 'Prophylaxis against e5'],\n      black: ['Kingside attack with f5-f4', 'Central break e5', 'Piece activity'],\n    },\n  },\n  {\n    eco: 'E20',\n    name: 'Nimzo-Indian Defense',\n    moves: '1.d4 Nf6 2.c4 e6 3.Nc3 Bb4',\n    description: 'Flexible and solid - pins c3 knight and controls e4',\n    category: 'semi-closed',\n    popularity: 'elite',\n    keyIdeas: ['Pin Nc3', 'Control e4', 'Flexible pawn structure'],\n    typicalPlans: {\n      white: ['Resolve pin', 'Build center with e3 or f3', 'Exploit bishop pair'],\n      black: ['Maintain pressure', 'Double pawns if beneficial', 'Central control'],\n    },\n  },\n  {\n    eco: 'D70',\n    name: 'GrÃ¼nfeld Defense',\n    moves: '1.d4 Nf6 2.c4 g6 3.Nc3 d5',\n    description: 'Hypermodern counter to d4 - attack the center from flanks',\n    category: 'semi-closed',\n    popularity: 'elite',\n    keyIdeas: ['Challenge center immediately', 'Pressure d4 with Bg7', 'Active piece play'],\n    typicalPlans: {\n      white: ['Build pawn center e4', 'Use space advantage', 'Attack on queenside'],\n      black: ['Undermine center with c5', 'Pressure d4', 'Piece activity'],\n    },\n  },\n  \n  // FLANK OPENINGS\n  {\n    eco: 'A10',\n    name: 'English Opening',\n    moves: '1.c4',\n    description: 'Flexible flank opening - can transpose to many systems',\n    category: 'flank',\n    popularity: 'elite',\n    keyIdeas: ['Control d5', 'Flexible development', 'Avoid main lines'],\n    typicalPlans: {\n      white: ['Fianchetto Bg2', 'Control center from distance', 'Flexible pawn structure'],\n      black: ['Symmetric with c5', 'Reversed Sicilian', 'Central control'],\n    },\n  },\n  {\n    eco: 'D00',\n    name: 'London System',\n    moves: '1.d4 d5 2.Bf4',\n    description: 'Solid system opening - same setup regardless of Black\\'s play',\n    category: 'closed',\n    popularity: 'common',\n    keyIdeas: ['Early Bf4 development', 'Solid pawn pyramid', 'Safe kingside'],\n    typicalPlans: {\n      white: ['Pyramidal pawn structure', 'Control e5 square', 'Kingside attack if allowed'],\n      black: ['Challenge Bf4', 'Central counter-play', 'Queenside expansion'],\n    },\n  },\n];\n\n// ===================== TACTICAL PATTERNS =====================\n\nexport interface TacticalPattern {\n  name: string;\n  type: 'fork' | 'pin' | 'skewer' | 'discovery' | 'double_attack' | 'deflection' | 'decoy' | 'interference' | 'overloading' | 'x-ray' | 'windmill' | 'zugzwang';\n  description: string;\n  prerequisites: string[];\n  execution: string[];\n  commonPieces: PieceSymbol[];\n  examples: string[];\n}\n\nexport const TACTICAL_PATTERNS: TacticalPattern[] = [\n  {\n    name: 'Knight Fork',\n    type: 'fork',\n    description: 'Knight attacks two or more pieces simultaneously',\n    prerequisites: ['Knight can reach forking square', 'Target pieces on knight-attackable squares'],\n    execution: ['Move knight to square attacking multiple pieces', 'Opponent can only save one'],\n    commonPieces: ['n'],\n    examples: ['Royal fork (King + Queen)', 'Family fork (King + Queen + Rook)'],\n  },\n  {\n    name: 'Absolute Pin',\n    type: 'pin',\n    description: 'Pinned piece cannot move because it would expose the king',\n    prerequisites: ['Piece between attacker and king', 'Same file, rank, or diagonal'],\n    execution: ['Pin piece to king with sliding piece', 'Attack the pinned piece'],\n    commonPieces: ['b', 'r', 'q'],\n    examples: ['Bishop pins knight to king', 'Rook pins queen to king'],\n  },\n  {\n    name: 'Relative Pin',\n    type: 'pin',\n    description: 'Pinned piece can move but would lose more valuable piece behind',\n    prerequisites: ['Piece between attacker and valuable piece', 'Pinned piece less valuable'],\n    execution: ['Create pin to valuable piece', 'Attack pinned piece or exploit immobility'],\n    commonPieces: ['b', 'r', 'q'],\n    examples: ['Pin knight to queen', 'Pin rook to queen'],\n  },\n  {\n    name: 'Skewer',\n    type: 'skewer',\n    description: 'Attack valuable piece that must move, exposing less valuable piece behind',\n    prerequisites: ['Two pieces on same line', 'More valuable piece in front'],\n    execution: ['Attack valuable piece', 'When it moves, capture piece behind'],\n    commonPieces: ['b', 'r', 'q'],\n    examples: ['Skewer king to queen', 'Skewer queen to rook'],\n  },\n  {\n    name: 'Discovered Attack',\n    type: 'discovery',\n    description: 'Moving one piece reveals attack from another piece',\n    prerequisites: ['Piece blocking line of attack', 'Target on blocked line'],\n    execution: ['Move blocking piece (often with threat)', 'Revealed attack hits target'],\n    commonPieces: ['n', 'b', 'r'],\n    examples: ['Knight moves revealing bishop attack', 'Discovered check'],\n  },\n  {\n    name: 'Deflection',\n    type: 'deflection',\n    description: 'Force defending piece away from protecting key square/piece',\n    prerequisites: ['Defender overloaded or uniquely protecting', 'Attacker can force defender away'],\n    execution: ['Attack the defender', 'When it moves, exploit what it was protecting'],\n    commonPieces: ['q', 'r', 'b'],\n    examples: ['Deflect queen from defending back rank', 'Deflect bishop from protecting pawn'],\n  },\n  {\n    name: 'Decoy',\n    type: 'decoy',\n    description: 'Lure piece to unfavorable square where it can be exploited',\n    prerequisites: ['Target square leads to tactical advantage', 'Bait piece can attract target'],\n    execution: ['Sacrifice or threaten to lure piece', 'Execute tactical strike on new position'],\n    commonPieces: ['q', 'r'],\n    examples: ['Decoy king to fork square', 'Decoy queen to pin line'],\n  },\n  {\n    name: 'X-Ray Attack',\n    type: 'x-ray',\n    description: 'Piece attacks through another piece on same line',\n    prerequisites: ['Piece between attacker and target', 'Same file, rank, or diagonal'],\n    execution: ['Attack \"through\" intervening piece', 'If piece moves, attack continues'],\n    commonPieces: ['r', 'q', 'b'],\n    examples: ['Rook x-rays through queen to rook', 'Queen x-rays to back rank'],\n  },\n  {\n    name: 'Windmill',\n    type: 'windmill',\n    description: 'Repeated discovered checks winning material with each revolution',\n    prerequisites: ['Piece giving discovered check', 'Target piece capturable each cycle'],\n    execution: ['Discover check', 'Capture piece', 'Return for next discovery', 'Repeat'],\n    commonPieces: ['r', 'b'],\n    examples: ['Torre vs. Lasker windmill', 'Rook+Bishop windmill'],\n  },\n  {\n    name: 'Zugzwang',\n    type: 'zugzwang',\n    description: 'Position where any move worsens position - being forced to move is harmful',\n    prerequisites: ['All moves lead to material loss or checkmate', 'Common in endgames'],\n    execution: ['Maneuver to put opponent in zugzwang', 'Pass move obligation to opponent'],\n    commonPieces: ['k', 'p'],\n    examples: ['King and pawn endgames', 'Opposition battles'],\n  },\n];\n\n// ===================== CHECKMATE PATTERNS =====================\n\nexport interface CheckmatePattern {\n  name: string;\n  description: string;\n  pieces: PieceSymbol[];\n  setup: string;\n  recognitionHints: string[];\n  famous?: string; // Famous game example\n}\n\nexport const CHECKMATE_PATTERNS: CheckmatePattern[] = [\n  {\n    name: 'Back Rank Mate',\n    description: 'Queen or rook delivers checkmate on the back rank with king trapped by own pawns',\n    pieces: ['q', 'r'],\n    setup: 'King on back rank, blocked by pawns or pieces, rook/queen delivers mate',\n    recognitionHints: ['King has no escape squares', 'Back rank undefended', 'No interposing pieces'],\n  },\n  {\n    name: 'Smothered Mate',\n    description: 'Knight checkmates king completely surrounded by own pieces',\n    pieces: ['n'],\n    setup: 'King in corner, surrounded by own pieces, knight delivers inescapable mate',\n    recognitionHints: ['King has no squares', 'Often follows queen sacrifice', 'Corner position'],\n    famous: 'Philidor\\'s Legacy',\n  },\n  {\n    name: \"Scholar's Mate\",\n    description: 'Quick checkmate targeting f7 with queen and bishop in 4 moves',\n    pieces: ['q', 'b'],\n    setup: '1.e4 e5 2.Qh5 Nc6 3.Bc4 Nf6?? 4.Qxf7#',\n    recognitionHints: ['Early queen attack', 'f7 weakness', 'Beginner trap'],\n  },\n  {\n    name: \"Fool's Mate\",\n    description: 'Fastest possible checkmate in 2 moves',\n    pieces: ['q'],\n    setup: '1.f3 e5 2.g4 Qh4#',\n    recognitionHints: ['Weakened kingside', 'f and g pawns moved', 'Only 2 moves'],\n  },\n  {\n    name: 'Anastasia\\'s Mate',\n    description: 'Knight and rook combine on h-file with pawn barrier',\n    pieces: ['n', 'r'],\n    setup: 'Knight on e7 or similar, rook delivers mate on h-file, pawn blocks escape',\n    recognitionHints: ['Knight controls escape', 'Rook on h-file', 'Pawn blocks g-file'],\n  },\n  {\n    name: 'Arabian Mate',\n    description: 'Rook and knight combine in corner - knight protects rook and blocks escape',\n    pieces: ['r', 'n'],\n    setup: 'Rook on back rank, knight on f6/c6 area controls escape and protects rook',\n    recognitionHints: ['Corner king', 'Rook on edge', 'Knight controls key square'],\n  },\n  {\n    name: 'Boden\\'s Mate',\n    description: 'Two bishops on criss-crossing diagonals checkmate castled king',\n    pieces: ['b', 'b'],\n    setup: 'Bishops on crossing diagonals, often after queen sacrifice opens lines',\n    recognitionHints: ['Two bishops on diagonals', 'Often follows Qxc3', 'King on queenside'],\n    famous: 'Schulder vs. Boden 1853',\n  },\n  {\n    name: 'Epaulette Mate',\n    description: 'Queen checkmates king flanked by own rooks on either side (like epaulettes)',\n    pieces: ['q'],\n    setup: 'King on back rank with rooks on adjacent files blocking escape',\n    recognitionHints: ['King flanked by rooks', 'Queen delivers horizontal mate', 'Visual pattern'],\n  },\n  {\n    name: 'Greco\\'s Mate',\n    description: 'Bishop and rook combine on h-file with bishop covering escape',\n    pieces: ['b', 'r'],\n    setup: 'Rook on h-file, bishop covers g7/g2 escape square',\n    recognitionHints: ['Kingside attack', 'Bishop on diagonal', 'Rook on h-file'],\n  },\n  {\n    name: 'Hook Mate',\n    description: 'Rook on edge file, knight covers escape, pawn blocks other squares',\n    pieces: ['r', 'n'],\n    setup: 'Rook delivers check, knight and pawn block escape squares',\n    recognitionHints: ['Corner or edge king', 'Coordinated R+N', 'Pawn involvement'],\n  },\n  {\n    name: 'Legal\\'s Mate',\n    description: 'Famous queen sacrifice leading to quick mate with minor pieces',\n    pieces: ['n', 'b'],\n    setup: 'Queen sacrificed on e5, bishop and two knights deliver mate',\n    recognitionHints: ['Queen sacrifice', 'Minor piece coordination', 'Trap pattern'],\n    famous: 'Legal vs. Saint Brie 1750',\n  },\n  {\n    name: 'Lolli\\'s Mate',\n    description: 'Queen and pawn combine near king\\'s original position',\n    pieces: ['q', 'p'],\n    setup: 'Pawn on g6, queen delivers mate on h7 or similar',\n    recognitionHints: ['Advanced pawn', 'Queen and pawn coordination', 'Kingside'],\n  },\n  {\n    name: 'Opera Mate',\n    description: 'Rook supported by bishop delivers mate on back rank',\n    pieces: ['r', 'b'],\n    setup: 'Bishop supports rook\\'s back rank attack, king trapped',\n    recognitionHints: ['Back rank mate', 'Bishop supports rook', 'Often from fianchetto'],\n    famous: 'Morphy vs. Duke/Count (Opera Game) 1858',\n  },\n  {\n    name: 'Suffocation Mate',\n    description: 'Knight delivers mate with all escape squares covered by various pieces',\n    pieces: ['n'],\n    setup: 'King surrounded, knight gives checkmate from distance',\n    recognitionHints: ['Similar to smothered mate', 'Mixed piece blocking', 'Knight finishes'],\n  },\n];\n\n// ===================== ENDGAME THEORY =====================\n\nexport interface EndgameKnowledge {\n  name: string;\n  pieces: string; // e.g., \"K+R vs K\" or \"K+P vs K\"\n  result: 'win' | 'draw' | 'complex';\n  keyTechniques: string[];\n  commonMistakes: string[];\n  maxMoves?: number; // Tablebase-proven max moves to win\n}\n\nexport const ENDGAME_KNOWLEDGE: EndgameKnowledge[] = [\n  {\n    name: 'King and Queen vs King',\n    pieces: 'K+Q vs K',\n    result: 'win',\n    keyTechniques: ['Drive king to edge with queen', 'Bring king closer', 'Deliver mate on edge'],\n    commonMistakes: ['Stalemating opponent', 'Taking too long'],\n    maxMoves: 10,\n  },\n  {\n    name: 'King and Rook vs King',\n    pieces: 'K+R vs K',\n    result: 'win',\n    keyTechniques: ['Box method - restrict king', 'Opposition', 'Edge mate'],\n    commonMistakes: ['Stalemating', 'Inefficient technique'],\n    maxMoves: 16,\n  },\n  {\n    name: 'King and Pawn vs King',\n    pieces: 'K+P vs K',\n    result: 'complex',\n    keyTechniques: ['Opposition', 'Key squares', 'Outflanking'],\n    commonMistakes: ['Losing opposition', 'Wrong king position'],\n  },\n  {\n    name: 'King and Two Bishops vs King',\n    pieces: 'K+B+B vs K',\n    result: 'win',\n    keyTechniques: ['Bishops work together', 'Drive to corner of bishop color', 'Coordinate pieces'],\n    commonMistakes: ['Wrong corner', 'Stalemate'],\n    maxMoves: 19,\n  },\n  {\n    name: 'King, Bishop and Knight vs King',\n    pieces: 'K+B+N vs K',\n    result: 'win',\n    keyTechniques: ['W maneuver', 'Drive to corner matching bishop', 'Careful coordination'],\n    commonMistakes: ['Wrong corner (50 move rule)', 'Losing coordination'],\n    maxMoves: 33,\n  },\n  {\n    name: 'Lucena Position',\n    pieces: 'K+R+P vs K+R',\n    result: 'win',\n    keyTechniques: ['Building a bridge', 'King shelter', 'Rook lift'],\n    commonMistakes: ['Not using bridge technique', 'Premature pawn push'],\n  },\n  {\n    name: 'Philidor Position',\n    pieces: 'K+R vs K+R+P',\n    result: 'draw',\n    keyTechniques: ['3rd rank defense', 'Cut off king', 'Checks from behind'],\n    commonMistakes: ['Passive rook placement', 'Not using 3rd rank'],\n  },\n  {\n    name: 'Rook vs Bishop',\n    pieces: 'K+R vs K+B',\n    result: 'draw',\n    keyTechniques: ['Keep bishop active', 'Avoid edges', 'Block rook checks'],\n    commonMistakes: ['Wrong corner', 'Passive defense'],\n  },\n  {\n    name: 'Opposite Color Bishops',\n    pieces: 'K+B+P vs K+B (opposite colors)',\n    result: 'draw',\n    keyTechniques: ['Blockade on opposite color', 'King proximity', 'Right positioning'],\n    commonMistakes: ['Not understanding drawing mechanism'],\n  },\n];\n\n// ===================== PIECE VALUE SYSTEM =====================\n\nexport const PIECE_VALUES = {\n  standard: { p: 1, n: 3, b: 3, r: 5, q: 9, k: 0 },\n  modified: { p: 1, n: 3.25, b: 3.35, r: 5, q: 9.75, k: 0 }, // Modern values\n  endgame: { p: 1.5, n: 3, b: 3.5, r: 5, q: 9, k: 4 }, // King becomes active\n} as const;\n\n// ===================== POSITION EVALUATION HEURISTICS =====================\n\nexport interface PositionalFactor {\n  name: string;\n  description: string;\n  evaluation: 'good' | 'bad' | 'contextual';\n  examples: string[];\n}\n\nexport const POSITIONAL_FACTORS: PositionalFactor[] = [\n  {\n    name: 'Doubled Pawns',\n    description: 'Two pawns of same color on same file',\n    evaluation: 'bad',\n    examples: ['After Bxc6 bxc6', 'Can block files', 'Weak if isolated'],\n  },\n  {\n    name: 'Isolated Pawn',\n    description: 'Pawn with no friendly pawns on adjacent files',\n    evaluation: 'bad',\n    examples: ['Isolated queen pawn (IQP)', 'Cannot be defended by pawns', 'Creates weak squares'],\n  },\n  {\n    name: 'Passed Pawn',\n    description: 'Pawn with no enemy pawns blocking or controlling promotion path',\n    evaluation: 'good',\n    examples: ['Potential queen', 'Ties down enemy pieces', 'Endgame strength'],\n  },\n  {\n    name: 'Backward Pawn',\n    description: 'Pawn that cannot advance without being captured, no pawn support behind',\n    evaluation: 'bad',\n    examples: ['Common on d6 in Sicilian', 'Fixed target', 'Weak square in front'],\n  },\n  {\n    name: 'Outpost',\n    description: 'Square that cannot be attacked by enemy pawns, ideal for knight',\n    evaluation: 'good',\n    examples: ['Knight on d5 or e5', 'Piece dominates', 'Strategic anchor'],\n  },\n  {\n    name: 'Open File',\n    description: 'File with no pawns - ideal for rooks',\n    evaluation: 'good',\n    examples: ['Rook on open file', 'Control key squares', 'Infiltration point'],\n  },\n  {\n    name: 'Bishop Pair',\n    description: 'Having both bishops while opponent has none or one',\n    evaluation: 'good',\n    examples: ['Open positions favor bishops', 'Long-range coordination', 'Endgame advantage'],\n  },\n  {\n    name: 'Bad Bishop',\n    description: 'Bishop blocked by own pawns on same color squares',\n    evaluation: 'bad',\n    examples: ['French Defense bishop on c8', 'Limited mobility', 'Exchange if possible'],\n  },\n  {\n    name: 'Fianchetto',\n    description: 'Bishop on b2/g2/b7/g7 controlling long diagonal',\n    evaluation: 'contextual',\n    examples: ['Controls key diagonal', 'Protects king', 'Can become bad if pawns block'],\n  },\n  {\n    name: 'Weak Back Rank',\n    description: 'King on back rank with no escape squares - vulnerable to mate',\n    evaluation: 'bad',\n    examples: ['Create luft (h3 or a3)', 'Back rank mate threat', 'Tie down defenders'],\n  },\n];\n\n// ===================== FAMOUS GAMES KNOWLEDGE =====================\n\nexport interface FamousGameKnowledge {\n  id: string;\n  name: string;\n  year: number;\n  white: string;\n  black: string;\n  significance: string;\n  keyMoment: string;\n  lessonsTaught: string[];\n}\n\nexport const FAMOUS_GAMES_KNOWLEDGE: FamousGameKnowledge[] = [\n  {\n    id: 'immortal-game',\n    name: 'The Immortal Game',\n    year: 1851,\n    white: 'Adolf Anderssen',\n    black: 'Lionel Kieseritzky',\n    significance: 'Epitome of Romantic chess - sacrificing major pieces for checkmate',\n    keyMoment: 'Anderssen sacrifices both rooks, bishop, and queen to deliver mate with minor pieces',\n    lessonsTaught: ['Material is not everything', 'King safety matters', 'Beautiful combinations exist'],\n  },\n  {\n    id: 'evergreen-game',\n    name: 'The Evergreen Game',\n    year: 1852,\n    white: 'Adolf Anderssen',\n    black: 'Jean Dufresne',\n    significance: 'Timeless brilliancy showcasing attacking chess',\n    keyMoment: 'Queen sacrifice leading to unavoidable checkmate',\n    lessonsTaught: ['Attack with purpose', 'Coordinate pieces', 'Calculate accurately'],\n  },\n  {\n    id: 'opera-game',\n    name: 'The Opera Game',\n    year: 1858,\n    white: 'Paul Morphy',\n    black: 'Duke & Count',\n    significance: 'Perfect example of rapid development and piece coordination',\n    keyMoment: 'Queen sacrifice leading to Opera Mate pattern',\n    lessonsTaught: ['Development over material', 'Attack with all pieces', 'Classic mating patterns'],\n  },\n  {\n    id: 'game-of-century',\n    name: 'Game of the Century',\n    year: 1956,\n    white: 'Donald Byrne',\n    black: 'Bobby Fischer',\n    significance: '13-year-old Fischer plays stunning queen sacrifice',\n    keyMoment: 'Qb6!! sacrificing queen for devastating attack',\n    lessonsTaught: ['Prodigious talent exists', 'Dynamic play trumps material', 'Calculate deeply'],\n  },\n  {\n    id: 'kasparov-topalov',\n    name: 'Kasparov\\'s Immortal',\n    year: 1999,\n    white: 'Garry Kasparov',\n    black: 'Veselin Topalov',\n    significance: 'Computer-verified brilliancy with stunning rook sacrifice',\n    keyMoment: 'Rxd4!! sacrificing exchange for devastating attack',\n    lessonsTaught: ['Modern attacking chess', 'Computer analysis validates beauty', 'Intuitive sacrifices'],\n  },\n  {\n    id: 'deep-blue',\n    name: 'Kasparov vs Deep Blue Game 6',\n    year: 1997,\n    white: 'Deep Blue',\n    black: 'Garry Kasparov',\n    significance: 'Machine defeats world champion in decisive game',\n    keyMoment: 'Kasparov resigns in seemingly holdable position',\n    lessonsTaught: ['Computer chess emergence', 'Psychological pressure', 'Historical moment'],\n  },\n];\n\n// ===================== UTILITY FUNCTIONS =====================\n\n/**\n * Get opening knowledge by ECO code\n */\nexport function getOpeningByEco(eco: string): OpeningKnowledge | undefined {\n  return OPENING_KNOWLEDGE.find(o => o.eco === eco);\n}\n\n/**\n * Get opening knowledge by name (partial match)\n */\nexport function getOpeningByName(name: string): OpeningKnowledge | undefined {\n  const lower = name.toLowerCase();\n  return OPENING_KNOWLEDGE.find(o => \n    o.name.toLowerCase().includes(lower) || \n    (o.variation && o.variation.toLowerCase().includes(lower))\n  );\n}\n\n/**\n * Get tactical pattern by type\n */\nexport function getTacticalPattern(type: TacticalPattern['type']): TacticalPattern | undefined {\n  return TACTICAL_PATTERNS.find(p => p.type === type);\n}\n\n/**\n * Get checkmate pattern by name\n */\nexport function getCheckmatePattern(name: string): CheckmatePattern | undefined {\n  const lower = name.toLowerCase();\n  return CHECKMATE_PATTERNS.find(p => p.name.toLowerCase().includes(lower));\n}\n\n/**\n * Get endgame knowledge by pieces\n */\nexport function getEndgameKnowledge(pieces: string): EndgameKnowledge | undefined {\n  return ENDGAME_KNOWLEDGE.find(e => e.pieces === pieces);\n}\n\n/**\n * Calculate material value for a position\n */\nexport function calculateMaterialValue(pieces: { piece: PieceSymbol; color: 'w' | 'b' }[]): { white: number; black: number; balance: number } {\n  let white = 0;\n  let black = 0;\n  \n  for (const p of pieces) {\n    const value = PIECE_VALUES.standard[p.piece] || 0;\n    if (p.color === 'w') {\n      white += value;\n    } else {\n      black += value;\n    }\n  }\n  \n  return { white, black, balance: white - black };\n}\n\n/**\n * Get strategic advice based on opening\n */\nexport function getOpeningAdvice(opening: OpeningKnowledge, color: 'white' | 'black'): string[] {\n  return opening.typicalPlans[color];\n}\n";export{e as default};
