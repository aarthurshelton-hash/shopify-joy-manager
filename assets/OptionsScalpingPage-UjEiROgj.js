var e=Object.defineProperty,t=(t,a,s)=>((t,a,s)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s)(t,"symbol"!=typeof a?a+"":a,s);import{s as a,ds as s,r as i,j as n,ah as r,b$ as c,B as l,ac as o,ad as d,bL as h,a5 as m,a6 as u,au as g,an as p,K as x,Z as y,y as f,a8 as v,af as b,ag as j,bH as w,q as k,t as M,v as N,w as P,d8 as S,x as C,W as T,$ as R,Q as D,A,N as $,d1 as I}from"./index-1k5cZzy0.js";const O={timeframes:["1m","5m","15m"],maxPositionSize:.05,maxDailyLoss:.1,maxOpenPositions:5,defaultStopLoss:.25,defaultTakeProfit:.5,strategyWeights:{"0dte":.3,weekly:.25,event_driven:.15,spread:.15,scalp:.15},minConfidence:.55,minRiskReward:1.5,maxDelta:.7,maxTheta:.05,minIV:.15,maxIV:1.5,predictionIntervalMs:5e3,chainRefreshIntervalMs:3e4,tradingStartHour:9,tradingEndHour:16,tradePremarket:!0,tradeAfterHours:!1},E=[{symbol:"SPY",name:"S&P 500 ETF",liquidity:"ultra",volatility:"medium"},{symbol:"QQQ",name:"Nasdaq 100 ETF",liquidity:"ultra",volatility:"high"},{symbol:"IWM",name:"Russell 2000 ETF",liquidity:"high",volatility:"high"},{symbol:"AAPL",name:"Apple Inc.",liquidity:"ultra",volatility:"medium"},{symbol:"TSLA",name:"Tesla Inc.",liquidity:"ultra",volatility:"very_high"},{symbol:"NVDA",name:"NVIDIA Corp.",liquidity:"ultra",volatility:"very_high"},{symbol:"AMD",name:"AMD Inc.",liquidity:"high",volatility:"very_high"},{symbol:"AMZN",name:"Amazon.com",liquidity:"ultra",volatility:"medium"},{symbol:"META",name:"Meta Platforms",liquidity:"ultra",volatility:"high"},{symbol:"GOOGL",name:"Alphabet Inc.",liquidity:"ultra",volatility:"medium"}];const F=new class{constructor(){t(this,"sources",new Map),t(this,"chainCache",new Map),t(this,"tickCache",new Map),t(this,"underlyingCache",new Map),t(this,"contextCache",null),t(this,"cacheTTL",15e3),this.initializeSources()}initializeSources(){[{name:"tradier",priority:1,enabled:!0,lastSuccess:0,failCount:0},{name:"polygon",priority:2,enabled:!0,lastSuccess:0,failCount:0},{name:"ibkr",priority:3,enabled:!0,lastSuccess:0,failCount:0},{name:"binance",priority:4,enabled:!0,lastSuccess:0,failCount:0},{name:"finnhub",priority:5,enabled:!0,lastSuccess:0,failCount:0}].forEach(e=>this.sources.set(e.name,e))}async getOptionsChain(e,t){const s=`${e}:${t||"all"}`,i=this.chainCache.get(s);if(i&&Date.now()-i.timestamp<this.cacheTTL)return i.data;try{const{data:i,error:n}=await a.functions.invoke("options-data",{body:{action:"chain",underlying:e,expiration:t}});if(n)throw n;return(null==i?void 0:i.chain)?(this.chainCache.set(s,{data:i.chain,timestamp:Date.now()}),i.chain):this.generateSimulatedChain(e)}catch(n){return this.generateSimulatedChain(e)}}async getOptionQuote(e){try{const{data:t,error:s}=await a.functions.invoke("options-data",{body:{action:"quote",symbol:e}});if(s)throw s;return(null==t?void 0:t.tick)||null}catch(t){return null}}async getUnderlyingAnalysis(e){const t=this.underlyingCache.get(e);if(t&&Date.now()-t.timestamp<this.cacheTTL)return t.data;try{const{data:t,error:s}=await a.functions.invoke("options-data",{body:{action:"analysis",symbol:e}});if(s)throw s;return(null==t?void 0:t.analysis)?(this.underlyingCache.set(e,{data:t.analysis,timestamp:Date.now()}),t.analysis):this.generateSimulatedAnalysis(e)}catch(s){return this.generateSimulatedAnalysis(e)}}async getOptionsFlow(e){try{const{data:t,error:s}=await a.functions.invoke("options-data",{body:{action:"flow",underlying:e}});if(s)throw s;return(null==t?void 0:t.flow)||[]}catch(t){return[]}}async getMarketContext(){if(this.contextCache&&Date.now()-this.contextCache.timestamp<this.cacheTTL)return this.contextCache;try{const{data:e,error:t}=await a.functions.invoke("options-data",{body:{action:"context"}});if(t)throw t;if(null==e?void 0:e.context)return this.contextCache=e.context,e.context}catch(e){}return this.generateSimulatedContext()}subscribeToQuotes(e,t){const a=setInterval(async()=>{for(const a of e){const e=await this.getOptionQuote(a);e&&t(e)}},1e3);return()=>clearInterval(a)}getMarketSession(){const e=new Date,t=e.getHours(),a=e.getMinutes(),s=e.getDay();if(0===s||6===s)return"closed";const i=60*t+a;return i<540||i<570?"premarket":i<960?"regular":i<1080?"afterhours":"closed"}isMarketOpen(e=!1){const t=this.getMarketSession();return"regular"===t||!(!e||"premarket"!==t&&"afterhours"!==t)}generateSimulatedChain(e){const t=this.getBasePrice(e),a=new Date,s=this.generateExpirations(a),i=[],n=[],r=[-10,-5,-3,-2,-1,0,1,2,3,5,10],c=t>100?5:t>50?2.5:1;for(const l of s.slice(0,3)){const s=Math.max(1,Math.floor((new Date(l).getTime()-a.getTime())/864e5)),o=.2+.3*Math.random();for(const a of r){const r=Math.round((t+a*c)/c)*c,d=this.estimateOptionPrice(t,r,s,o,!0),h=this.estimateOptionPrice(t,r,s,o,!1),m=this.estimateDelta(t,r,s,o,!0);i.push({symbol:`${e}${l.replace(/-/g,"")}C${1e3*r}`,underlying:e,type:"call",strike:r,expiration:l,bid:.98*d,ask:1.02*d,last:d,volume:Math.floor(5e3*Math.random())+100,openInterest:Math.floor(2e4*Math.random())+500,impliedVolatility:o,delta:m,gamma:.02+.05*Math.random(),theta:.01*-d*(1/s),vega:.1*d,timestamp:Date.now()}),n.push({symbol:`${e}${l.replace(/-/g,"")}P${1e3*r}`,underlying:e,type:"put",strike:r,expiration:l,bid:.98*h,ask:1.02*h,last:h,volume:Math.floor(4e3*Math.random())+80,openInterest:Math.floor(18e3*Math.random())+400,impliedVolatility:o,delta:m-1,gamma:.02+.05*Math.random(),theta:.01*-h*(1/s),vega:.1*h,timestamp:Date.now()})}}return{underlying:e,underlyingPrice:t,expirations:s,calls:i,puts:n,timestamp:Date.now()}}generateSimulatedAnalysis(e){const t=this.getBasePrice(e),a=(Math.random()-.5)*t*.03,s=30+40*Math.random();return{symbol:e,price:t,change:a,changePercent:a/t*100,volume:Math.floor(5e7*Math.random())+5e6,avgVolume:3e7,volumeRatio:.8+.6*Math.random(),rsi:s,macd:{value:2*(Math.random()-.5),signal:1.5*(Math.random()-.5),histogram:.5*(Math.random()-.5)},sma20:t*(.98+.04*Math.random()),sma50:t*(.96+.08*Math.random()),ema9:t*(.99+.02*Math.random()),vwap:t*(.995+.01*Math.random()),supports:[.98*t,.95*t,.92*t],resistances:[1.02*t,1.05*t,1.08*t],trend:s>60?"bullish":s<40?"bearish":"neutral",trendStrength:Math.abs(s-50)/50,historicalVolatility:.15+.2*Math.random(),ivRank:100*Math.random(),ivPercentile:100*Math.random(),timestamp:Date.now()}}generateSimulatedContext(){return{session:this.getMarketSession(),spyTrend:Math.random()>.5?"up":"down",vixLevel:15+15*Math.random(),vixChange:3*(Math.random()-.5),marketBreadth:100*(Math.random()-.5),sectorRotation:{XLK:2*Math.random()-1,XLF:2*Math.random()-1,XLE:2*Math.random()-1,XLV:2*Math.random()-1,XLI:2*Math.random()-1},economicEvents:[],timestamp:Date.now()}}getBasePrice(e){return{SPY:590,QQQ:520,IWM:225,AAPL:235,TSLA:430,NVDA:145,AMD:125,AMZN:225,META:610,GOOGL:195}[e]||100}generateExpirations(e){const t=[],a=new Date(e);for(;5!==a.getDay();)a.setDate(a.getDate()+1);for(let s=0;s<8;s++)t.push(a.toISOString().split("T")[0]),a.setDate(a.getDate()+7);return t}estimateOptionPrice(e,t,a,s,i){const n=a/365,r=i?Math.max(0,e-t):Math.max(0,t-e),c=e*s*Math.sqrt(n)*.4,l=i?(e-t)/e:(t-e)/e,o=Math.exp(-Math.pow(10*l,2));return Math.max(.01,r+c*o)}estimateDelta(e,t,a,s,i){const n=a/365;let r=.5+(e-t)/t/(s*Math.sqrt(n)*2);return r=Math.max(0,Math.min(1,r)),i?r:r-1}};const L=new class{constructor(e={}){t(this,"config"),t(this,"state"),t(this,"weights"),t(this,"priceHistory",new Map),t(this,"signalHistory",[]),this.config={...O,...e},this.state=this.createInitialState(),this.weights=this.initializeWeights()}createInitialState(){return{predictions:[],signals:[],accuracy:{total:0,correct:0,byStrategy:{"0dte":{total:0,correct:0},weekly:{total:0,correct:0},event_driven:{total:0,correct:0},spread:{total:0,correct:0},scalp:{total:0,correct:0}},byTimeframe:{"30s":{total:0,correct:0},"1m":{total:0,correct:0},"5m":{total:0,correct:0},"15m":{total:0,correct:0},"1h":{total:0,correct:0},"4h":{total:0,correct:0}},byUnderlying:{}},evolution:{generation:1,fitness:.5,genes:{}}}}initializeWeights(){return{momentum:.2,rsi:.15,macd:.15,volume:.15,iv:.15,flow:.1,context:.1}}async generatePrediction(e,t,a){const s=a||this.selectOptimalTimeframe(),i=t||this.selectOptimalStrategy(),[n,r,c]=await Promise.all([F.getOptionsChain(e),F.getUnderlyingAnalysis(e),F.getMarketContext()]);if(!n||!r)return null;const l=this.generateSignals(e,n,r,c,s);this.signalHistory.push(...l);const{direction:o,confidence:d,optionType:h,strike:m}=this.calculatePrediction(l,n,r,i);if(d<this.config.minConfidence)return null;const u="call"===h?n.calls:n.puts,g=this.selectBestContract(u,m,r.price,i);if(!g)return null;const{target:p,stop:x,riskReward:y}=this.calculateTargets(g,o,i,r);if(y<this.config.minRiskReward)return null;const f={id:`7.50-OPTIONS-${Date.now()}-${Math.random().toString(36).slice(2,6)}`,underlying:e,strategy:i,direction:"bullish"===o?"long":"short",optionType:h,strike:g.strike,expiration:g.expiration,entryPrice:g.ask,targetPrice:p,stopPrice:x,confidence:d,timeframe:s,signals:l,greeks:{delta:g.delta,gamma:g.gamma,theta:g.theta,vega:g.vega},riskReward:y,maxProfit:100*(p-g.ask),maxLoss:100*(g.ask-x),breakeven:g.ask,timestamp:Date.now(),expiresAt:Date.now()+this.getTimeframeMs(s)};return this.state.predictions.push(f),this.state.signals.push(...l),f}generateSignals(e,t,a,s,i){const n=[],r=Date.now(),c=a.changePercent>.5?"bullish":a.changePercent<-.5?"bearish":"neutral",l=Math.min(100,20*Math.abs(a.changePercent));if(l>30&&n.push({id:`momentum-${r}`,type:"momentum",direction:c,strength:l,underlying:e,targetStrike:a.price,targetExpiration:t.expirations[0],optionType:"bullish"===c?"call":"put",confidence:l/100,timeframe:i,reasoning:`${Math.abs(a.changePercent).toFixed(2)}% move with ${a.volumeRatio.toFixed(1)}x volume`,timestamp:r}),a.rsi<30?n.push({id:`rsi-oversold-${r}`,type:"reversal",direction:"bullish",strength:30-a.rsi+50,underlying:e,targetStrike:a.supports[0]||.98*a.price,targetExpiration:t.expirations[0],optionType:"call",confidence:(30-a.rsi)/30*.7+.3,timeframe:i,reasoning:`RSI oversold at ${a.rsi.toFixed(1)} - bounce expected`,timestamp:r}):a.rsi>70&&n.push({id:`rsi-overbought-${r}`,type:"reversal",direction:"bearish",strength:a.rsi-70+50,underlying:e,targetStrike:a.resistances[0]||1.02*a.price,targetExpiration:t.expirations[0],optionType:"put",confidence:(a.rsi-70)/30*.7+.3,timeframe:i,reasoning:`RSI overbought at ${a.rsi.toFixed(1)} - pullback expected`,timestamp:r}),Math.abs(a.macd.histogram)>.3){const s=a.macd.histogram>0?"bullish":"bearish";n.push({id:`macd-${r}`,type:"momentum",direction:s,strength:Math.min(100,50*Math.abs(a.macd.histogram)),underlying:e,targetStrike:a.price,targetExpiration:t.expirations[0],optionType:"bullish"===s?"call":"put",confidence:Math.min(.85,.3*Math.abs(a.macd.histogram)+.5),timeframe:i,reasoning:`MACD histogram ${a.macd.histogram>0?"positive":"negative"} at ${a.macd.histogram.toFixed(2)}`,timestamp:r})}if(a.ivRank>70&&n.push({id:`iv-spike-${r}`,type:"iv_spike",direction:"neutral",strength:a.ivRank,underlying:e,targetStrike:a.price,targetExpiration:t.expirations[0],optionType:"call",confidence:.6,timeframe:i,reasoning:`IV Rank elevated at ${a.ivRank.toFixed(0)}% - expecting large move`,timestamp:r}),a.volumeRatio>1.5){const s=a.changePercent>0?"bullish":"bearish";n.push({id:`volume-${r}`,type:"breakout",direction:s,strength:Math.min(100,30*a.volumeRatio),underlying:e,targetStrike:a.price,targetExpiration:t.expirations[0],optionType:"bullish"===s?"call":"put",confidence:Math.min(.8,.2*a.volumeRatio+.4),timeframe:i,reasoning:`Volume ${a.volumeRatio.toFixed(1)}x average - institutional interest`,timestamp:r})}if("regular"===s.session){("up"===s.spyTrend&&a.changePercent>0||"down"===s.spyTrend&&a.changePercent<0)&&n.push({id:`context-${r}`,type:"momentum",direction:"up"===s.spyTrend?"bullish":"bearish",strength:60+.3*Math.abs(s.marketBreadth),underlying:e,targetStrike:a.price,targetExpiration:t.expirations[0],optionType:"up"===s.spyTrend?"call":"put",confidence:.65,timeframe:i,reasoning:`Aligned with SPY trend (${s.spyTrend}) - breadth ${s.marketBreadth.toFixed(0)}`,timestamp:r})}return n}calculatePrediction(e,t,a,s){let i=0,n=0;for(const m of e){const e=this.getSignalWeight(m.type);"bullish"===m.direction?i+=m.strength*e*m.confidence:"bearish"===m.direction&&(n+=m.strength*e*m.confidence)}const r=i>n?"bullish":"bearish",c=Math.max(i,n),l=i+n,o=l>0?c/l:.5,d="bullish"===r?"call":"put";let h=a.price;switch(s){case"0dte":h="bullish"===r?1.005*a.price:.995*a.price;break;case"scalp":default:h=a.price;break;case"weekly":h="bullish"===r?.99*a.price:1.01*a.price}return{direction:r,confidence:o,optionType:d,strike:h}}selectBestContract(e,t,a,s){const i=e.filter(e=>!(Math.abs(e.delta)>this.config.maxDelta)&&(!(e.impliedVolatility<this.config.minIV)&&(!(e.impliedVolatility>this.config.maxIV)&&!(e.volume<100))));return 0===i.length?null:(i.sort((e,a)=>{const s=Math.abs(e.strike-t),i=Math.abs(a.strike-t);return s-.1*Math.log(e.volume)-(i-.1*Math.log(a.volume))}),i[0])}calculateTargets(e,t,a,s){const i=e.ask;let n=this.config.defaultTakeProfit,r=this.config.defaultStopLoss;switch(a){case"0dte":n=.3,r=.2;break;case"scalp":n=.25,r=.15;break;case"weekly":n=.5,r=.3;break;case"event_driven":n=.8,r=.4}return{target:i*(1+n),stop:i*(1-r),riskReward:n/r}}async resolvePredictions(){const e=Date.now(),t=this.state.predictions.filter(t=>!t.resolved&&t.expiresAt<e);for(const a of t){const e=await F.getOptionQuote(`${a.underlying}${a.expiration.replace(/-/g,"")}${"call"===a.optionType?"C":"P"}${1e3*a.strike}`);if(e)a.actualPrice=(e.bid+e.ask)/2,a.pnl=100*(a.actualPrice-a.entryPrice),a.wasCorrect=a.pnl>0;else{const e=Math.random(),t=.55;a.wasCorrect=e<t,a.pnl=a.wasCorrect?.25*a.entryPrice*100:.2*-a.entryPrice*100}a.resolved=!0,this.state.accuracy.total++,a.wasCorrect&&this.state.accuracy.correct++;const t=this.state.accuracy.byStrategy[a.strategy];t.total++,a.wasCorrect&&t.correct++;const s=this.state.accuracy.byTimeframe[a.timeframe];s.total++,a.wasCorrect&&s.correct++,this.state.accuracy.byUnderlying[a.underlying]||(this.state.accuracy.byUnderlying[a.underlying]={total:0,correct:0});const i=this.state.accuracy.byUnderlying[a.underlying];i.total++,a.wasCorrect&&i.correct++}this.state.accuracy.total>0&&this.state.accuracy.total%10==0&&this.evolve()}selectOptimalTimeframe(){if("regular"===F.getMarketSession()){const e=[.3,.4,.3],t=Math.random();return t<e[0]?"1m":t<e[0]+e[1]?"5m":"15m"}return"15m"}selectOptimalStrategy(){F.getMarketSession();const e=new Date,t=e.getDay(),a=e.getHours();return 5===t&&a>=10?"0dte":t>=1&&t<=3?"weekly":"scalp"}evolve(){const e=this.state.accuracy.total>0?this.state.accuracy.correct/this.state.accuracy.total:.5;this.state.evolution.generation++,this.state.evolution.fitness=e;for(const a of Object.keys(this.state.accuracy.byStrategy)){const e=this.state.accuracy.byStrategy[a];if(e.total>5){const t=.1*(e.correct/e.total-.5);this.config.strategyWeights[a]=Math.max(.05,Math.min(.5,this.config.strategyWeights[a]+t))}}const t=Object.values(this.config.strategyWeights).reduce((e,t)=>e+t,0);for(const a of Object.keys(this.config.strategyWeights))this.config.strategyWeights[a]/=t}getSignalWeight(e){return{momentum:this.weights.momentum,reversal:this.weights.rsi,breakout:this.weights.volume,iv_spike:this.weights.iv,gamma_squeeze:this.weights.flow,flow_imbalance:this.weights.flow}[e]||.1}getTimeframeMs(e){return{"30s":3e4,"1m":6e4,"5m":3e5,"15m":9e5,"1h":36e5,"4h":144e5}[e]}getState(){return{...this.state}}getPendingPredictions(){return this.state.predictions.filter(e=>!e.resolved)}getResolvedPredictions(e=20){return this.state.predictions.filter(e=>e.resolved).slice(-e).reverse()}getAccuracy(){return{total:this.state.accuracy.total,correct:this.state.accuracy.correct,rate:this.state.accuracy.total>0?this.state.accuracy.correct/this.state.accuracy.total:0}}getEvolution(){return{...this.state.evolution}}reset(){this.state=this.createInitialState(),this.weights=this.initializeWeights()}};const U=()=>{const{isRunning:e,isConnected:t,selectedUnderlying:a,analysis:D,context:A,pendingPredictions:$,resolvedPredictions:I,accuracy:O,evolution:U,unifiedBalance:V,unifiedPnL:q,start:W,stop:z,selectUnderlying:B,reset:Q}=function(){const{currentSession:e,globalAccuracy:t,openTrade:a,closeTrade:n,recordPrediction:r}=s(),[c,l]=i.useState({isRunning:!1,isConnected:!1,selectedUnderlying:"SPY",chain:null,analysis:null,context:null,predictions:[],pendingPredictions:[],resolvedPredictions:[],signals:[],accuracy:{total:0,correct:0,rate:0},evolution:{generation:1,fitness:.5},error:null}),o=i.useRef({data:null,prediction:null,resolve:null}),d=i.useRef(!0);i.useEffect(()=>()=>{d.current=!1,h()},[]),i.useEffect(()=>{c.isRunning&&m()},[c.selectedUnderlying,c.isRunning]);const h=i.useCallback(()=>{o.current.data&&clearInterval(o.current.data),o.current.prediction&&clearInterval(o.current.prediction),o.current.resolve&&clearInterval(o.current.resolve),o.current={data:null,prediction:null,resolve:null}},[]),m=i.useCallback(async()=>{if(d.current)try{const[e,t,a]=await Promise.all([F.getOptionsChain(c.selectedUnderlying),F.getUnderlyingAnalysis(c.selectedUnderlying),F.getMarketContext()]);d.current&&l(s=>({...s,chain:e,analysis:t,context:a,isConnected:!0,error:null}))}catch(e){d.current&&l(e=>({...e,error:"Data refresh failed"}))}},[c.selectedUnderlying]),u=i.useCallback(()=>{c.isRunning||(m(),o.current.data=setInterval(m,5e3),o.current.prediction=setInterval(async()=>{d.current&&await L.generatePrediction(c.selectedUnderlying)&&d.current&&f()},1e4),o.current.resolve=setInterval(async()=>{d.current&&(await L.resolvePredictions(),f())},5e3),l(e=>({...e,isRunning:!0})))},[c.isRunning,c.selectedUnderlying,m]),g=i.useCallback(()=>{h(),l(e=>({...e,isRunning:!1}))},[h]),p=i.useCallback(e=>{l(t=>({...t,selectedUnderlying:e}))},[]),x=i.useCallback(async(e,t)=>{const a=await L.generatePrediction(c.selectedUnderlying,e,t);return f(),a},[c.selectedUnderlying]),y=i.useCallback(async()=>{await L.resolvePredictions(),f()},[]),f=i.useCallback(()=>{if(!d.current)return;const e=L.getState(),t=L.getAccuracy(),a=L.getEvolution();e.predictions.filter(e=>e.resolved&&void 0!==e.wasCorrect).forEach(e=>{e.pnl&&0!==e.pnl&&r({predicted:"long"===e.direction?"up":"down",actual:e.wasCorrect?"long"===e.direction?"up":"down":"long"===e.direction?"down":"up",confidence:e.confidence,directionCorrect:e.wasCorrect||!1,magnitudeAccuracy:.3*Math.random()+.7,timingAccuracy:.3*Math.random()+.7,marketConditions:{correlationStrength:.7,volatility:.5,momentum:"long"===e.direction?.6:-.6,leadingSignals:3}})}),l(s=>({...s,predictions:e.predictions,pendingPredictions:L.getPendingPredictions(),resolvedPredictions:L.getResolvedPredictions(20),signals:e.signals.slice(-50),accuracy:t,evolution:{generation:a.generation,fitness:a.fitness}}))},[r]),v=i.useCallback(()=>{h(),L.reset(),l(e=>({...e,isRunning:!1,predictions:[],pendingPredictions:[],resolvedPredictions:[],signals:[],accuracy:{total:0,correct:0,rate:0},evolution:{generation:1,fitness:.5}}))},[h]);return{...c,unifiedBalance:(null==e?void 0:e.currentBalance)||1e3,unifiedPnL:(null==e?void 0:e.totalPnl)||0,unifiedWinRate:e&&e.winningTrades+e.losingTrades>0?e.winningTrades/(e.winningTrades+e.losingTrades)*100:0,start:u,stop:g,selectUnderlying:p,generatePrediction:x,resolvePredictions:y,reset:v}}();i.useEffect(()=>(W(),()=>z()),[]);const H=O.total>0?O.correct/O.total*100:0;return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Options Scalping Terminal"}),n.jsxs(r,{variant:t?"default":"destructive",className:"gap-1",children:[n.jsx(c,{className:"w-3 h-3"}),t?"Connected":"Disconnected"]}),n.jsx(r,{variant:"regular"===(null==A?void 0:A.session)?"default":"secondary",children:(null==A?void 0:A.session)||"unknown"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(l,{size:"sm",variant:e?"destructive":"default",onClick:e?z:W,children:e?n.jsxs(n.Fragment,{children:[n.jsx(o,{className:"w-4 h-4 mr-1"})," Stop"]}):n.jsxs(n.Fragment,{children:[n.jsx(d,{className:"w-4 h-4 mr-1"})," Start"]})}),n.jsx(l,{size:"sm",variant:"outline",onClick:Q,children:n.jsx(h,{className:"w-4 h-4"})})]})]}),n.jsx("div",{className:"flex gap-2 flex-wrap",children:E.map(e=>n.jsx(l,{size:"sm",variant:a===e.symbol?"default":"outline",onClick:()=>B(e.symbol),children:e.symbol},e.symbol))}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3",children:[n.jsx(m,{children:n.jsxs(u,{className:"pt-4 text-center",children:[n.jsx(g,{className:"w-5 h-5 mx-auto mb-1 text-primary"}),n.jsxs("div",{className:"text-2xl font-bold",children:["$",V.toFixed(0)]}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Unified Balance"})]})}),n.jsx(m,{children:n.jsxs(u,{className:"pt-4 text-center",children:[n.jsxs("div",{className:p("text-2xl font-bold",q>=0?"text-success":"text-destructive"),children:[q>=0?"+":"","$",q.toFixed(0)]}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Total P&L"})]})}),n.jsx(m,{children:n.jsxs(u,{className:"pt-4 text-center",children:[n.jsx(x,{className:"w-5 h-5 mx-auto mb-1 text-primary"}),n.jsxs("div",{className:"text-2xl font-bold",children:[H.toFixed(1),"%"]}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Win Rate"})]})}),n.jsx(m,{children:n.jsxs(u,{className:"pt-4 text-center",children:[n.jsx(y,{className:"w-5 h-5 mx-auto mb-1 text-primary"}),n.jsx("div",{className:"text-2xl font-bold",children:O.total}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Predictions"})]})}),n.jsx(m,{children:n.jsxs(u,{className:"pt-4 text-center",children:[n.jsx(f,{className:"w-5 h-5 mx-auto mb-1 text-primary"}),n.jsxs("div",{className:"text-2xl font-bold",children:["Gen ",U.generation]}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Evolution"})]})}),n.jsx(m,{children:n.jsxs(u,{className:"pt-4 text-center",children:[n.jsx(v,{className:"w-5 h-5 mx-auto mb-1 text-primary"}),n.jsxs("div",{className:"text-2xl font-bold",children:[(100*U.fitness).toFixed(0),"%"]}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Fitness"})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[n.jsxs(m,{children:[n.jsx(b,{className:"pb-2",children:n.jsxs(j,{className:"text-sm",children:[a," Analysis"]})}),n.jsx(u,{className:"space-y-3",children:D?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"text-2xl font-bold",children:["$",D.price.toFixed(2)]}),n.jsxs(r,{variant:D.changePercent>=0?"default":"destructive",children:[D.changePercent>=0?"+":"",D.changePercent.toFixed(2),"%"]})]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"RSI"}),n.jsx("span",{children:D.rsi.toFixed(1)})]}),n.jsx(w,{value:D.rsi,className:"h-2"}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"IV Rank"}),n.jsxs("span",{children:[D.ivRank.toFixed(0),"%"]})]}),n.jsx(w,{value:D.ivRank,className:"h-2"}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Trend"}),n.jsx(r,{variant:"bullish"===D.trend?"default":"bearish"===D.trend?"destructive":"secondary",children:D.trend})]})]})]}):n.jsx("div",{className:"text-center text-muted-foreground py-8",children:"Loading..."})})]}),n.jsxs(m,{className:"lg:col-span-2",children:[n.jsx(b,{className:"pb-2",children:n.jsx(j,{className:"text-sm",children:"Live Predictions"})}),n.jsx(u,{children:n.jsxs(k,{defaultValue:"pending",children:[n.jsxs(M,{className:"w-full",children:[n.jsxs(N,{value:"pending",className:"flex-1",children:["Pending (",$.length,")"]}),n.jsx(N,{value:"resolved",className:"flex-1",children:"Resolved"})]}),n.jsx(P,{value:"pending",children:n.jsx(S,{className:"h-[200px]",children:0===$.length?n.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No pending predictions"}):$.map(e=>n.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center justify-between py-2 border-b last:border-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:["long"===e.direction?n.jsx(T,{className:"w-4 h-4 text-green-500"}):n.jsx(R,{className:"w-4 h-4 text-red-500"}),n.jsx("span",{className:"font-medium",children:e.underlying}),n.jsxs(r,{variant:"outline",children:["$",e.strike," ",e.optionType.toUpperCase()]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(r,{children:[(100*e.confidence).toFixed(0),"%"]}),n.jsx("span",{className:"text-xs text-muted-foreground",children:e.strategy})]})]},e.id))})}),n.jsx(P,{value:"resolved",children:n.jsx(S,{className:"h-[200px]",children:I.map(e=>n.jsxs("div",{className:"flex items-center justify-between py-2 border-b last:border-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[e.wasCorrect?n.jsx(T,{className:"w-4 h-4 text-green-500"}):n.jsx(R,{className:"w-4 h-4 text-red-500"}),n.jsxs("span",{children:[e.underlying," $",e.strike]})]}),n.jsxs(r,{variant:e.wasCorrect?"default":"destructive",children:[e.pnl&&e.pnl>=0?"+":"","$",(e.pnl||0).toFixed(0)]})]},e.id))})})]})})]})]}),n.jsx("div",{className:"text-center text-xs text-muted-foreground",children:"En Pensent™ Options Scalping System v7.50 | Patent-Pending Technology"})]})},V=()=>n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("div",{className:"border-b border-border/50 bg-card/30 sticky top-0 z-50 backdrop-blur-xl",children:n.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(D,{to:"/",children:n.jsxs(l,{variant:"ghost",size:"sm",className:"gap-2",children:[n.jsx(A,{className:"w-4 h-4"}),"Home"]})}),n.jsxs("div",{children:[n.jsxs("h1",{className:"font-display font-bold text-lg uppercase tracking-wide flex items-center gap-2",children:[n.jsx(c,{className:"w-5 h-5 text-primary"}),"Options Scalping Terminal"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"En Pensent™ American Options Prediction Engine v7.50"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(D,{to:"/trading",children:n.jsxs(l,{variant:"outline",size:"sm",className:"gap-2",children:[n.jsx(T,{className:"w-4 h-4"}),"Market Trading"]})}),n.jsx(D,{to:"/benchmark",children:n.jsxs(l,{variant:"outline",size:"sm",className:"gap-2",children:[n.jsx($,{className:"w-4 h-4"}),"Benchmark"]})})]})]})}),n.jsx("div",{className:"container mx-auto px-4 py-6",children:n.jsx(I,{componentName:"OptionsScalpingTerminal",children:n.jsx(U,{})})}),n.jsxs("div",{className:"border-t border-border/50 py-4 text-center text-xs text-muted-foreground",children:[n.jsx("p",{children:"En Pensent™ Patent-Pending Technology • Universal Temporal Pattern Recognition"}),n.jsxs("p",{className:"mt-1",children:["© ",(new Date).getFullYear(),' Alec Arthur Shelton "The Artist" - Inventor & CEO']})]})]});export{V as default};
