import{aJ as e,fj as t,fk as n,s,r,eC as a,fe as i,j as c,C as o,x as l,bh as d,aT as u,e7 as x,ad as m,aj as h,bi as f,p as g,t as y,aY as p,w as j,dt as v,aZ as b,y as N,fl as w,F as D,bC as C,aq as z,E as A}from"./index-DMpRWcyL.js";import{C as M}from"./calendar-BwM7LiGA.js";const L=e("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);function B(e,s){const r=function(e){const t={},n=e.split(q.dateTimeDelimiter);let s;if(n.length>2)return t;/:/.test(n[0])?s=n[0]:(t.date=n[0],s=n[1],q.timeZoneDelimiter.test(t.date)&&(t.date=e.split(q.timeZoneDelimiter)[0],s=e.substr(t.date.length,e.length)));if(s){const e=q.timezone.exec(s);e?(t.time=s.replace(e[1],""),t.timezone=e[1]):t.time=s}return t}(e);let a;if(r.date){const e=function(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),s=e.match(n);if(!s)return{year:NaN,restDateString:""};const r=s[1]?parseInt(s[1]):null,a=s[2]?parseInt(s[2]):null;return{year:null===a?r:100*a,restDateString:e.slice((s[1]||s[2]).length)}}(r.date,2);a=function(e,t){if(null===t)return new Date(NaN);const n=e.match(k);if(!n)return new Date(NaN);const s=!!n[4],r=W(n[1]),a=W(n[2])-1,i=W(n[3]),c=W(n[4]),o=W(n[5])-1;if(s)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,c,o)?function(e,t,n){const s=new Date(0);s.setUTCFullYear(e,0,4);const r=s.getUTCDay()||7,a=7*(t-1)+n+1-r;return s.setUTCDate(s.getUTCDate()+a),s}(t,c,o):new Date(NaN);{const e=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(I[t]||(K(e)?29:28))}(t,a,i)&&function(e,t){return t>=1&&t<=(K(e)?366:365)}(t,r)?(e.setUTCFullYear(t,a,Math.max(r,i)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let c,o=0;if(r.time&&(o=function(e){const s=e.match(G);if(!s)return NaN;const r=S(s[1]),a=S(s[2]),i=S(s[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(r,a,i))return NaN;return r*t+a*n+1e3*i}(r.time),isNaN(o)))return new Date(NaN);if(!r.timezone){const e=new Date(i+o),t=new Date(0);return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t}return c=function(e){if("Z"===e)return 0;const s=e.match(H);if(!s)return 0;const r="+"===s[1]?-1:1,a=parseInt(s[2]),i=s[3]&&parseInt(s[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,i))return NaN;return r*(a*t+i*n)}(r.timezone),isNaN(c)?new Date(NaN):new Date(i+o+c)}const q={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},k=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,G=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,H=/^([+-])(\d{2})(?::?(\d{2}))?$/;function W(e){return e?parseInt(e):1}function S(e){return e&&parseFloat(e.replace(",","."))||0}const I=[31,null,31,30,31,30,31,31,30,31,30,31];function K(e){return e%400==0||e%4==0&&e%100!=0}!function(){const e=E,t=_();for(;;)try{if(424301===-parseInt(e(719))/1*(parseInt(e(633))/2)+parseInt(e(630))/3+parseInt(e(620))/4+parseInt(e(570))/5*(-parseInt(e(581))/6)+parseInt(e(586))/7*(-parseInt(e(697))/8)+-parseInt(e(574))/9+parseInt(e(667))/10)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const U=function(){const e=E,t={ZntJf:function(e,t){return e(t)},Iaodm:e(585)+e(703)+e(625)+" )",xeUof:"info",jClRZ:e(619),uPcil:e(647),rVkCj:e(654),tbHUc:"dibxc"};let n=!0;return function(s,r){const a=e;if(t.tbHUc===a(549)){const e=n?function(){if(r){const e=r.apply(s,arguments);return r=null,e}}:function(){};return n=!1,e}{let e;try{e=t[a(534)](_0x4bdccb,a(695)+a(500)+t[a(709)]+");")()}catch(i){e=_0xc0d4f0}const n=e.console=e.console||{},s=["log",a(487),t.xeUof,t.jClRZ,a(694),t[a(493)],t[a(529)]];for(let t=0;t<s[a(492)];t++){const e=_0x41d560[a(699)+"r"][a(603)][a(542)](_0x52e1ce),r=s[t],i=n[r]||e;e[a(496)]=_0xa35868[a(542)](_0x1ec30c),e[a(674)]=i[a(674)][a(542)](i),n[r]=e}}}}()(void 0,function(){const e=E,t={};t[e(692)]=e(666)+"+$";const n=t;return U[e(674)]()[e(608)](n[e(692)]).toString().constructor(U)[e(608)](n.EHEdA)});function E(e,t){e-=485;const n=_();let s=n[e];if(void 0===E.pHFMoG){var r=function(e){let t="",n="",s=t+r;for(let r,a,i=0,c=0;a=e.charAt(c++);~a&&(r=i%4?64*r+a:a,i++%4)?t+=s.charCodeAt(c+10)-10!=0?String.fromCharCode(255&r>>(-2*i&6)):i:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};E.mdEFSA=r,E.oVGIcq={},E.pHFMoG=!0}const a=e+n[0],i=E.oVGIcq[a];if(i)s=i;else{const e=function(e){this.gUfuKJ=e,this.knGXIZ=[1,0,0],this.tEMxqL=function(){return"newState"},this.ghejRF="\\w+ *\\(\\) *{\\w+ *",this.LrnKZH="['|\"].+['|\"];? *}"};e.prototype.kSEDcB=function(){const e=new RegExp(this.ghejRF+this.LrnKZH).test(this.tEMxqL.toString())?--this.knGXIZ[1]:--this.knGXIZ[0];return this.HbaoJf(e)},e.prototype.HbaoJf=function(e){return Boolean(~e)?this.AGyUmL(this.gUfuKJ):e},e.prototype.AGyUmL=function(e){for(let t=0,n=this.knGXIZ.length;t<n;t++)this.knGXIZ.push(Math.round(Math.random())),n=this.knGXIZ.length;return e(this.knGXIZ[0])},new e(E).kSEDcB(),s=E.mdEFSA(s),E.oVGIcq[a]=s}return s}U();const T=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[E(562)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}();function Y(e,t){const n=E,s={PeJmL:function(e,t){return e>t},UWqQR:function(e,t){return e(t)},xRKea:function(e,t){return e/t},dbBso:function(e,t){return e>=t},StdaV:"Bullet/Blitz",IGWkI:function(e,t){return e>=t},zSBkc:function(e,t){return e!==t},rWXnK:n(643),fnsqN:"oemDS",iwLkp:n(544),vBiHy:"text-muted"+n(672)+"d",CGdle:"bullet",HXbgP:"ultrabullet",ifAvy:n(498)+"t",gqeNK:n(548),yOchi:n(655),moBAs:n(495)+n(605),Tcrcj:n(536),spWCD:"Rapid",yQdJV:"Classical",ZTDeE:n(675),bIhcI:function(e,t){return e(t)},ybtHR:function(e,t){return e<=t},aURwa:"text-blue-400",rJhRm:n(597)+n(701)};if(!e&&t){const e=t.match(/\((\d{3,4})\)/g);if(e&&e[n(492)]>=1){const t=e[n(684)](e=>parseInt(e[n(669)](/[()]/g,""))),r=s.xRKea(t[n(691)]((e,t)=>e+t,0),t[n(492)]);if(s[n(715)](r,2800)){const e={};return e[n(623)]=s[n(580)],e[n(591)]="text-orang"+n(605),e[n(517)]="‚ö°",e}if(s[n(541)](r,2500)){if(s[n(584)](s[n(714)],s[n(711)])){const e={};return e[n(623)]=n(507),e.color=n(649)+n(606),e[n(517)]="üéØ",e}return _0x2a0114>0?"M+":"M-"}}const r={};return r.label=n(507),r[n(591)]=n(670)+"-foreground",r[n(517)]="‚ôüÔ∏è",r}if(!e){const e={};return e[n(623)]=s[n(687)],e.color=s[n(497)],e[n(517)]="üéØ",e}const r=e.toLowerCase().trim();switch(r){case s[n(612)]:case s[n(624)]:case s[n(596)]:const t={};return t[n(623)]=s[n(716)],t.color=n(582)+"00",t.icon="‚ö°",t;case n(511):const a={};return a.label=s.yOchi,a[n(591)]=s[n(530)],a[n(517)]="üî•",a;case s[n(579)]:const i={};return i.label=s[n(641)],i.color=n(649)+n(606),i[n(517)]="‚è±Ô∏è",i;case n(509):case"correspond"+n(563):case"standard":const c={};return c[n(623)]=s[n(657)],c[n(591)]=n(597)+n(701),c[n(517)]="‚ôüÔ∏è",c;default:if(/^\d+\+?\d*$/[n(578)](r)){if(s.ZTDeE===n(520))return s[n(689)](_0x28aacc.evalMagnitude,200)?n(524)+n(600)+"ish saw "+s[n(629)](_0x4ca6ec,_0x14a268[n(592)+"val"])+n(664)+(_0x88a620[n(613)+n(555)]||n(593))+(n(535)+n(618)+n(571))+"d "+_0x976b8e.actualResult:n(519)+(_0x48e628["hybridArch"+n(555)]||n(593))+" analysis "+n(528)+"overrode S"+n(503)+" "+_0x3eba93(_0x59646b[n(592)+n(590)])+n(693)+"n";{const e=s[n(531)](parseInt,r[n(659)]("+")[0]),t={};if(t[n(623)]=s.gqeNK,t[n(591)]=n(582)+"00",t[n(517)]="‚ö°",e<=2)return t;const a={};if(a[n(623)]="Blitz",a[n(591)]=n(495)+n(605),a.icon="üî•",e<=5)return a;if(s[n(700)](e,15))return{label:n(683),color:s[n(628)],icon:"‚è±Ô∏è"};const i={};return i[n(623)]=n(707),i.color=s[n(632)],i[n(517)]="‚ôüÔ∏è",i}}const o={};return o[n(623)]=e,o[n(591)]=n(670)+n(672)+"d",o[n(517)]="üéØ",o}}async function P(e=20){const t=E,n={cmkUn:function(e,t){return e>t}};n[t(505)]=t(533)+"gh",n[t(634)]="hybrid_cor"+t(543),n[t(644)]="stockfish_"+t(568),n[t(705)]=t(601)+t(648),n.UFsqB=t(576);const r=n,a={};a[t(617)]=!1;const{data:i,error:c}=await s.from(t(671)+t(516)+t(513))[t(598)]("*").eq(r[t(634)],!0).eq(r.Wfjvv,!1)[t(708)](r.eoall,r[t(653)]).order(t(514),a)[t(685)](e);if(c){if("aDkxc"===t(553)){const e=_0x410c60?function(){if(_0x5618f2){const e=_0x320413[t(562)](_0x56a70c,arguments);return _0x5c820b=null,e}}:function(){};return _0x718f43=!1,e}return[]}return(i||[])[t(684)](e=>{const n=t,s=function(e){const t=E,n={};n[t(561)]=function(e,t){return e<=t},n[t(538)]=t(582)+"00",n[t(566)]=t(655),n[t(504)]=function(e,t){return e<=t},n[t(604)]="text-blue-"+t(606),n[t(611)]="Classical",n.eHykx=t(597)+t(701);const s=n;if(!e)return null;const r=e[t(635)](/\[Date\s+"(\d{4}\.\d{2}\.\d{2})"\]/);if(r){if("Kxrpw"!==t(622))return r[1].replace(/\./g,"-");{const e=_0x24a0cc(_0x976a21[t(659)]("+")[0]);if(s[t(561)](e,2))return{label:t(548),color:s[t(538)],icon:"‚ö°"};if(s[t(561)](e,5))return{label:s.evFEF,color:t(495)+t(605),icon:"üî•"};if(s[t(504)](e,15))return{label:t(683),color:s[t(604)],icon:"‚è±Ô∏è"};const n={};return n[t(623)]=s.uxUvh,n[t(591)]=s[t(706)],n.icon="‚ôüÔ∏è",n}}return null}(e.pgn);return{id:e.id,fen:e[n(489)],gameName:e.game_name,moveNumber:e[n(621)+"r"],stockfishEval:e[n(601)+n(656)]||0,stockfishPrediction:e[n(601)+"prediction"],hybridPrediction:e[n(650)+n(682)],actualResult:e[n(577)+n(660)],hybridCorrect:e["hybrid_cor"+n(543)],stockfishCorrect:e[n(601)+n(568)],hybridArchetype:e[n(668)+n(587)],hybridConfidence:e[n(640)+"fidence"],createdAt:e[n(514)],significance:r[n(615)](Math[n(636)](e[n(601)+n(656)]||0),200)?r[n(505)]:"notable",evalMagnitude:Math[n(636)](e["stockfish_"+n(656)]||0),timeControl:e.time_control,whiteElo:e[n(527)],blackElo:e.black_elo,pgn:e[n(589)],gameDate:s}})}async function R(){const e=E,t={};t[e(515)]="unknown",t[e(508)]=e(532)+e(543),t[e(645)]=e(668)+e(488)+e(550)+e(588)+e(537)+"t",t[e(552)]=e(601)+e(648),t[e(677)]="chess_pred"+e(516)+e(513),t[e(567)]=e(601)+"eval",t[e(688)]=function(e,t){return e/t},t[e(526)]=function(e,t){return e||t},t[e(557)]=e(512)+"AGREEMENT] Stats:",t[e(704)]=function(e,t){return e||t},t[e(554)]=function(e,t){return e||t},t[e(583)]=function(e,t){return e||t};const n=t,r={};r[e(560)]=e(661),r.head=!0;const a={};a[e(560)]="exact",a[e(676)]=!0;const[{count:i},{count:c}]=await Promise.all([s[e(521)](e(671)+e(516)+e(513))[e(598)]("*",r).eq(e(532)+"rect",!0).eq(e(601)+"correct",!1),s[e(521)]("chess_pred"+e(516)+e(513))[e(598)]("*",a).eq("stockfish_"+e(568),!0).eq(n[e(508)],!1)]),{data:o}=await s[e(521)](e(671)+e(516)+"empts")[e(598)](n[e(645)])[e(708)](e(650)+e(682),n[e(552)]).limit(1e3),{data:l}=await s[e(521)](n[e(677)])[e(598)](n[e(567)]).eq(e(532)+"rect",!0).eq("stockfish_correct",!1)[e(491)]("stockfish_"+e(656),"is",null)[e(685)](1e3),d=(l||[])[e(684)](t=>Math[e(636)](t[e(601)+e(656)]||0))[e(486)](e=>e>0),u=d[e(492)]>0?n[e(688)](d[e(691)]((e,t)=>e+t,0),d.length):0,x={};(o||[])[e(627)](t=>{const s=e,r=t[s(668)+s(587)]||n[s(515)];if(!x[r]){const e={total:0};e[s(565)]=0,x[r]=e}x[r][s(510)]++,t[s(532)+"rect"]&&x[r][s(565)]++});const m=Object[e(662)](x)[e(684)](([t,n])=>({archetype:t,count:n[e(510)],winRate:n.total>0?n.wins/n[e(510)]*100:0}))[e(696)]((t,n)=>n.count-t[e(560)]).slice(0,5);return{totalDisagreements:n[e(526)](i,0)+(c||0),hybridWinsDisagreements:n.WJyCM(i,0),stockfishWinsDisagreements:n.mbTvd(c,0),breakthroughCases:n[e(583)](i,0),averageStockfishConfidenceWhenWrong:u,topArchetypesInDisagreements:m}}function J(e){const t=E,n={};n[t(639)]=function(e,t){return e>t},n[t(678)]=function(e,t){return e/t};const s=n;if(Math[t(636)](e)>1e4)return s[t(639)](e,0)?"M+":"M-";const r=s[t(678)](e,100);return r>=0?"+"+r[t(499)](1):r[t(499)](1)}function _(){const e=["zhfzBeu","BgfIzwW","sfHIz1a","CM4GDgHPCYiPka","B3jKzxi","zM9YrwfJAa","yvvsD2e","vvDXuvi","mtC2mtGXv0vgsund","B3jYzwn0","CKPOuM0","nJuYnez6yuH2rG","ug9mzhq","Bwf0y2G","ywjZ","zxjUihDHCYbTAq","rxjYB3iGzMv0yW","venxqK8","AhLICMLKx2nVBG","C3bxq0q","AgLUzYbKAxnHzW","vvLWrge","v2zQDNy","D1PeENO","CufLBhC","DgfIBgu","ChjLzgLJDgLVBG","Dgv4Dc1IBhvLlq","AhLICMLKx3bYzq","zMLKzw5Jzq","zsbZyw1LihbYzq","vuzZCui","DhjHy2u","qMXPDhO","zxzHBa","EvfKsLy","qM90AcbZExn0zq","C3bSAxq","DwX0","zxHHy3q","zw50CMLLCW","r3fUreu","igj1Dcb0AguG","uLDcAgi","kcGOlISPkYKRkq","mJa0mJK0ntbHDevewfO","AhLICMLKx2fYyW","CMvWBgfJzq","Dgv4Dc1TDxrLza","y2HLC3nFChjLza","lwzVCMvNCM91BG","C3rVy2TMAxnOua","Dg9tDhjPBMC","weLpsKe","AgvHza","q1rZEfi","yKviA1e","rhbwBu8","DwrL","y29UC29Szq","zgLJDgLVBG","uMfWAwq","BwfW","BgLTAxq","AhLICMLKuhjLza","AxDmA3a","DhbervC","ugvkBuW","zMPNtfG","CMvKDwnL","ruHfzee","igv2ywX1yxrPBW","zxHJzxb0Aw9U","CMv0DxjUicHMDq","C29YDa","mtmXodK2vwDKB1f0","AhLICMLKq29UzG","y29UC3rYDwn0BW","Ewj0sfi","ltqWma","AwrLBMnL","y3rVCIGICMv0Dq","v0P5q00","zw9HBgW","zuH5A3G","q2XHC3nPy2fS","BMvX","swfVzg0","y3jLyxrLzef0","zM5ZCu4","CYb0ywn0AwnHBa","ihbYzwnPC2LVBG","CLDyBKS","zgjcC28","z3fLtKS","zwn0","zxzHBe1Hz25PDa","mtm5vg1yzhLj","z2fTzv9Uyw1L","Bw92zu51BwjLCG","zMLSDgvY","D2fYBG","Agv0ExbLlcbOEq","zMvU","sgDdAKS","BM90","BgvUz3rO","DvbJAwW","DgLTzunVBNrYBW","Dgv4Dc1VCMfUzW","x19WCM90B19F","DKjPshK","AhLWzxjIDwXSzq","Dg9gAxHLza","BMn0Aw9UkcKG","AhLICMLKq29YCG","yMXHy2TFzwXV","Dg9JA2zPC2GNCW","teDfExu","v2zlCMm","C2vZoG","uMf0zwq","AwXsy0i","y2XHC3nPy2fS","Dg90ywW","yMXPDhO","w3y3lJi2lurjuW","zw1WDhm","y3jLyxrLzf9HDa","ALzMCgW","Awn0Aw9Ux2f0Da","AwnVBG","z2fTzurHDgu","shLICMLKj3mG","Bvbey3e","zNjVBq","ihDHCYbJB3jYzq","Bg9N","qLjfquTusfjpvq","B3DxDMi","vxj5Be4","D2HPDgvFzwXV","y29YCMvJDgX5ia","CLzRq2O","Bw9cqxm","yKLOy0K","AhLICMLKx2nVCG","yNjLywT0AhjVDq","wM50sMy","ihrYywPLy3rVCG","CMfWAwq","AxnOx2nVCNjLyW","ze1hu3G","C3rVy2TMAxnOqW","sLzWyKe","suDxA0K","yMLUza","CMvJDa","vw5RBM93BG","s1vgDhy","igfUywX5C2LZia","BxmGBwfKzsb0Aa","qNvSBgv0","zgLIEgm","yNjPzf9JB3jYzq","BwLUB3i","vevZANi","tuXtzvK","BwjuDMq","zxr5Cgu","Ce9gsuq","s01Lr1G","DgHYB3vNAhm6","r1jeB1q","y291BNq","q3n1zgS","yxbWBhK","zw5Jzq","C2LNBMLMAwnHBG","D2LUCW","zxzgruy","DLLNu1m","y29YCMvJDa","CeHttge","ntyWnJe1CMfRqvP4","EsbWCMvKAwn0zq","C2XLywrPBMC","DgLTzv9JB250CG","ndy3nZeZogP1De15Eq","Awn0Aw9U","Dw5RBM93BG","ywn0DwfSx3jLCW","DgvZDa","vgnYy2O","u3rKyvy","mtHLB1fbzhu","Dgv4Dc1YzwqTna","suzzA1O","ELncA2m","E30Uy29UC3rYDq","mJu5DgvPC05u","Agv0ExbL","y3qSihn0B2nRzG","CgDU","DMfS","y29SB3i","C3rVy2TMAxnOrq","Cgf0DgvYBG","yMXHy2TfBg8","AgLUzYbICMvHAW","AwzbDNK","Dgv4Dc1NCMvLBG","C2vSzwn0","D2HPDgvfBg8","r0G6ifn0B2nRzG","C3rVy2TMAxnOxW","AxnOihnHDYa","ChjVDg90ExbL","sfD3sMy","zs00mda","ndaW","whvyENu","C2vHCMnO","y3qGAgvYztSGAa","u0D2z3O","DxHvDMG","q0DKBgu","AhLICMLKqxjJAa","ufzqA2i","y21Rvw4","BM90ywjSzq","yxnJzw5KAw5N","EsbJB3jYzwn0Ba","zxjYB3i","oty4ndy4s01bAe9S","Bw92zv9UDw1Izq"];return(_=function(){return e})()}function Z(e){const t=E,n={DpVmO:t(593),pHSLa:function(e,t){return e(t)}};return e[t(501)+t(717)]&&!e[t(539)+"orrect"]?e[t(718)+"ude"]>200?t(524)+t(600)+t(602)+J(e[t(592)+t(590)])+t(664)+(e[t(613)+t(555)]||"pattern")+" trajector"+t(618)+t(571)+"d "+e.actualResult:t(519)+(e[t(613)+t(555)]||n[t(679)])+(t(546)+t(528)+"overrode S")+t(503)+" "+n[t(569)](J,e[t(592)+"val"])+t(693)+"n":e["stockfishC"+t(631)]&&!e[t(501)+t(717)]?"Stockfish'"+t(712)+t(713)+t(522)+t(609)+"ybrid patt"+t(637)+t(572):t(658)+t(547)+t(652)+"diction"}function X(){const[e,t]=r.useState(null),[n,s]=r.useState([]),[q,k]=r.useState(null),[G,H]=r.useState(!0),{chessStats:W,updateCount:S}=a(),I=r.useCallback(async()=>{const[e,n,r]=await Promise.all([R(),P(10),i()]);t(e),s(n),k(r),H(!1)},[]);if(r.useEffect(()=>{I()},[I]),r.useEffect(()=>{S>0&&I()},[S,I]),G)return c.jsx(o,{className:"bg-card/50 backdrop-blur border-primary/20",children:c.jsxs(l,{className:"p-8 text-center",children:[c.jsx(d,{className:"w-8 h-8 mx-auto animate-pulse text-primary"}),c.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading proof data..."})]})});const K=q?q.overallHybridAccuracy-q.overallStockfishAccuracy:0,U=e&&e.totalDisagreements>0?e.hybridWinsDisagreements/e.totalDisagreements*100:0;return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:c.jsx(o,{className:"bg-gradient-to-br from-primary/10 to-primary/5 border-primary/30",children:c.jsx(l,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-primary/20 rounded-lg",children:c.jsx(x,{className:"w-5 h-5 text-primary"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-muted-foreground",children:"Games Analyzed"}),c.jsx("p",{className:"text-2xl font-bold",children:(null==q?void 0:q.totalGamesAnalyzed)||0})]})]})})})}),c.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:c.jsx(o,{className:"border "+(K>0?"border-green-500/30 bg-green-500/5":"border-destructive/30 bg-destructive/5"),children:c.jsx(l,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 rounded-lg "+(K>0?"bg-green-500/20":"bg-destructive/20"),children:c.jsx(m,{className:"w-5 h-5 "+(K>0?"text-green-500":"text-destructive")})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-muted-foreground",children:"Hybrid Advantage"}),c.jsxs("p",{className:"text-2xl font-bold",children:[K>=0?"+":"",K.toFixed(1),"%"]})]})]})})})}),c.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:c.jsx(o,{className:"bg-gradient-to-br from-yellow-500/10 to-orange-500/5 border-yellow-500/30",children:c.jsx(l,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-yellow-500/20 rounded-lg",children:c.jsx(h,{className:"w-5 h-5 text-yellow-500"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-muted-foreground",children:"Breakthrough Cases"}),c.jsx("p",{className:"text-2xl font-bold",children:(null==e?void 0:e.breakthroughCases)||0})]})]})})})}),c.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:c.jsx(o,{className:"bg-gradient-to-br from-purple-500/10 to-pink-500/5 border-purple-500/30",children:c.jsx(l,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:c.jsx(f,{className:"w-5 h-5 text-purple-500"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-muted-foreground",children:"Disagreement Win Rate"}),c.jsxs("p",{className:"text-2xl font-bold",children:[U.toFixed(0),"%"]})]})]})})})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(o,{className:"bg-card/80 backdrop-blur border-primary/20",children:[c.jsxs(g,{children:[c.jsxs(y,{className:"flex items-center gap-2",children:[c.jsx(p,{className:"w-5 h-5 text-yellow-500"}),"Breakthrough Cases"]}),c.jsx(j,{children:"Where En Pensent was RIGHT and Stockfish was WRONG"})]}),c.jsx(l,{children:c.jsx(v,{className:"h-[400px] pr-4",children:0===n.length?c.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[c.jsx(b,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"No breakthrough cases recorded yet."}),c.jsx("p",{className:"text-sm",children:"Run benchmarks to collect evidence."})]}):c.jsx("div",{className:"space-y-4",children:n.map((e,t)=>{const n=Y(e.timeControl,e.gameName),s=e.createdAt?B(e.createdAt):null,r=e.gameDate?B(e.gameDate):null;return c.jsxs(u.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"p-4 bg-gradient-to-r from-green-500/10 to-transparent rounded-lg border border-green-500/20",children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c.jsx(N,{variant:"outline",className:"bg-green-500/20 text-green-400 border-green-500/30",children:"breakthrough"===e.significance?"üåü BREAKTHROUGH":"‚úì Notable"}),c.jsxs(N,{variant:"outline",className:`${n.color} border-current/30 bg-current/10`,children:[n.icon," ",n.label]}),(e.whiteElo||e.blackElo)&&c.jsxs(N,{variant:"outline",className:"text-muted-foreground",children:["~",Math.round(((e.whiteElo||0)+(e.blackElo||0))/2)," ELO"]})]}),c.jsx("p",{className:"text-sm font-medium mt-1",children:e.gameName})]}),c.jsxs("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:["Move ",e.moveNumber]})]}),c.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground mb-3 flex-wrap",children:[r&&w(r)&&c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(M,{className:"w-3 h-3"}),c.jsxs("span",{children:["Played: ",D(r,"MMM d, yyyy")]})]}),s&&w(s)&&c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(L,{className:"w-3 h-3 text-primary"}),c.jsxs("span",{className:"text-primary",children:["Analyzed: ",D(s,"MMM d, yyyy h:mm a")]})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[c.jsxs("div",{className:"text-center p-2 bg-destructive/10 rounded",children:[c.jsx("p",{className:"text-muted-foreground",children:"Stockfish"}),c.jsx("p",{className:"font-mono font-bold text-destructive",children:J(e.stockfishEval)}),c.jsxs("p",{className:"text-destructive",children:["‚Üí ",e.stockfishPrediction]})]}),c.jsxs("div",{className:"text-center p-2 bg-green-500/10 rounded",children:[c.jsx("p",{className:"text-muted-foreground",children:"Hybrid"}),c.jsx("p",{className:"font-bold text-green-400",children:e.hybridArchetype}),c.jsxs("p",{className:"text-green-400",children:["‚Üí ",e.hybridPrediction]})]}),c.jsxs("div",{className:"text-center p-2 bg-primary/10 rounded",children:[c.jsx("p",{className:"text-muted-foreground",children:"Actual"}),c.jsx("p",{className:"font-bold text-primary",children:e.actualResult}),c.jsx("p",{className:"text-primary",children:"‚úì Hybrid correct"})]})]}),c.jsx("p",{className:"text-xs text-muted-foreground mt-3 italic",children:Z(e)})]},e.id)})})})})]}),c.jsxs(o,{className:"bg-card/80 backdrop-blur border-primary/20",children:[c.jsxs(g,{children:[c.jsxs(y,{className:"flex items-center gap-2",children:[c.jsx(C,{className:"w-5 h-5 text-orange-500"}),"Disagreement Analysis"]}),c.jsx(j,{children:"When Hybrid and Stockfish predict different outcomes"})]}),c.jsxs(l,{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[c.jsx("span",{children:"Hybrid wins disagreements"}),c.jsxs("span",{className:"font-bold text-green-400",children:[(null==e?void 0:e.hybridWinsDisagreements)||0," / ",(null==e?void 0:e.totalDisagreements)||0]})]}),c.jsx(z,{value:U,className:"h-3 bg-destructive/20"}),c.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[c.jsxs("span",{children:["Stockfish: ",(null==e?void 0:e.stockfishWinsDisagreements)||0]}),c.jsxs("span",{children:["Hybrid: ",(null==e?void 0:e.hybridWinsDisagreements)||0]})]})]}),c.jsx(A,{}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium mb-2",children:"Avg Stockfish Confidence When Wrong"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"text-3xl font-bold font-mono",children:J((null==e?void 0:e.averageStockfishConfidenceWhenWrong)||0)}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"When hybrid beats Stockfish, Stockfish was typically this confident in the wrong direction"})]})]}),c.jsx(A,{}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium mb-3",children:"Top Archetypes in Disagreements"}),c.jsxs("div",{className:"space-y-2",children:[((null==e?void 0:e.topArchetypesInDisagreements)||[]).map((e,t)=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-xs text-muted-foreground",children:["#",t+1]}),c.jsx(N,{variant:"outline",children:e.archetype})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.count," cases"]}),c.jsxs("span",{className:"text-sm font-bold "+(e.winRate>50?"text-green-400":"text-destructive"),children:[e.winRate.toFixed(0),"%"]})]})]},e.archetype)),(!(null==e?void 0:e.topArchetypesInDisagreements)||0===e.topArchetypesInDisagreements.length)&&c.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Run benchmarks to collect archetype data"})]})]}),c.jsx(A,{}),c.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg border border-primary/20",children:[c.jsxs("h4",{className:"text-sm font-medium mb-2 flex items-center gap-2",children:[c.jsx(x,{className:"w-4 h-4 text-primary"}),"Key Insight"]}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["When En Pensent and Stockfish disagree, the hybrid system wins"," ",c.jsxs("span",{className:"text-primary font-bold",children:[U.toFixed(0),"%"]})," of the time. This proves that Color Flow pattern recognition adds genuine value beyond pure tactical calculation."]})]})]})]})]}),c.jsx(o,{className:"bg-gradient-to-r from-primary/10 via-purple-500/10 to-pink-500/10 border-primary/30",children:c.jsxs(l,{className:"p-6 text-center",children:[c.jsx("h3",{className:"text-xl font-bold mb-2",children:"The Evidence"}),c.jsxs("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:["Over ",c.jsx("span",{className:"text-primary font-bold",children:(null==q?void 0:q.totalGamesAnalyzed)||0})," real grandmaster games, En Pensent's hybrid prediction system achieves"," ",c.jsxs("span",{className:"text-primary font-bold",children:[((null==q?void 0:q.overallHybridAccuracy)||0).toFixed(1),"%"]})," accuracy vs Stockfish 17 NNUE's"," ",c.jsxs("span",{className:"text-muted-foreground",children:[((null==q?void 0:q.overallStockfishAccuracy)||0).toFixed(1),"%"]}),". In disagreements, pattern recognition wins"," ",c.jsxs("span",{className:"text-green-400 font-bold",children:[U.toFixed(0),"%"]})," of the time."]})]})})]})}T(void 0,function(){const e=E,t={SGvgz:function(e,t){return e+t},fjgLX:e(585)+e(703)+e(625)+" )",qAelw:function(e){return e()},XuXzu:"log",RWBhb:"info",GRDoT:"error",KUFtv:e(654)};let n;try{const s=Function(t[e(610)](e(695)+e(500)+t[e(690)],");"));n=t[e(646)](s)}catch(a){n=window}const s=n[e(681)]=n[e(681)]||{},r=[t[e(607)],e(487),t[e(665)],t[e(559)],"exception",e(647),t[e(545)]];for(let i=0;i<r[e(492)];i++){const t=T[e(699)+"r"][e(603)][e(542)](T),n=r[i],a=s[n]||t;t[e(496)]=T.bind(T),t.toString=a[e(674)][e(542)](a),s[n]=t}})();export{X as P,L as T,Y as f};
