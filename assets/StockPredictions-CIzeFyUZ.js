var e=Object.defineProperty,t=(t,n,s)=>((t,n,s)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s)(t,"symbol"!=typeof n?n+"":n,s);import{aJ as n,r as s,ew as r,s as a,j as c,C as i,p as o,t as l,L as d,w as u,x,aq as h,B as m,aF as f,v as g,cR as j,y,b8 as v,b9 as p,ba as w,bb as N,bc as C,a8 as b,aB as B,aC as D,aD as z,b4 as A,aE as G,aY as P,bh as L,cb as k,ad as q,eD as M}from"./index-BKigiLhM.js";import{A as U,a as I,b as K}from"./alert-C9FGY-Qi.js";import{T as W,a as S,b as T,c as Y,d as H,e as J}from"./table-97L66rZ4.js";import{C as E}from"./circle-alert-CyTiTVXf.js";import{W as V}from"./wifi-off-D5fMeF3d.js";import{W as Z}from"./wifi-DQf_p9tR.js";import{B as _}from"./briefcase-Sv5rD-19.js";import{T as O}from"./trending-down-CfOAo8D9.js";const F=n("Bolt",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]),R=n("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),X=ae;!function(){const e=ae,t=ie();for(;;)try{if(110059===-parseInt(e(152))/1+parseInt(e(150))/2*(-parseInt(e(120))/3)+-parseInt(e(145))/4*(-parseInt(e(133))/5)+-parseInt(e(137))/6*(parseInt(e(154))/7)+-parseInt(e(159))/8+-parseInt(e(148))/9+parseInt(e(125))/10)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const Q=function(){const e=ae,t={qCKwP:function(e,t){return e(t)},aZTYT:function(e,t){return e+t},ebPCI:e(164)+e(132),lCvXE:e(115)+e(140)+e(163)+" )",yfqid:function(e,t){return e!==t},gNDkW:e(155)};let n=!0;return function(s,r){const a=e;if(t[a(151)](a(114),t[a(131)])){const e=n?function(){if(r){const e=r[a(135)](s,arguments);return r=null,e}}:function(){};return n=!1,e}{const e=t[a(165)](_0x5d63b1,t.aZTYT(t[a(143)]+t.lCvXE,");"));_0x32033a=e()}}}()(void 0,function(){const e=ae,t={};t[e(160)]=e(122)+"+$";const n=t;return Q[e(129)]()[e(113)](n[e(160)])[e(129)]()[e(126)+"r"](Q)[e(113)](e(122)+"+$")});Q();const $=function(){const e=ae,t={};t[e(149)]=e(112);const n=t;let s=!0;return function(e,t){const r=s?function(){const s=ae;if(t){if(n[s(149)]===s(112)){const n=t[s(135)](e,arguments);return t=null,n}if(_0x555802){const e=_0x39cc42.apply(_0x2d7fb6,arguments);return _0xae3da=null,e}}}:function(){};return s=!1,r}}();$(void 0,function(){const e=ae,t={};t[e(153)]=function(e,t){return e+t},t[e(118)]=e(164)+e(132),t.QKCLH=e(115)+e(140)+e(163)+" )",t[e(124)]=e(119),t.NggjV=e(158);const n=t;let s;try{s=Function(n[e(153)](n[e(118)]+n[e(157)],");"))()}catch(c){s=window}const r=s[e(162)]=s.console||{},a=["log",n[e(124)],e(138),e(136),n.NggjV,e(121),e(146)];for(let i=0;i<a[e(134)];i++){const t=$[e(126)+"r"][e(128)][e(142)]($),n=a[i],s=r[n]||t;t.__proto__=$.bind($),t[e(129)]=s[e(129)][e(142)](s),r[n]=t}})();const ee=X(127)+"_bridge_url",te=X(144)+X(141)+"0",ne={};ne.bridgeUrl=te,ne.gatewayHost=X(161),ne[X(156)+"t"]=4002,ne[X(116)]=1;const se=ne;function re(){const e=X,t={upIRW:function(e,t){return e===t}};t[e(147)]="undefined";const n=t;if(n.upIRW(typeof window,n[e(147)]))return se;const s=localStorage.getItem(ee);if(s)try{return{...se,...JSON[e(111)](s)}}catch{return se}return se}function ae(e,t){e-=111;const n=ie();let s=n[e];if(void 0===ae.IfnCFo){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};ae.wknMty=r,ae.tsOvqo={},ae.IfnCFo=!0}const a=e+n[0],c=ae.tsOvqo[a];if(c)s=c;else{const e=function(e){this.bPyfom=e,this.AbYTtz=[1,0,0],this.KMGvmi=function(){return"newState"},this.FaZyRW="\\w+ *\\(\\) *{\\w+ *",this.TZHdtA="['|\"].+['|\"];? *}"};e.prototype.pTPXbP=function(){const e=new RegExp(this.FaZyRW+this.TZHdtA).test(this.KMGvmi.toString())?--this.AbYTtz[1]:--this.AbYTtz[0];return this.jLgYyj(e)},e.prototype.jLgYyj=function(e){return Boolean(~e)?this.UrfbUO(this.bPyfom):e},e.prototype.UrfbUO=function(e){for(let t=0,n=this.AbYTtz.length;t<n;t++)this.AbYTtz.push(Math.round(Math.random())),n=this.AbYTtz.length;return e(this.AbYTtz[0])},new e(ae).pTPXbP(),s=ae.wknMty(s),ae.tsOvqo[a]=s}return s}function ce(){return{FCdyC:function(e){return e()}}[X(117)](re).bridgeUrl}function ie(){const e=["mtuZnZG4nKjfz0zWuG","zez2DvK","z2f0zxDHEvbVCG","uuTdteG","zxHJzxb0Aw9U","mta3ntG0mfHMsNPIsq","CvPXr1K","mti3lJaUmc4X","y29UC29Szq","CM4GDgHPCYiPka","CMv0DxjUicHMDq","CunlD1a","CgfYC2u","BwH6Eg0","C2vHCMnO","ywvSyNy","E30Uy29UC3rYDq","y2XPzw50swq","rKnKEum","AgndBKe","D2fYBG","odi0mdD4wMr3r20","DgfIBgu","kcGOlISPkYKRkq","CMvTB3zLsxrLBq","s2LMCMG","ody2nZGXmgjXv1PmzW","y29UC3rYDwn0BW","AwjFz2f0zxDHEq","ChjVDg90ExbL","Dg9tDhjPBMC","AhPAvfG","z05eA1C","BMn0Aw9UkcKG","mJmZmdy1uuzNyM5Z","BgvUz3rO","yxbWBhK","zxjYB3i","nLrkzwjrAa","Aw5MBW","C3rYAw5NAwz5","y3rVCIGICMv0Dq","ywXOB3n0oJqWma","yMLUza","zwjqq0K","Ahr0CdOVl2XVyW","ogPethzUBG","DhjHy2u","D0fjve0","mtG4mti0m3byAxPjva","uM15BeC","mtbXyxfxExG","EwzXAwq","mtq5mZK4D0zkDwjA","rKndELy"];return(ie=function(){return e})()}const oe=xe;!function(){const e=xe,t=de();for(;;)try{if(919878===parseInt(e(442))/1*(parseInt(e(524))/2)+parseInt(e(443))/3*(parseInt(e(447))/4)+parseInt(e(546))/5+parseInt(e(545))/6+-parseInt(e(527))/7*(-parseInt(e(470))/8)+parseInt(e(512))/9+-parseInt(e(489))/10)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const le=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[xe(552)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=xe,t={};t.UQgBY=e(535)+"+$";const n=t;return le[e(461)]()[e(501)](n[e(479)])[e(461)]()[e(505)+"r"](le)[e(501)](e(535)+"+$")});function de(){const e=["vvfNqLK","shfuBxi","y29UDhjHy3rZ","CNjVCJO","y2XPzw50swq","ywLSzwq","z2f0zxDHEvbVCG","z2r2y3q","q29UDgvUDc1uEq","zxjYB3i","nteWmJqZndbsrfbMBhe","EgnovuC","CM1Aquu","l2fWAs9ZzwfYyW","we5kte0","yNjPzgDLuNvUBG","l2fWAs9VCMrLCG","l2fWAs9Hy2nVDq","CgfWzxjuCMfKAq","Ev0Gq2fUy2vSia","CM4GDgHPCYiPka","BM5Ly3q","C2vHCMnO","zgLZy29UBMvJDa","Ev0GqNjPzgDLia","igvYCM9YoG","y29UC3rYDwn0BW","Ev0GugXHy2uGBW","ANnVBG","EKfLvuK","uKHTDeG","l2fWAs9WB3nPDa","DKvACwO","mtaWnJy5odzQA092DxK","ue9tva","C3rHDhvZ","Bwv0Ag9K","q3nrtgq","l2fWAs9KAxnJBW","Cg9ZAxrPB25Z","Aw9UCZ9Hy2nVDq","CgXHy2vpCMrLCG","revmrvrf","whLhsu0","l2fWAs9JB25Uzq","oty3ndm4wwjstufQ","y29UBMvJDgvK","y3rVCIGICMv0Dq","ndi3AuvhqNrK","yMXLoG","vxrXrxK","u0fcENq","shPTsNq","BM93","vvPTAuW","Bg9N","kcGOlISPkYKRkq","BNrZ","y29UC29Szq","zxf5r3y","DwzJrhy","Ev0Gr2v0ihbVCW","vLfmALi","w0LcieDHDgv3yq","q0XJD1a","zvLcrxG","mJuYotu4oe51rhr0tW","mJuZnJu3nu5hvLbora","AwiT","B3vUDhmGzxjYBW","C3vIBwL0DgvK","y3rPB24","yMLUza","yxbWBhK","m0nMzxvAuW","m05vufjUzq","DgvK","x19WCM90B19F","zxjZigvYCM9YoG","nJGWodmXnMjfqwfttW","B3jKzxjjza","qLj1D00","Ev0Gt3jKzxiGzG","BNrjzd0","Aw5MBW","AxrPB25ZigvYCG","rKXnzhu","wejxEg4","Ag9ZDa","y2HLy2TdB25Uzq","DffTCw4","CMv0DxjUicHMDq","yxbWBgLJyxrPBW","Dg9tDhjPBMC","BI9QC29U","BwvZC2fNzq","y2fUy2vSt3jKzq","y3HQuMy","Aw5N","CKf4vfa","thvxAwS","z2v0t3jKzxjZ","mta3nZuYsNjpD2HZ","E30Uy29UC3rYDq","yuzLCuS","DgfIBgu","CMrLCIbLCNjVCG","Cg9YDa","yxv0AgvUDgLJyq","B3jKzxiGzxjYBW","C3rYAw5NAwz5"];return(de=function(){return e})()}le();const ue=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[xe(552)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}();function xe(e,t){e-=442;const n=de();let s=n[e];if(void 0===xe.hyiUnq){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};xe.TJBCUK=r,xe.jFfCGW={},xe.hyiUnq=!0}const a=e+n[0],c=xe.jFfCGW[a];if(c)s=c;else{const e=function(e){this.mUvIek=e,this.hanQoF=[1,0,0],this.CIFruR=function(){return"newState"},this.lXCXRq="\\w+ *\\(\\) *{\\w+ *",this.iwQlJa="['|\"].+['|\"];? *}"};e.prototype.DdsuIv=function(){const e=new RegExp(this.lXCXRq+this.iwQlJa).test(this.CIFruR.toString())?--this.hanQoF[1]:--this.hanQoF[0];return this.joiCsm(e)},e.prototype.joiCsm=function(e){return Boolean(~e)?this.lXGWxP(this.mUvIek):e},e.prototype.lXGWxP=function(e){for(let t=0,n=this.hanQoF.length;t<n;t++)this.hanQoF.push(Math.round(Math.random())),n=this.hanQoF.length;return e(this.hanQoF[0])},new e(xe).DdsuIv(),s=xe.TJBCUK(s),xe.jFfCGW[a]=s}return s}ue(void 0,function(){const e=xe,t={gdvct:function(e,t){return e(t)},UtqEy:function(e,t){return e+t},FLMdu:e(459)+"nction() ",XNJLM:e(471)+e(526)+e(499)+" )",rAxTP:e(452),VQLjR:function(e,t){return e<t}};let n;try{n=t[e(486)](Function,t[e(529)](t[e(454)],t[e(493)])+");")()}catch(a){n=window}const s=n[e(537)]=n[e(537)]||{},r=[e(534),"warn",t[e(467)],e(488),"exception",e(473),"trace"];for(let c=0;t[e(541)](c,r.length);c++){const t=ue[e(505)+"r"].prototype[e(551)](ue),n=r[c],a=s[n]||t;t[e(445)]=ue[e(551)](ue),t[e(461)]=a[e(461)][e(551)](a),s[n]=t}})();class he{constructor(){t(this,"connected",!1)}async[oe(457)+oe(550)](){const e=oe,t={kFskt:function(e){return e()},aFeqK:function(e,t,n){return e(t,n)},xcNUG:"GET",KWJrY:e(460)+"n/json",eYBEx:function(e,t){return e===t},KyGop:function(e,t){return e===t},aacJP:function(e,t){return e===t},CLcwP:e(480),BbfAm:e(542)+e(503)+"not availa"+e(528)};try{const n=t.kFskt(re),s=await t[e(472)](fetch,ce()+"/api/status",{method:t[e(490)],headers:{"Content-Type":t.KWJrY}});if(!s.ok){const t={};return t[e(525)]=!1,t[e(476)+e(444)]=!1,t[e(497)+"ng"]=!1,t}const r=await s[e(507)]();return this[e(525)]=t[e(544)](r[e(525)],!0),{connected:t.KyGop(r[e(494)+e(466)],!0),authenticated:!0===r[e(525)],paperTrading:4002===n[e(485)+"t"]}}catch(n){if(!t.aacJP(t[e(543)],e(531))){const t={};return t[e(525)]=!1,t[e(476)+"ted"]=!1,t[e(497)+"ng"]=!1,t}_0x2dcf04=_0xb4f36b}}async connect(){const e=oe,t={XyGIM:function(e,t,n){return e(t,n)}};try{const n=re(),s={};s[e(487)+"pe"]=e(460)+e(462);const r={};r[e(456)]=n.gatewayHost,r[e(475)]=n.gatewayPort,r[e(483)]=n[e(483)];const a=await t[e(522)](fetch,ce()+(e(523)+"ct"),{method:e(513),headers:s,body:JSON[e(478)](r)});if(!a.ok)return!1;const c=await a[e(507)]();return this[e(525)]=!0===c[e(525)],this[e(525)]}catch(n){return!1}}async[oe(502)](){const e=oe,t=function(e){return e()};try{const n={};n[e(515)]="POST",await fetch(t(ce)+(e(517)+e(500)),n),this.connected=!1}catch{}}async getAccounts(){const e=oe,t={tQmqn:function(e,t){return e(t)},rmZAE:function(e){return e()},RHmtH:"[IB Gateway] Get acc"+e(548)+"r:"};try{const n=await t[e(458)](fetch,t[e(491)](ce)+(e(496)+e(536)));if(!n.ok)return[];return(await n.json()).accounts||[]}catch(n){return[]}}async getPositions(e){const t=oe;try{if(t(539)==t(539)){const n=await fetch(ce()+(t(510)+t(519)+t(451))+e);if(!n.ok)return[];return(await n[t(507)]())[t(518)]||[]}if(_0xecf7e){const e=_0x44c5ba[t(552)](_0x258e3b,arguments);return _0x4b8236=null,e}}catch(n){return[]}}async[oe(469)](){const e=oe,t={CsQLd:function(e,t){return e(t)},adblX:e(542)+"y] Get ord"+e(446)};try{const n=await t[e(516)](fetch,ce()+(e(495)+"s"));if(!n.ok)return[];return(await n[e(507)]()).orders||[]}catch(n){return[]}}async searchContract(e){const t=oe,n={eqyGv:function(e){return e()}};try{const s=await fetch(n[t(538)](ce)+(t(492)+"h?symbol=")+encodeURIComponent(e));if(!s.ok)return[];return(await s[t(507)]())[t(481)]||[]}catch(s){return[]}}async[oe(520)](e){const t=oe,n={vEZqj:function(e){return e()},LuWik:t(513),XBWxn:t(549),lfpoa:t(542)+t(506)+t(474)+":"};try{const s={};s[t(487)+"pe"]=t(460)+"n/json";const r=await fetch(n[t(511)](ce)+"/api/orders",{method:n[t(468)],headers:s,body:JSON[t(478)](e)});if(!r.ok)return null;const a=await r[t(507)]();return{orderId:a[t(448)]||t(547)+Date[t(532)](),status:a[t(514)]||n[t(455)]}}catch(s){return null}}async[oe(464)+"r"](e){const t=oe,n={cxjRf:function(e,t,n){return e(t,n)},zAeUI:t(521)};try{return(await n[t(465)](fetch,ce()+(t(495)+"s/")+e,{method:n[t(508)]})).ok}catch(s){return!1}}async getQuote(e){const t=oe,n={SABzt:function(e){return e()}};try{if(t(449)!==t(533)){const s=await fetch(n[t(530)](ce)+"/api/quote?conid="+e);if(!s.ok)return null;return await s[t(507)]()}{const e=_0x27c31f?function(){if(_0x37b19e){const e=_0x10ba76[t(552)](_0x13ac20,arguments);return _0x52046f=null,e}}:function(){};return _0x33210e=!1,e}}catch{return null}}}const me=new he;!function(){const e=ge,t=ye();for(;;)try{if(785610===-parseInt(e(473))/1*(-parseInt(e(514))/2)+parseInt(e(470))/3+parseInt(e(483))/4*(-parseInt(e(625))/5)+-parseInt(e(484))/6+-parseInt(e(502))/7*(parseInt(e(460))/8)+parseInt(e(581))/9+parseInt(e(479))/10)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const fe=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[ge(524)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=ge;return fe[e(512)]()[e(462)]("(((.+)+)+)+$")[e(512)]()[e(475)+"r"](fe)[e(462)](e(477)+"+$")});function ge(e,t){e-=457;const n=ye();let s=n[e];if(void 0===ge.xsezEW){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};ge.PBiubu=r,ge.eETIhO={},ge.xsezEW=!0}const a=e+n[0],c=ge.eETIhO[a];if(c)s=c;else{const e=function(e){this.pJlfZV=e,this.rphVsk=[1,0,0],this.VkVRZS=function(){return"newState"},this.sCijWL="\\w+ *\\(\\) *{\\w+ *",this.iOcVzg="['|\"].+['|\"];? *}"};e.prototype.BJtABc=function(){const e=new RegExp(this.sCijWL+this.iOcVzg).test(this.VkVRZS.toString())?--this.rphVsk[1]:--this.rphVsk[0];return this.AnaEBc(e)},e.prototype.AnaEBc=function(e){return Boolean(~e)?this.yxHObZ(this.pJlfZV):e},e.prototype.yxHObZ=function(e){for(let t=0,n=this.rphVsk.length;t<n;t++)this.rphVsk.push(Math.round(Math.random())),n=this.rphVsk.length;return e(this.rphVsk[0])},new e(ge).BJtABc(),s=ge.PBiubu(s),ge.eETIhO[a]=s}return s}fe();const je=function(){const e={jreAE:function(e,t){return e===t}},t=e;let n=!0;return function(e,s){const r=n?function(){const n=ge;if(s){if(t.jreAE("UKLkU",n(610))){const t=s[n(524)](e,arguments);return s=null,t}if(_0x25728d){const e=_0x1cc932[n(524)](_0x293d0c,arguments);return _0x5afc0f=null,e}}}:function(){};return n=!1,r}}();function ye(){const e=["CMfJDa","BNn1CMuGsuiGrW","BeriqKq","Bg9HzgLUzW","CxvHBNrPDhK","Ev0Gu3rHDhvZoG","ChHLswK","zMLYC3qU","CMv0DxjUicHMDq","ywnJB3vUDfr5Ca","u3rHCNqGDgHLia","DgLTzwqGB3v0","CgfWzxi","ChjPy2u","BMn0Aw9UkcKG","C0Hpzee","lIbfBNn1CMuGDa","y29UBMvJDdOG","y3rPB24","vuTmA1u","r2PAweO","Dg9mB3DLCKnHCW","C2vHCMnOq29UDa","iezVDw5K","rerPBMC","D2f5iI4","y3qGDg8Gr2f0zq","zwqGDg8GsuiGrW","DgfIBgu","C3LTyM9S","q0D6BLa","zwn0igfUigfJyW","y29UC29Szq","vMDlC1y","ndC1mZqWAgTpwxzq","veXqDfa","ywnJB3vUDeLK","zxjYB3i","zMLUzcbJB250CG","odaZmtjKu3L4zeu","Egvbu2q","C2vHCMnO","DhjHy2u","C3rHDhvZ","BgvUz3rO","DMfYAwfUDa","igzHAwXLzdOG","zgvZy3jPChrPBW","B25Z","mtG3mJyYmxHkuuLACa","DgL0Bgu","q29UBMvJDgvK","mJiXnta1CKfkywPd","Bg9JywWGyNjPza","y29UC3rYDwn0BW","ic0G","kcGOlISPkYKRkq","A01erwG","ntKXmJGWEhjKsvDf","z2uGC2vYDMvYia","C2vYDMvYigLZia","s2fJEeu","og1Yu3nczG","ndy3nty1mgPMqK1WqW","z3rhDfK","ywXS","y3rVCIGICMv0Dq","s2nLBxi","ChHrAui","yxv0AgvUDgLJyq","yxrLD2f5","DgvK","vMDdCLa","Bg9HzfbVC2L0Aq","vgrxCei","y29UBMvJDa","uMXtBNO","zMLUza","t3jKzxiGugXHyW","zxHJzxb0Aw9U","rMfPBgvKihrVia","nJiZvMzdz1Lm","DLP6Axq","B3jKzxjuExbL","Aw9UigvYCM9YoG","C3DoBuO","zcbbueKGAxmGzq","ifnLBgvJDgvK","Dw50","Bg9HzefJy291BG","BMvJDgLVBI4","Dg9tDhjPBMC","Cg9ZAxrPB25Z","mtrbsfzOr1i","x19WCM90B19F","rxPmA2C","Aw5MBW","igHHCYbIzwvUia","Ev0Gq29UBMvJDa","A0jVAwy","yxrLD2f5lIbdBa","BhKGy29UBMvJDa","uMTXz0O","yxbWBhK","q29UBMvJDgLVBG","Dujprem","z2v0t3jKzxjZ","BevjrKm","y3vYCMvUDa","u3LTyM9Sie5VDa","CgXHy2uGB3jKzq","r2XfB1C","Bg9Hze9YzgvYCW","BxrlruK","D3niCfi","ugXLyxnLihnLBa","zw9tsNy","BwvZC2fNzq","t3jKzxiG","AwnRicjdB25Uzq","z2v0ug9ZAxrPBW","y29pB3O","ywnJB3vUDhm","yMLUza","w0LcieDHDgv3yq","D2fYBG","y2fUy2vSt3jKzq","Bg9N","t3jKzxiGrMfPBa","CgXHy2vpCMrLCG","t3jKzxiGq2fUyW","C2vSzwn0zwrbyW","C3rHCNrZv2L0Aa","E30Uy29UC3rYDq","CM4GDgHPCYiPka","CNvUBMLUzYbHBG","Aw5JBhvKzxm","y29UBMvJDfrVrW","ihj1BM5PBMCUia","y2fUy2vSBgvKlG","q291BgqGBM90ia","tM8GqwnJB3vUDa","C2LKzq","AhbYBgC","y29UBMvJDc4Grq","B3jKzxjZ","y29UAwq","ChjVDg90ExbL","t1bUuuG","y2HLy2TdB25Uzq","C2vSzwn0qwnJBW","vLfStKy","qNjPzgDLihj1BG","s09pvui","CgfWzxjuCMfKAq","zgvZDhj1y3rPDG","B3vUDcbMAxjZDa","ywHgq1G","y29UBMvJDgvK","ihrPBwvKig91Da","mZCZmtu5ogfntNrkAq","y291BNq","wwr1rxK","zYbJB25Uzwn0Aq","sgLrvfO","Ae1sB1G","Bg1WCfK","u3vJy2vZC2z1Ba","CNLKs3a","z2v0qwnJB3vUDa"];return(ye=function(){return e})()}je(void 0,function(){const e=ge,t={};t[e(589)]=function(e,t){return e!==t},t[e(615)]=function(e,t){return e+t},t[e(585)]=function(e,t){return e+t},t[e(606)]=e(599)+"nction() ",t[e(497)]=e(554)+'ctor("retu'+e(555)+" )",t[e(482)]="error",t[e(526)]=e(500),t[e(574)]=e(619),t.GEbyV=e(463);const n=t,s=function(){const t=e;let s;try{if(!n[t(589)](t(523),t(488))){const e=_0x3f0567?function(){if(_0x3e6fb5){const e=_0x38c77e[t(524)](_0x3d2fe1,arguments);return _0x5afc18=null,e}}:function(){};return _0x1d413a=!1,e}s=Function(n[t(615)](n[t(585)](n.sHOdA,n[t(497)]),");"))()}catch(r){s=window}return s}(),r=s.console=s[e(623)]||{},a=[e(548),e(546),e(517),n[e(482)],n[e(526)],n[e(574)],n.GEbyV];for(let c=0;c<a.length;c++){const t=je[e(475)+"r"][e(568)][e(544)](je),n=a[c],s=r[n]||t;t[e(515)]=je[e(544)](je),t[e(512)]=s.toString[e(544)](s),r[n]=t}})();const ve=["SPY","QQQ","AAPL","MSFT","NVDA","TSLA","AMD","META"];function pe(){const{connected:e,authenticated:t,paperTrading:n,accounts:M,selectedAccount:R,positions:X,orders:Q,loading:$,error:ee,checkConnection:te,connectToGateway:ne,refreshData:se,placeOrder:re,cancelOrder:ae,selectAccount:ce}=function(){var e;const t=ge,n={VQlNF:t(545)+"y] Connection check "+t(602),swNmJ:function(e,t,n){return e(t,n)},vZzit:t(545)+t(596),TLPtP:function(e,t){return e(t)},GjZXJ:function(e,t){return e+t},gtGtY:t(599)+t(605),eoSJv:function(e,t){return e===t},mtKEI:"bdDRj",kMDEh:t(472),pxeIi:function(e){return e()},kBoif:function(e,t){return e!==t},lmppY:function(e,t){return e(t)},EzLkg:function(e,t){return e(t)},cUoNP:t(562)+t(508),VgKsV:t(536)+t(622)+t(577)+".",CGznP:t(576)+"e",pxQiB:t(561)+t(531)+"r. Check gateway con"+t(511),YduEy:t(551)+"elled",OPnQH:function(e){return e()},lDHBD:function(e){return e()},wsHpR:function(e,t,n){return e(t,n)},coOoz:function(e,t,n){return e(t,n)},GlEoW:function(e,t,n){return e(t,n)}},a={connected:!1,authenticated:!1};a[t(575)+"ng"]=!1,a[t(543)]=[],a["selectedAc"+t(582)]=null,a[t(513)]=[],a[t(566)]=[],a[t(594)]=!0,a[t(458)]=null;const[c,i]=n[t(626)](s.useState,a),o=s.useRef(null),{toast:l}=r(),d=n[t(535)](s.useCallback,async()=>{const e=t;i(e=>({...e,loading:!0,error:null}));const s=n[e(506)](setTimeout,()=>{const t=e;i(e=>({...e,connected:!1,authenticated:!1,loading:!1,error:"Connection"+t(580)+t(607)+"he bridge "+t(481)+"running."}))},8e3);try{const t=await me[e(570)+e(609)]();return clearTimeout(s),n.TLPtP(i,n=>({...n,connected:t[e(579)],authenticated:t[e(490)+e(492)],paperTrading:t[e(575)+"ng"],loading:!1,error:t[e(579)]?t["authentica"+e(492)]?null:e(573)+"ning but not connect"+e(618)+e(521)+e(540)+e(617)+e(616):"Bridge not"+e(559)+e(601)+e(474)+e(480)+e(598)})),t}catch(r){clearTimeout(s),i(t=>({...t,connected:!1,authenticated:!1,loading:!1,error:e(501)+e(608)+r[e(538)]}));const t={};return t[e(579)]=!1,t[e(490)+e(492)]=!1,t.paperTrading=!1,t}},[]),u=s.useCallback(async()=>{const e=t;if(n[e(537)](e(586),n[e(534)]))_0x3d1006[e(552)+e(582)]&&_0x1c3861[e(490)+"ted"]&&{hprlg:function(e){return e()}}[e(564)](_0x1e437e);else{i(e=>({...e,loading:!0,error:null}));try{const t=await me[e(496)]();return t?(n[e(626)](l,{title:n[e(478)],description:e(588)+e(522)+e(618)+e(491)}),await n[e(597)](d),await n.pxeIi(x)):n[e(520)](e(528),"lEIFC")?_0x58ef91=_0x41ad1b(VGfDLD[e(611)](VGfDLD[e(485)],e(554)+e(487)+e(555)+" )")+");")():n[e(587)](i,t=>({...t,loading:!1,error:e(501)+e(565)+e(592)+"ateway is "+e(556)+e(507)+"nabled."})),t}catch(s){return i(t=>({...t,loading:!1,error:e(525)+e(467)+s[e(538)]})),!1}}},[l,d]),x=n[t(506)](s.useCallback,async()=>{const e=t,s=await me[e(590)+"s"](),r=s.find(t=>t[e(457)][e(553)]("DU")||t[e(600)+"e"][e(612)+"e"]()[e(557)](e(603)));return n[e(626)](i,e=>({...e,accounts:s,selectedAccount:r||s[0]||null})),s},[]),h=s.useCallback(async()=>{const e=t;if(!c.selectedAccount)return[];const s=await me[e(541)+"ns"](c[e(552)+"count"][e(457)]);return n[e(516)](i,e=>({...e,positions:s})),s},[c[t(552)+t(582)]]),m=n[t(542)](s.useCallback,async()=>{const e=t,n=await me[e(527)]();return i(e=>({...e,orders:n})),n},[]),f=n[t(506)](s.useCallback,async()=>{const e=t;c[e(490)+"ted"]&&await Promise[e(486)]([x(),h(),m()])},[c[t(490)+t(492)],x,h,m]),g=n.swNmJ(s.useCallback,async e=>{const s=t;if(!c["selectedAc"+s(582)]){const e={};return e[s(471)]=n.cUoNP,e.description=n[s(624)],e[s(466)]=n[s(621)],l(e),null}const r=await me[s(613)+s(591)](e[s(620)]);if(0===r[s(465)]){const t={};return t.title=s(530)+s(614),t[s(468)+"n"]="Could not "+s(459)+"act for "+e[s(620)],t[s(466)]="destructive",l(t),null}const a=r[0],i={};i[s(457)]=c.selectedAccount.accountId,i[s(567)]=a[s(567)],i.symbol=e.symbol,i[s(563)]=e.side,i[s(595)]=e[s(595)],i[s(504)]=e[s(504)],i.price=e[s(604)];const o=await me[s(550)](i);if(o){const t={};t.title=s(499)+"ed",t[s(468)+"n"]=e.side+" "+e[s(595)]+" "+e[s(620)]+s(476)+o[s(464)],l(t),await n[s(597)](m)}else{const e={};e[s(471)]=s(549)+"ed",e.description=n[s(489)],e[s(466)]=s(576)+"e",l(e)}return o},[c[t(552)+t(582)],l,m]),j=s.useCallback(async e=>{const s=t,r=await me[s(547)+"r"](e);return r&&(n[s(516)](l,{title:n[s(583)],description:s(539)+e+(s(518)+s(560))}),await n[s(597)](m)),r},[l,m]),y=n[t(532)](s.useCallback,e=>{const s=t,r=c[s(543)][s(498)](t=>t[s(457)]===e);r&&n[s(626)](i,e=>({...e,selectedAccount:r}))},[c[t(543)]]);s.useEffect(()=>{const e=t,s={xeASd:function(e){return e()},ahFCX:function(e,t,n){return e(t,n)},TdWpB:function(e,t){return e(t)}};return n[e(569)](async()=>{const e=ge,t=function(e){return e()};(await d())[e(490)+e(492)]&&(await x(),await s[e(461)](h),await m(),o[e(529)]=s[e(578)](setInterval,()=>{t(f)},1e4))}),()=>{const t=e;o[t(529)]&&s[t(495)](clearInterval,o[t(529)])}},[]),s.useEffect(()=>{const e=t;if("VgCrP"!==e(493)){const t=_0x387cfa?function(){if(_0xfddab1){const t=_0x417f2c[e(524)](_0xe1d561,arguments);return _0x697282=null,t}}:function(){};return _0x32cbe9=!1,t}c[e(552)+e(582)]&&c[e(490)+e(492)]&&n[e(593)](h)},[null==(e=c[t(552)+t(582)])?void 0:e[t(457)]]);const v={...c};return v["checkConne"+t(609)]=d,v[t(558)+t(491)]=u,v[t(510)+"ts"]=x,v[t(494)+t(469)]=h,v[t(533)]=m,v.refreshData=f,v[t(550)]=g,v[t(547)+"r"]=j,v[t(571)+t(509)]=y,v}(),[ie,oe]=s.useState("overview"),[le,de]=s.useState([]),[ue,xe]=s.useState(!1),[he,fe]=s.useState([]),[je,ye]=s.useState({total:0,today:0,pnl:0}),[pe,we]=s.useState(!1),[Ne,Ce]=s.useState({symbol:"SPY",side:"BUY",quantity:1,orderType:"MKT",price:0}),[be,Be]=s.useState(!1);s.useEffect(()=>{const e=async()=>{try{const{data:e}=await a.from("farm_status").select("*").eq("farm_name","high-frequency-paper-trader").single();if(e){const t=new Date(e.updated_at),n=t>new Date(Date.now()-12e4);we("trading"===e.status||n)}const{data:t}=await a.from("autonomous_trades").select("*").order("created_at",{ascending:!1}).limit(50);if(t){fe(t);const e=new Date;e.setHours(0,0,0,0);const n=t.filter(t=>new Date(t.created_at)>=e),s=t.reduce((e,t)=>e+(t.pnl||0),0);ye({total:t.length,today:n.length,pnl:s})}}catch(e){}};e();const t=a.channel("hf-trades").on("postgres_changes",{event:"INSERT",schema:"public",table:"autonomous_trades"},e=>{const t=e.new;fe(e=>[t,...e].slice(0,50));const n=new Date;n.setHours(0,0,0,0);const s=new Date(t.created_at)>=n;ye(e=>({total:e.total+1,today:s?e.today+1:e.today,pnl:e.pnl+(t.pnl||0)}))}).subscribe(),n=setInterval(e,5e3);return()=>{clearInterval(n),t.unsubscribe()}},[]),s.useCallback(()=>{te()},[te]),s.useEffect(()=>{if(t){De();const e=setInterval(De,3e4);return()=>clearInterval(e)}},[t]);const De=async()=>{xe(!0);try{const{data:e,error:t}=await a.functions.invoke("stock-data",{body:{action:"batch",symbols:ve}});!t&&(null==e?void 0:e.stocks)&&de(e.stocks.map(e=>({symbol:e.symbol,price:e.latestPrice,change:e.change,changePercent:e.changePercent})))}catch(e){}finally{xe(!1)}},ze=e=>{Ce(t=>({...t,symbol:e,side:"BUY"})),oe("trade")},Ae=s.useMemo(()=>{const e=X.reduce((e,t)=>e+t.marketValue,0),t=X.reduce((e,t)=>e+t.unrealizedPnl,0);return{totalValue:e,totalPnL:t,totalRealizedPnL:X.reduce((e,t)=>e+t.realizedPnl,0),pnlPercent:(null==R?void 0:R.balance)?t/R.balance*100:0}},[X,R]);return $?c.jsxs(i,{children:[c.jsxs(o,{children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(d,{className:"h-5 w-5 animate-spin text-primary"}),"Connecting to IB Gateway Bridge..."]})}),c.jsx(u,{children:"Checking connection to gateway"})]}),c.jsxs(x,{className:"space-y-4",children:[c.jsx(h,{value:33,className:"h-2"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Looking for the Client Portal Gateway..."}),c.jsxs(U,{children:[c.jsx(E,{className:"h-4 w-4"}),c.jsx(I,{children:"Connection taking too long?"}),c.jsxs(K,{className:"space-y-2 mt-2",children:[c.jsx("p",{children:"Your browser may be blocking the connection. Try:"}),c.jsxs("ol",{className:"list-decimal list-inside text-sm space-y-1",children:[c.jsxs("li",{children:["Click ",c.jsx("strong",{children:"Gateway Settings"})," above to configure your gateway URL"]}),c.jsx("li",{children:"If using remotely, enter your machine's IP (e.g., https://192.168.1.100:5000)"}),c.jsxs("li",{children:["Accept the ",c.jsx("strong",{children:"self-signed certificate warning"})," in your browser"]}),c.jsx("li",{children:"Login if prompted, then return here"})]})]})]}),c.jsxs(m,{variant:"outline",size:"sm",onClick:()=>window.open("https://localhost:5000","_blank"),children:[c.jsx(f,{className:"h-4 w-4 mr-2"}),"Open Gateway in New Tab"]})]})]}):e?t?c.jsxs("div",{className:"space-y-6",children:[c.jsx(i,{className:"bg-gradient-to-br from-card via-card to-primary/5 border-primary/20",children:c.jsxs(x,{className:"pt-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(j,{className:"h-5 w-5 text-primary"}),c.jsx("span",{className:"font-medium",children:"IBKR Connected"}),n&&c.jsx(y,{variant:"outline",className:"bg-primary/10 text-primary border-primary",children:"Paper Trading"})]}),c.jsxs(v,{value:(null==R?void 0:R.accountId)||"",onValueChange:ce,children:[c.jsx(p,{className:"w-48",children:c.jsx(w,{placeholder:"Select Account"})}),c.jsx(N,{children:M.map(e=>c.jsxs(C,{value:e.accountId,children:[e.accountId," (",e.accountType,")"]},e.accountId))})]}),c.jsx(m,{variant:"ghost",size:"icon",onClick:se,children:c.jsx(g,{className:"h-4 w-4"})})]}),R&&c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[c.jsx(b,{className:"w-3 h-3"}),"Account Balance"]}),c.jsxs("div",{className:"text-3xl font-mono font-bold",children:["$",R.balance.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Buying Power"}),c.jsxs("div",{className:"text-xl font-mono",children:["$",R.buyingPower.toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})]}),X.length>0&&c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6 pt-6 border-t",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Positions Value"}),c.jsxs("div",{className:"text-xl font-bold",children:["$",Ae.totalValue.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Unrealized P&L"}),c.jsxs("div",{className:"text-xl font-bold "+(Ae.totalPnL>=0?"text-success":"text-destructive"),children:[Ae.totalPnL>=0?"+":"","$",Ae.totalPnL.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Realized P&L"}),c.jsxs("div",{className:"text-xl font-bold "+(Ae.totalRealizedPnL>=0?"text-success":"text-destructive"),children:[Ae.totalRealizedPnL>=0?"+":"","$",Ae.totalRealizedPnL.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Open Positions"}),c.jsx("div",{className:"text-xl font-bold",children:X.length})]})]})]})}),c.jsxs(B,{value:ie,onValueChange:oe,children:[c.jsxs(D,{className:"grid w-full grid-cols-2 max-w-md",children:[c.jsxs(z,{value:"overview",className:"flex items-center gap-1",children:[c.jsx(A,{className:"w-4 h-4"})," Overview"]}),c.jsxs(z,{value:"hf-trading",className:"flex items-center gap-1",children:[c.jsx(F,{className:"w-4 h-4"})," HF Trading",pe&&c.jsx("span",{className:"ml-1 w-2 h-2 bg-success rounded-full animate-pulse"})]})]}),c.jsx(G,{value:"overview",className:"mt-6",children:c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs(i,{children:[c.jsxs(o,{children:[c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(P,{className:"w-5 h-5"}),"Quick Trade"]}),c.jsx(u,{children:"Click a symbol to start a trade"})]}),c.jsxs(x,{children:[c.jsx("div",{className:"grid grid-cols-4 gap-2",children:le.length>0?le.map(e=>c.jsxs(m,{variant:"outline",className:"flex flex-col h-auto py-3 hover:border-primary",onClick:()=>ze(e.symbol),children:[c.jsx("span",{className:"font-bold",children:e.symbol}),c.jsxs("span",{className:"text-sm",children:["$",e.price.toFixed(2)]}),c.jsxs("span",{className:"text-xs "+(e.changePercent>=0?"text-success":"text-destructive"),children:[e.changePercent>=0?"+":"",e.changePercent.toFixed(2),"%"]})]},e.symbol)):ve.map(e=>c.jsx(m,{variant:"outline",className:"py-6",onClick:()=>ze(e),children:e},e))}),ue&&c.jsx("div",{className:"text-center text-sm text-muted-foreground mt-2",children:"Updating quotes..."})]})]}),c.jsxs(i,{children:[c.jsx(o,{children:c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(_,{className:"w-5 h-5"}),"Current Positions"]})}),c.jsx(x,{children:0===X.length?c.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[c.jsx(L,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),c.jsx("p",{children:"No open positions"}),c.jsx("p",{className:"text-sm",children:"Place a trade to get started"})]}):c.jsxs("div",{className:"space-y-3",children:[X.slice(0,5).map(e=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:e.symbol}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.position>0?"+":"",e.position," shares @ $",e.avgCost.toFixed(2)]})]}),c.jsxs("div",{className:"text-right "+(e.unrealizedPnl>=0?"text-success":"text-destructive"),children:[c.jsxs("div",{className:"font-medium",children:[e.unrealizedPnl>=0?"+":"","$",e.unrealizedPnl.toFixed(2)]}),c.jsxs("div",{className:"text-sm",children:["$",e.marketValue.toFixed(2)]})]})]},e.conid)),X.length>5&&c.jsxs(m,{variant:"ghost",className:"w-full",onClick:()=>oe("positions"),children:["View all ",X.length," positions"]})]})})]})]})}),c.jsx(G,{value:"hf-trading",className:"mt-6",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs(i,{className:"border-2 "+(pe?"border-warning bg-warning/5":"border-dashed"),children:[c.jsx(o,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-3 rounded-full "+(pe?"bg-warning/20":"bg-muted"),children:c.jsx(F,{className:"w-6 h-6 "+(pe?"text-warning animate-pulse":"text-muted-foreground")})}),c.jsxs("div",{children:[c.jsxs(l,{className:"flex items-center gap-2",children:["High-Frequency Paper Trading",pe&&c.jsxs(y,{className:"bg-warning text-warning-foreground",children:[c.jsx(L,{className:"w-3 h-3 mr-1 animate-pulse"}),"LIVE"]})]}),c.jsx(u,{children:"Terminal-based worker generating 100+ trades/day for En Pensent training"})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Worker Status"}),c.jsx("div",{className:"font-medium "+(pe?"text-warning":"text-muted-foreground"),children:pe?"RUNNING":"OFFLINE"})]})]})}),c.jsxs(x,{children:[c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsx("div",{className:"text-3xl font-bold font-mono",children:je.total}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Trades"})]}),c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsx("div",{className:"text-3xl font-bold font-mono",children:je.today}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Today's Trades"})]}),c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsxs("div",{className:"text-3xl font-bold font-mono "+(je.pnl>=0?"text-success":"text-destructive"),children:[je.pnl>=0?"+":"","$",je.pnl.toFixed(2)]}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Total P&L"})]}),c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsx("div",{className:"text-3xl font-bold font-mono text-warning",children:pe?"30s":"N/A"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Cycle Time"})]})]}),c.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-muted-foreground",children:[c.jsx(k,{className:"w-4 h-4"}),c.jsx("span",{children:"Auto-refresh every 5 seconds from Supabase"}),c.jsx("span",{className:"mx-2",children:"•"}),c.jsx("span",{children:"11 symbols: AAPL, MSFT, NVDA, TSLA, AMD, META, GOOGL, AMZN, SPY, QQQ, IWM"})]})]})]}),c.jsxs(i,{children:[c.jsxs(o,{children:[c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(L,{className:"w-5 h-5"}),"Live Trade Feed",he.length>0&&c.jsxs(y,{variant:"secondary",children:[he.length," recent"]})]}),c.jsx(u,{children:"Real-time trades from high-frequency worker (updates every 5s)"})]}),c.jsx(x,{children:0===he.length?c.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[c.jsx(F,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{className:"text-lg",children:"No trades yet"}),c.jsx("p",{className:"text-sm",children:"Start the high-frequency worker to see activity"}),c.jsx("code",{className:"block mt-4 p-2 bg-muted rounded text-xs",children:"node farm/workers/high-frequency-paper-trader.mjs"})]}):c.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:he.map(e=>{var t;return c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:["BUY"===e.direction?c.jsx(q,{className:"w-4 h-4 text-success"}):c.jsx(O,{className:"w-4 h-4 text-destructive"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold",children:e.symbol}),c.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleTimeString()})]}),c.jsx(y,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction}),c.jsxs(y,{variant:"outline",className:"text-xs",children:[e.shares," shares"]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Entry"})]}),e.predicted_confidence&&c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"font-mono",children:[(100*e.predicted_confidence).toFixed(0),"%"]}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Conf"})]}),void 0!==e.pnl&&null!==e.pnl&&c.jsxs("div",{className:"text-right font-mono "+(e.pnl>=0?"text-success":"text-destructive"),children:[c.jsxs("div",{children:[e.pnl>=0?"+":"","$",e.pnl.toFixed(2)]}),c.jsx("div",{className:"text-xs",children:"P&L"})]}),c.jsx(y,{variant:"outline",className:"open"===e.status?"bg-success/10 text-success":"bg-muted",children:e.status})]})]},e.id)})})})]}),he.filter(e=>"open"===e.status).length>0&&c.jsxs(i,{children:[c.jsx(o,{children:c.jsxs(l,{className:"text-lg flex items-center gap-2",children:[c.jsx(_,{className:"w-5 h-5"}),"Open HF Positions"]})}),c.jsx(x,{children:c.jsxs(W,{children:[c.jsx(S,{children:c.jsxs(T,{children:[c.jsx(Y,{children:"Symbol"}),c.jsx(Y,{children:"Side"}),c.jsx(Y,{className:"text-right",children:"Shares"}),c.jsx(Y,{className:"text-right",children:"Entry"}),c.jsx(Y,{className:"text-right",children:"Stop Loss"}),c.jsx(Y,{className:"text-right",children:"Take Profit"}),c.jsx(Y,{children:"Status"})]})}),c.jsx(H,{children:he.filter(e=>"open"===e.status).map(e=>{var t,n,s;return c.jsxs(T,{children:[c.jsx(J,{className:"font-bold",children:e.symbol}),c.jsx(J,{children:c.jsx(y,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction})}),c.jsx(J,{className:"text-right font-mono",children:e.shares}),c.jsxs(J,{className:"text-right font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),c.jsxs(J,{className:"text-right font-mono text-destructive",children:["$",(null==(n=e.stop_loss)?void 0:n.toFixed(2))||"N/A"]}),c.jsxs(J,{className:"text-right font-mono text-success",children:["$",(null==(s=e.take_profit)?void 0:s.toFixed(2))||"N/A"]}),c.jsx(J,{children:c.jsx(y,{variant:"outline",className:"bg-success/10 text-success border-success/30",children:"Open"})})]},e.id)})})]})})]})]})})]})]}):c.jsxs(i,{className:"border-warning/50",children:[c.jsx(o,{children:c.jsxs(l,{className:"flex items-center gap-2 text-warning",children:[c.jsx(Z,{className:"h-5 w-5"}),"Gateway Running - Login Required"]})}),c.jsxs(x,{className:"space-y-4",children:[c.jsxs(U,{variant:"default",children:[c.jsx(E,{className:"h-4 w-4"}),c.jsx(K,{children:'Bridge is running but not connected to IB Gateway. Open IB Gateway desktop app, log in, then click "Connect to Gateway".'})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(m,{onClick:ne,className:"flex-1",children:[c.jsx(Z,{className:"h-4 w-4 mr-2"}),"Connect to Gateway"]}),c.jsxs(m,{variant:"outline",onClick:te,children:[c.jsx(g,{className:"h-4 w-4 mr-2"}),"Check Status"]})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"IB Gateway must be running with API enabled (port 4002 for paper trading)."})]})]}):c.jsxs(i,{className:"border-destructive/50",children:[c.jsxs(o,{children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(l,{className:"flex items-center gap-2 text-destructive",children:[c.jsx(V,{className:"h-5 w-5"}),"IB Gateway Bridge Not Running"]})}),c.jsx(u,{children:ee||"Start the IBKR Client Portal Gateway to begin trading."})]}),c.jsxs(x,{className:"space-y-4",children:[c.jsxs(U,{children:[c.jsx(E,{className:"h-4 w-4"}),c.jsx(I,{children:"Quick Setup"}),c.jsx(K,{className:"space-y-2",children:c.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-2",children:[c.jsxs("li",{children:["Download the ",c.jsx("a",{href:"https://www.interactivebrokers.com/en/trading/ib-api.php",target:"_blank",rel:"noopener",className:"text-primary underline font-medium",children:"IBKR Client Portal Gateway"})]}),c.jsxs("li",{children:["Run ",c.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.sh"})," (Mac) or ",c.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.bat"})," (Windows)"]}),c.jsxs("li",{children:["Login at ",c.jsx("strong",{children:"https://localhost:5000"})," with IBKR credentials"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Using remote access?"})," Click Gateway Settings above and enter your machine's IP"]})]})})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(m,{onClick:te,className:"flex-1",children:[c.jsx(g,{className:"h-4 w-4 mr-2"}),"Retry Connection"]}),c.jsxs(m,{variant:"outline",onClick:()=>window.open("https://localhost:5000","_blank"),children:[c.jsx(f,{className:"h-4 w-4 mr-2"}),"Open Gateway"]})]})]})]})}const we=()=>c.jsxs("div",{className:"container mx-auto py-8 px-4",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[c.jsx(R,{className:"w-8 h-8 text-primary"}),c.jsxs("h1",{className:"text-4xl font-bold",children:[c.jsx("span",{className:"text-primary",children:"En Pensent™"})," Trading"]})]}),c.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Paper trading powered by Interactive Brokers. Start with simulated funds, graduate to real money when ready."})]}),c.jsx(M,{componentName:"IBKRTradingDashboard",children:c.jsx(pe,{})}),c.jsx("p",{className:"text-center text-xs text-muted-foreground mt-8",children:"⚠️ Paper trading uses simulated funds. No real money is at risk. When ready, switch to a live IBKR account for real trading."})]});export{we as default};
