const n='import React, { useMemo } from \'react\';\nimport {\n  AreaChart,\n  Area,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ResponsiveContainer,\n  ReferenceLine,\n} from \'recharts\';\nimport { format } from \'date-fns\';\nimport { TrendingUp } from \'lucide-react\';\nimport type { VisionValueHistory } from \'@/lib/nfts/visionNftApi\';\n\ninterface VisionValueChartProps {\n  history: VisionValueHistory[];\n  mintPrice: number;\n  className?: string;\n}\n\nexport const VisionValueChart: React.FC<VisionValueChartProps> = ({\n  history,\n  mintPrice,\n  className = \'\',\n}) => {\n  const chartData = useMemo(() => {\n    return history.map((h) => ({\n      date: format(new Date(h.snapshot_date), \'MMM d\'),\n      fullDate: h.snapshot_date,\n      floor: h.floor_price_cents / 100,\n      mint: mintPrice / 100,\n      print: (h.print_revenue_cents || 0) / 100,\n      game: (h.gamecard_share_cents || 0) / 100,\n      palette: (h.palette_share_cents || 0) / 100,\n      opening: (h.opening_share_cents || 0) / 100,\n      engagement: (h.engagement_cents || 0) / 100,\n      trading: (h.trading_premium_cents || 0) / 100,\n    }));\n  }, [history, mintPrice]);\n\n  const currentValue = history[history.length - 1]?.floor_price_cents || mintPrice;\n  const gain = currentValue - mintPrice;\n  const gainPercentage = mintPrice > 0 ? (gain / mintPrice) * 100 : 0;\n\n  if (history.length < 2) {\n    return (\n      <div className={`p-4 text-center text-muted-foreground ${className}`}>\n        <TrendingUp className="h-8 w-8 mx-auto mb-2 opacity-50" />\n        <p>Not enough data yet. Check back tomorrow!</p>\n        <p className="text-sm">Current floor: ${(currentValue / 100).toFixed(2)}</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`space-y-4 ${className}`}>\n      {/* Stats Summary */}\n      <div className="grid grid-cols-2 gap-4">\n        <div className="p-3 bg-muted rounded-lg">\n          <div className="text-xs text-muted-foreground">Total Appreciation</div>\n          <div className={`text-lg font-bold ${gain >= 0 ? \'text-green-500\' : \'text-red-500\'}`}>\n            {gain >= 0 ? \'+\' : \'\'}{(gain / 100).toFixed(2)} ({gainPercentage.toFixed(1)}%)\n          </div>\n        </div>\n        <div className="p-3 bg-muted rounded-lg">\n          <div className="text-xs text-muted-foreground">Value Sources</div>\n          <div className="text-sm">\n            {history[0]?.game_hype_score && `Game Hype: ${history[0].game_hype_score}/100`}\n            {history[0]?.palette_scarcity && (\n              <span className="ml-2">Scarcity: {history[0].palette_scarcity}</span>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Chart */}\n      <div className="h-64">\n        <ResponsiveContainer width="100%" height="100%">\n          <AreaChart data={chartData} margin={{ top: 10, right: 10, left: 0, bottom: 0 }}>\n            <defs>\n              <linearGradient id="colorFloor" x1="0" y1="0" x2="0" y2="1">\n                <stop offset="5%" stopColor="hsl(var(--primary))" stopOpacity={0.3} />\n                <stop offset="95%" stopColor="hsl(var(--primary))" stopOpacity={0} />\n              </linearGradient>\n            </defs>\n            <CartesianGrid strokeDasharray="3 3" stroke="hsl(var(--muted))" />\n            <XAxis\n              dataKey="date"\n              tick={{ fontSize: 12 }}\n              stroke="hsl(var(--muted-foreground))"\n            />\n            <YAxis\n              tick={{ fontSize: 12 }}\n              stroke="hsl(var(--muted-foreground))"\n              tickFormatter={(value) => `$${value}`}\n            />\n            <Tooltip\n              content={({ active, payload, label }) => {\n                if (!active || !payload || !payload.length) return null;\n                const data = payload[0].payload;\n                return (\n                  <div className="bg-popover p-3 rounded-lg border shadow-lg">\n                    <p className="font-medium mb-2">{data.fullDate}</p>\n                    <div className="space-y-1 text-sm">\n                      <p className="text-primary font-semibold">\n                        Floor: ${data.floor.toFixed(2)}\n                      </p>\n                      {data.print > 0 && (\n                        <p className="text-muted-foreground">Prints: +${data.print.toFixed(2)}</p>\n                      )}\n                      {data.game > 0 && (\n                        <p className="text-muted-foreground">Game: +${data.game.toFixed(2)}</p>\n                      )}\n                      {data.palette > 0 && (\n                        <p className="text-muted-foreground">Palette: +${data.palette.toFixed(2)}</p>\n                      )}\n                      {data.opening > 0 && (\n                        <p className="text-muted-foreground">Opening: +${data.opening.toFixed(2)}</p>\n                      )}\n                    </div>\n                  </div>\n                );\n              }}\n            />\n            <ReferenceLine\n              y={mintPrice / 100}\n              stroke="hsl(var(--muted-foreground))"\n              strokeDasharray="3 3"\n              label={{ value: \'Mint\', position: \'insideBottomLeft\', fontSize: 10 }}\n            />\n            <Area\n              type="monotone"\n              dataKey="floor"\n              stroke="hsl(var(--primary))"\n              strokeWidth={2}\n              fillOpacity={1}\n              fill="url(#colorFloor)"\n            />\n          </AreaChart>\n        </ResponsiveContainer>\n      </div>\n\n      {/* Legend */}\n      <div className="flex flex-wrap gap-3 text-xs text-muted-foreground">\n        <div className="flex items-center gap-1">\n          <div className="w-3 h-3 rounded-full bg-primary" />\n          <span>Floor Price</span>\n        </div>\n        <div className="flex items-center gap-1">\n          <div className="w-3 h-0.5 bg-muted-foreground" />\n          <span>Mint Price</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default VisionValueChart;\n';export{n as default};
