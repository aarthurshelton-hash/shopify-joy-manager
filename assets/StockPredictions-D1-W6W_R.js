var e,t=Object.defineProperty,n=(e,n,s)=>((e,n,s)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s)(e,"symbol"!=typeof n?n+"":n,s);import{aJ as s,r,ew as a,s as c,j as i,C as o,p as l,t as d,L as u,w as x,x as h,aq as m,B as f,aF as g,v as j,cR as v,y,b8 as p,b9 as w,ba as N,bb as C,bc as b,a8 as B,aB as D,aC as z,aD as G,b4 as q,aE as L,aY as A,bh as P,cb as M,ad as U,eD as k}from"./index-UWVR9Dcc.js";import{A as I,a as K,b as W}from"./alert-Dnuqh7c7.js";import{T as S,a as Y,b as O,c as T,d as E,e as H}from"./table-DwlyfERO.js";import{C as F}from"./circle-alert-CzMuvjyB.js";import{W as J}from"./wifi-off-Dh1Zjky7.js";import{W as _}from"./wifi-C_bfXBJK.js";import{B as R}from"./briefcase-C_JtckjJ.js";import{T as V}from"./trending-down-CO04I8Qb.js";const Z=s("Bolt",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]),X=s("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),Q=re;!function(){const e=re,t=ie();for(;;)try{if(987745===-parseInt(e(498))/1+-parseInt(e(510))/2*(-parseInt(e(530))/3)+parseInt(e(523))/4*(parseInt(e(484))/5)+-parseInt(e(505))/6+parseInt(e(504))/7*(-parseInt(e(485))/8)+-parseInt(e(495))/9*(parseInt(e(514))/10)+parseInt(e(522))/11)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const $=function(){const e=re,t={};t[e(497)]="return (fu"+e(489),t[e(534)]=function(e,t){return e!==t},t[e(483)]="dkhZO";const n=t;let s=!0;return function(t,r){const a=e,c={};c[a(508)]=n[a(497)];const i=c;if(n[a(534)](n.nuNkE,"oOAlH")){const e=s?function(){if(r){const e=r[a(515)](t,arguments);return r=null,e}}:function(){};return s=!1,e}{let e;try{e=_0x166219(i[a(508)]+(a(507)+'ctor("retu')+a(491)+" ));")()}catch(o){e=_0x2457b5}return e}}}()(void 0,function(){const e=re,t={};t.KCxqe=e(521)+"+$";const n=t;return $[e(501)]()[e(500)](n[e(533)])[e(501)]()[e(537)+"r"]($)[e(500)](n[e(533)])});$();const ee=function(){let e=!0;return function(t,n){const s=re,r={};r[s(519)]="(((.+)+)+)+$",r.FVKqT="pERth",r[s(517)]=s(513);const a=r,c=e?function(){const e=s;if(n){if(a[e(486)]!==a[e(517)]){const s=n[e(515)](t,arguments);return n=null,s}return _0x2c4316[e(501)]()[e(500)](e(521)+"+$")[e(501)]()[e(537)+"r"](_0x38b94a)[e(500)](a.wdhPt)}}:function(){};return e=!1,c}}();ee(void 0,function(){const e=re,t={YPvSv:function(e,t){return e+t},xAuDj:e(507)+e(502)+e(491)+" )",iRNSi:function(e){return e()},DdKkf:e(528),XGbzP:"info",rxlqp:e(520),ZdMBt:"table",HQiJn:function(e,t){return e<t}},n=t[e(529)](function(){const n=e;let s;try{s=Function(t.YPvSv(n(490)+n(489),t[n(503)])+");")()}catch(r){s=window}return s}),s=n[e(527)]=n[e(527)]||{},r=[e(540),t[e(525)],t[e(493)],"error",t[e(482)],t[e(526)],e(499)];for(let a=0;t[e(494)](a,r[e(518)]);a++){const t=ee[e(537)+"r"][e(488)][e(511)](ee),n=r[a],c=s[n]||t;t[e(524)]=ee[e(511)](ee),t[e(501)]=c[e(501)][e(511)](c),s[n]=t}})();const te=Q(541)+Q(532)+"l",ne=Q(506)+Q(492)+"0",se={};function re(e,t){e-=482;const n=ie();let s=n[e];if(void 0===re.UZrFsF){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};re.ytYJtw=r,re.ArbTmQ={},re.UZrFsF=!0}const a=e+n[0],c=re.ArbTmQ[a];if(c)s=c;else{const e=function(e){this.fYPTxB=e,this.OCREpI=[1,0,0],this.AtvaPv=function(){return"newState"},this.jObzuT="\\w+ *\\(\\) *{\\w+ *",this.BoPaFm="['|\"].+['|\"];? *}"};e.prototype.tOPGvr=function(){const e=new RegExp(this.jObzuT+this.BoPaFm).test(this.AtvaPv.toString())?--this.OCREpI[1]:--this.OCREpI[0];return this.echlbj(e)},e.prototype.echlbj=function(e){return Boolean(~e)?this.izHXxZ(this.fYPTxB):e},e.prototype.izHXxZ=function(e){for(let t=0,n=this.OCREpI.length;t<n;t++)this.OCREpI.push(Math.round(Math.random())),n=this.OCREpI.length;return e(this.OCREpI[0])},new e(re).tOPGvr(),s=re.ytYJtw(s),re.ArbTmQ[a]=s}return s}se[Q(516)]=ne,se.gatewayHost=Q(535),se[Q(512)+"t"]=4002,se[Q(539)]=1;const ae=se;function ce(){const e=Q,t={};t.LJbyV=e(509);if(typeof window===t[e(531)])return ae;const n=localStorage[e(538)](te);if(n)try{return{...ae,...JSON[e(536)](n)}}catch{return ae}return ae}function ie(){const e=["wMrnqNq","y29UC29Szq","D2fYBG","Avjou2K","m0DkC3Ppzq","tePIEvy","x2jYAwrNzv91CG","s0n4Cwu","q3j3reW","mti3lJaUmc4X","CgfYC2u","y29UC3rYDwn0BW","z2v0sxrLBq","y2XPzw50swq","Bg9N","AwjFz2f0zxDHEq","CNHSCxa","BNvoA0u","mJK1vhLWA3r0","nJa4ogjlwuT0ta","rLzlCvq","C3rYAw5NAwz5","ChjVDg90ExbL","BMn0Aw9UkcKG","CMv0DxjUicHMDq","CM4GDgHPCYiPka","ywXOB3n0oJqWma","weDIELa","sffPsM4","odfUzhbTvfm","CMvTB3zLsxrLBq","tLLtDhK","mtuWnJuYowjxtMnAtG","DhjHy2u","C2vHCMnO","Dg9tDhjPBMC","y3rVCIGICMv0Dq","Eef1rgO","mteYotfMAxzVENO","mte3mJe2odrqtK5lsxm","Ahr0CdOVl2XVyW","E30Uy29UC3rYDq","zMLhCK0","Dw5KzwzPBMvK","mZe5mZeWmMTpt3flsG","yMLUza","z2f0zxDHEvbVCG","y1reDgq","ndGYodeWrMfWDLHb","yxbWBhK","yNjPzgDLvxjS","A1LWA1y","BgvUz3rO","D2rOuhq","zxHJzxb0Aw9U","kcGOlISPkYKRkq","ndG1ndGXotjor2nUAxa","nJC3mNncu3LhDG","x19WCM90B19F","rgrlA2y"];return(ie=function(){return e})()}function oe(){const e=Q;return(t=ce,t())[e(516)];var t}const le=de;function de(e,t){e-=372;const n=he();let s=n[e];if(void 0===de.eLLzuK){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};de.hgnIYv=r,de.FcLuOW={},de.eLLzuK=!0}const a=e+n[0],c=de.FcLuOW[a];if(c)s=c;else{const e=function(e){this.MGLCjV=e,this.eKbGWs=[1,0,0],this.DXPVYk=function(){return"newState"},this.sLXWHa="\\w+ *\\(\\) *{\\w+ *",this.qGDjWr="['|\"].+['|\"];? *}"};e.prototype.FoLkOD=function(){const e=new RegExp(this.sLXWHa+this.qGDjWr).test(this.DXPVYk.toString())?--this.eKbGWs[1]:--this.eKbGWs[0];return this.ARVCKe(e)},e.prototype.ARVCKe=function(e){return Boolean(~e)?this.lPFPlv(this.MGLCjV):e},e.prototype.lPFPlv=function(e){for(let t=0,n=this.eKbGWs.length;t<n;t++)this.eKbGWs.push(Math.round(Math.random())),n=this.eKbGWs.length;return e(this.eKbGWs[0])},new e(de).FoLkOD(),s=de.hgnIYv(s),de.FcLuOW[a]=s}return s}!function(){const e=de,t=he();for(;;)try{if(163381===parseInt(e(496))/1+-parseInt(e(511))/2+parseInt(e(410))/3+parseInt(e(479))/4+-parseInt(e(465))/5+-parseInt(e(471))/6+-parseInt(e(375))/7*(-parseInt(e(463))/8))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ue=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[de(498)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=de;return ue.toString().search("(((.+)+)+)+$")[e(425)]()[e(458)+"r"](ue)[e(462)](e(399)+"+$")});ue();const xe=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[de(498)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}();function he(){const e=["y2fUy2vSt3jKzq","DvjSv2m","wvvlBMS","B3i6","EwjPA1G","ufLiC1i","BM9Tzfq","ANnVBG","mtKWnZmYA0XMEezd","C3rHDhvZ","yxbWBhK","E30Uy29UC3rYDq","AxrPB25ZigvYCG","D2fYBG","BM5Ly3q","BeHUwfy","y29UC29Szq","qwzKCgm","DhjHy2u","CvnVrw8","igvYCM9YoG","l2fWAs9KAxnJBW","Ev0GugXHy2uGBW","nJi4ntyYqMztyKvn","ExjOwui","sfvAA08","wgXxEhi","Ev0Gr2v0ihbVCW","y3bbsLK","t3Hyz1e","C3rYAw5NAwz5","ndLZyKjAu3m","CgfWzxjuCMfKAq","t3DptNK","BgvUz3rO","AgvHzgvYCW","z2v0qwnJB3vUDa","y2HLy2TdB25Uzq","ChjVDg90ExbL","Ag9ZDa","z0rhv3u","B3jKzxjjza","zxjYB3i","tM9Jtxu","z2f0zxDHEuHVCW","u295uLa","l2fWAs9Hy2nVDq","CKPJqum","l2fWAs9VCMrLCG","l2fWAs9ZDgf0Dq","C3vIBwL0DgvK","Aw5N","DgfIBgu","yxv0AgvUDgLJyq","t0PcBfm","kcGOlISPkYKRkq","EvL4tva","DgvK","AwiT","r1HTANa","Ev0Gq2fUy2vSia","whLjzu4","vuzxCwi","yMXLoG","y29UBMvJDgvK","EhnvtMK","ndqZmtm2C3zPC2P1","ue9tva","z2v0ug9ZAxrPBW","Ev0GqNjPzgDLia","Bwv0Ag9K","y3rPB24","y29UDhjHy3rZ","ywLSzwq","w0LcieDHDgv3yq","zxHJzxb0Aw9U","Bg9N","BNrjzd0","BI9QC29U","EuzUq2G","ywnJB3vUDhm","Dg9tDhjPBMC","BM90igf2ywLSyq","z2v0uxvVDgu","svjMC20","B3vUDhmGzxjYBW","Ev0Gr2v0ig9Yza","CezgEfy","uKD1t1m","Ev0Gu2vHCMnOia","sgvJC1q","y2XPzw50swq","BwvZC2fNzq","Ev0Gt3jKzxiGzG","vKHwELq","y29UBMvJDa","BNrZ","x19WCM90B19F","A29IzMG","CMv0DxjUicHMDq","CMfJDa","B3jKzxjZ","p2nVBMLKpq","ExzJr1K","l2fWAs9JB25Uzq","CgLrvgC","Euzmt2G","sffAu3C","q29UDgvUDc1uEq","BMn0Aw9UkcKG","z2f0zxDHEvbVCG","C2vHCMnOq29UDa","B3jKzxiGzxjYBW","Aw5MBW","y29UC3rYDwn0BW","y3rVCIGICMv0Dq","D2PdDeu","BujZuxO","C2vHCMnO","mtK3mJq4suz3wMT3","zgLZy29UBMvJDa","mtaWnZKWnuXiD09XzW","s1zPy0u","yxbWBgLJyxrPBW","uwrzwNy","CgfMu3C","EgnLAhy","ntGYotaWtvzdyMXp","D2DRqwW","l2fWAs9ZzwfYyW","CgXHy2vpCMrLCG","CM4GDgHPCYiPka","D0vQwfO","Dg5grMq","BKj4CMm","mta2mtqYohfZu3HHza","DvLKAva","senQDMq","Cg9YDa","qNLvEgq","yMLUza","yNjPzgDLuNvUBG","zuHOChG","CMrLCIbLCNjVCG"];return(he=function(){return e})()}xe(void 0,function(){const e=de,t={};t[e(387)]=function(e,t){return e+t},t.ybikX=e(469),t[e(494)]=e(501),t.mBsQz=e(419),t.OxXgQ=e(396),t.gDGWu=e(506);const n=t;let s;try{s=Function(n[e(387)](e(443)+e(453)+"{}.constru"+e(459)+'rn this")( )',");"))()}catch(c){if(e(469)!==n[e(492)])return _0x1baee2[e(386)](e(418)+e(430)+"ers error:",_0x796598),[];s=window}const r=s[e(504)]=s.console||{},a=[e(420),n.nomdT,e(457),e(386),n[e(461)],n[e(373)],n[e(384)]];for(let i=0;i<a[e(378)];i++){const t=xe.constructor[e(382)][e(484)](xe),n=a[i],s=r[n]||t;t[e(441)]=xe[e(484)](xe),t[e(425)]=s[e(425)][e(484)](s),r[n]=t}})();class me{constructor(){n(this,e,!1)}async[(e=le(408),le(381)+le(415))](){const e=le,t={};t[e(468)]=function(e,t){return e===t},t[e(405)]=e(389),t[e(493)]="GET",t[e(470)]=function(e,t){return e!==t},t.rJcAC=e(477),t[e(486)]=e(434),t[e(513)]="[IB Gatewa"+e(413)+e(426)+e(407);const n=t;try{if(n[e(468)](n[e(405)],e(389))){const t=ce(),s={};s[e(452)+"pe"]=e(467)+e(422);const r={};r[e(414)]=n.PYHsR,r[e(379)]=s;const a=await fetch(oe()+(e(393)+"s"),r);if(!a.ok){if(n[e(470)](n[e(391)],n[e(486)])){const t={};return t[e(408)]=!1,t[e(397)+e(401)]=!1,t[e(376)+"ng"]=!1,t}_0x37a9ab=_0x5023ea}const c=await a[e(495)]();this[e(408)]=!0===c[e(408)];const i={};return i.connected=!0===c[e(485)+e(395)],i[e(397)+e(401)]=!0===c.connected,i[e(376)+"ng"]=4002===t[e(454)+"t"],i}{const t={};return t[e(408)]=!1,t[e(397)+e(401)]=!1,t[e(376)+"ng"]=!1,t}}catch(s){const t={connected:!1};return t[e(397)+e(401)]=!1,t[e(376)+"ng"]=!1,t}}async[le(439)](){const e=le,t={pFFxV:e(418)+"y] Get pos"+e(500)+e(491),VHVzT:function(e){return e()},wjCtE:function(e,t,n){return e(t,n)},kobfh:e(481),OcCuB:"[IB Gateway] Connect"+e(508)};try{const n=t[e(438)](ce),s={};s[e(452)+"pe"]="applicatio"+e(422);const r={};r[e(383)]=n[e(388)+"t"],r[e(482)]=n[e(454)+"t"],r[e(435)]=n[e(435)];const a=await t[e(460)](fetch,oe()+(e(448)+"ct"),{method:"POST",headers:s,body:JSON.stringify(r)});if(!a.ok)return!1;const c=await a[e(495)]();return this[e(408)]=!0===c.connected,this[e(408)]}catch(n){return t[e(442)]!==e(481)&&(_0x4a0186[e(386)](t[e(431)],_0x4dced1),[])}}async[le(464)](){const e=le,t={RGuOS:function(e,t,n){return e(t,n)},qHvfQ:function(e){return e()},wgkAl:e(411)};try{await t[e(432)](fetch,t.qHvfQ(oe)+(e(509)+e(502)),{method:t[e(472)]}),this[e(408)]=!1}catch{}}async[le(380)+"s"](){const e=le,t={wEjXZ:function(e,t){return e(t)}};try{const n=await t[e(476)](fetch,oe()+(e(390)+e(440)));if(!n.ok)return[];return(await n[e(495)]())[e(424)]||[]}catch(n){return[]}}async[le(412)+"ns"](e){const t=le,n={};n[t(512)]=function(e,t){return e!==t},n[t(398)]=t(451);const s=n;try{const n=await fetch(oe()+"/api/positions?accou"+t(421)+e);if(!n.ok)return[];return(await n[t(495)]()).positions||[]}catch(r){if(!s[t(512)](s.OJBlS,s.OJBlS))return[];if(_0x4adc5a){const e=_0x23ddee[t(498)](_0x49cd41,arguments);return _0x376fa0=null,e}}}async getOrders(){const e=le,t={nBxrc:function(e,t){return e(t)}};try{const n=await t[e(478)](fetch,oe()+(e(392)+"s"));if(!n.ok)return[];return(await n[e(495)]())[e(445)]||[]}catch(n){return[]}}async[le(455)+le(444)](e){const t=le,n=function(e,t){return e(t)};try{const s=await fetch(oe()+(t(473)+"h?symbol=")+n(encodeURIComponent,e));if(!s.ok)return[];return(await s[t(495)]())[t(416)]||[]}catch(s){return[]}}async[le(474)](e){const t=le,n={xsUNi:t(418)+t(404)+t(456)+"r:",yFnCh:t(400),ByUxd:function(e){return e()},YUKnk:t(411),akePO:t(467)+"n/json",iPgRB:t(418)+t(437)+t(417),OwONy:t(394),GXmjp:function(e,t){return e!==t},cpAJY:t(466)};try{if(n[t(423)]===t(447))return _0x564539[t(386)](n[t(409)],_0x49b0f5),!1;{const s=await fetch(n[t(483)](oe)+(t(392)+"s"),{method:n[t(490)],headers:{"Content-Type":n.akePO},body:JSON[t(374)](e)});if(!s.ok)return null;const r=await s[t(495)]();return{orderId:r[t(385)]||t(402)+Date.now(),status:r[t(497)]||n[t(377)]}}}catch(s){return n[t(403)](n[t(372)],"jTpyf")?null:_0x40eb1c[t(425)]().search("(((.+)+)+)+$")[t(425)]()[t(458)+"r"](_0x32fa93)[t(462)]("(((.+)+)+)+$")}}async[le(488)+"r"](e){const t=le,n={uYdiP:function(e,t,n){return e(t,n)}};try{const s={};s[t(414)]="DELETE";return(await n[t(480)](fetch,oe()+(t(392)+"s/")+e,s)).ok}catch(s){return!1}}async[le(427)](e){const t=le,n={UFWqb:function(e,t){return e+t},XlWxr:t(443)+t(453),uRlWc:function(e){return e()},piQTg:t(386),NLahV:t(419),yFLOh:"trace",FUrgi:function(e,t){return e!==t},xAZcy:t(503),IRfsm:t(507)};try{if(t(505)==t(505)){const s=await fetch(n.uRlWc(oe)+"/api/quote"+t(446)+e);if(!s.ok)return null;return await s.json()}{const e=_0x366d84[t(498)](_0xc64e62,arguments);return _0x46f0a5=null,e}}catch{if(n.FUrgi(n.xAZcy,n[t(428)]))return null;{let e;try{const n=_0x10e129(FxGywT[t(406)](FxGywT[t(514)]+(t(499)+t(459)+t(475)+" )"),");"));e=FxGywT[t(489)](n)}catch(s){e=_0x20b378}const n=e.console=e[t(504)]||{},r=[t(420),t(501),t(457),FxGywT[t(449)],FxGywT.NLahV,t(396),FxGywT[t(450)]];for(let s=0;s<r[t(378)];s++){const e=_0xe9716b.constructor.prototype[t(484)](_0x31d467),a=r[s],c=n[a]||e;e[t(441)]=_0x453d37[t(484)](_0x12767e),e[t(425)]=c[t(425)][t(484)](c),n[a]=e}}}}}const fe=new me;!function(){const e=ve,t=ye();for(;;)try{if(183835===-parseInt(e(423))/1*(-parseInt(e(479))/2)+-parseInt(e(411))/3*(-parseInt(e(493))/4)+-parseInt(e(483))/5+parseInt(e(349))/6+-parseInt(e(505))/7+parseInt(e(463))/8*(parseInt(e(420))/9)+-parseInt(e(360))/10)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ge=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[ve(487)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=ve,t={};t[e(422)]=e(391)+"+$";const n=t;return ge[e(449)]()[e(482)](n[e(422)])[e(449)]()[e(421)+"r"](ge)[e(482)](n.pWkRa)});ge();const je=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[ve(487)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}();function ve(e,t){e-=340;const n=ye();let s=n[e];if(void 0===ve.CDjNDP){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};ve.NhGpVu=r,ve.ImgZSl={},ve.CDjNDP=!0}const a=e+n[0],c=ve.ImgZSl[a];if(c)s=c;else{const e=function(e){this.vWqFnJ=e,this.QaGYfU=[1,0,0],this.bBdZLm=function(){return"newState"},this.HizMvi="\\w+ *\\(\\) *{\\w+ *",this.TOXTUO="['|\"].+['|\"];? *}"};e.prototype.ZqJQqg=function(){const e=new RegExp(this.HizMvi+this.TOXTUO).test(this.bBdZLm.toString())?--this.QaGYfU[1]:--this.QaGYfU[0];return this.szDbXx(e)},e.prototype.szDbXx=function(e){return Boolean(~e)?this.ztphmT(this.vWqFnJ):e},e.prototype.ztphmT=function(e){for(let t=0,n=this.QaGYfU.length;t<n;t++)this.QaGYfU.push(Math.round(Math.random())),n=this.QaGYfU.length;return e(this.QaGYfU[0])},new e(ve).ZqJQqg(),s=ve.NhGpVu(s),ve.ImgZSl[a]=s}return s}function ye(){const e=["Aw9UigvYCM9YoG","zwqGDg8GsuiGrW","B25Z","wuruDee","rMX4Deu","BNn1CMuGsuiGrW","CM4GDgHPCYiPka","zMLtAxC","y2jbz2y","Bg9JywWGyNjPza","t2jvz2O","y291BNq","Dg9tDhjPBMC","yvverLy","Bg9HzgLUzW","ywnJB3vUDfr5Ca","y29UBMvJDfrVrW","EMrYtvC","tvzvt3i","Bhn4Afm","qvjXww8","q2XwEee","CgXHy2vpCMrLCG","D2f5iI4","CxvHBNrPDhK","DhjHy2u","oe9OsgDgBW","DMfYAwfUDa","Bg9Hze9YzgvYCW","zxLysMS","C3bXBNK","DfrdAxC","y3qGDg8Gr2f0zq","rNvQq2y","DgvK","y29UBMvJDgvK","yxv0AgvUDgLJyq","qvjhDvO","zcbbueKGAxmGzq","ANn5D1u","Bg9HzefJy291BG","C2LKzq","mMfmtNvlAW","yxrLD2f5lIbdBa","BMfIBgvKlG","C2vHCMnO","mJmYoda1sujSy3nj","y2HLy2TdB25Uzq","y3vYCMvUDa","BMn0Aw9UkcKG","yxbWBhK","zxjYB3i","Ev0Gq2HLy2TPBG","ChjVDg90ExbL","ugXLyxnLihnLBa","ic0G","ngjvBKTIwG","B3jKzxjZ","E30Uy29UC3rYDq","CM5Nuhu","x19WCM90B19F","DgL0Bgu","DgHmwxG","q291BgqGBM90ia","z2uGC2vYDMvYia","B24UlI4","wurvqva","D1n3wfC","mJGXmtq4CvPKEuPT","CvjfA0q","v1niBxa","ywnJB3vUDeLK","CMv0DxjUicHMDq","CNvUBMLUzY4","sufssum","yLvYzeW","zwXSzwq","Ag9gzwy","BgvUz3rO","y2fUy2vSBgvKlG","BwvZC2fNzq","yxrLD2f5","zMLUza","ntq5mtmYDgD6B2Xd","EuvPBwy","C3rHCNrZv2L0Aa","rxblC2y","sMzTD0q","rMfPBgvKihrVia","zwn0igfUigfJyW","BMLUzYbIDxqGBG","t3jKzxiGugXHyW","vgvxrgi","CgfWzxi","mZm2otu5merUBhLkBG","CI4Gq2HLy2SGzW","C2vYDMvYigLZia","CgfWzxjuCMfKAq","wMfAtwu","qNjPzgDLihj1BG","t3jKzxiGq2fUyW","tfbyBgu","AKH1B3K","zYbJB25Uzwn0Aq","ywnJB3vUDhm","Bg9HzfbVC2L0Aq","B3jKzxjuExbL","yxrLD2f5igLZia","y3rVCIGICMv0Dq","D2fYBG","DwL2C2W","Agzmt0q","Dg9mB3DLCKnHCW","CgXHy2uGB3jKzq","z2v0ug9ZAxrPBW","BM1urgK","C2vSzwn0zwrbyW","igzHAwXLzdOG","y2fUy2vSt3jKzq","y29UBMvJDc4Grq","Aw9UignOzwnRia","EM5KtvC","iezVDw5K","t3jKzxiG","Axnrs0i","kcGOlISPkYKRkq","ru1zwuu","yMLUza","B3vUDcbMAxjZDa","DLzTD3m","CMfJDa","C3LTyM9S","DgLTzwqGB3v0","CgXTqKW","BhKGy29UBMvJDa","Ev0Gq29UBMvJDa","ChPvrvq","r3P6Dum","wuLuA3C","Cg9ZAxrPB25Z","Aw5MBW","Aw5JBhvKzxm","w0LcieDHDgv3yq","zgvZy3jPChrPBW","z2v0t3jKzxjZ","nJaXmte2wunyCMn4","zMLUzcbJB250CG","y29UAwq","y1fqA3u","t1jPD2i","sfnOtNe","qNjPzgDLig5VDa","q29UBMvJDgLVBG","seHquKy","nta4mJq4r0X1EvDA","y29UC3rYDwn0BW","CfDRuMe","mJu5mtuZAhz1qM9q","z3bvy2C","Bg9N","wujuyLi","zgzVD1a","ihrPBwvKig91Da","y3rPB24","y29UBMvJDdOG","zgvZDhj1y3rPDG","Ev0Gu3rHDhvZoG","ChjPy2u","yxrLD2f5ignVBG","CNvUBMLUzYbHBG","C2vSzwn0qwnJBW"];return(ye=function(){return e})()}je(void 0,function(){const e=ve,t={tTCiw:function(e,t){return e(t)},spqny:function(e,t){return e+t},ARGuZ:e(408)+e(401)+"ion error:",FlxtE:e(450),tOtJf:e(381),mGJTj:function(e,t){return e(t)},HShNq:function(e,t){return e+t},lsxhS:e(509)+"nction() ",ftsgc:e(495)+e(374)+e(443)+" )",MVUOr:e(375),cWuZb:e(406),pzUET:"exception",YBTbR:e(462)},n=function(){const n=e;if(t[n(441)]!==n(403)){let e;try{n(381)===t.tOtJf?e=t.mGJTj(Function,t[n(416)](t[n(467)](t[n(456)],t.ftsgc),");"))():_0xb7e65c=t[n(468)](_0x24d577,t.spqny(n(509)+n(486)+(n(495)+n(374)+'rn this")( )'),");"))()}catch(s){e=window}return e}{t.tTCiw(_0x28001d,_0x3967a4),_0x5e267a[n(488)](t[n(474)],_0x32f4b8),_0x5f78c2(e=>({...e,connected:!1,authenticated:!1,loading:!1,error:n(354)+n(430)+_0x4d0188[n(346)]}));const e={};return e[n(472)]=!1,e[n(473)+n(471)]=!1,e[n(363)+"ng"]=!1,e}}(),s=n.console=n.console||{},r=[e(425),t[e(455)],t.cWuZb,"error",t[e(402)],"table",t[e(426)]];for(let a=0;a<r[e(344)];a++){const t=je.constructor[e(490)][e(393)](je),n=r[a],c=s[n]||t;t[e(497)]=je[e(393)](je),t[e(449)]=c[e(449)][e(393)](c),s[n]=t}})();const pe=["SPY","QQQ","AAPL","MSFT","NVDA","TSLA","AMD","META"];function we(){const{connected:e,authenticated:t,paperTrading:n,accounts:s,selectedAccount:k,positions:X,orders:Q,loading:$,error:ee,checkConnection:te,connectToGateway:ne,refreshData:se,placeOrder:re,cancelOrder:ae,selectAccount:ce}=function(){var e;const t=ve,n={YDUAP:function(e,t){return e+t},eyXJk:t(495)+t(374)+t(443)+" )",PCEHS:t(408)+t(489)+t(369)+t(502),jsywU:function(e,t){return e(t)},vVmws:function(e,t,n){return e(t,n)},rngPu:function(e,t){return e!==t},ARqYo:t(352),qREkD:function(e,t){return e(t)},UUqRJ:"No Account Selected",HHPRF:function(e,t){return e(t)},zdrMW:t(424),thLYx:t(404),cQPku:"Connected",juiPb:function(e,t){return e(t)},yEimf:"FiEce",FxlXy:function(e,t){return e(t)},FujCf:"Symbol Not"+t(388),ORiwb:t(357)+"ed",esjqO:"Order Failed",EMYYE:"destructive",ObUgj:function(e){return e()},ZaZMe:function(e,t){return e(t)},zndMW:function(e,t){return e(t)},BHKMc:function(e){return e()},pihHI:t(368),IARIC:t(507),hfLOD:function(e){return e()},wSwXW:function(e,t,n){return e(t,n)},TeWDb:function(e,t,n){return e(t,n)}},s={};s[t(472)]=!1,s["authentica"+t(471)]=!1,s.paperTrading=!1,s[t(370)]=[],s[t(382)+t(448)]=null,s[t(405)]=[],s[t(494)]=[],s[t(451)]=!0,s[t(488)]=null;const[c,i]=n[t(476)](r.useState,s),o=n[t(506)](r.useRef,null),{toast:l}=n[t(377)](a),d=n[t(504)](r.useCallback,async()=>{const e=t;n[e(466)],n[e(476)](i,e=>({...e,loading:!0,error:null}));const s=n[e(395)](setTimeout,()=>{const t=e;i(e=>({...e,connected:!1,authenticated:!1,loading:!1,error:"Connection"+t(428)+". Ensure the bridge "+t(362)+t(510)}))},8e3);try{const t=await fe[e(484)+"ction"]();return clearTimeout(s),i(n=>({...n,connected:t[e(472)],authenticated:t.authenticated,paperTrading:t[e(363)+"ng"],loading:!1,error:t.connected?t[e(473)+e(471)]?null:e(365)+e(356)+"ot connected to IB G"+e(480)+'ick "Conne'+e(469)+e(460):e(417)+" running. Start the "+e(446)+e(501)+"first."})),t}catch(r){if(n[e(496)](n[e(457)],e(352))){let t;try{t=_0x2464d1(IjRIkQ[e(445)](IjRIkQ[e(367)],IjRIkQ[e(341)])+");")()}catch(a){t=_0x4658c3}return t}{n.qREkD(clearTimeout,s),i(t=>({...t,connected:!1,authenticated:!1,loading:!1,error:"Failed to "+e(430)+r.message}));const t={};return t[e(472)]=!1,t[e(473)+e(471)]=!1,t[e(363)+"ng"]=!1,t}}},[]),u=r.useCallback(async()=>{const e=t;n[e(419)](i,e=>({...e,loading:!0,error:null}));try{if(n.rngPu(n[e(454)],"gpUcg")){const t={};return t[e(498)]=n.UUqRJ,t[e(409)+"n"]="Please sel"+e(355)+"ount first.",t[e(464)]=e(431)+"e",_0x15e651(t),null}{const t=await fe.connect();if(t){if(n[e(499)]!==e(404)){const t=_0x528ad0?function(){if(_0x49df50){const t=_0x3efb0a[e(487)](_0x5bfeae,arguments);return _0x9137e5=null,t}}:function(){};return _0x48675a=!1,t}n.HHPRF(l,{title:n[e(414)],description:"Successful"+e(400)+e(438)+"ateway"}),await d(),await x()}else n.juiPb(i,t=>({...t,loading:!1,error:e(354)+e(385)+e(442)+e(373)+e(435)+e(475)+e(481)}));return t}}catch(s){return i(t=>({...t,loading:!1,error:e(418)+e(383)+s[e(346)]})),!1}},[l,d]),x=r.useCallback(async()=>{const e=t,s=await fe.getAccounts(),r=s[e(348)](t=>t[e(508)][e(351)]("DU")||t[e(452)+"e"][e(378)+"e"]()[e(407)](e(359)));return n[e(506)](i,e=>({...e,accounts:s,selectedAccount:r||s[0]||null})),s},[]),h=n[t(395)](r.useCallback,async()=>{const e=t;if("NvqXt"!==n[e(350)]){if(!c["selectedAc"+e(448)])return[];const t=await fe[e(380)+"ns"](c[e(382)+"count"][e(508)]);return n.FxlXy(i,e=>({...e,positions:t})),t}{const t=_0x11705c[e(487)](_0xa77238,arguments);return _0x186849=null,t}},[c[t(382)+t(448)]]),m=r.useCallback(async()=>{const e=t;if(e(376)!==e(440)){const t=await fe[e(410)]();return i(e=>({...e,orders:t})),t}_0x32ab93["selectedAc"+e(448)]&&_0x360b79[e(473)+"ted"]&&{hoFef:function(e){return e()}}[e(343)](_0x43dd3b)},[]),f=r.useCallback(async()=>{c[t(473)+"ted"]&&await Promise.all([x(),h(),m()])},[c[t(473)+"ted"],x,h,m]),g=r.useCallback(async e=>{const s=t;if(!c[s(382)+s(448)]){const e={title:"No Account Selected"};return e[s(409)+"n"]=s(491)+s(355)+s(394)+".",e[s(464)]=s(431)+"e",n.jsywU(l,e),null}const r=await fe["searchCont"+s(396)](e[s(397)]);if(0===r.length){const t={};return t[s(498)]=n[s(470)],t.description=s(500)+s(412)+"act for "+e[s(397)],t[s(464)]=s(431)+"e",l(t),null}const a=r[0],i={};i.accountId=c["selectedAc"+s(448)][s(508)],i[s(413)]=a.conid,i[s(397)]=e.symbol,i.side=e.side,i.quantity=e[s(461)],i[s(372)]=e[s(372)],i.price=e[s(433)];const o=await fe[s(459)](i);if(o)n[s(506)](l,{title:n[s(415)],description:e[s(478)]+" "+e[s(461)]+" "+e[s(397)]+s(492)+o.status}),await m();else{const e={};e[s(498)]=n.esjqO,e[s(409)+"n"]=s(500)+s(379)+s(361)+s(434)+"nection.",e[s(464)]=n[s(392)],l(e)}return o},[c[t(382)+t(448)],l,m]),j=n.TeWDb(r.useCallback,async e=>{const s=t,r=await fe[s(384)+"r"](e);if(r){const t={};t[s(498)]=s(366)+s(342),t.description=s(389)+e+" has been "+s(345),l(t),await n[s(447)](m)}return r},[l,m]),v=r.useCallback(e=>{const s=t,r=c[s(370)].find(t=>t.accountId===e);r&&n[s(364)](i,e=>({...e,selectedAccount:r}))},[c[t(370)]]);r.useEffect(()=>{const e={isQKB:function(e){return e()},ClVxA:function(e,t){return n[ve(387)](e,t)},dfowP:function(e,t){return e===t},fiSiw:function(e){return e()},zYpKK:function(e,t,n){return e(t,n)}};return n.BHKMc(async()=>{const t=ve,n=function(t,n){return e[ve(458)](t,n)};if((await d())[t(473)+t(471)])if(e[t(427)](t(353),t(399))){const e=_0x51ba9d.accounts[t(348)](e=>e[t(508)]===_0x59af24);e&&n(_0x3e4b01,t=>({...t,selectedAccount:e}))}else await e[t(444)](x),await h(),await m(),o[t(485)]=e.zYpKK(setInterval,()=>{e[t(390)](f)},1e4)}),()=>{const t=ve;o[t(485)]&&e[t(458)](clearInterval,o[t(485)])}},[]),n[t(358)](r.useEffect,()=>{const e=t;c[e(382)+e(448)]&&c[e(473)+"ted"]&&(n.pihHI!==n[e(340)]?h():_0xf8a769())},[null==(e=c[t(382)+t(448)])?void 0:e[t(508)]]);const y={...c};return y[t(484)+t(429)]=d,y[t(453)+t(347)]=u,y[t(477)+"ts"]=x,y[t(371)+t(439)]=h,y[t(465)]=m,y.refreshData=f,y.placeOrder=g,y.cancelOrder=j,y[t(436)+"unt"]=v,y}(),[ie,oe]=r.useState("overview"),[le,de]=r.useState([]),[ue,xe]=r.useState(!1),[he,me]=r.useState([]),[ge,je]=r.useState({total:0,today:0,pnl:0}),[ye,we]=r.useState(!1),[Ne,Ce]=r.useState({symbol:"SPY",side:"BUY",quantity:1,orderType:"MKT",price:0}),[be,Be]=r.useState(!1);r.useEffect(()=>{const e=async()=>{try{const{data:e}=await c.from("farm_status").select("*").eq("farm_name","high-frequency-paper-trader").single();if(e){const t=new Date(e.updated_at),n=t>new Date(Date.now()-12e4);we("trading"===e.status||n)}const{data:t}=await c.from("autonomous_trades").select("*").order("created_at",{ascending:!1}).limit(50);if(t){me(t);const e=new Date;e.setHours(0,0,0,0);const n=t.filter(t=>new Date(t.created_at)>=e),s=t.reduce((e,t)=>e+(t.pnl||0),0);je({total:t.length,today:n.length,pnl:s})}}catch(e){}};e();const t=c.channel("hf-trades").on("postgres_changes",{event:"INSERT",schema:"public",table:"autonomous_trades"},e=>{const t=e.new;me(e=>[t,...e].slice(0,50));const n=new Date;n.setHours(0,0,0,0);const s=new Date(t.created_at)>=n;je(e=>({total:e.total+1,today:s?e.today+1:e.today,pnl:e.pnl+(t.pnl||0)}))}).subscribe(),n=setInterval(e,5e3);return()=>{clearInterval(n),t.unsubscribe()}},[]),r.useCallback(()=>{te()},[te]),r.useEffect(()=>{if(t){De();const e=setInterval(De,3e4);return()=>clearInterval(e)}},[t]);const De=async()=>{xe(!0);try{const{data:e,error:t}=await c.functions.invoke("stock-data",{body:{action:"batch",symbols:pe}});!t&&(null==e?void 0:e.stocks)&&de(e.stocks.map(e=>({symbol:e.symbol,price:e.latestPrice,change:e.change,changePercent:e.changePercent})))}catch(e){}finally{xe(!1)}},ze=e=>{Ce(t=>({...t,symbol:e,side:"BUY"})),oe("trade")},Ge=r.useMemo(()=>{const e=X.reduce((e,t)=>e+t.marketValue,0),t=X.reduce((e,t)=>e+t.unrealizedPnl,0);return{totalValue:e,totalPnL:t,totalRealizedPnL:X.reduce((e,t)=>e+t.realizedPnl,0),pnlPercent:(null==k?void 0:k.balance)?t/k.balance*100:0}},[X,k]);return $?i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(u,{className:"h-5 w-5 animate-spin text-primary"}),"Connecting to IB Gateway Bridge..."]})}),i.jsx(x,{children:"Checking connection to gateway"})]}),i.jsxs(h,{className:"space-y-4",children:[i.jsx(m,{value:33,className:"h-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Looking for the Client Portal Gateway..."}),i.jsxs(I,{children:[i.jsx(F,{className:"h-4 w-4"}),i.jsx(K,{children:"Connection taking too long?"}),i.jsxs(W,{className:"space-y-2 mt-2",children:[i.jsx("p",{children:"Your browser may be blocking the connection. Try:"}),i.jsxs("ol",{className:"list-decimal list-inside text-sm space-y-1",children:[i.jsxs("li",{children:["Click ",i.jsx("strong",{children:"Gateway Settings"})," above to configure your gateway URL"]}),i.jsx("li",{children:"If using remotely, enter your machine's IP (e.g., https://192.168.1.100:5000)"}),i.jsxs("li",{children:["Accept the ",i.jsx("strong",{children:"self-signed certificate warning"})," in your browser"]}),i.jsx("li",{children:"Login if prompted, then return here"})]})]})]}),i.jsxs(f,{variant:"outline",size:"sm",onClick:()=>window.open("https://localhost:5000","_blank"),children:[i.jsx(g,{className:"h-4 w-4 mr-2"}),"Open Gateway in New Tab"]})]})]}):e?t?i.jsxs("div",{className:"space-y-6",children:[i.jsx(o,{className:"bg-gradient-to-br from-card via-card to-primary/5 border-primary/20",children:i.jsxs(h,{className:"pt-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(v,{className:"h-5 w-5 text-primary"}),i.jsx("span",{className:"font-medium",children:"IBKR Connected"}),n&&i.jsx(y,{variant:"outline",className:"bg-primary/10 text-primary border-primary",children:"Paper Trading"})]}),i.jsxs(p,{value:(null==k?void 0:k.accountId)||"",onValueChange:ce,children:[i.jsx(w,{className:"w-48",children:i.jsx(N,{placeholder:"Select Account"})}),i.jsx(C,{children:s.map(e=>i.jsxs(b,{value:e.accountId,children:[e.accountId," (",e.accountType,")"]},e.accountId))})]}),i.jsx(f,{variant:"ghost",size:"icon",onClick:se,children:i.jsx(j,{className:"h-4 w-4"})})]}),k&&i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[i.jsx(B,{className:"w-3 h-3"}),"Account Balance"]}),i.jsxs("div",{className:"text-3xl font-mono font-bold",children:["$",k.balance.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Buying Power"}),i.jsxs("div",{className:"text-xl font-mono",children:["$",k.buyingPower.toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})]}),X.length>0&&i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6 pt-6 border-t",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Positions Value"}),i.jsxs("div",{className:"text-xl font-bold",children:["$",Ge.totalValue.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Unrealized P&L"}),i.jsxs("div",{className:"text-xl font-bold "+(Ge.totalPnL>=0?"text-success":"text-destructive"),children:[Ge.totalPnL>=0?"+":"","$",Ge.totalPnL.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Realized P&L"}),i.jsxs("div",{className:"text-xl font-bold "+(Ge.totalRealizedPnL>=0?"text-success":"text-destructive"),children:[Ge.totalRealizedPnL>=0?"+":"","$",Ge.totalRealizedPnL.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Open Positions"}),i.jsx("div",{className:"text-xl font-bold",children:X.length})]})]})]})}),i.jsxs(D,{value:ie,onValueChange:oe,children:[i.jsxs(z,{className:"grid w-full grid-cols-2 max-w-md",children:[i.jsxs(G,{value:"overview",className:"flex items-center gap-1",children:[i.jsx(q,{className:"w-4 h-4"})," Overview"]}),i.jsxs(G,{value:"hf-trading",className:"flex items-center gap-1",children:[i.jsx(Z,{className:"w-4 h-4"})," HF Trading",ye&&i.jsx("span",{className:"ml-1 w-2 h-2 bg-success rounded-full animate-pulse"})]})]}),i.jsx(L,{value:"overview",className:"mt-6",children:i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(A,{className:"w-5 h-5"}),"Quick Trade"]}),i.jsx(x,{children:"Click a symbol to start a trade"})]}),i.jsxs(h,{children:[i.jsx("div",{className:"grid grid-cols-4 gap-2",children:le.length>0?le.map(e=>i.jsxs(f,{variant:"outline",className:"flex flex-col h-auto py-3 hover:border-primary",onClick:()=>ze(e.symbol),children:[i.jsx("span",{className:"font-bold",children:e.symbol}),i.jsxs("span",{className:"text-sm",children:["$",e.price.toFixed(2)]}),i.jsxs("span",{className:"text-xs "+(e.changePercent>=0?"text-success":"text-destructive"),children:[e.changePercent>=0?"+":"",e.changePercent.toFixed(2),"%"]})]},e.symbol)):pe.map(e=>i.jsx(f,{variant:"outline",className:"py-6",onClick:()=>ze(e),children:e},e))}),ue&&i.jsx("div",{className:"text-center text-sm text-muted-foreground mt-2",children:"Updating quotes..."})]})]}),i.jsxs(o,{children:[i.jsx(l,{children:i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(R,{className:"w-5 h-5"}),"Current Positions"]})}),i.jsx(h,{children:0===X.length?i.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[i.jsx(P,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No open positions"}),i.jsx("p",{className:"text-sm",children:"Place a trade to get started"})]}):i.jsxs("div",{className:"space-y-3",children:[X.slice(0,5).map(e=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:e.symbol}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.position>0?"+":"",e.position," shares @ $",e.avgCost.toFixed(2)]})]}),i.jsxs("div",{className:"text-right "+(e.unrealizedPnl>=0?"text-success":"text-destructive"),children:[i.jsxs("div",{className:"font-medium",children:[e.unrealizedPnl>=0?"+":"","$",e.unrealizedPnl.toFixed(2)]}),i.jsxs("div",{className:"text-sm",children:["$",e.marketValue.toFixed(2)]})]})]},e.conid)),X.length>5&&i.jsxs(f,{variant:"ghost",className:"w-full",onClick:()=>oe("positions"),children:["View all ",X.length," positions"]})]})})]})]})}),i.jsx(L,{value:"hf-trading",className:"mt-6",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs(o,{className:"border-2 "+(ye?"border-warning bg-warning/5":"border-dashed"),children:[i.jsx(l,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 rounded-full "+(ye?"bg-warning/20":"bg-muted"),children:i.jsx(Z,{className:"w-6 h-6 "+(ye?"text-warning animate-pulse":"text-muted-foreground")})}),i.jsxs("div",{children:[i.jsxs(d,{className:"flex items-center gap-2",children:["High-Frequency Paper Trading",ye&&i.jsxs(y,{className:"bg-warning text-warning-foreground",children:[i.jsx(P,{className:"w-3 h-3 mr-1 animate-pulse"}),"LIVE"]})]}),i.jsx(x,{children:"Terminal-based worker generating 100+ trades/day for En Pensent training"})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Worker Status"}),i.jsx("div",{className:"font-medium "+(ye?"text-warning":"text-muted-foreground"),children:ye?"RUNNING":"OFFLINE"})]})]})}),i.jsxs(h,{children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.total}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Trades"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.today}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Today's Trades"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"text-3xl font-bold font-mono "+(ge.pnl>=0?"text-success":"text-destructive"),children:[ge.pnl>=0?"+":"","$",ge.pnl.toFixed(2)]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total P&L"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono text-warning",children:ye?"30s":"N/A"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Cycle Time"})]})]}),i.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(M,{className:"w-4 h-4"}),i.jsx("span",{children:"Auto-refresh every 5 seconds from Supabase"}),i.jsx("span",{className:"mx-2",children:"•"}),i.jsx("span",{children:"11 symbols: AAPL, MSFT, NVDA, TSLA, AMD, META, GOOGL, AMZN, SPY, QQQ, IWM"})]})]})]}),i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(P,{className:"w-5 h-5"}),"Live Trade Feed",he.length>0&&i.jsxs(y,{variant:"secondary",children:[he.length," recent"]})]}),i.jsx(x,{children:"Real-time trades from high-frequency worker (updates every 5s)"})]}),i.jsx(h,{children:0===he.length?i.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[i.jsx(Z,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{className:"text-lg",children:"No trades yet"}),i.jsx("p",{className:"text-sm",children:"Start the high-frequency worker to see activity"}),i.jsx("code",{className:"block mt-4 p-2 bg-muted rounded text-xs",children:"node farm/workers/high-frequency-paper-trader.mjs"})]}):i.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:he.map(e=>{var t;return i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:["BUY"===e.direction?i.jsx(U,{className:"w-4 h-4 text-success"}):i.jsx(V,{className:"w-4 h-4 text-destructive"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold",children:e.symbol}),i.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleTimeString()})]}),i.jsx(y,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction}),i.jsxs(y,{variant:"outline",className:"text-xs",children:[e.shares," shares"]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Entry"})]}),e.predicted_confidence&&i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-mono",children:[(100*e.predicted_confidence).toFixed(0),"%"]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Conf"})]}),void 0!==e.pnl&&null!==e.pnl&&i.jsxs("div",{className:"text-right font-mono "+(e.pnl>=0?"text-success":"text-destructive"),children:[i.jsxs("div",{children:[e.pnl>=0?"+":"","$",e.pnl.toFixed(2)]}),i.jsx("div",{className:"text-xs",children:"P&L"})]}),i.jsx(y,{variant:"outline",className:"open"===e.status?"bg-success/10 text-success":"bg-muted",children:e.status})]})]},e.id)})})})]}),he.filter(e=>"open"===e.status).length>0&&i.jsxs(o,{children:[i.jsx(l,{children:i.jsxs(d,{className:"text-lg flex items-center gap-2",children:[i.jsx(R,{className:"w-5 h-5"}),"Open HF Positions"]})}),i.jsx(h,{children:i.jsxs(S,{children:[i.jsx(Y,{children:i.jsxs(O,{children:[i.jsx(T,{children:"Symbol"}),i.jsx(T,{children:"Side"}),i.jsx(T,{className:"text-right",children:"Shares"}),i.jsx(T,{className:"text-right",children:"Entry"}),i.jsx(T,{className:"text-right",children:"Stop Loss"}),i.jsx(T,{className:"text-right",children:"Take Profit"}),i.jsx(T,{children:"Status"})]})}),i.jsx(E,{children:he.filter(e=>"open"===e.status).map(e=>{var t,n,s;return i.jsxs(O,{children:[i.jsx(H,{className:"font-bold",children:e.symbol}),i.jsx(H,{children:i.jsx(y,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction})}),i.jsx(H,{className:"text-right font-mono",children:e.shares}),i.jsxs(H,{className:"text-right font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),i.jsxs(H,{className:"text-right font-mono text-destructive",children:["$",(null==(n=e.stop_loss)?void 0:n.toFixed(2))||"N/A"]}),i.jsxs(H,{className:"text-right font-mono text-success",children:["$",(null==(s=e.take_profit)?void 0:s.toFixed(2))||"N/A"]}),i.jsx(H,{children:i.jsx(y,{variant:"outline",className:"bg-success/10 text-success border-success/30",children:"Open"})})]},e.id)})})]})})]})]})})]})]}):i.jsxs(o,{className:"border-warning/50",children:[i.jsx(l,{children:i.jsxs(d,{className:"flex items-center gap-2 text-warning",children:[i.jsx(_,{className:"h-5 w-5"}),"Gateway Running - Login Required"]})}),i.jsxs(h,{className:"space-y-4",children:[i.jsxs(I,{variant:"default",children:[i.jsx(F,{className:"h-4 w-4"}),i.jsx(W,{children:'Bridge is running but not connected to IB Gateway. Open IB Gateway desktop app, log in, then click "Connect to Gateway".'})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(f,{onClick:ne,className:"flex-1",children:[i.jsx(_,{className:"h-4 w-4 mr-2"}),"Connect to Gateway"]}),i.jsxs(f,{variant:"outline",onClick:te,children:[i.jsx(j,{className:"h-4 w-4 mr-2"}),"Check Status"]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"IB Gateway must be running with API enabled (port 4002 for paper trading)."})]})]}):i.jsxs(o,{className:"border-destructive/50",children:[i.jsxs(l,{children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs(d,{className:"flex items-center gap-2 text-destructive",children:[i.jsx(J,{className:"h-5 w-5"}),"IB Gateway Bridge Not Running"]})}),i.jsx(x,{children:ee||"Start the IBKR Client Portal Gateway to begin trading."})]}),i.jsxs(h,{className:"space-y-4",children:[i.jsxs(I,{children:[i.jsx(F,{className:"h-4 w-4"}),i.jsx(K,{children:"Quick Setup"}),i.jsx(W,{className:"space-y-2",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-2",children:[i.jsxs("li",{children:["Download the ",i.jsx("a",{href:"https://www.interactivebrokers.com/en/trading/ib-api.php",target:"_blank",rel:"noopener",className:"text-primary underline font-medium",children:"IBKR Client Portal Gateway"})]}),i.jsxs("li",{children:["Run ",i.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.sh"})," (Mac) or ",i.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.bat"})," (Windows)"]}),i.jsxs("li",{children:["Login at ",i.jsx("strong",{children:"https://localhost:5000"})," with IBKR credentials"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Using remote access?"})," Click Gateway Settings above and enter your machine's IP"]})]})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(f,{onClick:te,className:"flex-1",children:[i.jsx(j,{className:"h-4 w-4 mr-2"}),"Retry Connection"]}),i.jsxs(f,{variant:"outline",onClick:()=>window.open("https://localhost:5000","_blank"),children:[i.jsx(g,{className:"h-4 w-4 mr-2"}),"Open Gateway"]})]})]})]})}const Ne=()=>i.jsxs("div",{className:"container mx-auto py-8 px-4",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[i.jsx(X,{className:"w-8 h-8 text-primary"}),i.jsxs("h1",{className:"text-4xl font-bold",children:[i.jsx("span",{className:"text-primary",children:"En Pensent™"})," Trading"]})]}),i.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Paper trading powered by Interactive Brokers. Start with simulated funds, graduate to real money when ready."})]}),i.jsx(k,{componentName:"IBKRTradingDashboard",children:i.jsx(we,{})}),i.jsx("p",{className:"text-center text-xs text-muted-foreground mt-8",children:"⚠️ Paper trading uses simulated funds. No real money is at risk. When ready, switch to a live IBKR account for real trading."})]});export{Ne as default};
