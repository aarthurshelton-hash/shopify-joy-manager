import{b as t}from"./browser-DEPKJqf2.js";!function(){const t=o,n=e();for(;;)try{if(613994===-parseInt(t(402))/1+parseInt(t(358))/2*(-parseInt(t(401))/3)+parseInt(t(414))/4*(parseInt(t(334))/5)+-parseInt(t(411))/6+-parseInt(t(407))/7+parseInt(t(370))/8+parseInt(t(342))/9)break;n.push(n.shift())}catch(r){n.push(n.shift())}}();const n=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}()(void 0,function(){const t=o,r={};r.JWPBI=t(372)+"+$";const e=r;return n[t(440)]()[t(431)]("(((.+)+)+)+$").toString()[t(438)+"r"](n)[t(431)](e[t(365)])});n();const r=function(){const t=o,n={};n.CFDqy=t(443),n.iCibP=t(367),n[t(355)]=t(372)+"+$",n[t(436)]=function(t,n){return t!==n},n[t(378)]=t(442),n.wfbDI="eoTUV";const r=n;let e=!0;return function(n,o){const i=t;if(r[i(436)](r[i(378)],r[i(421)])){const t=e?function(){const t=i;if(r[t(426)]!==r.iCibP){if(o){const r=o[t(335)](n,arguments);return o=null,r}}else{const n=_0x4429ca[t(438)+"r"][t(332)][t(427)](_0x1bcb4a),r=_0x17809e[_0x534ca9],e=_0x1eaf1a[r]||n;n[t(397)]=_0x14a7cc[t(427)](_0x134c56),n[t(440)]=e[t(440)][t(427)](e),_0x4ed5e6[r]=n}}:function(){};return e=!1,t}return _0x265cc1.toString()[i(431)](r[i(355)]).toString()[i(438)+"r"](_0x5ef1cc)[i(431)](i(372)+"+$")}}();function e(){const t=["yMvKzfK","BgLUzvDPzhrO","tgHMvLy","ode3mJi0DK9tvu12","zMfOsfm","kcGOlISPkYKRkq","CMDIysGYmtiSia","y3ryDvy","zfbgCwe","BeHnzhK","B3jPz2LU","DwXpEhO","u05ACu4","BgLNAhq","uMDqu08","AfHXwhm","yw5VBNLTB3vZ","C3rYB2TL","yMvNAw5qyxrO","y3rPB25mzxzLBa","CfLwCKy","rMvTyLO","E30Uy29UC3rYDq","zMLSBfn0EwXL","y2vUDgvY","t2DIEvm","BMn0Aw9UkcKG","ChrIDgu","C2f2zq","EhfoA0K","x19WCM90B19F","AuDzthC","iZaWmdaWma","zMLSBa","ndu3mdG5sK9Js0DQ","ntG5mJyZyxjzALfZ","zMLSBfrLEhq","B25LCNjVCG","A0DisKG","rwD0B1a","ntC0mtmWourUrNnMBW","zxHJzxb0Aw9U","idaSidaUnYK","ANLRuLa","mtq5nZq3ngvcDNvkuq","wgnjrge","AwzQtNy","mJuYmdCYvNr4r0fP","y29UC29Szq","ugjRsK0","CMvZDg9Yzq","Bg9N","r1npvLa","z1fADhi","D2zIreK","CY9LBI1Wzw5Zzq","zhjHD0LTywDL","D3fJyvO","BM1jqvi","q0zeCxK","yMLUza","s3fXq1C","y3rVCIGICMv0Dq","yxjJ","C2vHCMnO","CLzLBfG","ywrerMq","zxjYB3jdB3jYzq","yLHzt0u","sMHZDeu","y2XPCa","y29UC3rYDwn0BW","z0Pjue4","Dg9tDhjPBMC","uNnxD2C","wMX3uhm","EwzlEgK","wKXiAha","rKzIv1y","mtC1lca1nsWGma","zxjPzG","B25SB2fK","ChjVDg90ExbL","tgjgAK4","mZbVrwDVsKW","yxbWBhK","BNqTBg9NBY1Uzq","iZaWmdaWmdaW","DY5WBMC","BgvUz3rO","B1fdD0K","D2LKDgG","mJaYndG2ntLnufLODwO","y3jVC3npCMLNAq","DgfIBgu","CeDPzwW","C0LhreS","C3rYB2TLu3r5Ba","Dgv4DefSAwDU","ruHMzeu","i0q0quyZnW","AvbqEwu","CM4GDgHPCYiPka","lJuP","BwfYz2LU","rxPtsNC","Ew1lwg0","zxjYB3i","nM1yB2zlta","yxznzey","C3jJ","zM9UDa","l3nYyY9HC3nLDa","lJmP","rwXwy28","sLDqqKK","CM91BMrszwn0"];return(e=function(){return t})()}function o(t,n){t-=330;const r=e();let i=r[t];if(void 0===o.UoTdir){var u=function(t){let n="",r="",e=n+u;for(let o,i,u=0,c=0;i=t.charAt(c++);~i&&(o=u%4?64*o+i:i,u++%4)?n+=e.charCodeAt(c+10)-10!=0?String.fromCharCode(255&o>>(-2*u&6)):u:0)i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(i);for(let o=0,i=n.length;o<i;o++)r+="%"+("00"+n.charCodeAt(o).toString(16)).slice(-2);return decodeURIComponent(r)};o.oJBljY=u,o.PYgoza={},o.UoTdir=!0}const c=t+r[0],a=o.PYgoza[c];if(a)i=a;else{const t=function(t){this.wLMEwm=t,this.TYXHNM=[1,0,0],this.XRSrWp=function(){return"newState"},this.clzbIb="\\w+ *\\(\\) *{\\w+ *",this.nkXhQP="['|\"].+['|\"];? *}"};t.prototype.gkLyPz=function(){const t=new RegExp(this.clzbIb+this.nkXhQP).test(this.XRSrWp.toString())?--this.TYXHNM[1]:--this.TYXHNM[0];return this.dvUQtU(t)},t.prototype.dvUQtU=function(t){return Boolean(~t)?this.knWTIR(this.wLMEwm):t},t.prototype.knWTIR=function(t){for(let n=0,r=this.TYXHNM.length;n<r;n++)this.TYXHNM.push(Math.round(Math.random())),r=this.TYXHNM.length;return t(this.TYXHNM[0])},new t(o).gkLyPz(),i=o.oJBljY(i),o.PYgoza[c]=i}return i}r(void 0,function(){const t=o,n={EHfdE:function(t,n){return t*n},bXYOE:function(t,n){return t+n},adDFd:function(t,n){return t/n},RsWwg:function(t,n){return t+n},lHMdy:function(t,n){return t/n},QEyMs:t(373)+"175, 55, 0"+t(353),ctXuV:function(t,n){return t/n},HrwLt:function(t,n){return t+n},pGiel:function(t,n){return t/n},SNZqN:function(t,n){return t*n},fahHS:t(364),xIUuq:function(t,n){return t(n)},pYVrF:function(t,n){return t+n},nmIAR:function(t){return t()},kGHJH:t(418),LhfVV:"warn",wqcaZ:t(357),ymKXm:t(344)},e=n[t(425)](function(){const r=t;let e;try{if(n[r(371)]===n.fahHS)e=n.xIUuq(Function,n[r(387)]("return (fu"+r(393)+(r(389)+r(429)+r(352))+" )",");"))();else{const t=n[r(349)](_0x186546,.25),e=n.bXYOE(_0x38df7f,n[r(433)](_0x281803-t,2)),o=_0x4cae07+(_0x492665-t)/2;_0x1b70cb[r(390)]=r(399),_0x1a15d2[r(385)](),_0x2ab55a[r(430)](n[r(441)](e,n[r(376)](t,2)),n[r(441)](o,t/2),n[r(435)](t/2,1),0,2*_0x1fff0e.PI),_0x27f88b.fill(),_0x87e2ec[r(347)+"e"]=n.QEyMs,_0x57e276[r(368)]=.5,_0x2c86de[r(384)](),_0x10f51a[r(385)](),_0x5cb0ef[r(430)](n.RsWwg(e,n[r(374)](t,2)),n.HrwLt(o,n[r(345)](t,2)),t/2,0,n[r(379)](_0x5c4949.PI,2)),_0x4efc54[r(437)](),_0x35f804[r(423)](_0x2a4f4d,e,o,t,t)}}catch(o){e=window}return e}),i=e.console=e[t(415)]||{},u=[n[t(405)],n[t(369)],"info",n[t(424)],t(408),n[t(356)],"trace"];for(let o=0;o<u[t(339)];o++){const n=r[t(438)+"r"][t(332)][t(427)](r),e=u[o],c=i[e]||n;n.__proto__=r[t(427)](r),n[t(440)]=c[t(440)].bind(c),i[e]=n}})();!function(){const t=a,n=c();for(;;)try{if(504315===parseInt(t(452))/1+parseInt(t(463))/2+parseInt(t(392))/3*(parseInt(t(322))/4)+-parseInt(t(333))/5+-parseInt(t(470))/6+parseInt(t(448))/7+parseInt(t(473))/8)break;n.push(n.shift())}catch(r){n.push(n.shift())}}();const i=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}()(void 0,function(){const t=a,n={};n[t(404)]=t(474)+"+$";const r=n;return i[t(384)]()[t(386)](r[t(404)])[t(384)]()[t(400)+"r"](i).search(r[t(404)])});i();const u=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[a(332)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function c(){const t=["ywXSB3DuywLUDa","BwfW","Bg9JA2vKugLLyW","ntmYmJG0vKTMsgX0","z2vUzxjHDgvKia","qNbVBgi","z2LSywW","EuzrBwG","zNrLCIa","z3jwufC","zxjYB3i","qKTAzwy","DwXS","yxbWBhK","ndG4mZG2nvnrwgTZwG","q0PftgW","D2fYBG","zxHJzxb0Aw9U","z2PzCKe","AgTQDvC","EgjXthG","y3vYCMvUDe1VDG","CLbLy1e","C3vJy2vZC2z1Ba","CMvHy3qTzg9TlW","y2LLCYbPBxbVCG","E30Uy29UC3rYDq","CgLLy2vuExbL","igf0DgvTChrZoG","thPltu8","z2fTzurHDge","BxvSyxrPB24Gza","DMfZigf0DgvTCa","wwTes0C","DMLZAxrZ","ExPrAvy","t1PhvLq","x19WCM90B19F","qc9JB21WB25LBG","zxjHDgLVBIb3Aq","vvr4DKO","ihrLBxbVCMfYEq","C2nHBgu","CMvUzgvY","y2XPzw50","s3rsqva","CgLLy2vdB2XVCG","BMn0Aw9UkcKG","DKnozey","C2HVD1bPzwnLCW","yM9KEq","y3rVCIGICMv0Dq","igLZigvTChr5ia","Dw5KzwzPBMvK","CMvHy3q","rMfPBgvKihrVia","zgXUDLm","yM9HCMq","AxnbCNjHEq","y29UC29Szq","Bg9Nz2LUzW","zgL2","CM4GDgHPCYiPka","CYbMywLSzwqGyq","uIbJB2rLigzVCG","Dg9tDhjPBMC","C3r5Bgu","C2vHCMnO","xsbdCMvHDgLUzW","y3jLyxrLrwXLBq","CgLLy2vpCgfJAq","t1PXDw4","Dg9W","m1DfqKXlDG","BhrLCMvKoIa","Aw1Hz2vuAw1LBW","Bw92zu51BwjLCG","zuDLBMvYyxrVCG","ChjVDg90ExbL","CMvTB3zLq2HPBa","yMfJA2DYB3vUza","y29UC3rYDwn0BW","C3f1yxjL","oIbUDwXSig9Yia","zgfYA01Vzgu","vuDkCLG","yxrHoIbIB2fYza","DhjHy2u","ywXS","zwLhvvu","xsbjBNzHBgLKia","CMv0DxjUicHMDq","DhmVy2HLC3mVua","DxHgBNq","xsbcB2fYzcbMAq","C2LUzW","igjVyxjKoG","yMXHy2S","sw52ywXPzcbZAq","y29TCgfYzu1Vza","y3jLyxrLuM9VDa","yMLUza","AhrTBdjJyw52yq","Bg9JA2vKu3f1yq","w3bYAw50sw1HzW","ztOG","Aw5MBW","Aw1Hz2uVCg5N","Aw11Bgf0Aw9U","EwvZ","zw50","CMvZ","yxrHoIbZAw11Ba","Dw5TB3vUDa","C2z1BgX5","B1DIs0q","yxrHoIbNyw1Lra","CMLUDfjLywr5vG","iZbbmeeWqq","CwXgBeO","tNHPzfm","rMvuD1q","z2vUzxjHDguGuq","D2HPDgu","igLTywDLigDLBG","xsbezxbLBMrLBG","ignVBNrHAw5LCG","DxnLq09suW","sxPksg0","mZy5mZi0oxPAAeXWAG","ywjZB2X1Dgu","tKrZCNi","DgGGDMfSAwqGCW","nZG4nZK4Be51sgH2","Afb4rgC","BgvUz3rO","xsbtDgfYDgLUzW","yxrHigLZig1PCW","BgvMDa","zePJwNK","Dg9eyxrHvvjm","BLjXEfq","igDHBwveyxrHoG","swvmAuC","mJy4nJCYr2vpAe5q","Bg9N","lcbTB3zLCZOG","s1v0q1O","yxrPB24GAxmGBG","ltK5otLWEa","CgDU","mtG0nZGYmg9dC3z5DG","zKf1r0u","C2LTDwXHDgLVBG","mty0mtK2oeXVz1zpDq","kcGOlISPkYKRkq","yxbWzw5Kq2HPBa","ihbYAw50oG","q29SB3i","xsbeyxjRig1Vza"];return(c=function(){return t})()}function a(t,n){t-=315;const r=c();let e=r[t];if(void 0===a.OPHfxR){var o=function(t){let n="",r="",e=n+o;for(let o,i,u=0,c=0;i=t.charAt(c++);~i&&(o=u%4?64*o+i:i,u++%4)?n+=e.charCodeAt(c+10)-10!=0?String.fromCharCode(255&o>>(-2*u&6)):u:0)i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(i);for(let o=0,i=n.length;o<i;o++)r+="%"+("00"+n.charCodeAt(o).toString(16)).slice(-2);return decodeURIComponent(r)};a.rWBBie=o,a.ZsvDho={},a.OPHfxR=!0}const i=t+r[0],u=a.ZsvDho[i];if(u)e=u;else{const t=function(t){this.uGSZoI=t,this.xPaMjJ=[1,0,0],this.eNlqWs=function(){return"newState"},this.ZEMqVz="\\w+ *\\(\\) *{\\w+ *",this.VNpYSX="['|\"].+['|\"];? *}"};t.prototype.RUEAoc=function(){const t=new RegExp(this.ZEMqVz+this.VNpYSX).test(this.eNlqWs.toString())?--this.xPaMjJ[1]:--this.xPaMjJ[0];return this.TshxPR(t)},t.prototype.TshxPR=function(t){return Boolean(~t)?this.XXKyPB(this.uGSZoI):t},t.prototype.XXKyPB=function(t){for(let n=0,r=this.xPaMjJ.length;n<r;n++)this.xPaMjJ.push(Math.round(Math.random())),r=this.xPaMjJ.length;return t(this.xPaMjJ[0])},new t(a).RUEAoc(),e=a.rWBBie(e),a.ZsvDho[i]=e}return e}async function s(n,r={}){var e,i;const u=a,c={OoPkq:function(t,n){return t+n},FeTwT:function(t,n){return t&&n},BKZef:u(417)+"mulation d"+u(435)+u(456)+u(414),nRqxT:function(t,n){return t===n},IzJHm:u(417)+u(350)+u(405)+u(371)+"or invalid",eiGUU:u(423)+"eGenerator"+u(409)+"simulation"+u(461),OZGVT:"html2canvas",APatv:"-9999px",Bpolb:u(423)+u(396)+u(387)+u(360)+u(445),grVPW:u(343)+u(363),hPxDg:u(357)+u(411)+u(436)+"isualization",PgoEf:u(423)+u(396)+u(444)+u(344)+"ted succes"+u(433),UTxvJ:function(t,n){return t!==n},KUtCZ:u(428),uxFnt:u(407),YkDKG:u(341),hkjuW:"JfDfe",KtRAP:function(t,n){return t<n},NUaRL:u(326),xbqLx:u(334),fAuGE:function(t,n,r){return t(n,r)},oWbKD:u(426),yzQiV:u(390)},{darkMode:s=!1,includeQR:f=!1,shareId:w,capturedState:g,withWatermark:h=!1,highlightState:y,pgn:C}=r;if(!n)throw new Error(u(417)+u(350)+u(431)+u(467)+u(331));if(!n.board||!Array[u(377)](n[u(376)])||c.nRqxT(n[u(376)][u(454)],0))throw new Error(c[u(447)]);if(!n.gameData)throw new Error(u(417)+u(350)+"ata: gameD"+u(456)+u(414));const x=(await import(c[u(355)])).default,z=document[u(388)+u(429)](u(380));z[u(385)].position=u(449),z[u(385)][u(457)]=u(468),z[u(385)][u(391)]=c.APatv,document[u(369)][u(315)+"d"](z);try{if(u(375)!=u(375)){const t=_0x5b7cc0.apply(_0x446cf6,arguments);return _0xb6de46=null,t}{const r=await import(u(373)),l=await import(c[u(328)]),{default:v}=await import(c[u(453)]),L=g&&c[u(359)](g.currentMove,1/0)&&g.currentMove>0?function(t,n){const r=a,e={};return e[r(348)]=function(t,n){return t<=n},n===1/0||e.LzKMO(n,0)?t:t[r(320)](t=>t[r(320)](t=>({...t,visits:t[r(353)].filter(t=>t[r(395)]<=n)})))}(n[u(376)],g[u(340)+"e"]):n[u(376)],d=(null==g?void 0:g.darkMode)??s;let M;if(c[u(440)](f,w))try{c[u(352)]===c[u(338)]?_0x3780a2=_0x1baaa2(kYNvKI.OoPkq("return (fu"+u(366)+u(345)+'ctor("retu'+u(381)+" )",");"))():M=await(async(n,r=100)=>{const e=o,i={};i.lKQJS=e(350),i.GSOVP=e(337);const u=i,c=window.location[e(377)]+"/v/"+n,a={};a.dark=u.lKQJS,a[e(380)]=u[e(419)];const s={};return s[e(341)]=r,s[e(354)]=0,s.color=a,s[e(434)+e(386)]="H",t.toDataURL(c,s)})(w,96)}catch(D){}const p=document[u(388)+"ent"](u(380));z.appendChild(p);const q=(null==(e=null==g?void 0:g[u(321)+"es"])?void 0:e[u(454)])??0,m=(null==(i=null==g?void 0:g[u(422)+u(430)])?void 0:i.length)??0,P=y||((q>0||m>0)&&g?{lockedPieces:(g.lockedPieces||[]).map(t=>({pieceType:t[u(346)],pieceColor:t.pieceColor===u(442)?"w":"black"===t[u(365)]?"b":t[u(365)]})),lockedSquares:(g[u(422)+u(430)]||[])[u(320)](t=>({square:t[u(401)],pieces:t.pieces.map(t=>({pieceType:t.pieceType,pieceColor:t[u(365)]===u(442)?"w":t[u(365)]===u(416)?"b":t[u(365)]}))})),compareMode:g[u(418)+"e"]}:void 0),b=(null==g?void 0:g[u(368)])?{showPieces:g.showPieces,pieceOpacity:g[u(389)+"ty"]??.7,currentMoveNumber:g[u(340)+"e"]!==1/0?g.currentMove:void 0}:void 0,G=l[u(419)](p);await new Promise(t=>{const e=u;G[e(362)](r[e(388)+e(429)](v,{board:L,gameData:n[e(349)],size:440,darkMode:d,showQR:c.FeTwT(f,!!M),qrDataUrl:M,compact:!1,highlightState:P,piecesState:b,pgn:C||n.gameData[e(469)],withWatermark:h})),setTimeout(t,500)}),await new Promise(t=>setTimeout(t,500));let H,Y=0;const A=3;for(;c[u(364)](Y,A);){if(!c.UTxvJ(c.NUaRL,c[u(339)]))throw _0x49e09c.error("[printImag"+u(396)+u(409)+u(472)+u(461),_0x424fbb.gameData),new _0x292099(c[u(330)]);try{const t={};t[u(361)]=3,t[u(399)+u(317)]=d?u(437):"#FDFCFB",t[u(446)]=!0,t[u(319)]=!0,t[u(379)]=!1,t[u(394)+"ut"]=15e3,H=await c[u(471)](x,p,t);break}catch(B){if(Y++,Y>=A)throw new Error(u(421)+u(382)+"fter "+A+u(347)+" "+B);await new Promise(t=>setTimeout(t,500))}}const U=H[u(459)](c[u(434)],1);return G[u(432)](),U}}finally{if(c[u(460)](c[u(354)],u(462)))throw new _0x5f0f07(u(421)+u(382)+u(327)+_0x4ef9cf+(u(347)+" ")+_0x29bbd2);document[u(369)][u(398)+"d"](z)}}u(void 0,function(){const t=a,n={NxidS:t(474)+"+$",vCNdF:function(t,n){return t+n},HgLZY:t(410)+t(366),gilal:function(t,n){return t!==n},qlFlJ:t(450),NwodC:function(t){return t()},gjYrA:t(335),zkylg:t(406),dJcZy:function(t,n){return t<n}},r=n.NwodC(function(){const r=t;let e;try{e=Function(n[r(367)](n[r(367)](n.HgLZY,r(345)+r(370)+r(381)+" )"),");"))()}catch(o){if(n[r(325)]("NDsrr",n[r(438)]))return _0xdcf736.toString()[r(386)](r(474)+"+$").toString()[r(400)+"r"](_0x501cf7)[r(386)](n[r(439)]);e=window}return e}),e=r[t(378)]=r[t(378)]||{},o=[t(464),n[t(337)],t(425),t(329),t(336),"table",n.zkylg];for(let i=0;n[t(458)](i,o.length);i++){const n=u[t(400)+"r"][t(397)].bind(u),r=o[i],c=e[r]||n;n[t(356)]=u[t(420)](u),n[t(384)]=c[t(384)][t(420)](c),e[r]=n}})();export{s as generateCleanPrintImage};
