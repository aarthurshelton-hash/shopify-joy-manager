import{r as e,eE as t,s,j as a,bh as r,y as n,B as l,bO as c,bG as i,bM as o,C as d,x as m,a8 as x,ad as h,$ as u,aZ as g,b4 as b,bj as p,aq as j,p as f,t as v,e7 as N,aB as y,aC as w,aD as T,aE as k,G as P,aU as M,aT as S,aY as A,z as C,D as _,bp as B,cb as F,bt as $,bs as E,A as z,b1 as D,b7 as L,eD as I}from"./index-CESOpT9D.js";import{W as O}from"./wifi-DpqSPxZd.js";import{W as G}from"./wifi-off-CsUBSaaz.js";import{T as R}from"./trending-down-IQizapwe.js";const H={crypto:{name:"Crypto",icon:"â‚¿",color:"text-orange-500"},stocks:{name:"Stocks",icon:"ðŸ“ˆ",color:"text-blue-500"},etfs:{name:"ETFs",icon:"ðŸ“Š",color:"text-purple-500"},futures:{name:"Futures",icon:"ðŸ“‰",color:"text-cyan-500"},commodities:{name:"Commodities",icon:"ðŸ›¢ï¸",color:"text-amber-500"},bonds:{name:"Bonds",icon:"ðŸ¦",color:"text-green-500"},forex:{name:"Forex",icon:"ðŸ’±",color:"text-pink-500"}},q=1e3,W=15e3,Y={};function V(e,t){Y[e]||(Y[e]=[]),Y[e].push({price:t,timestamp:Date.now()}),Y[e].length>100&&(Y[e]=Y[e].slice(-100))}function U(e){const t=Y[e]||[];if(t.length<5)return{direction:Math.random()>.5?"up":"down",confidence:52};const s=t.slice(-20).map(e=>e.price),a=s.slice(-5).reduce((e,t)=>e+t,0)/5,r=s.slice(-15).reduce((e,t)=>e+t,0)/Math.min(15,s.length),n=s.slice(1).map((e,t)=>(e-s[t])/s[t]),l=n.reduce((e,t)=>e+t,0)/n.length,c=n.reduce((e,t)=>e+Math.pow(t-l,2),0)/n.length,i=Math.sqrt(c),o=n.filter(e=>e>0).reduce((e,t)=>e+t,0),d=Math.abs(n.filter(e=>e<0).reduce((e,t)=>e+t,0)),m=100-100/(1+(0===d?100:o/d));let x,h=0;h+=.4*(a>r?1:-1),h+=5e3*l,h+=m>60?-.3:m<40?.3:0,x=h>.15?"up":h<-.15?"down":Math.random()>.5?"up":"down";const u=Math.min(25*Math.abs(h),30),g=i<.01?1.1:i>.03?.85:1,b=Math.min(88,Math.max(52,55+u)*g);return{direction:x,confidence:Math.round(b)}}const J=({direction:e,size:t=16})=>"up"===e?a.jsx(h,{size:t,className:"text-green-500"}):"down"===e?a.jsx(R,{size:t,className:"text-red-500"}):a.jsx($,{size:t,className:"text-muted-foreground"}),X=()=>{const[$,E]=e.useState(!0),[z,D]=e.useState("crypto"),[L,I]=e.useState([]),[X,Z]=e.useState({}),[K,Q]=e.useState([]),[ee,te]=e.useState(!1),[se,ae]=e.useState(null),[re,ne]=e.useState("crypto"),[le,ce]=e.useState(null),[ie,oe]=e.useState(20),[de,me]=e.useState(!0),[xe,he]=e.useState(null),ue=xe??{balance:q,startingBalance:q,totalTrades:0,winningTrades:0,losingTrades:0,totalPnL:0,bestTrade:0,worstTrade:0,currentStreak:0,bestStreak:0,peakBalance:q,troughBalance:q},[ge,be]=e.useState(t.getEvolutionSummary()),pe=e.useRef(!0),je=e.useRef(null),fe=e.useRef(null);e.useEffect(()=>{(async()=>{try{const{data:e,error:t}=await s.from("portfolio_balance").select("*").order("updated_at",{ascending:!1}).limit(1).single();t&&t.code;const{data:a,error:r}=await s.from("autonomous_trades").select("*").order("created_at",{ascending:!1}).limit(100),{data:n,error:l}=await s.from("evolution_state").select("*").eq("state_type","global").order("updated_at",{ascending:!1}).limit(1).single();l&&l.code;const c=(null==a?void 0:a.filter(e=>"closed"===e.status))||[],i=c.filter(e=>(e.pnl||0)>0).length,o=c.filter(e=>(e.pnl||0)<=0).length,d=(c.reduce((e,t)=>e+(t.pnl||0),0),c.reduce((e,t)=>Math.max(e,t.pnl||0),0)),m=c.reduce((e,t)=>Math.min(e,t.pnl||0),0),x=(null==e?void 0:e.balance)??q,h=(null==e?void 0:e.peak_balance)??x,u=(null==e?void 0:e.trough_balance)??x;if(he({balance:x,startingBalance:q,totalTrades:(null==e?void 0:e.total_trades)||c.length,winningTrades:(null==e?void 0:e.winning_trades)||i,losingTrades:o,totalPnL:x-q,bestTrade:d,worstTrade:m,currentStreak:0,bestStreak:0,peakBalance:h,troughBalance:u}),n){const e=n.genes;be({generation:n.generation||0,fitness:n.fitness_score||0,velocity:0,topGenes:Object.entries(e||{}).sort((e,t)=>t[1]-e[1]).slice(0,5).map(([e,t])=>({name:e,value:t,impact:.1*t})),patternCount:(n.learned_patterns||[]).length,bestPatternAccuracy:n.fitness_score||0,anomalyHarvest:{totalAnomalies:0,topPatterns:[],recentInsights:[]}})}}catch(e){}finally{me(!1)}})();const e=s.channel("evolution-updates").on("postgres_changes",{event:"*",schema:"public",table:"evolution_state"},e=>{const t=e.new;t&&t.generation&&be({generation:t.generation||0,fitness:t.fitness_score||0,velocity:0,topGenes:Object.entries(t.genes||{}).sort((e,t)=>t[1]-e[1]).slice(0,5).map(([e,t])=>({name:e,value:t,impact:.1*t})),patternCount:(t.learned_patterns||[]).length,bestPatternAccuracy:t.fitness_score||0,anomalyHarvest:{totalAnomalies:0,topPatterns:[],recentInsights:[]}})}).on("postgres_changes",{event:"*",schema:"public",table:"portfolio_balance"},e=>{const t=e.new;t&&void 0!==t.balance&&he(e=>({...e,balance:t.balance||e.balance,peakBalance:t.peak_balance||e.peakBalance,troughBalance:t.trough_balance||e.troughBalance,totalTrades:t.total_trades||e.totalTrades,winningTrades:t.winning_trades||e.winningTrades}))}).subscribe();return()=>{s.removeChannel(e)}},[]);const ve=e.useCallback(async e=>{try{await s.from("portfolio_balance").upsert({id:"a72170ff-70ad-4da2-b54d-dd2c315a2fa6",balance:e.balance,peak_balance:e.peakBalance,trough_balance:e.troughBalance,total_trades:e.totalTrades,winning_trades:e.winningTrades,target_balance:1e4,updated_at:(new Date).toISOString()},{onConflict:"id"})}catch(t){}},[]),Ne=e.useMemo(()=>(ue.balance-ue.startingBalance)/ue.startingBalance*100,[ue.balance,ue.startingBalance]),ye=e.useMemo(()=>ue.totalTrades>0?ue.winningTrades/ue.totalTrades*100:0,[ue.winningTrades,ue.totalTrades]),we=e.useMemo(()=>K.filter(e=>!e.resolved).slice(-10),[K]),Te=e.useMemo(()=>K.filter(e=>e.resolved).slice(-15).reverse(),[K]),ke=e.useMemo(()=>{const e={};for(const t of K.filter(e=>e.resolved))e[t.category]||(e[t.category]={total:0,correct:0,pnl:0}),e[t.category].total++,t.wasCorrect&&e[t.category].correct++,e[t.category].pnl+=t.pnl||0;return e},[K]),Pe=e.useMemo(()=>{const e={};for(const t of K.filter(e=>e.resolved))e[t.symbol]||(e[t.symbol]={total:0,correct:0,pnl:0,history:[]}),e[t.symbol].total++,t.wasCorrect&&e[t.symbol].correct++,e[t.symbol].pnl+=t.pnl||0,e[t.symbol].history.push(t);return e},[K]),Me=e.useCallback(e=>{if(!le||ue.balance<=0||ie<=0)return;const t=X[le.symbol];if(!t)return;const s=Math.min(ie,ue.balance),{confidence:a}=U(le.symbol),r={id:`manual-${Date.now()}-${Math.random().toString(36).slice(2,6)}`,symbol:le.symbol,category:le.category,direction:e,confidence:a,priceAtPrediction:t.price,timestamp:Date.now(),expiresAt:Date.now()+W,betAmount:s};Q(e=>[...e,r].slice(-200))},[le,X,ue.balance,ie]);e.useEffect(()=>{(async()=>{try{const{data:e,error:t}=await s.functions.invoke("stock-data",{body:{action:"list"}});if(t)throw t;(null==e?void 0:e.symbols)&&I(e.symbols)}catch(e){}})()},[]);const Se=e.useCallback(async()=>{if(pe.current)try{const e=L.filter(e=>e.category===z),t=[...new Set([...e.map(e=>e.symbol),...L.filter(e=>e.is24h).slice(0,10).map(e=>e.symbol)])];if(0===t.length)return;const{data:a,error:r}=await s.functions.invoke("stock-data",{body:{action:"batch",symbols:t}});if(r)throw r;if(null==a?void 0:a.quotes){const e={};for(const t of a.quotes)e[t.symbol]=t,V(t.symbol,t.price);Z(t=>({...t,...e})),te(!0),ae(new Date)}}catch(e){te(!1)}},[L,z]),Ae=e.useCallback(()=>{if(!pe.current||ue.balance<=0)return;const e=L.filter(e=>e.is24h&&X[e.symbol]);if(0===e.length)return;const t=e[Math.floor(Math.random()*e.length)],s=X[t.symbol];if(!s)return;const{direction:a,confidence:r}=U(t.symbol),n=Math.min(100,ue.balance),l={id:`pred-${Date.now()}-${Math.random().toString(36).slice(2,6)}`,symbol:t.symbol,category:t.category,direction:a,confidence:r,priceAtPrediction:s.price,timestamp:Date.now(),expiresAt:Date.now()+W,betAmount:n};Q(e=>[...e,l].slice(-200))},[L,X,ue.balance]),Ce=e.useCallback(()=>{if(!pe.current||!xe)return;const e=Date.now(),s={...ue};let a=!1;Q(r=>r.map(r=>{if(r.resolved||r.expiresAt>e)return r;const n=X[r.symbol];if(!n)return r;a=!0;const l=(n.price-r.priceAtPrediction)/r.priceAtPrediction,c=function(e,t){const s=t.includes("BTC")||t.includes("ETH")?3e-4:1e-4;return e>s?"up":e<-s?"down":"flat"}(l,r.symbol),i=r.direction===c||"flat"===r.direction&&Math.abs(l)<2e-4,o=e=>"flat"===e?"neutral":e;t.processOutcome({predicted:o(r.direction),actual:o(c),confidence:r.confidence/100,marketConditions:{correlationStrength:100*Math.abs(l),volatility:Math.abs(l),momentum:l>0?1:l<0?-1:0,leadingSignals:r.confidence/100}}),be(t.getEvolutionSummary()),r.category&&t.updateCorrelationMemory(r.symbol,r.category,l);const d=100*Math.abs(l);let m=0;return i?(m=r.betAmount*Math.min(d,.5)/100,m=Math.max(m,.001*r.betAmount),s.balance+=m,s.winningTrades++,s.currentStreak++,s.bestStreak=Math.max(s.bestStreak,s.currentStreak),s.bestTrade=Math.max(s.bestTrade,m)):(m=-r.betAmount*Math.min(d,.3)/100,m=Math.min(m,.001*-r.betAmount),s.balance+=m,s.losingTrades++,s.currentStreak=0,s.worstTrade=Math.min(s.worstTrade,m)),s.totalTrades++,s.totalPnL=s.balance-q,s.peakBalance=Math.max(s.peakBalance,s.balance),s.troughBalance=Math.min(s.troughBalance,s.balance),{...r,resolved:!0,wasCorrect:i,actualPrice:n.price,actualDirection:c,pnl:m}})),a&&(he(s),ve(s))},[X,xe,ue,ve]);e.useEffect(()=>(pe.current=!0,$&&L.length>0&&(Se(),je.current=setInterval(()=>{pe.current&&(Se(),Ce())},2e3),fe.current=setInterval(()=>{pe.current&&Ae()},W)),()=>{pe.current=!1,je.current&&clearInterval(je.current),fe.current&&clearInterval(fe.current)}),[$,L.length,z]);const _e=e.useCallback(()=>{Q([]);for(const e in Y)delete Y[e]},[]),Be=(e,t)=>t.includes("JPY")||t.includes("=X")?e.toFixed(4):t.includes("BTC")?`$${e.toLocaleString(void 0,{maximumFractionDigits:2})}`:e<1?`$${e.toFixed(4)}`:`$${e.toFixed(2)}`,Fe=e=>`${e>=0?"+":""}$${Math.abs(e).toFixed(2)}`;return a.jsxs("div",{className:"space-y-4 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(r,{className:"w-8 h-8 text-primary"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Paper Trading Terminal"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"$1000 â†’ $10,000 Challenge â€¢ Real Market Data â€¢ En Pensent AI Predictions"})]}),a.jsxs(n,{variant:ee?"default":"destructive",className:"ml-2",children:[ee?a.jsx(O,{className:"w-3 h-3 mr-1"}):a.jsx(G,{className:"w-3 h-3 mr-1"}),ee?"LIVE":"OFFLINE"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(l,{variant:$?"destructive":"default",size:"sm",onClick:()=>E(!$),children:[$?a.jsx(c,{className:"w-4 h-4 mr-1"}):a.jsx(i,{className:"w-4 h-4 mr-1"}),$?"Pause":"Start"]}),a.jsxs(l,{variant:"outline",size:"sm",onClick:_e,children:[a.jsx(o,{className:"w-4 h-4 mr-1"}),"Clear History"]})]})]}),a.jsx(d,{className:"bg-gradient-to-br from-card via-card to-primary/5 border-primary/20",children:a.jsxs(m,{className:"pt-6",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsxs("div",{className:"text-sm text-muted-foreground mb-1 flex items-center gap-2",children:[a.jsx(x,{className:"w-4 h-4"}),"Paper Trading Balance"]}),a.jsxs("div",{className:"text-4xl font-mono font-bold",children:["$",ue.balance.toFixed(2)]}),a.jsxs("div",{className:u("text-lg font-semibold flex items-center gap-1",Ne>=0?"text-green-500":"text-red-500"),children:[Ne>=0?a.jsx(h,{className:"w-4 h-4"}):a.jsx(R,{className:"w-4 h-4"}),Ne>=0?"+":"",Ne.toFixed(2),"%",a.jsxs("span",{className:"text-sm text-muted-foreground ml-1",children:["(",Fe(ue.totalPnL),")"]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-sm text-muted-foreground mb-1 flex items-center gap-1",children:[a.jsx(g,{className:"w-3 h-3"}),"Win Rate"]}),a.jsxs("div",{className:u("text-2xl font-bold",ye>=55?"text-green-500":ye>=45?"text-yellow-500":"text-red-500"),children:[ye.toFixed(1),"%"]}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[ue.winningTrades,"W / ",ue.losingTrades,"L"]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-sm text-muted-foreground mb-1 flex items-center gap-1",children:[a.jsx(b,{className:"w-3 h-3"}),"Trades"]}),a.jsx("div",{className:"text-2xl font-bold text-primary",children:ue.totalTrades}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"2% per trade"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-sm text-muted-foreground mb-1 flex items-center gap-1",children:[a.jsx(p,{className:"w-3 h-3"}),"Streak"]}),a.jsx("div",{className:"text-2xl font-bold text-orange-500",children:ue.currentStreak}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:["Best: ",ue.bestStreak]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Peak / Trough"}),a.jsxs("div",{className:"text-lg font-semibold text-green-500",children:["$",ue.peakBalance.toFixed(0)]}),a.jsxs("div",{className:"text-sm font-medium text-red-500",children:["$",ue.troughBalance.toFixed(0)]})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mb-1",children:[a.jsx("span",{children:"Starting: $1,000"}),a.jsx("span",{children:"Target: $10,000 (900% growth)"})]}),a.jsx(j,{value:Math.min(100,Math.max(0,ue.balance/1e4*100)),className:"h-2"})]})]})}),a.jsxs(d,{className:"border-cyan-500/30 bg-gradient-to-r from-cyan-950/20 to-purple-950/20",children:[a.jsx(f,{className:"pb-2",children:a.jsxs(v,{className:"text-sm flex items-center gap-2",children:[a.jsx(N,{className:"w-4 h-4 text-cyan-400"}),"En Pensent Self-Evolving AI",a.jsxs(n,{variant:"outline",className:"ml-auto text-xs",children:["Gen ",ge.generation]})]})}),a.jsx(m,{children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Fitness"}),a.jsxs("div",{className:"text-lg font-bold text-cyan-400",children:[(100*ge.fitness).toFixed(1),"%"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Learning Velocity"}),a.jsxs("div",{className:u("text-lg font-bold",ge.velocity>0?"text-green-400":"text-red-400"),children:[ge.velocity>0?"+":"",(100*ge.velocity).toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Learned Patterns"}),a.jsx("div",{className:"text-lg font-bold text-purple-400",children:ge.patternCount})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Best Pattern Accuracy"}),a.jsxs("div",{className:"text-lg font-bold text-amber-400",children:[(100*ge.bestPatternAccuracy).toFixed(1),"%"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Top Gene"}),ge.topGenes[0]&&a.jsxs("div",{className:"text-sm font-medium text-muted-foreground",children:[ge.topGenes[0].name,": ",ge.topGenes[0].value.toFixed(2)]})]})]})})]}),a.jsxs(y,{value:z,onValueChange:D,children:[a.jsx(w,{className:"grid grid-cols-7 w-full",children:Object.entries(H).map(([e,t])=>a.jsxs(T,{value:e,className:"text-xs",children:[a.jsx("span",{className:"mr-1",children:t.icon}),t.name]},e))}),Object.keys(H).map(e=>a.jsx(k,{value:e,className:"mt-4",children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:L.filter(t=>t.category===e).map(e=>{const t=X[e.symbol],s=Pe[e.symbol],r=(null==le?void 0:le.symbol)===e.symbol,l=s&&s.total>0?s.correct/s.total*100:null;return a.jsx(d,{className:u("bg-card/50 cursor-pointer transition-all hover:scale-[1.02] hover:border-primary/50",r&&"ring-2 ring-primary border-primary"),onClick:()=>ce(r?null:e),children:a.jsxs(m,{className:"pt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-mono font-medium text-sm",children:e.symbol}),e.is24h&&a.jsxs(n,{variant:"outline",className:"text-xs",children:[a.jsx(P,{className:"w-2 h-2 mr-1"}),"24/7"]})]}),a.jsx("div",{className:"text-lg font-bold",children:t?Be(t.price,e.symbol):"â€”"}),t&&a.jsxs("div",{className:u("text-xs",t.changePercent>=0?"text-green-500":"text-red-500"),children:[t.changePercent>=0?"+":"",t.changePercent.toFixed(2),"%"]}),a.jsx("div",{className:"text-xs text-muted-foreground truncate mt-1",children:e.name}),null!==l&&a.jsxs("div",{className:u("text-xs font-semibold mt-2 pt-2 border-t border-border/50",l>=55?"text-green-500":l>=45?"text-yellow-500":"text-red-500"),children:[l.toFixed(0),"% accuracy â€¢ ",s.total," trades"]})]})},e.symbol)})})},e))]}),a.jsx(M,{children:le&&X[le.symbol]&&a.jsx(S.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:a.jsxs(d,{className:"border-primary/50 bg-gradient-to-br from-primary/5 to-card",children:[a.jsx(f,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(v,{className:"flex items-center gap-3",children:[a.jsx(A,{className:"w-5 h-5 text-primary"}),"Trade ",le.symbol,a.jsx(n,{children:le.name})]}),a.jsx(l,{variant:"ghost",size:"sm",onClick:()=>ce(null),children:"âœ•"})]})}),a.jsx(m,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Live Price"}),a.jsx("div",{className:"text-3xl font-mono font-bold",children:Be(X[le.symbol].price,le.symbol)}),a.jsxs("div",{className:u("text-sm font-medium",X[le.symbol].changePercent>=0?"text-green-500":"text-red-500"),children:[X[le.symbol].changePercent>=0?"+":"",X[le.symbol].changePercent.toFixed(3),"%"]})]}),(()=>{const e=U(le.symbol);return a.jsxs("div",{className:"p-3 rounded-lg bg-card border",children:[a.jsxs("div",{className:"text-xs text-muted-foreground mb-1 flex items-center gap-1",children:[a.jsx(N,{className:"w-3 h-3"}),"AI Prediction"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(J,{direction:e.direction,size:24}),a.jsx("span",{className:"text-xl font-bold capitalize",children:e.direction}),a.jsxs(n,{variant:"outline",className:"ml-auto",children:[e.confidence,"% confidence"]})]})]})})()]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Bet Amount ($)"}),a.jsx("div",{className:"flex gap-2",children:[10,20,50,100].map(e=>a.jsxs(l,{variant:ie===e?"default":"outline",size:"sm",onClick:()=>oe(e),disabled:e>ue.balance,children:["$",e]},e))}),a.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Available: $",ue.balance.toFixed(2)]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs(l,{size:"lg",className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>Me("up"),disabled:ue.balance<ie,children:[a.jsx(h,{className:"w-5 h-5 mr-2"}),"LONG"]}),a.jsxs(l,{size:"lg",className:"bg-red-600 hover:bg-red-700 text-white",onClick:()=>Me("down"),disabled:ue.balance<ie,children:[a.jsx(R,{className:"w-5 h-5 mr-2"}),"SHORT"]})]}),a.jsxs("div",{className:"text-xs text-center text-muted-foreground",children:["Target: +",.5,"% â€¢ Stop: -",.3,"% â€¢ Resolves in ",15,"s"]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Your ",le.symbol," History"]}),Pe[le.symbol]?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[a.jsxs("div",{className:"p-2 rounded bg-card border",children:[a.jsx("div",{className:"text-lg font-bold",children:Pe[le.symbol].total}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Trades"})]}),a.jsxs("div",{className:"p-2 rounded bg-card border",children:[a.jsxs("div",{className:u("text-lg font-bold",Pe[le.symbol].correct/Pe[le.symbol].total>=.55?"text-green-500":"text-red-500"),children:[(Pe[le.symbol].correct/Pe[le.symbol].total*100).toFixed(0),"%"]}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Accuracy"})]}),a.jsxs("div",{className:"p-2 rounded bg-card border",children:[a.jsx("div",{className:u("text-lg font-bold",Pe[le.symbol].pnl>=0?"text-green-500":"text-red-500"),children:Fe(Pe[le.symbol].pnl)}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"P&L"})]})]}),a.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:Pe[le.symbol].history.slice(-5).reverse().map(e=>a.jsxs("div",{className:"flex items-center justify-between text-xs p-1 rounded bg-card/50",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[e.wasCorrect?a.jsx(C,{className:"w-3 h-3 text-green-500"}):a.jsx(_,{className:"w-3 h-3 text-red-500"}),a.jsx(J,{direction:e.direction,size:12})]}),a.jsx("span",{className:u("font-mono",(e.pnl||0)>=0?"text-green-500":"text-red-500"),children:Fe(e.pnl||0)})]},e.id))})]}):a.jsxs("div",{className:"text-center text-muted-foreground py-4",children:["No trades yet on ",le.symbol]})]})]})})]})})}),a.jsxs(d,{children:[a.jsx(f,{className:"pb-3",children:a.jsxs(v,{className:"text-lg flex items-center gap-2",children:[a.jsx(B,{className:"w-5 h-5"}),"Category Performance"]})}),a.jsx(m,{children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-3",children:Object.entries(H).map(([e,t])=>{const s=ke[e]||{total:0,correct:0,pnl:0},r=s.total>0?s.correct/s.total*100:0;return a.jsxs("div",{className:"text-center p-3 rounded-lg bg-card/50 border",children:[a.jsx("div",{className:u("text-lg mb-1",t.color),children:t.icon}),a.jsx("div",{className:"text-xs font-medium mb-2",children:t.name}),a.jsx("div",{className:u("text-xl font-bold",r>=55?"text-green-500":r>=45?"text-yellow-500":0===s.total?"text-muted-foreground":"text-red-500"),children:s.total>0?`${r.toFixed(0)}%`:"â€”"}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.total," trades"]}),a.jsx("div",{className:u("text-xs font-medium",s.pnl>=0?"text-green-500":"text-red-500"),children:s.total>0?Fe(s.pnl):"â€”"})]},e)})})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs(d,{children:[a.jsx(f,{className:"pb-3",children:a.jsxs(v,{className:"text-lg flex items-center gap-2",children:[a.jsx(F,{className:"w-5 h-5 text-yellow-500"}),"Pending Predictions (",we.length,")"]})}),a.jsx(m,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(M,{mode:"popLayout",children:we.map(e=>{const t=Math.max(0,e.expiresAt-Date.now()),s=(W-t)/W*100,r=X[e.symbol],l=r?(r.price-e.priceAtPrediction)/e.priceAtPrediction*100:0;return a.jsxs(S.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"p-3 rounded-lg bg-card/50 border border-yellow-500/20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-mono font-medium",children:e.symbol}),a.jsx(J,{direction:e.direction}),a.jsxs(n,{variant:"outline",className:"text-xs",children:[e.confidence,"%"]})]}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:["$",e.betAmount.toFixed(2)," bet"]})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsxs("span",{className:"text-muted-foreground",children:["Entry: ",Be(e.priceAtPrediction,e.symbol)]}),a.jsxs("span",{className:u("font-medium",l>=0?"text-green-500":"text-red-500"),children:[l>=0?"+":"",l.toFixed(3),"%"]})]}),a.jsx(j,{value:s,className:"h-1 mt-2"})]},e.id)})}),0===we.length&&a.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[a.jsx(A,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"Generating predictions..."})]})]})})]}),a.jsxs(d,{children:[a.jsx(f,{className:"pb-3",children:a.jsxs(v,{className:"text-lg flex items-center gap-2",children:[a.jsx(C,{className:"w-5 h-5 text-green-500"}),"Recent Results"]})}),a.jsx(m,{children:a.jsxs("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:[a.jsx(M,{mode:"popLayout",children:Te.map(e=>a.jsxs(S.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:u("p-3 rounded-lg border",e.wasCorrect?"bg-green-500/5 border-green-500/30":"bg-red-500/5 border-red-500/30"),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[e.wasCorrect?a.jsx(C,{className:"w-4 h-4 text-green-500"}):a.jsx(_,{className:"w-4 h-4 text-red-500"}),a.jsx("span",{className:"font-mono text-sm",children:e.symbol}),a.jsx(J,{direction:e.direction,size:14}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"â†’"}),a.jsx(J,{direction:e.actualDirection||"flat",size:14})]}),a.jsx("div",{className:u("font-mono font-medium text-sm",(e.pnl||0)>=0?"text-green-500":"text-red-500"),children:Fe(e.pnl||0)})]}),a.jsxs("div",{className:"flex items-center justify-between mt-1 text-xs text-muted-foreground",children:[a.jsxs("span",{children:[Be(e.priceAtPrediction,e.symbol)," â†’ ",Be(e.actualPrice||0,e.symbol)]}),a.jsxs("span",{children:[e.confidence,"% conf"]})]})]},e.id))}),0===Te.length&&a.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[a.jsx(r,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"No resolved predictions yet"})]})]})})]})]}),a.jsxs("div",{className:"text-center text-xs text-muted-foreground pt-4 border-t",children:[a.jsx("p",{children:"Multi-Market Prediction Engine â€¢ Patent-Pending Technology"}),a.jsx("p",{className:"mt-1",children:'Invented by Alec Arthur Shelton "The Artist" â€¢ CEO'}),se&&a.jsxs("p",{className:"mt-1",children:["Last updated: ",se.toLocaleTimeString()]})]})]})},Z=()=>a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("div",{className:"border-b border-border/50 bg-card/30 sticky top-0 z-50 backdrop-blur-xl",children:a.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(E,{to:"/",children:a.jsxs(l,{variant:"ghost",size:"sm",className:"gap-2",children:[a.jsx(z,{className:"w-4 h-4"}),"Home"]})}),a.jsxs("div",{children:[a.jsx("h1",{className:"font-display font-bold text-lg uppercase tracking-wide",children:"Scalping Terminal"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"En Pensentâ„¢ Real-Time Market Prediction Engine"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(E,{to:"/strategic-plan",children:a.jsxs(l,{variant:"outline",size:"sm",className:"gap-2",children:[a.jsx(D,{className:"w-4 h-4"}),"Strategic Plan"]})}),a.jsx(E,{to:"/code-analysis",children:a.jsxs(l,{variant:"outline",size:"sm",className:"gap-2",children:[a.jsx(L,{className:"w-4 h-4"}),"Code Analysis"]})})]})]})}),a.jsx("div",{className:"container mx-auto px-4 py-6",children:a.jsx(I,{componentName:"ScalpingTerminal",children:a.jsx(X,{})})}),a.jsxs("div",{className:"border-t border-border/50 py-4 text-center text-xs text-muted-foreground",children:[a.jsx("p",{children:"En Pensentâ„¢ Patent-Pending Technology â€¢ Universal Temporal Pattern Recognition"}),a.jsxs("p",{className:"mt-1",children:["Â© ",(new Date).getFullYear(),' Alec Arthur Shelton "The Artist" - Inventor & CEO']})]})]});export{Z as default};
