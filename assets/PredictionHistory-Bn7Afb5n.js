const e='/**\n * En Pensent™ Prediction History\n * \n * Shows all predictions with their outcomes and accuracy.\n */\n\nimport React from \'react\';\nimport { Card, CardContent, CardHeader, CardTitle } from \'@/components/ui/card\';\nimport { Badge } from \'@/components/ui/badge\';\nimport { ScrollArea } from \'@/components/ui/scroll-area\';\nimport { \n  TrendingUp, \n  TrendingDown, \n  Minus, \n  Clock, \n  CheckCircle2, \n  XCircle,\n  AlertCircle\n} from \'lucide-react\';\nimport { formatDistanceToNow } from \'date-fns\';\nimport { MARKET_ARCHETYPES } from \'@/lib/pensent-core/domains/finance/types\';\n\ninterface Prediction {\n  id: string;\n  symbol: string;\n  archetype: string;\n  predicted_direction: string;\n  predicted_confidence: number;\n  predicted_target_move: number;\n  price_at_prediction: number;\n  time_horizon: string;\n  created_at: string;\n  expires_at: string;\n  resolved_at: string | null;\n  outcome_price: number | null;\n  actual_direction: string | null;\n  actual_move: number | null;\n  was_correct: boolean | null;\n  accuracy_score: number | null;\n  baseline_direction: string | null;\n  baseline_was_correct: boolean | null;\n}\n\ninterface PredictionHistoryProps {\n  predictions: Prediction[];\n  onRefresh?: () => void;\n}\n\nexport const PredictionHistory: React.FC<PredictionHistoryProps> = ({\n  predictions,\n  onRefresh\n}) => {\n  const DirectionIcon = ({ direction }: { direction: string }) => {\n    if (direction === \'bullish\') return <TrendingUp className="w-4 h-4 text-green-500" />;\n    if (direction === \'bearish\') return <TrendingDown className="w-4 h-4 text-red-500" />;\n    return <Minus className="w-4 h-4 text-muted-foreground" />;\n  };\n\n  const getStatusIcon = (prediction: Prediction) => {\n    if (!prediction.resolved_at) {\n      return <Clock className="w-4 h-4 text-yellow-500" />;\n    }\n    if (prediction.was_correct) {\n      return <CheckCircle2 className="w-4 h-4 text-green-500" />;\n    }\n    return <XCircle className="w-4 h-4 text-red-500" />;\n  };\n\n  const getStatusText = (prediction: Prediction) => {\n    if (!prediction.resolved_at) {\n      return \'Pending\';\n    }\n    return prediction.was_correct ? \'Correct\' : \'Incorrect\';\n  };\n\n  const getStatusColor = (prediction: Prediction) => {\n    if (!prediction.resolved_at) {\n      return \'bg-yellow-500/20 text-yellow-400 border-yellow-500/30\';\n    }\n    return prediction.was_correct \n      ? \'bg-green-500/20 text-green-400 border-green-500/30\'\n      : \'bg-red-500/20 text-red-400 border-red-500/30\';\n  };\n\n  const pendingCount = predictions.filter(p => !p.resolved_at).length;\n  const resolvedCount = predictions.filter(p => p.resolved_at).length;\n  const correctCount = predictions.filter(p => p.was_correct).length;\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle className="flex items-center justify-between">\n          <span className="flex items-center gap-2">\n            <AlertCircle className="w-5 h-5" />\n            Prediction History\n          </span>\n          <div className="flex items-center gap-2 text-sm font-normal">\n            <Badge variant="outline" className="bg-yellow-500/10 text-yellow-400">\n              {pendingCount} pending\n            </Badge>\n            <Badge variant="outline" className="bg-green-500/10 text-green-400">\n              {correctCount}/{resolvedCount} correct\n            </Badge>\n          </div>\n        </CardTitle>\n      </CardHeader>\n      <CardContent>\n        <ScrollArea className="h-[500px] pr-4">\n          <div className="space-y-3">\n            {predictions.length === 0 ? (\n              <p className="text-center text-muted-foreground py-8">\n                No predictions yet. Analyze a stock and save your prediction!\n              </p>\n            ) : (\n              predictions.map(pred => {\n                const archetypeDef = MARKET_ARCHETYPES[pred.archetype as keyof typeof MARKET_ARCHETYPES];\n                \n                return (\n                  <div \n                    key={pred.id}\n                    className="p-4 rounded-lg bg-muted/30 border border-border/50 hover:border-border transition-colors"\n                  >\n                    <div className="flex items-start justify-between mb-3">\n                      <div className="flex items-center gap-2">\n                        <span className="font-bold text-lg">{pred.symbol}</span>\n                        <Badge variant="outline" className={getStatusColor(pred)}>\n                          {getStatusIcon(pred)}\n                          <span className="ml-1">{getStatusText(pred)}</span>\n                        </Badge>\n                      </div>\n                      <span className="text-xs text-muted-foreground">\n                        {formatDistanceToNow(new Date(pred.created_at), { addSuffix: true })}\n                      </span>\n                    </div>\n\n                    <div className="grid grid-cols-2 md:grid-cols-4 gap-3 text-sm">\n                      <div>\n                        <p className="text-muted-foreground">Predicted</p>\n                        <div className="flex items-center gap-1">\n                          <DirectionIcon direction={pred.predicted_direction} />\n                          <span className="capitalize font-medium">{pred.predicted_direction}</span>\n                          <span className="text-muted-foreground">({pred.predicted_confidence}%)</span>\n                        </div>\n                      </div>\n\n                      <div>\n                        <p className="text-muted-foreground">Target Move</p>\n                        <p className="font-medium">±{pred.predicted_target_move}%</p>\n                      </div>\n\n                      {pred.resolved_at ? (\n                        <>\n                          <div>\n                            <p className="text-muted-foreground">Actual</p>\n                            <div className="flex items-center gap-1">\n                              <DirectionIcon direction={pred.actual_direction || \'neutral\'} />\n                              <span className="capitalize font-medium">{pred.actual_direction}</span>\n                              <span className="text-muted-foreground">({pred.actual_move}%)</span>\n                            </div>\n                          </div>\n\n                          <div>\n                            <p className="text-muted-foreground">Accuracy Score</p>\n                            <p className={`font-bold ${pred.accuracy_score && pred.accuracy_score >= 50 ? \'text-green-400\' : \'text-red-400\'}`}>\n                              {pred.accuracy_score}/100\n                            </p>\n                          </div>\n                        </>\n                      ) : (\n                        <>\n                          <div>\n                            <p className="text-muted-foreground">Entry Price</p>\n                            <p className="font-medium">${pred.price_at_prediction.toFixed(2)}</p>\n                          </div>\n\n                          <div>\n                            <p className="text-muted-foreground">Expires</p>\n                            <p className="font-medium">\n                              {formatDistanceToNow(new Date(pred.expires_at), { addSuffix: true })}\n                            </p>\n                          </div>\n                        </>\n                      )}\n                    </div>\n\n                    <div className="mt-3 pt-3 border-t border-border/50 flex items-center justify-between text-xs">\n                      <Badge variant="outline">\n                        {archetypeDef?.name || pred.archetype}\n                      </Badge>\n                      \n                      {pred.baseline_direction && (\n                        <span className="text-muted-foreground">\n                          Baseline: {pred.baseline_direction}\n                          {pred.baseline_was_correct !== null && (\n                            pred.baseline_was_correct \n                              ? <span className="text-green-400 ml-1">✓</span>\n                              : <span className="text-red-400 ml-1">✗</span>\n                          )}\n                        </span>\n                      )}\n\n                      <span className="text-muted-foreground">\n                        Horizon: {pred.time_horizon}\n                      </span>\n                    </div>\n                  </div>\n                );\n              })\n            )}\n          </div>\n        </ScrollArea>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default PredictionHistory;\n';export{e as default};
