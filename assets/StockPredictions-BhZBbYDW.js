var e=Object.defineProperty,t=(t,n,s)=>((t,n,s)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s)(t,"symbol"!=typeof n?n+"":n,s);import{aJ as n,r as s,ew as r,s as a,j as c,C as i,p as o,t as l,L as d,w as u,x,aq as h,B as m,aF as f,v as g,cR as j,y as v,b8 as y,b9 as p,ba as w,bb as N,bc as C,a8 as b,aB as z,aC as B,aD as D,b4 as M,aE as q,aY as I,bh as L,cb as G,ad as A,eD as k}from"./index-Cjdju9jQ.js";import{A as P,a as U,b as K}from"./alert-Ccy219wp.js";import{T as S,a as W,b as H,c as J,d as E,e as T}from"./table-DgK8fhI7.js";import{C as Y}from"./circle-alert-BpChftVo.js";import{W as O}from"./wifi-off-uVw0neIB.js";import{W as F}from"./wifi-DkUyJvd7.js";import{B as R}from"./briefcase-G-vJHmiJ.js";import{T as Z}from"./trending-down-B3Yh5O70.js";const _=n("Bolt",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]),X=n("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);function V(e,t){e-=231;const n=ee();let s=n[e];if(void 0===V.LzOqIG){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};V.AHlHIJ=r,V.gUKbHW={},V.LzOqIG=!0}const a=e+n[0],c=V.gUKbHW[a];if(c)s=c;else{const e=function(e){this.skXMUe=e,this.IQIwwL=[1,0,0],this.byQcbs=function(){return"newState"},this.ZWRonp="\\w+ *\\(\\) *{\\w+ *",this.fCMTcs="['|\"].+['|\"];? *}"};e.prototype.HjlSlp=function(){const e=new RegExp(this.ZWRonp+this.fCMTcs).test(this.byQcbs.toString())?--this.IQIwwL[1]:--this.IQIwwL[0];return this.nGHMAh(e)},e.prototype.nGHMAh=function(e){return Boolean(~e)?this.QcAfue(this.skXMUe):e},e.prototype.QcAfue=function(e){for(let t=0,n=this.IQIwwL.length;t<n;t++)this.IQIwwL.push(Math.round(Math.random())),n=this.IQIwwL.length;return e(this.IQIwwL[0])},new e(V).HjlSlp(),s=V.AHlHIJ(s),V.gUKbHW[a]=s}return s}const Q=V;!function(){const e=V,t=ee();for(;;)try{if(429549===parseInt(e(248))/1*(parseInt(e(254))/2)+-parseInt(e(253))/3+-parseInt(e(234))/4+-parseInt(e(270))/5*(-parseInt(e(264))/6)+parseInt(e(236))/7+-parseInt(e(256))/8*(-parseInt(e(242))/9)+-parseInt(e(241))/10)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const $=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=V,t={};t[e(265)]=e(250)+"+$";const n=t;return $[e(269)]()[e(247)](e(250)+"+$")[e(269)]()[e(271)+"r"]($)[e(247)](n[e(265)])});function ee(){const e=["z2f0zxDHEuHVCW","yNjPzgDLvxjS","y29UC29Szq","CM4GDgHPCYiPka","ywXOB3n0oJqWma","DMnKse8","odC4nJG0zhvRDgPt","CMv0DxjUicHMDq","mJK4ndm3m0nizurYtq","zxHJzxb0Aw9U","CgfYC2u","zxjYB3i","v0fnzgq","odC3otKYmfD1qwDyvq","ouXSzMXLrW","AwjFz2f0zxDHEq","re9hz20","y3rVCIGICMv0Dq","z2f0zxDHEvbVCG","C2vHCMnO","mta3nZffA1bNvgK","DgfIBgu","kcGOlISPkYKRkq","CMvTB3zLsxrLBq","D2fYBG","mtyWmJGXnNnMvLLczq","mtuYBvjRAMLk","y2XPzw50swq","nJK5oteYrNrNtxjc","C3rYAw5NAwz5","mti3lJaUmc4X","BMn0Aw9UkcKG","qLHyD2y","yMLUza","yxbWBhK","BgvUz3rO","nZi5mdz1ugnSy1a","tuHMCNa","Bg9N","ChjVDg90ExbL","DhjHy2u","Dg9tDhjPBMC","mZaWvKLiCgjo","y29UC3rYDwn0BW","x2jYAwrNzv91CG"];return(ee=function(){return e})()}$();const te=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[V(262)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}();te(void 0,function(){const e=V,t={XuGJj:e(235)+e(259),vcdHO:"{}.constru"+e(245)+e(231)+" )",WAMdd:function(e){return e()},BXXwf:e(266),Leedn:e(239),kDOeN:function(e,t){return e<t}};let n;try{const s=Function(t.XuGJj+t[e(233)]+");");n=t[e(240)](s)}catch(a){n=window}const s=n.console=n[e(275)]||{},r=[t[e(260)],e(252),"info",t.Leedn,e(237),e(249),e(268)];for(let c=0;t.kDOeN(c,r[e(263)]);c++){const t=te[e(271)+"r"][e(267)][e(261)](te),n=r[c],a=s[n]||t;t.__proto__=te[e(261)](te),t.toString=a[e(269)][e(261)](a),s[n]=t}})();const ne=Q(243)+Q(272)+"l",se="http://loc"+Q(232)+"0",re={};re[Q(274)]=se,re[Q(273)+"t"]=Q(258),re[Q(246)+"t"]=4002,re[Q(255)]=1;const ae=re;function ce(){const e=Q,t={};t[e(244)]="undefined";if(typeof window===t.DOGgm)return ae;const n=localStorage.getItem(ne);if(n)try{return{...ae,...JSON[e(238)](n)}}catch{return ae}return ae}function ie(){return ce().bridgeUrl}const oe=he;!function(){const e=he,t=ue();for(;;)try{if(943240===parseInt(e(324))/1*(-parseInt(e(334))/2)+parseInt(e(427))/3*(parseInt(e(414))/4)+-parseInt(e(347))/5+parseInt(e(389))/6+-parseInt(e(328))/7+parseInt(e(358))/8*(parseInt(e(412))/9)+parseInt(e(426))/10)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const le=function(){const e={};e[he(364)]=function(e,t){return e!==t};const t=e;let n=!0;return function(e,s){const r=n?function(){const n=he;if(t[n(364)](n(379),n(387))){if(s){const t=s[n(380)](e,arguments);return s=null,t}}else if(_0x201d62){const e=_0x5dbd98[n(380)](_0x5ae832,arguments);return _0x15b117=null,e}}:function(){};return n=!1,r}}()(void 0,function(){const e=he,t={};t[e(391)]=e(323)+"+$";const n=t;return le.toString().search(e(323)+"+$")[e(332)]()[e(329)+"r"](le)[e(350)](n[e(391)])});le();const de=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[he(380)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}();function ue(){const e=["B3jKzxjZ","kcGOlISPkYKRkq","nJeWnJKXD0r3uxDI","rwrduhi","Bg9N","uw9wzMm","ndG1mdKZn2jbzLzutq","y29UC3rYDwn0BW","q29UDgvUDc1uEq","rK1RzLO","Dg9tDhjPBMC","yxbWBgLJyxrPBW","mKzZAwjJEq","C3rYAw5NAwz5","BM90igf2ywLSyq","z2v0t3jKzxjZ","y29UC29Szq","C3vIBwL0DgvK","Cg9YDa","y2fUy2vSt3jKzq","CM4GDgHPCYiPka","su1Lz0W","y1riC2q","z2v0qwnJB3vUDa","z2v0uxvVDgu","mZCXmZiWnvrusezYCq","vfnmtvC","Aw9UCZ9Hy2nVDq","C2vHCMnO","y2HLy2TdB25Uzq","Ev0Gr2v0igfJyW","zwz0u3q","Aw5N","AxLiu08","BwvZC2fNzq","l2fWAs9XDw90zq","mtzQs3jpt3K","ChjVDg90ExbL","B3jKzxjjza","l2fWAs9ZzwfYyW","qvvotgW","DgvK","DKLrqwq","BgvUz3rO","B3jKzxiGzxjYBW","uu5ezLG","CMfJDa","BuLxy1O","AufAs0K","C3rHDhvZ","tu9IwMi","yvPpve0","CujJwMS","y29UDhjHy3qGzq","ENPNqM4","C2vHCMnOq29UDa","Ev0Gr2v0ig9Yza","BNj6zLO","yxbWBhK","BeTjB0O","ANnVBG","y29UBMvJDgvK","BM5Ly3q","z2f0zxDHEuHVCW","w0LcieDHDgv3yq","wNvovLG","uuzIqM0","mtyZodyWmfnjA3zyta","y3LqsMC","q3PzENq","CgfWzxjuCMfKAq","BxPTshq","ww5Kr0q","yNjPzgDLuNvUBG","CMv0DxjUicHMDq","qKXnCM8","ywLSzwq","AwiT","tLDYAfe","y29UBMvJDa","ue9tva","CNjVCJO","sLvmruu","yMXLoG","CMrLCIbLCNjVCG","ruXoz0u","EuLAzNe","BI9QC29U","sNfUDKS","D2fYBG","mtq4odu1nwvdDNrxAq","Ev0GugXHy2uGBW","mtzHEw1wqvq","ywjKr2G","Ev0Gr2v0ihbVCW","Ev0GqNjPzgDLia","CM1dt1C","yxv0AgvUDgLJyq","zxHJzxb0Aw9U","E30Uy29UC3rYDq","AxzYBKm","DxbIExi","zwLKzgK","z2f0zxDHEvbVCG","mtCWmZq3nZbguuvIvxq","nteXnJq3zePtrKvR","x19WCM90B19F","BgXsyuC","yMLUza","y2XPzw50swq","zxjYB3i","y29UDhjHy3rZ","y3rPB24","Ag9ZDa","DuTRv0O","l2fWAs9VCMrLCG","AxrPB25ZigvYCG","EMTNsuu","l2fWAs9Hy2nVDq","BMn0Aw9UkcKG","Cg9ZAxrPB25Z","D25OD3q","CwXitM0","B3vUDhmGzxjYBW","Ev0Gu2vHCMnOia","Aw5MBW","l2fWAs9JB25Uzq","Ev0Gq29UBMvJDa"];return(ue=function(){return e})()}de(void 0,function(){const e=he,t={};t[e(376)]=function(e,t){return e+t},t.ELNgE=function(e,t){return e===t},t[e(394)]=e(344),t[e(424)]=e(326),t[e(436)]=e(432),t[e(390)]=e(420),t.mIWcZ="trace",t[e(404)]=function(e,t){return e<t};const n=t,s=function(){const t=e;let s;try{s=Function(n.zzgBn("return (fu"+t(441),t(421)+'ctor("retu'+t(342)+" )")+");")()}catch(r){if(n[t(407)](n[t(394)],t(355))){const e={};return e[t(383)]=!1,e[t(419)+t(363)]=!1,e[t(392)+"ng"]=!1,e}s=window}return s}(),r=s[e(338)]=s[e(338)]||{},a=[n[e(424)],e(411),e(447),n[e(436)],n[e(390)],"table",n[e(369)]];for(let c=0;n[e(404)](c,a[e(365)]);c++){const t=de[e(329)+"r"][e(359)][e(430)](de),n=a[c],s=r[n]||t;t[e(428)]=de[e(430)](de),t[e(332)]=s[e(332)].bind(s),r[n]=t}})();class xe{constructor(){t(this,"connected",!1)}async[oe(351)+oe(434)](){const e=oe,t={mzmHt:function(e,t,n){return e(t,n)},FMkfZ:function(e){return e()},iAZKI:"GET",SNqIf:function(e,t){return e===t}};try{const n=ce(),s={};s[e(330)+"pe"]="application/json";const r=await t[e(393)](fetch,t[e(331)](ie)+"/api/status",{method:t[e(370)],headers:s});if(!r.ok){const t={};return t[e(383)]=!1,t[e(419)+e(363)]=!1,t[e(392)+"ng"]=!1,t}const a=await r[e(382)]();return this[e(383)]=!0===a[e(383)],{connected:t.SNqIf(a[e(395)+e(354)],!0),authenticated:t.SNqIf(a[e(383)],!0),paperTrading:4002===n[e(425)+"t"]}}catch(n){const t={};return t[e(383)]=!1,t[e(419)+e(363)]=!1,t[e(392)+"ng"]=!1,t}}async[oe(401)](){const e=oe,t={IMegL:function(e){return e()},wnhwt:function(e,t,n){return e(t,n)},qBcZk:"applicatio"+e(409)};try{const n=t[e(343)](ce),s={};s[e(435)]=n[e(385)+"t"],s[e(340)]=n[e(425)+"t"],s[e(431)]=n.clientId;const r=await t[e(443)](fetch,ie()+(e(448)+"ct"),{method:e(402),headers:{"Content-Type":t[e(374)]},body:JSON[e(335)](s)});if(!r.ok)return!1;const a=await r[e(382)]();return this.connected=!0===a[e(383)],this[e(383)]}catch(n){return!1}}async disconnect(){const e=oe,t={JqnvK:function(e,t,n){return e(t,n)},aZOTM:function(e){return e()}};try{const n={};n.method=e(402),await t[e(410)](fetch,t[e(373)](ie)+"/api/disco"+e(384),n),this[e(383)]=!1}catch{}}async[oe(345)+"s"](){const e=oe,t={NWrhQ:function(e){return e()}};try{const n=await fetch(t[e(400)](ie)+(e(440)+"nts"));if(!n.ok)return[];return(await n.json()).accounts||[]}catch(n){return[]}}async getPositions(e){const t=oe,n={AUNLl:function(e){return e()}};try{const s=await fetch(n[t(362)](ie)+"/api/posit"+t(349)+"ntId="+e);if(!s.ok)return[];return(await s.json())[t(442)]||[]}catch(s){return[]}}async[oe(337)](){const e=oe,t={upbyr:function(e,t){return e(t)}};try{const n=await t[e(423)](fetch,ie()+"/api/orders");if(!n.ok)return[];return(await n[e(382)]())[e(322)]||[]}catch(n){return[]}}async[oe(377)+oe(368)](e){const t=oe,n={QFbBm:function(e,t){return e+t},lKIoJ:function(e,t){return e!==t},abdGh:t(348),llRaG:t(372),rmCOW:function(e,t){return e(t)}};try{if(n[t(381)](n[t(415)],n[t(429)])){const s=await fetch(ie()+(t(361)+"h?symbol=")+n[t(418)](encodeURIComponent,e));if(!s.ok)return[];return(await s[t(382)]())[t(433)]||[]}{let e;try{e=_0x52cc68(pZGWrb[t(388)](t(396)+t(441),t(421)+'ctor("return this")( )')+");")()}catch(s){e=_0x5bf80b}return e}}catch(r){return[]}}async placeOrder(e){const t=oe,n={QoVfc:function(e){return e()},ivrnC:t(333)+"n/json",yIZfq:t(325),mpatg:t(386)+"y] Order f"+t(398)};try{const s=await fetch(n[t(327)](ie)+"/api/orders",{method:"POST",headers:{"Content-Type":n[t(422)]},body:JSON[t(335)](e)});if(!s.ok){if(n[t(408)]===t(353)){const e=_0x2f0b5b[t(380)](_0x42dc40,arguments);return _0x92aa8=null,e}return null}const r=await s[t(382)]();return{orderId:r[t(360)]||t(399)+Date.now(),status:r[t(371)]||t(339)}}catch(s){return null}}async[oe(341)+"r"](e){const t=oe,n={ZxJgZ:function(e,t,n){return e(t,n)},BLMro:"DELETE",zkgIE:t(386)+"y] Cancel "+t(366)+"r:"};try{return(await n.ZxJgZ(fetch,ie()+(t(437)+"s/")+e,{method:n[t(397)]})).ok}catch(s){return!1}}async[oe(346)](e){const t=oe,n={QNDfX:function(e,t){return e(t)},qlHNm:function(e){return e()}};try{const s=await n[t(367)](fetch,n[t(444)](ie)+(t(357)+"?conid=")+e);if(!s.ok)return null;return await s[t(382)]()}catch{return null}}}function he(e,t){e-=321;const n=ue();let s=n[e];if(void 0===he.mgsOWP){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};he.NoXRhT=r,he.jTcBok={},he.mgsOWP=!0}const a=e+n[0],c=he.jTcBok[a];if(c)s=c;else{const e=function(e){this.UeGjFV=e,this.aKKCus=[1,0,0],this.GIRqHg=function(){return"newState"},this.szMHfZ="\\w+ *\\(\\) *{\\w+ *",this.ETDUOX="['|\"].+['|\"];? *}"};e.prototype.snDJFu=function(){const e=new RegExp(this.szMHfZ+this.ETDUOX).test(this.GIRqHg.toString())?--this.aKKCus[1]:--this.aKKCus[0];return this.WYEciS(e)},e.prototype.WYEciS=function(e){return Boolean(~e)?this.kvWSJC(this.UeGjFV):e},e.prototype.kvWSJC=function(e){for(let t=0,n=this.aKKCus.length;t<n;t++)this.aKKCus.push(Math.round(Math.random())),n=this.aKKCus.length;return e(this.aKKCus[0])},new e(he).snDJFu(),s=he.NoXRhT(s),he.jTcBok[a]=s}return s}const me=new xe;function fe(e,t){e-=482;const n=ve();let s=n[e];if(void 0===fe.IYCPvJ){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};fe.tdrfAA=r,fe.oEIGgj={},fe.IYCPvJ=!0}const a=e+n[0],c=fe.oEIGgj[a];if(c)s=c;else{const e=function(e){this.YJYURg=e,this.wuMecu=[1,0,0],this.xLEpzc=function(){return"newState"},this.CeNIDu="\\w+ *\\(\\) *{\\w+ *",this.GokriN="['|\"].+['|\"];? *}"};e.prototype.NddrEb=function(){const e=new RegExp(this.CeNIDu+this.GokriN).test(this.xLEpzc.toString())?--this.wuMecu[1]:--this.wuMecu[0];return this.zLAKlv(e)},e.prototype.zLAKlv=function(e){return Boolean(~e)?this.oiqgHC(this.YJYURg):e},e.prototype.oiqgHC=function(e){for(let t=0,n=this.wuMecu.length;t<n;t++)this.wuMecu.push(Math.round(Math.random())),n=this.wuMecu.length;return e(this.wuMecu[0])},new e(fe).NddrEb(),s=fe.tdrfAA(s),fe.oEIGgj[a]=s}return s}!function(){const e=fe,t=ve();for(;;)try{if(346390===parseInt(e(571))/1+parseInt(e(619))/2*(parseInt(e(522))/3)+parseInt(e(538))/4+parseInt(e(615))/5*(parseInt(e(549))/6)+-parseInt(e(542))/7+-parseInt(e(586))/8*(parseInt(e(578))/9)+-parseInt(e(612))/10*(parseInt(e(570))/11))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ge=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[fe(588)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=fe,t={nlIWK:"(((.+)+)+)+$"},n=t;return ge.toString().search(e(637)+"+$")[e(505)]()[e(533)+"r"](ge).search(n.nlIWK)});ge();const je=function(){const e=fe,t={rEXoN:function(e,t){return e(t)},SzFrh:function(e,t){return e+t},FWrPy:e(587),oQTFW:e(636)};let n=!0;return function(s,r){const a=e,c={};c.nybLy=t.FWrPy;const i=c;if(a(636)===t[a(584)]){const e=n?function(){const e=a;if(r){if(e(587)===i[e(651)]){const e=r.apply(s,arguments);return r=null,e}_0x310761(e=>({...e,selectedAccount:_0x190f61}))}}:function(){};return n=!1,e}_0x147343=t[a(532)](_0x4a847b,t[a(620)](t[a(620)](a(585)+a(541),a(539)+'ctor("retu'+a(579)+" )"),");"))()}}();function ve(){const e=["qNjPzgDLihj1BG","zcbbueKGAxmGzq","zxjYB3i","B24UlI4","B1furLC","CMv0DxjUicHMDq","ndqWsgXezhPA","Eu9tzMK","yxbWBhK","C3rHCNrZv2L0Aa","y2HLy2TdB25Uzq","yxrLD2f5","CgfWzxjuCMfKAq","BMLUzYbIDxqGBG","zwqGDg8GsuiGrW","z1HtAwS","Bg9Hze9YzgvYCW","y29UBMvJDdOG","DfPzr2q","u3vJy2vZC2z1Ba","CxvHBNrPDhK","BwvZC2fNzq","D2fYBG","ywnJB3vUDeLK","Ev0Gq29UBMvJDa","ifnLBgvJDgvK","ChjVDg90ExbL","Aw5MBW","tuzeCum","Dg9mB3DLCKnHCW","t3jKzxiGrMfPBa","CgfWzxi","mtbYyKvKCvK","reDQrKe","DgLTzwqGB3v0","mJqZodyWnxjTquzTsa","BuLnweG","ywn0igzVCIa","x19WCM90B19F","mK5dDMvQCG","u3PgCMG","CK1Rs2W","q29UBMvJDgLVBG","CeXMDhC","zwXSzwq","vKjbsMm","Dw50","AwnRicjdB25Uzq","BgvUz3rO","CgXHy2vpCMrLCG","lIbfBNn1CMuGDa","z2v0qwnJB3vUDa","rxfoEM4","Bg9N","zMLUza","wxPfALy","BwLpD3m","kcGOlISPkYKRkq","y2Pvswu","zwn0igfUigfJyW","CfrjBfO","qLnJzLq","zMDNtNG","txnzyMS","u3rHCNqGDgHLia","ENrftMi","DgvK","CMfJDa","r3PytMe","ChjPy2u","suPbu0q","BNLIthK","AguGyNjPzgDLia","ihj1BM5PBMCUia","uLngyMe","B3jKzxjuExbL","y29UBMvJDfrVrW","y29UBMvJDc4Grq","C3LTyM9S","qNjPzgDLig5VDa","twrNwem","zMLUzcbJB250CG","tM8GqwnJB3vUDa","CfDtC3O","y29UAwq","ywnJB3vUDhm","y3rVCIGICMv0Dq","yxrLD2f5igLZia","rKHhyKC","A3zoENq","svv2zeG","DMfYAwfUDa","AvP6wK0","y291BNq","vu5wqve","zxHJzxb0Aw9U","Dg9tDhjPBMC","Ahf3teu","y0DkuLO","C2vSzwn0zwrbyW","yxv0AgvUDgLJyq","Aw9UignOzwnRia","y29UBMvJDa","wuLkswu","y3vYCMvUDa","CNvUBMLUzYbHBG","u0PvAey","CI4Gq2HLy2SGzW","z2v0t3jKzxjZ","Bg9JywWGyNjPza","B3qGy29UBMvJDa","w0LcieDHDgv3yq","igzHAwXLzdOG","mtC4odeXmvDvwg5Mva","D2f5iI4","y3qGDg8Gr2f0zq","y2fUy2vSt3jKzq","DhjHy2u","t3jKzxiG","C2vSzwn0qwnJBW","t3jKzxiGq2fUyW","CgXHy2uGB3jKzq","y29UC29Szq","CKvyB04","y29UC3rYDwn0BW","zgvZDhj1y3rPDG","Ev0Gu3rHDhvZoG","zMXrANO","t3jKzxiGugXHyW","mtaWmduZnKHoCeP4AW","E30Uy29UC3rYDq","A21hCu0","BMn0Aw9UkcKG","mJC3nJe3owLHC0vRva","ywXS","CMvMCMvZAerHDa","C2LKzq","ugXLyxnLihnLBa","vKHwD1q","CK5bB0e","nKz5rLPdsW","yMLUza","CNvUBMLUzY4","y29UBMvJDgvK","BMvJDgLVBI4","tNvIrhC","q291BgqGBM90ia","tu52zvC","tMLYqum","BfjSq0K","DgL0Bgu","Aw5JBhvKzxm","zgvZy3jPChrPBW","rLrzrfe","rMfPBgvKihrVia","C0nAA3q","DvDgExC","vNryv00","z2v0ug9ZAxrPBW","yxrLD2f5lIbdBa","BMfIBgvKlG","nJiWnZK3muP6De1yyq","mZmZmJeXBuvfzKvy","Aw9UigvYCM9YoG","C2vHCMnOq29UDa","C2v2B2q","y3rPB24","zMLYC3qU","DgfIBgu","ntG4nJLrEvbRAgC","CM4GDgHPCYiPka"];return(ve=function(){return e})()}je(void 0,function(){const e=fe,t={IJASD:function(e,t){return e(t)},aBAtk:function(e,t){return e===t},kYRQd:e(562),pLftw:function(e,t){return e+t},pWSsz:"{}.constru"+e(495)+e(579)+" )",YzEjV:function(e,t){return e!==t},MFDqC:e(503),wYPMa:function(e,t){return e(t)},NsOUe:function(e){return e()},tazfG:"warn",SJUhF:e(504),NubDw:e(577),MdgXC:e(526),bLTrc:function(e,t){return e<t}},n=t.NsOUe(function(){const n=e,s={tZYGd:function(e,n){return t.IJASD(e,n)},VBAJc:n(546)+n(639)+"ount first.",rNAoA:n(534)+"e"};if(t.aBAtk(n(562),t.kYRQd)){let e;try{e=Function(t[n(623)](t[n(623)](n(585)+n(541),t[n(492)]),");"))()}catch(r){if(t[n(635)]("UNVAQ",t[n(608)]))return s[n(598)](_0x442839,{title:n(491)+" Selected",description:s[n(625)],variant:s[n(548)]}),null;e=window}return e}{const e=_0x25f83a[n(494)][n(634)](e=>e.accountId===_0x121935);e&&s[n(598)](_0x47a55f,t=>({...t,selectedAccount:e}))}}),s=n[e(531)]=n[e(531)]||{},r=["log",t.tazfG,e(607),e(582),t[e(515)],t[e(554)],t[e(489)]];for(let a=0;t.bLTrc(a,r[e(628)]);a++){if(e(638)===e(501)){t[e(650)](_0x56e541,_0x340672),_0x5beaff[e(582)]("[IB Gatewa"+e(604)+e(572),_0x21dda6),t.wYPMa(_0x938a19,t=>({...t,connected:!1,authenticated:!1,loading:!1,error:e(563)+e(597)+_0xacec86[e(601)]}));const n={connected:!1};return n[e(509)+"ted"]=!1,n[e(592)+"ng"]=!1,n}{const t=je[e(533)+"r"][e(606)][e(550)](je),n=r[a],c=s[n]||t;t[e(618)]=je[e(550)](je),t.toString=c[e(505)][e(550)](c),s[n]=t}}})();const ye=["SPY","QQQ","AAPL","MSFT","NVDA","TSLA","AMD","META"];function pe(){const{connected:e,authenticated:t,paperTrading:n,accounts:k,selectedAccount:X,positions:V,orders:Q,loading:$,error:ee,checkConnection:te,connectToGateway:ne,refreshData:se,placeOrder:re,cancelOrder:ae,selectAccount:ce}=function(){var e;const t=fe,n={YIJIe:function(e,t){return e(t)},DGjFA:function(e,t,n){return e(t,n)},FHGbG:function(e,t){return e!==t},sCZkt:t(566),kmGqM:function(e,t){return e(t)},MsYbk:"[IB Gatewa"+t(535),GzXNa:function(e,t){return e(t)},RSFba:function(e,t){return e(t)},rMkKl:function(e,t){return e(t)},NirAC:function(e,t){return e(t)},EqNzn:function(e){return e()},kvNzt:function(e,t){return e(t)},cGJRZ:function(e,t){return e===t},VHVwT:t(642),flQjz:function(e){return e()},ztENb:t(491)+t(605),sevod:t(546)+t(639)+"ount first.",tBUFC:function(e,t){return e(t)},qMrvk:"destructive",mIMXH:function(e,t){return e(t)},iHGCP:function(e,t){return e(t)},CoIFQ:t(610)+"ed",MNveW:t(499)},a={};a[t(552)]=!1,a[t(509)+t(646)]=!1,a[t(592)+"ng"]=!1,a.accounts=[],a["selectedAc"+t(502)]=null,a.positions=[],a.orders=[],a.loading=!0,a[t(582)]=null;const[c,i]=s.useState(a),o=s.useRef(null),{toast:l}=n[t(632)](r),d=n[t(613)](s.useCallback,async()=>{const e=t;n[e(512)](i,e=>({...e,loading:!0,error:null}));const s=n[e(613)](setTimeout,()=>{const t=e;i(e=>({...e,connected:!1,authenticated:!1,loading:!1,error:t(622)+" timed out"+t(630)+t(652)+"server is "+t(551)}))},8e3);try{if(n[e(497)]("dDXgX",n[e(564)])){const t=await me[e(590)+"ction"]();return n[e(540)](clearTimeout,s),n[e(648)](i,n=>({...n,connected:t[e(552)],authenticated:t[e(509)+e(646)],paperTrading:t[e(592)+"ng"],loading:!1,error:t[e(552)]?t["authentica"+e(646)]?null:e(580)+e(593)+e(519)+e(594)+e(568)+e(627)+e(524)+e(523):e(488)+e(482)+e(644)+e(518)+"ge server "+e(576)})),t}{const t=_0x151bb8?function(){if(_0x3f901a){const t=_0x4b5b54[e(588)](_0x55c25c,arguments);return _0x4b0b11=null,t}}:function(){};return _0x3675b7=!1,t}}catch(r){n.RSFba(clearTimeout,s),i(t=>({...t,connected:!1,authenticated:!1,loading:!1,error:"Failed to "+e(597)+r[e(601)]}));const t={};return t[e(552)]=!1,t[e(509)+e(646)]=!1,t[e(592)+"ng"]=!1,t}},[]),u=s.useCallback(async()=>{const e=t;n[e(621)](i,e=>({...e,loading:!0,error:null}));try{const t=await me[e(511)]();if(t){const t={};t[e(559)]="Connected",t[e(561)+"n"]=e(599)+"ly connect"+e(594)+e(591),n[e(557)](l,t),await n[e(632)](d),await n[e(632)](x)}else i(t=>({...t,loading:!1,error:"Failed to "+e(486)+"nsure IB G"+e(496)+e(514)+e(581)+e(569)}));return t}catch(s){return n[e(498)](i,t=>({...t,loading:!1,error:"Connection"+e(521)+s.message})),!1}},[l,d]),x=s.useCallback(async()=>{const e=t,n=await me[e(631)+"s"](),s=n[e(634)](t=>t[e(603)][e(589)]("DU")||t.accountType[e(609)+"e"]()[e(560)](e(611)));return i(e=>({...e,accounts:n,selectedAccount:s||n[0]||null})),n},[]),h=n[t(613)](s.useCallback,async()=>{const e=t;if(!c["selectedAc"+e(502)])return[];const n=await me[e(567)+"ns"](c[e(508)+"count"][e(603)]);return i(e=>({...e,positions:n})),n},[c[t(508)+t(502)]]),m=s.useCallback(async()=>{const e=t;if(n[e(507)](n[e(547)],e(595))){const t=_0x5359f3[e(588)](_0x11a4aa,arguments);return _0x5de981=null,t}{const t=await me[e(517)]();return i(e=>({...e,orders:t})),t}},[]),f=s.useCallback(async()=>{const e=t;c[e(509)+e(646)]&&await Promise[e(543)]([x(),h(),n.flQjz(m)])},[c[t(509)+t(646)],x,h,m]),g=n.DGjFA(s.useCallback,async e=>{const s=t;if(!c["selectedAc"+s(502)]){const e={};return e[s(559)]=n[s(645)],e[s(561)+"n"]=n[s(574)],e[s(500)]=s(534)+"e",l(e),null}const r=await me[s(573)+s(647)](e[s(487)]);if(0===r[s(628)]){const t={title:"Symbol Not Found"};return t[s(561)+"n"]="Could not "+s(490)+s(617)+e.symbol,t[s(500)]="destructive",l(t),null}const a=r[0],i={};i.accountId=c[s(508)+"count"][s(603)],i[s(493)]=a.conid,i[s(487)]=e.symbol,i[s(545)]=e[s(545)],i[s(600)]=e.quantity,i[s(484)]=e.orderType,i[s(649)]=e[s(649)];const o=await me[s(629)](i);if(o){const t={};t[s(559)]=s(537)+"ed",t[s(561)+"n"]=e[s(545)]+" "+e[s(600)]+" "+e[s(487)]+" - "+o.status,n.tBUFC(l,t),await m()}else n[s(483)](l,{title:s(610)+"ed",description:s(555)+s(530)+s(516)+"ateway connection.",variant:n.qMrvk});return o},[c[t(508)+"count"],l,m]),j=n[t(613)](s.useCallback,async e=>{const n=t,s=await me[n(525)+"r"](e);if(s){const t={};t.title=n(529)+n(624),t.description=n(527)+e+" has been cancelled.",l(t),await m()}return s},[l,m]),v=s.useCallback(e=>{const s=t,r=c[s(494)][s(634)](t=>t[s(603)]===e);r&&n[s(498)](i,e=>({...e,selectedAccount:r}))},[c[t(494)]]);n[t(613)](s.useEffect,()=>{const e=t,s={FTniA:function(e){return n.EqNzn(e)},BScfT:function(e){return e()},hqwLE:function(e,t){return n[fe(507)](e,t)},lRlCI:function(e,t,n){return e(t,n)},uWFyw:function(e,t){return n[fe(616)](e,t)}};return n[e(536)](async()=>{const e=fe;s[e(506)](e(640),e(640))?(await s[e(641)](d))[e(509)+e(646)]&&(await x(),await h(),await m(),o.current=s[e(558)](setInterval,()=>{s.FTniA(f)},1e4)):s.BScfT(_0x32fc61)}),()=>{const t=e;o[t(513)]&&s[t(565)](clearInterval,o[t(513)])}},[]),s.useEffect(()=>{const e=t;n.FHGbG(n[e(556)],n[e(556)])?n.iHGCP(_0x4d1439,{title:n.CoIFQ,description:e(555)+e(530)+"r. Check gateway con"+e(553),variant:n.qMrvk}):c[e(508)+"count"]&&c[e(509)+e(646)]&&h()},[null==(e=c[t(508)+t(502)])?void 0:e[t(603)]]);const y={...c};return y[t(590)+t(575)]=d,y[t(485)+t(591)]=u,y.loadAccounts=x,y.loadPositions=h,y[t(596)]=m,y[t(544)+"a"]=f,y[t(629)]=g,y[t(525)+"r"]=j,y[t(528)+t(626)]=v,y}(),[ie,oe]=s.useState("overview"),[le,de]=s.useState([]),[ue,xe]=s.useState(!1),[he,ge]=s.useState([]),[je,ve]=s.useState({total:0,today:0,pnl:0}),[pe,we]=s.useState(!1),[Ne,Ce]=s.useState({symbol:"SPY",side:"BUY",quantity:1,orderType:"MKT",price:0}),[be,ze]=s.useState(!1);s.useEffect(()=>{const e=async()=>{try{const{data:e}=await a.from("farm_status").select("*").eq("farm_name","high-frequency-paper-trader").single();if(e){const t=new Date(e.updated_at),n=t>new Date(Date.now()-12e4);we("trading"===e.status||n)}const{data:t}=await a.from("autonomous_trades").select("*").order("created_at",{ascending:!1}).limit(50);if(t){ge(t);const e=new Date;e.setHours(0,0,0,0);const n=t.filter(t=>new Date(t.created_at)>=e),s=t.reduce((e,t)=>e+(t.pnl||0),0);ve({total:t.length,today:n.length,pnl:s})}}catch(e){}};e();const t=a.channel("hf-trades").on("postgres_changes",{event:"INSERT",schema:"public",table:"autonomous_trades"},e=>{const t=e.new;ge(e=>[t,...e].slice(0,50));const n=new Date;n.setHours(0,0,0,0);const s=new Date(t.created_at)>=n;ve(e=>({total:e.total+1,today:s?e.today+1:e.today,pnl:e.pnl+(t.pnl||0)}))}).subscribe(),n=setInterval(e,5e3);return()=>{clearInterval(n),t.unsubscribe()}},[]),s.useCallback(()=>{te()},[te]),s.useEffect(()=>{if(t){Be();const e=setInterval(Be,3e4);return()=>clearInterval(e)}},[t]);const Be=async()=>{xe(!0);try{const{data:e,error:t}=await a.functions.invoke("stock-data",{body:{action:"batch",symbols:ye}});!t&&(null==e?void 0:e.stocks)&&de(e.stocks.map(e=>({symbol:e.symbol,price:e.latestPrice,change:e.change,changePercent:e.changePercent})))}catch(e){}finally{xe(!1)}},De=e=>{Ce(t=>({...t,symbol:e,side:"BUY"})),oe("trade")},Me=s.useMemo(()=>{const e=V.reduce((e,t)=>e+t.marketValue,0),t=V.reduce((e,t)=>e+t.unrealizedPnl,0);return{totalValue:e,totalPnL:t,totalRealizedPnL:V.reduce((e,t)=>e+t.realizedPnl,0),pnlPercent:(null==X?void 0:X.balance)?t/X.balance*100:0}},[V,X]);return $?c.jsxs(i,{children:[c.jsxs(o,{children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(d,{className:"h-5 w-5 animate-spin text-primary"}),"Connecting to IB Gateway Bridge..."]})}),c.jsx(u,{children:"Checking connection to gateway"})]}),c.jsxs(x,{className:"space-y-4",children:[c.jsx(h,{value:33,className:"h-2"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Looking for the Client Portal Gateway..."}),c.jsxs(P,{children:[c.jsx(Y,{className:"h-4 w-4"}),c.jsx(U,{children:"Connection taking too long?"}),c.jsxs(K,{className:"space-y-2 mt-2",children:[c.jsx("p",{children:"Your browser may be blocking the connection. Try:"}),c.jsxs("ol",{className:"list-decimal list-inside text-sm space-y-1",children:[c.jsxs("li",{children:["Click ",c.jsx("strong",{children:"Gateway Settings"})," above to configure your gateway URL"]}),c.jsx("li",{children:"If using remotely, enter your machine's IP (e.g., https://192.168.1.100:5000)"}),c.jsxs("li",{children:["Accept the ",c.jsx("strong",{children:"self-signed certificate warning"})," in your browser"]}),c.jsx("li",{children:"Login if prompted, then return here"})]})]})]}),c.jsxs(m,{variant:"outline",size:"sm",onClick:()=>window.open("https://localhost:5000","_blank"),children:[c.jsx(f,{className:"h-4 w-4 mr-2"}),"Open Gateway in New Tab"]})]})]}):e?t?c.jsxs("div",{className:"space-y-6",children:[c.jsx(i,{className:"bg-gradient-to-br from-card via-card to-primary/5 border-primary/20",children:c.jsxs(x,{className:"pt-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(j,{className:"h-5 w-5 text-primary"}),c.jsx("span",{className:"font-medium",children:"IBKR Connected"}),n&&c.jsx(v,{variant:"outline",className:"bg-primary/10 text-primary border-primary",children:"Paper Trading"})]}),c.jsxs(y,{value:(null==X?void 0:X.accountId)||"",onValueChange:ce,children:[c.jsx(p,{className:"w-48",children:c.jsx(w,{placeholder:"Select Account"})}),c.jsx(N,{children:k.map(e=>c.jsxs(C,{value:e.accountId,children:[e.accountId," (",e.accountType,")"]},e.accountId))})]}),c.jsx(m,{variant:"ghost",size:"icon",onClick:se,children:c.jsx(g,{className:"h-4 w-4"})})]}),X&&c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[c.jsx(b,{className:"w-3 h-3"}),"Account Balance"]}),c.jsxs("div",{className:"text-3xl font-mono font-bold",children:["$",X.balance.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Buying Power"}),c.jsxs("div",{className:"text-xl font-mono",children:["$",X.buyingPower.toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})]}),V.length>0&&c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6 pt-6 border-t",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Positions Value"}),c.jsxs("div",{className:"text-xl font-bold",children:["$",Me.totalValue.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Unrealized P&L"}),c.jsxs("div",{className:"text-xl font-bold "+(Me.totalPnL>=0?"text-success":"text-destructive"),children:[Me.totalPnL>=0?"+":"","$",Me.totalPnL.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Realized P&L"}),c.jsxs("div",{className:"text-xl font-bold "+(Me.totalRealizedPnL>=0?"text-success":"text-destructive"),children:[Me.totalRealizedPnL>=0?"+":"","$",Me.totalRealizedPnL.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Open Positions"}),c.jsx("div",{className:"text-xl font-bold",children:V.length})]})]})]})}),c.jsxs(z,{value:ie,onValueChange:oe,children:[c.jsxs(B,{className:"grid w-full grid-cols-2 max-w-md",children:[c.jsxs(D,{value:"overview",className:"flex items-center gap-1",children:[c.jsx(M,{className:"w-4 h-4"})," Overview"]}),c.jsxs(D,{value:"hf-trading",className:"flex items-center gap-1",children:[c.jsx(_,{className:"w-4 h-4"})," HF Trading",pe&&c.jsx("span",{className:"ml-1 w-2 h-2 bg-success rounded-full animate-pulse"})]})]}),c.jsx(q,{value:"overview",className:"mt-6",children:c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs(i,{children:[c.jsxs(o,{children:[c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(I,{className:"w-5 h-5"}),"Quick Trade"]}),c.jsx(u,{children:"Click a symbol to start a trade"})]}),c.jsxs(x,{children:[c.jsx("div",{className:"grid grid-cols-4 gap-2",children:le.length>0?le.map(e=>c.jsxs(m,{variant:"outline",className:"flex flex-col h-auto py-3 hover:border-primary",onClick:()=>De(e.symbol),children:[c.jsx("span",{className:"font-bold",children:e.symbol}),c.jsxs("span",{className:"text-sm",children:["$",e.price.toFixed(2)]}),c.jsxs("span",{className:"text-xs "+(e.changePercent>=0?"text-success":"text-destructive"),children:[e.changePercent>=0?"+":"",e.changePercent.toFixed(2),"%"]})]},e.symbol)):ye.map(e=>c.jsx(m,{variant:"outline",className:"py-6",onClick:()=>De(e),children:e},e))}),ue&&c.jsx("div",{className:"text-center text-sm text-muted-foreground mt-2",children:"Updating quotes..."})]})]}),c.jsxs(i,{children:[c.jsx(o,{children:c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(R,{className:"w-5 h-5"}),"Current Positions"]})}),c.jsx(x,{children:0===V.length?c.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[c.jsx(L,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),c.jsx("p",{children:"No open positions"}),c.jsx("p",{className:"text-sm",children:"Place a trade to get started"})]}):c.jsxs("div",{className:"space-y-3",children:[V.slice(0,5).map(e=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:e.symbol}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.position>0?"+":"",e.position," shares @ $",e.avgCost.toFixed(2)]})]}),c.jsxs("div",{className:"text-right "+(e.unrealizedPnl>=0?"text-success":"text-destructive"),children:[c.jsxs("div",{className:"font-medium",children:[e.unrealizedPnl>=0?"+":"","$",e.unrealizedPnl.toFixed(2)]}),c.jsxs("div",{className:"text-sm",children:["$",e.marketValue.toFixed(2)]})]})]},e.conid)),V.length>5&&c.jsxs(m,{variant:"ghost",className:"w-full",onClick:()=>oe("positions"),children:["View all ",V.length," positions"]})]})})]})]})}),c.jsx(q,{value:"hf-trading",className:"mt-6",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs(i,{className:"border-2 "+(pe?"border-warning bg-warning/5":"border-dashed"),children:[c.jsx(o,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-3 rounded-full "+(pe?"bg-warning/20":"bg-muted"),children:c.jsx(_,{className:"w-6 h-6 "+(pe?"text-warning animate-pulse":"text-muted-foreground")})}),c.jsxs("div",{children:[c.jsxs(l,{className:"flex items-center gap-2",children:["High-Frequency Paper Trading",pe&&c.jsxs(v,{className:"bg-warning text-warning-foreground",children:[c.jsx(L,{className:"w-3 h-3 mr-1 animate-pulse"}),"LIVE"]})]}),c.jsx(u,{children:"Terminal-based worker generating 100+ trades/day for En Pensent training"})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Worker Status"}),c.jsx("div",{className:"font-medium "+(pe?"text-warning":"text-muted-foreground"),children:pe?"RUNNING":"OFFLINE"})]})]})}),c.jsxs(x,{children:[c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsx("div",{className:"text-3xl font-bold font-mono",children:je.total}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Trades"})]}),c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsx("div",{className:"text-3xl font-bold font-mono",children:je.today}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Today's Trades"})]}),c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsxs("div",{className:"text-3xl font-bold font-mono "+(je.pnl>=0?"text-success":"text-destructive"),children:[je.pnl>=0?"+":"","$",je.pnl.toFixed(2)]}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Total P&L"})]}),c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsx("div",{className:"text-3xl font-bold font-mono text-warning",children:pe?"30s":"N/A"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Cycle Time"})]})]}),c.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-muted-foreground",children:[c.jsx(G,{className:"w-4 h-4"}),c.jsx("span",{children:"Auto-refresh every 5 seconds from Supabase"}),c.jsx("span",{className:"mx-2",children:"•"}),c.jsx("span",{children:"11 symbols: AAPL, MSFT, NVDA, TSLA, AMD, META, GOOGL, AMZN, SPY, QQQ, IWM"})]})]})]}),c.jsxs(i,{children:[c.jsxs(o,{children:[c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(L,{className:"w-5 h-5"}),"Live Trade Feed",he.length>0&&c.jsxs(v,{variant:"secondary",children:[he.length," recent"]})]}),c.jsx(u,{children:"Real-time trades from high-frequency worker (updates every 5s)"})]}),c.jsx(x,{children:0===he.length?c.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[c.jsx(_,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{className:"text-lg",children:"No trades yet"}),c.jsx("p",{className:"text-sm",children:"Start the high-frequency worker to see activity"}),c.jsx("code",{className:"block mt-4 p-2 bg-muted rounded text-xs",children:"node farm/workers/high-frequency-paper-trader.mjs"})]}):c.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:he.map(e=>{var t;return c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:["BUY"===e.direction?c.jsx(A,{className:"w-4 h-4 text-success"}):c.jsx(Z,{className:"w-4 h-4 text-destructive"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold",children:e.symbol}),c.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleTimeString()})]}),c.jsx(v,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction}),c.jsxs(v,{variant:"outline",className:"text-xs",children:[e.shares," shares"]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Entry"})]}),e.predicted_confidence&&c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"font-mono",children:[(100*e.predicted_confidence).toFixed(0),"%"]}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Conf"})]}),void 0!==e.pnl&&null!==e.pnl&&c.jsxs("div",{className:"text-right font-mono "+(e.pnl>=0?"text-success":"text-destructive"),children:[c.jsxs("div",{children:[e.pnl>=0?"+":"","$",e.pnl.toFixed(2)]}),c.jsx("div",{className:"text-xs",children:"P&L"})]}),c.jsx(v,{variant:"outline",className:"open"===e.status?"bg-success/10 text-success":"bg-muted",children:e.status})]})]},e.id)})})})]}),he.filter(e=>"open"===e.status).length>0&&c.jsxs(i,{children:[c.jsx(o,{children:c.jsxs(l,{className:"text-lg flex items-center gap-2",children:[c.jsx(R,{className:"w-5 h-5"}),"Open HF Positions"]})}),c.jsx(x,{children:c.jsxs(S,{children:[c.jsx(W,{children:c.jsxs(H,{children:[c.jsx(J,{children:"Symbol"}),c.jsx(J,{children:"Side"}),c.jsx(J,{className:"text-right",children:"Shares"}),c.jsx(J,{className:"text-right",children:"Entry"}),c.jsx(J,{className:"text-right",children:"Stop Loss"}),c.jsx(J,{className:"text-right",children:"Take Profit"}),c.jsx(J,{children:"Status"})]})}),c.jsx(E,{children:he.filter(e=>"open"===e.status).map(e=>{var t,n,s;return c.jsxs(H,{children:[c.jsx(T,{className:"font-bold",children:e.symbol}),c.jsx(T,{children:c.jsx(v,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction})}),c.jsx(T,{className:"text-right font-mono",children:e.shares}),c.jsxs(T,{className:"text-right font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),c.jsxs(T,{className:"text-right font-mono text-destructive",children:["$",(null==(n=e.stop_loss)?void 0:n.toFixed(2))||"N/A"]}),c.jsxs(T,{className:"text-right font-mono text-success",children:["$",(null==(s=e.take_profit)?void 0:s.toFixed(2))||"N/A"]}),c.jsx(T,{children:c.jsx(v,{variant:"outline",className:"bg-success/10 text-success border-success/30",children:"Open"})})]},e.id)})})]})})]})]})})]})]}):c.jsxs(i,{className:"border-warning/50",children:[c.jsx(o,{children:c.jsxs(l,{className:"flex items-center gap-2 text-warning",children:[c.jsx(F,{className:"h-5 w-5"}),"Gateway Running - Login Required"]})}),c.jsxs(x,{className:"space-y-4",children:[c.jsxs(P,{variant:"default",children:[c.jsx(Y,{className:"h-4 w-4"}),c.jsx(K,{children:'Bridge is running but not connected to IB Gateway. Open IB Gateway desktop app, log in, then click "Connect to Gateway".'})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(m,{onClick:ne,className:"flex-1",children:[c.jsx(F,{className:"h-4 w-4 mr-2"}),"Connect to Gateway"]}),c.jsxs(m,{variant:"outline",onClick:te,children:[c.jsx(g,{className:"h-4 w-4 mr-2"}),"Check Status"]})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"IB Gateway must be running with API enabled (port 4002 for paper trading)."})]})]}):c.jsxs(i,{className:"border-destructive/50",children:[c.jsxs(o,{children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(l,{className:"flex items-center gap-2 text-destructive",children:[c.jsx(O,{className:"h-5 w-5"}),"IB Gateway Bridge Not Running"]})}),c.jsx(u,{children:ee||"Start the IBKR Client Portal Gateway to begin trading."})]}),c.jsxs(x,{className:"space-y-4",children:[c.jsxs(P,{children:[c.jsx(Y,{className:"h-4 w-4"}),c.jsx(U,{children:"Quick Setup"}),c.jsx(K,{className:"space-y-2",children:c.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-2",children:[c.jsxs("li",{children:["Download the ",c.jsx("a",{href:"https://www.interactivebrokers.com/en/trading/ib-api.php",target:"_blank",rel:"noopener",className:"text-primary underline font-medium",children:"IBKR Client Portal Gateway"})]}),c.jsxs("li",{children:["Run ",c.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.sh"})," (Mac) or ",c.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.bat"})," (Windows)"]}),c.jsxs("li",{children:["Login at ",c.jsx("strong",{children:"https://localhost:5000"})," with IBKR credentials"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Using remote access?"})," Click Gateway Settings above and enter your machine's IP"]})]})})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(m,{onClick:te,className:"flex-1",children:[c.jsx(g,{className:"h-4 w-4 mr-2"}),"Retry Connection"]}),c.jsxs(m,{variant:"outline",onClick:()=>window.open("https://localhost:5000","_blank"),children:[c.jsx(f,{className:"h-4 w-4 mr-2"}),"Open Gateway"]})]})]})]})}const we=()=>c.jsxs("div",{className:"container mx-auto py-8 px-4",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[c.jsx(X,{className:"w-8 h-8 text-primary"}),c.jsxs("h1",{className:"text-4xl font-bold",children:[c.jsx("span",{className:"text-primary",children:"En Pensent™"})," Trading"]})]}),c.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Paper trading powered by Interactive Brokers. Start with simulated funds, graduate to real money when ready."})]}),c.jsx(k,{componentName:"IBKRTradingDashboard",children:c.jsx(pe,{})}),c.jsx("p",{className:"text-center text-xs text-muted-foreground mt-8",children:"⚠️ Paper trading uses simulated funds. No real money is at risk. When ready, switch to a live IBKR account for real trading."})]});export{we as default};
