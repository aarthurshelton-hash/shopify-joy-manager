import{aJ as e,gR as t,gS as n,s,r,g8 as a,gM as i,j as c,C as o,x as l,bh as d,aT as u,fF as x,ad as m,aj as h,bi as f,p as g,t as p,aY as y,w as v,dt as j,aZ as N,y as b,gT as w,F as D,bC as C,aq as z,E as M}from"./index-ckGSTu6A.js";import{C as B}from"./calendar-cLD8asKf.js";const q=e("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);function A(e,s){const r=function(e){const t={},n=e.split(L.dateTimeDelimiter);let s;if(n.length>2)return t;/:/.test(n[0])?s=n[0]:(t.date=n[0],s=n[1],L.timeZoneDelimiter.test(t.date)&&(t.date=e.split(L.timeZoneDelimiter)[0],s=e.substr(t.date.length,e.length)));if(s){const e=L.timezone.exec(s);e?(t.time=s.replace(e[1],""),t.timezone=e[1]):t.time=s}return t}(e);let a;if(r.date){const e=function(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),s=e.match(n);if(!s)return{year:NaN,restDateString:""};const r=s[1]?parseInt(s[1]):null,a=s[2]?parseInt(s[2]):null;return{year:null===a?r:100*a,restDateString:e.slice((s[1]||s[2]).length)}}(r.date,2);a=function(e,t){if(null===t)return new Date(NaN);const n=e.match(W);if(!n)return new Date(NaN);const s=!!n[4],r=K(n[1]),a=K(n[2])-1,i=K(n[3]),c=K(n[4]),o=K(n[5])-1;if(s)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,c,o)?function(e,t,n){const s=new Date(0);s.setUTCFullYear(e,0,4);const r=s.getUTCDay()||7,a=7*(t-1)+n+1-r;return s.setUTCDate(s.getUTCDate()+a),s}(t,c,o):new Date(NaN);{const e=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(P[t]||(U(e)?29:28))}(t,a,i)&&function(e,t){return t>=1&&t<=(U(e)?366:365)}(t,r)?(e.setUTCFullYear(t,a,Math.max(r,i)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let c,o=0;if(r.time&&(o=function(e){const s=e.match(H);if(!s)return NaN;const r=S(s[1]),a=S(s[2]),i=S(s[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(r,a,i))return NaN;return r*t+a*n+1e3*i}(r.time),isNaN(o)))return new Date(NaN);if(!r.timezone){const e=new Date(i+o),t=new Date(0);return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t}return c=function(e){if("Z"===e)return 0;const s=e.match(k);if(!s)return 0;const r="+"===s[1]?-1:1,a=parseInt(s[2]),i=s[3]&&parseInt(s[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,i))return NaN;return r*(a*t+i*n)}(r.timezone),isNaN(c)?new Date(NaN):new Date(i+o+c)}const L={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},W=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,H=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,k=/^([+-])(\d{2})(?::?(\d{2}))?$/;function K(e){return e?parseInt(e):1}function S(e){return e&&parseFloat(e.replace(",","."))||0}const P=[31,null,31,30,31,30,31,31,30,31,30,31];function U(e){return e%400==0||e%4==0&&e%100!=0}!function(){const e=T,t=Y();for(;;)try{if(665283===parseInt(e(413))/1+-parseInt(e(371))/2*(parseInt(e(404))/3)+-parseInt(e(318))/4*(-parseInt(e(414))/5)+-parseInt(e(208))/6*(parseInt(e(315))/7)+-parseInt(e(423))/8+parseInt(e(257))/9*(-parseInt(e(398))/10)+parseInt(e(307))/11)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const G=function(){const e=T,t={};t[e(290)]=function(e,t){return e===t},t[e(358)]=e(385),t.jmRDi=function(e,t){return e/t},t.LAJkk=function(e,t){return e>=t},t.lGEjS=function(e,t){return e===t};const n=t;let s=!0;return function(t,r){const a=e,i={MUtOP:function(e,t){return n[T(397)](e,t)},gEHfF:function(e,t){return n.LAJkk(e,t)},iFPub:"text-blue-"+a(204)};if(!n[a(292)](a(354),a(403))){const e=s?function(){const e=a;if(r){if(!n.WiSRy("LXqsd",n[e(358)])){const n=r[e(202)](t,arguments);return r=null,n}{const t=_0x4d541e[e(240)](t=>_0x17b9af(t[e(249)](/[()]/g,""))),n=i[e(333)](t[e(215)]((e,t)=>e+t,0),t[e(390)]);if(n>=2800){const t={label:"Bullet/Blitz"};return t[e(407)]=e(272)+"e-400",t.icon="‚ö°",t}if(i[e(236)](n,2500)){const t={};return t[e(268)]=e(237),t[e(407)]=i.iFPub,t[e(418)]="üéØ",t}}}}:function(){};return s=!1,e}if(_0x1baa35){const e=_0x471e76.apply(_0x225ee9,arguments);return _0x552e22=null,e}}}()(void 0,function(){const e=T,t={};t.RUFuL=e(203)+"+$";const n=t;return G[e(218)]()[e(273)](n[e(338)])[e(218)]()[e(349)+"r"](G)[e(273)](n.RUFuL)});G();const I=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[T(202)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}();function T(e,t){e-=201;const n=Y();let s=n[e];if(void 0===T.JCMgNP){var r=function(e){let t="",n="",s=t+r;for(let r,a,i=0,c=0;a=e.charAt(c++);~a&&(r=i%4?64*r+a:a,i++%4)?t+=s.charCodeAt(c+10)-10!=0?String.fromCharCode(255&r>>(-2*i&6)):i:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};T.bHlHmn=r,T.duhIWn={},T.JCMgNP=!0}const a=e+n[0],i=T.duhIWn[a];if(i)s=i;else{const e=function(e){this.KinsdU=e,this.tnYOCv=[1,0,0],this.SPsDnp=function(){return"newState"},this.ziPRwJ="\\w+ *\\(\\) *{\\w+ *",this.JcyJkq="['|\"].+['|\"];? *}"};e.prototype.WRbBBH=function(){const e=new RegExp(this.ziPRwJ+this.JcyJkq).test(this.SPsDnp.toString())?--this.tnYOCv[1]:--this.tnYOCv[0];return this.kpsaPp(e)},e.prototype.kpsaPp=function(e){return Boolean(~e)?this.qEnQdQ(this.KinsdU):e},e.prototype.qEnQdQ=function(e){for(let t=0,n=this.tnYOCv.length;t<n;t++)this.tnYOCv.push(Math.round(Math.random())),n=this.tnYOCv.length;return e(this.tnYOCv[0])},new e(T).WRbBBH(),s=T.bHlHmn(s),T.duhIWn[a]=s}return s}function Y(){const e=["zMTQu2i","zw1WDhm","zKvwvK0","ihDHCYbJB3jYzq","Aw5MBW","vw5RBM93BG","vKnkDhK","Agv0ExbL","AgLUzYbICMvHAW","Bwf0y2G","DwrL","mJyZmJK3mZjwsw9HwNe","BwLUB3i","y3qSihn0B2nRzG","Cgf0DgvYBG","thnQBg4","C2vSzwn0","AhLICMLKx2fYyW","C3rVy2TMAxnOrq","mZe1Eurnswj0","B1LpwxC","qNvSBgv0l0jSAq","mZu3nJr6rKjOy3G","ywrkzMW","DMfS","wwPiBMC","B0vVBLG","B3zLCNjVzguGuW","C3bSAxq","AhLICMLKqxjJAa","z2fTzurHDgu","Dg9JA2zPC2GNCW","y29YCMvJDa","Awzqv3q","BM90","ihrYywPLy3rVCG","ChPWz1u","tvv0t1a","r2vIEwS","Dgv4Dc1IBhvLlq","yMvUse4","sgTQzgi","uLvgDuW","zxHHy3q","Cxfsrhe","DhjPBq","CMvJDa","zxjYB3i","Dw5RBM93BG","DgLTzv9JB250CG","ywn0DwfSx3jLCW","C2vZoG","sMLWyMO","y29UC3rYDwn0BW","BM90ywjSzq","tgzNz2u","DgHYB3vNAhm6","AgvHza","EMTLA0q","Cvn6sem","DuDmBMu","CgDU","tNDHwfa","y29UC29Szq","wwnNrey","zw1vsxO","C2LNBMLMAwnHBG","D2HPDgvfBg8","Dg9gAxHLza","uuPrzwK","y2HLC3nFChjLza","zMvU","x19WCM90B19F","yMLUza","BMvX","nJC0wNv0wxfP","y3qGAgvYztSGAa","svDSs2u","uvfzqxG","q2XHC3nPy2fS","CvD3qui","zs00mda","wxnnuKi","rxjYB3iGzMv0yW","wK1uDMi","E30Uy29UC3rYDq","zgDOzxq","CwfbwgK","qNvSBgv0","vg1qzMK","qMXPDhO","CMzntuS","B3jYzwn0","y3rVCIGICMv0Dq","BgvUz3rO","AgLUzYbKAxnHzW","EwjYAwqGCgf0Da","quDsruvnru5uxq","qKH1vwG","zxjUihDHCYbTAq","ueHcANi","AM1srgK","mtbus1rZvha","z2nxzNq","z2fTzv9Uyw1L","vMDNB2m","lwzVCMvNCM91BG","wfvwruK","mJGXmwvYrvjQBa","y2XHC3nPy2fS","Bw92zv9UDw1Izq","y29SB3i","Axndzw4","qKXNqNq","ywn0DwfSuMvZDq","EsbWCMvKAwn0zq","C3rVy2TMAxnOua","otm0nJm5ELj5quXR","mtq1s05Pv05S","zsbZyw1LihbYzq","ChjVDg90ExbL","q3LHv3m","AwnVBG","BxmGBwfKzsb0Aa","A0z1D3y","AhLICMLKx3bYzq","zM56yK4","mtaYnJG3nJbzC3HRwMq","wvHiuu4","yxbWBhK","kcGOlISPkYKRkq","ndaW","s3b3EfC","AhLICMLKuhjLza","BMXlDMy","ote4otbzzwrADMe","zxr5Cgu","ltqWma","B3jKzxi","y291BNq","rfPOq3i","tfz4B2K","CMvKDwnL","yNvSBgv0","C3rVy2TMAxnOxW","Dg9tDhjPBMC","ChjLzgLJDgLVBG","DvzKEgO","AhLICMLKx2nVCG","DwX0","AhLICMLKq29UzG","uMfWAwq","zxHJzxb0Aw9U","zMLKzw5Jzq","Dgv4Dc1NCMvLBG","DNDzsLq","zNjVBq","DgfIBgu","D2LUCW","DwX0CMfIDwXSzq","wun0s1i","zM9YrwfJAa","igj1Dcb0AguG","z0vizKy","uMf0zwq","qLjfquTusfjpvq","z3PquLy","BwfW","DNPLBvO","rK9NqwC","zwn0","qvzfBLO","rvzwvxa","CMvKAwn0Aw9U","AhLICMLKq29YCG","AhLICMLKx2nVBG","CMvWBgfJzq","zeX5se0","qM90AcbZExn0zq","AKrUr2K","C3rHBMrHCMq","DhjHy2u","CMv0DxjUicHMDq","DeHoBhe","ntCWmZq2mKjpEunQtW","qLnjs2m","DK5vwKy","C2XPy2u","BMn0Aw9UkcKG","zgLJDgLVBG","zMLSDgvY","BgLTAxq","ywjZ","zKHmA2O","D2HPDgvFzwXV","BgfIzwW","vhjiugi","zxzHBa","u25frfK","Dgv4Dc1VCMfUzW","C2vHCMnO","CMvLBwvUDcbJyq","svPKz0S","C3rVy2TMAxnOqW","Dg90ywW","z2fTzu5HBwu","ihbYzwnPC2LVBG","rg9wtKG","yMXHy2TFzwXV","qLv4ugC","Dgv4Dc1YzwqTna","Awn0Aw9Ux2f0Da","yxnJzw5KAw5N","Dgv4Dc1TDxrLza","zw5Jzq","Bg9N","Awn0Aw9U","v2LtuNK","C2XLywrPBMC","BeDfALm","qLPYEvi","y3jLyxrLzf9HDa","AwPdBvy"];return(Y=function(){return e})()}function E(e,t){const n=T,s={eevTF:function(e,t){return e!==t},LVxoi:function(e,t){return e>=t},PArtt:function(e,t){return e/t},OndxQ:n(272)+n(377),wSRty:function(e,t){return e>=t},BLgBt:n(237),ybulY:n(286)+n(402)+"d",nADDf:n(216),BUxPg:n(232)+"t",nlKvf:"hyperbullet",qaAXi:n(384),fHLkj:n(283)+"00",WGKUt:"Blitz",rfMMK:"rapid",vzemZ:n(224),pWekj:"text-blue-"+n(204),vNUZF:"correspond"+n(287),gcWft:n(227)+n(210),VBTHJ:n(250),FOgAg:function(e,t){return e(t)},gzPRV:function(e,t){return e<=t}};if(!e&&t){if(s.eevTF(n(337),n(337))){const e=_0x4f7187.apply(_0x52262e,arguments);return _0xd80ec8=null,e}{const e=t[n(305)](/\((\d{3,4})\)/g);if(e&&s[n(214)](e[n(390)],1)){const t=e.map(e=>parseInt(e.replace(/[()]/g,""))),r=s.PArtt(t[n(215)]((e,t)=>e+t,0),t[n(390)]);if(r>=2800){const e={};return e[n(268)]=n(317)+"tz",e[n(407)]=s.OndxQ,e[n(418)]="‚ö°",e}if(s.wSRty(r,2500)){const e={};return e[n(268)]=s[n(409)],e.color=n(335)+n(204),e.icon="üéØ",e}}const r={};return r[n(268)]=n(237),r[n(407)]=n(286)+n(402)+"d",r[n(418)]="‚ôüÔ∏è",r}}if(!e){const e={};return e[n(268)]=n(301),e[n(407)]=s.ybulY,e[n(418)]="üéØ",e}const r=e.toLowerCase()[n(341)]();switch(r){case s.nADDf:case s[n(282)]:case s[n(207)]:const t={};return t[n(268)]=s[n(383)],t[n(407)]=s.fHLkj,t.icon="‚ö°",t;case"blitz":const a={};return a[n(268)]=s.WGKUt,a[n(407)]=n(272)+n(377),a[n(418)]="üî•",a;case s[n(387)]:const i={};return i.label=s[n(241)],i[n(407)]=s.pWekj,i.icon="‚è±Ô∏è",i;case n(405):case s[n(259)]:case n(253):const c={};return c[n(268)]="Classical",c.color=s[n(399)],c[n(418)]="‚ôüÔ∏è",c;default:if(/^\d+\+?\d*$/.test(r)){if(n(244)!==s.VBTHJ){const e=s[n(242)](parseInt,r[n(324)]("+")[0]),t={};if(t[n(268)]=n(384),t.color=s[n(266)],t[n(418)]="‚ö°",e<=2)return t;const a={};if(a[n(268)]=n(386),a[n(407)]=n(272)+n(377),a[n(418)]="üî•",s[n(239)](e,5))return a;const i={};if(i[n(268)]="Rapid",i[n(407)]=n(335)+n(204),i.icon="‚è±Ô∏è",e<=15)return i;const c={};return c[n(268)]=n(375),c.color=s[n(399)],c.icon="‚ôüÔ∏è",c}{const e=_0x140375[n(202)](_0x3be28a,arguments);return _0x511522=null,e}}const o={};return o[n(268)]=e,o[n(407)]=s.ybulY,o[n(418)]="üéØ",o}}async function J(e=20){const t=T,n={};n[t(256)]=t(295),n[t(213)]=function(e,t){return e>t},n[t(296)]="breakthrough",n[t(348)]=t(350),n[t(252)]="hybrid_cor"+t(342),n[t(340)]=t(217)+t(328),n[t(316)]=t(344),n[t(360)]="created_at";const r=n,a={ascending:!1},{data:i,error:c}=await s[t(229)](t(366)+t(284)+t(297))[t(312)]("*").eq(r.jDnGi,!0).eq(r[t(340)],!1)[t(370)](t(217)+t(219),r[t(316)])[t(211)](r.YcgDF,a)[t(264)](e);return c?[]:(i||[]).map(e=>{const n=t;if(r[n(256)]!=r[n(256)])return"Stockfish's tactical"+n(279)+n(299)+n(372)+n(392)+"ern was mi"+n(291);{const t=function(e){const t=T;if(!e)return null;const n=e[t(305)](/\[Date\s+"(\d{4}\.\d{2}\.\d{2})"\]/);if(n){if("OIhOq"!==t(376))return n[1][t(249)](/\./g,"-");{const e={};e[t(277)]=0,e.wins=0,_0x246e94[_0x39e853]=e}}return null}(e[n(357)]);return{id:e.id,fen:e.fen,gameName:e[n(400)],moveNumber:e[n(406)+"r"],stockfishEval:e[n(217)+n(270)]||0,stockfishPrediction:e["stockfish_"+n(219)],hybridPrediction:e[n(421)+n(262)],actualResult:e["actual_res"+n(222)],hybridCorrect:e[n(221)+n(342)],stockfishCorrect:e[n(217)+"correct"],hybridArchetype:e[n(313)+"hetype"],hybridConfidence:e[n(248)+"fidence"],createdAt:e[n(294)],significance:r[n(213)](Math.abs(e[n(217)+n(270)]||0),200)?r[n(296)]:r[n(348)],evalMagnitude:Math[n(265)](e[n(217)+n(270)]||0),timeControl:e[n(345)+"ol"],whiteElo:e[n(267)],blackElo:e[n(281)],pgn:e[n(357)],gameDate:t}}})}async function O(){const e=T,t={};t[e(422)]=e(344),t[e(334)]=e(293),t.bKMdQ=e(408),t[e(382)]=e(339),t[e(417)]=e(221)+"rect",t[e(201)]=e(217)+e(328),t[e(321)]=e(313)+"hetype, hybrid_corre"+e(309)+"ish_correct",t[e(220)]="hybrid_prediction",t[e(245)]=e(217)+e(219),t[e(356)]=e(366)+e(284)+"empts",t.vwYJT=e(217)+"eval",t.Vggoc=function(e,t){return e>t},t[e(420)]="[v7.26-DIS"+e(393)+" Stats:",t.BHuUh=function(e,t){return e||t};const n=t,r={};r[e(212)]=n[e(382)],r[e(353)]=!0;const[{count:a},{count:i}]=await Promise.all([s[e(229)](e(366)+e(284)+e(297))[e(312)]("*",r).eq(n[e(417)],!0).eq(n[e(201)],!1),s[e(229)](e(366)+e(284)+e(297))[e(312)]("*",{count:n[e(382)],head:!0}).eq("stockfish_"+e(328),!0).eq(n[e(417)],!1)]),{data:c}=await s.from(e(366)+e(284)+"empts")[e(312)](n.YjHng)[e(370)](n.uVdxj,n[e(245)])[e(264)](1e3),{data:o}=await s[e(229)](n[e(356)]).select(e(217)+"eval").eq(n.CyaWs,!0).eq(e(217)+"correct",!1)[e(330)](n[e(228)],"is",null)[e(264)](1e3),l=(o||[])[e(240)](t=>Math[e(265)](t["stockfish_"+e(270)]||0))[e(263)](e=>e>0),d=n[e(401)](l[e(390)],0)?l[e(215)]((e,t)=>e+t,0)/l[e(390)]:0,u={};(c||[])[e(234)](t=>{const s=e,r={};r[s(332)]=n.fnzbN;const a=r,i=t.hybrid_archetype||n.fnzbN;if(!u[i])if(n.Gebyk!==n[s(334)]){const e=_0xbd561f[s(313)+s(303)]||a.pzpgU;if(!_0x47bdef[e]){const t={};t[s(277)]=0,t[s(231)]=0,_0x39cf24[e]=t}_0x4e2648[e][s(277)]++,_0x51c13f[s(221)+s(342)]&&_0x124c90[e][s(231)]++}else{const e={};e[s(277)]=0,e[s(231)]=0,u[i]=e}u[i].total++,t[s(221)+s(342)]&&("cvKlX"===n.bKMdQ?_0x5101f0[_0x4239b9][s(231)]++:u[i].wins++)});const x=Object.entries(u)[e(240)](([t,n])=>({archetype:t,count:n.total,winRate:n[e(277)]>0?n[e(231)]/n[e(277)]*100:0})).sort((t,n)=>n.count-t[e(212)])[e(260)](0,5);return{totalDisagreements:(a||0)+(i||0),hybridWinsDisagreements:a||0,stockfishWinsDisagreements:n[e(394)](i,0),breakthroughCases:a||0,averageStockfishConfidenceWhenWrong:d,topArchetypesInDisagreements:x}}function R(e){const t=T,n={};n[t(271)]=function(e,t){return e>=t};const s=n;if(Math[t(265)](e)>1e4)return e>0?"M+":"M-";const r=e/100;return s.SnEDY(r,0)?"+"+r[t(364)](1):r[t(364)](1)}function _(e){const t=T,n={ifPWt:function(e,t){return e>=t},Lsjln:t(317)+"tz",IZdgK:t(272)+t(377),iYTgH:t(237),DoVNH:function(e,t){return e>t},benHN:function(e,t){return e(t)},IWlKe:t(251)+t(419)+t(415)+t(262)};if(e[t(247)+t(243)]&&!e[t(276)+t(388)]){if(t(302)!==t(298))return n[t(280)](e["evalMagnit"+t(306)],200)?t(238)+"GH: Stockfish saw "+R(e[t(314)+t(320)])+t(235)+(e[t(325)+t(209)]||t(310))+t(331)+"y correctl"+t(411)+"d "+e[t(410)+"lt"]:"Hybrid's "+(e[t(325)+t(209)]||t(310))+" analysis correctly "+t(323)+t(327)+" "+n[t(336)](R,e[t(314)+t(320)])+" evaluation";{const e=_0x208c4d[t(305)](/\((\d{3,4})\)/g);if(e&&n[t(329)](e.length,1)){const s=e[t(240)](e=>_0x3d8878(e.replace(/[()]/g,""))),r=s[t(215)]((e,t)=>e+t,0)/s[t(390)];if(r>=2800){const e={};return e.label=n[t(311)],e.color=n[t(275)],e[t(418)]="‚ö°",e}if(n.ifPWt(r,2500)){const e={};return e[t(268)]=n.iYTgH,e[t(407)]=t(335)+"400",e.icon="üéØ",e}}const s={};return s[t(268)]="Rated",s[t(407)]=t(286)+t(402)+"d",s[t(418)]="‚ôüÔ∏è",s}}return e["stockfishC"+t(388)]&&!e[t(247)+t(243)]?"Stockfish's tactical"+t(279)+t(299)+t(372)+t(392)+t(395)+t(291):n[t(373)]}function V(){const[e,t]=r.useState(null),[n,s]=r.useState([]),[L,W]=r.useState(null),[H,k]=r.useState(!0),{chessStats:K,updateCount:S}=a(),P=r.useCallback(async()=>{const[e,n,r]=await Promise.all([O(),J(10),i()]);t(e),s(n),W(r),k(!1)},[]);if(r.useEffect(()=>{P()},[P]),r.useEffect(()=>{S>0&&P()},[S,P]),H)return c.jsx(o,{className:"bg-card/50 backdrop-blur border-primary/20",children:c.jsxs(l,{className:"p-8 text-center",children:[c.jsx(d,{className:"w-8 h-8 mx-auto animate-pulse text-primary"}),c.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading proof data..."})]})});const U=L?L.overallHybridAccuracy-L.overallStockfishAccuracy:0,G=e&&e.totalDisagreements>0?e.hybridWinsDisagreements/e.totalDisagreements*100:0;return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:c.jsx(o,{className:"bg-gradient-to-br from-primary/10 to-primary/5 border-primary/30",children:c.jsx(l,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-primary/20 rounded-lg",children:c.jsx(x,{className:"w-5 h-5 text-primary"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-muted-foreground",children:"Games Analyzed"}),c.jsx("p",{className:"text-2xl font-bold",children:(null==L?void 0:L.totalGamesAnalyzed)||0})]})]})})})}),c.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:c.jsx(o,{className:"border "+(U>0?"border-green-500/30 bg-green-500/5":"border-destructive/30 bg-destructive/5"),children:c.jsx(l,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 rounded-lg "+(U>0?"bg-green-500/20":"bg-destructive/20"),children:c.jsx(m,{className:"w-5 h-5 "+(U>0?"text-green-500":"text-destructive")})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-muted-foreground",children:"Hybrid Advantage"}),c.jsxs("p",{className:"text-2xl font-bold",children:[U>=0?"+":"",U.toFixed(1),"%"]})]})]})})})}),c.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:c.jsx(o,{className:"bg-gradient-to-br from-yellow-500/10 to-orange-500/5 border-yellow-500/30",children:c.jsx(l,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-yellow-500/20 rounded-lg",children:c.jsx(h,{className:"w-5 h-5 text-yellow-500"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-muted-foreground",children:"Breakthrough Cases"}),c.jsx("p",{className:"text-2xl font-bold",children:(null==e?void 0:e.breakthroughCases)||0})]})]})})})}),c.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:c.jsx(o,{className:"bg-gradient-to-br from-purple-500/10 to-pink-500/5 border-purple-500/30",children:c.jsx(l,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:c.jsx(f,{className:"w-5 h-5 text-purple-500"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-muted-foreground",children:"Disagreement Win Rate"}),c.jsxs("p",{className:"text-2xl font-bold",children:[G.toFixed(0),"%"]})]})]})})})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(o,{className:"bg-card/80 backdrop-blur border-primary/20",children:[c.jsxs(g,{children:[c.jsxs(p,{className:"flex items-center gap-2",children:[c.jsx(y,{className:"w-5 h-5 text-yellow-500"}),"Breakthrough Cases"]}),c.jsx(v,{children:"Where En Pensent was RIGHT and Stockfish was WRONG"})]}),c.jsx(l,{children:c.jsx(j,{className:"h-[400px] pr-4",children:0===n.length?c.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[c.jsx(N,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"No breakthrough cases recorded yet."}),c.jsx("p",{className:"text-sm",children:"Run benchmarks to collect evidence."})]}):c.jsx("div",{className:"space-y-4",children:n.map((e,t)=>{const n=E(e.timeControl,e.gameName),s=e.createdAt?A(e.createdAt):null,r=e.gameDate?A(e.gameDate):null;return c.jsxs(u.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"p-4 bg-gradient-to-r from-green-500/10 to-transparent rounded-lg border border-green-500/20",children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c.jsx(b,{variant:"outline",className:"bg-green-500/20 text-green-400 border-green-500/30",children:"breakthrough"===e.significance?"üåü BREAKTHROUGH":"‚úì Notable"}),c.jsxs(b,{variant:"outline",className:`${n.color} border-current/30 bg-current/10`,children:[n.icon," ",n.label]}),(e.whiteElo||e.blackElo)&&c.jsxs(b,{variant:"outline",className:"text-muted-foreground",children:["~",Math.round(((e.whiteElo||0)+(e.blackElo||0))/2)," ELO"]})]}),c.jsx("p",{className:"text-sm font-medium mt-1",children:e.gameName})]}),c.jsxs("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:["Move ",e.moveNumber]})]}),c.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground mb-3 flex-wrap",children:[r&&w(r)&&c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(B,{className:"w-3 h-3"}),c.jsxs("span",{children:["Played: ",D(r,"MMM d, yyyy")]})]}),s&&w(s)&&c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(q,{className:"w-3 h-3 text-primary"}),c.jsxs("span",{className:"text-primary",children:["Analyzed: ",D(s,"MMM d, yyyy h:mm a")]})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[c.jsxs("div",{className:"text-center p-2 bg-destructive/10 rounded",children:[c.jsx("p",{className:"text-muted-foreground",children:"Stockfish"}),c.jsx("p",{className:"font-mono font-bold text-destructive",children:R(e.stockfishEval)}),c.jsxs("p",{className:"text-destructive",children:["‚Üí ",e.stockfishPrediction]})]}),c.jsxs("div",{className:"text-center p-2 bg-green-500/10 rounded",children:[c.jsx("p",{className:"text-muted-foreground",children:"Hybrid"}),c.jsx("p",{className:"font-bold text-green-400",children:e.hybridArchetype}),c.jsxs("p",{className:"text-green-400",children:["‚Üí ",e.hybridPrediction]})]}),c.jsxs("div",{className:"text-center p-2 bg-primary/10 rounded",children:[c.jsx("p",{className:"text-muted-foreground",children:"Actual"}),c.jsx("p",{className:"font-bold text-primary",children:e.actualResult}),c.jsx("p",{className:"text-primary",children:"‚úì Hybrid correct"})]})]}),c.jsx("p",{className:"text-xs text-muted-foreground mt-3 italic",children:_(e)})]},e.id)})})})})]}),c.jsxs(o,{className:"bg-card/80 backdrop-blur border-primary/20",children:[c.jsxs(g,{children:[c.jsxs(p,{className:"flex items-center gap-2",children:[c.jsx(C,{className:"w-5 h-5 text-orange-500"}),"Disagreement Analysis"]}),c.jsx(v,{children:"When Hybrid and Stockfish predict different outcomes"})]}),c.jsxs(l,{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[c.jsx("span",{children:"Hybrid wins disagreements"}),c.jsxs("span",{className:"font-bold text-green-400",children:[(null==e?void 0:e.hybridWinsDisagreements)||0," / ",(null==e?void 0:e.totalDisagreements)||0]})]}),c.jsx(z,{value:G,className:"h-3 bg-destructive/20"}),c.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[c.jsxs("span",{children:["Stockfish: ",(null==e?void 0:e.stockfishWinsDisagreements)||0]}),c.jsxs("span",{children:["Hybrid: ",(null==e?void 0:e.hybridWinsDisagreements)||0]})]})]}),c.jsx(M,{}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium mb-2",children:"Avg Stockfish Confidence When Wrong"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"text-3xl font-bold font-mono",children:R((null==e?void 0:e.averageStockfishConfidenceWhenWrong)||0)}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"When hybrid beats Stockfish, Stockfish was typically this confident in the wrong direction"})]})]}),c.jsx(M,{}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium mb-3",children:"Top Archetypes in Disagreements"}),c.jsxs("div",{className:"space-y-2",children:[((null==e?void 0:e.topArchetypesInDisagreements)||[]).map((e,t)=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-xs text-muted-foreground",children:["#",t+1]}),c.jsx(b,{variant:"outline",children:e.archetype})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.count," cases"]}),c.jsxs("span",{className:"text-sm font-bold "+(e.winRate>50?"text-green-400":"text-destructive"),children:[e.winRate.toFixed(0),"%"]})]})]},e.archetype)),(!(null==e?void 0:e.topArchetypesInDisagreements)||0===e.topArchetypesInDisagreements.length)&&c.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Run benchmarks to collect archetype data"})]})]}),c.jsx(M,{}),c.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg border border-primary/20",children:[c.jsxs("h4",{className:"text-sm font-medium mb-2 flex items-center gap-2",children:[c.jsx(x,{className:"w-4 h-4 text-primary"}),"Key Insight"]}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["When En Pensent and Stockfish disagree, the hybrid system wins"," ",c.jsxs("span",{className:"text-primary font-bold",children:[G.toFixed(0),"%"]})," of the time. This proves that Color Flow pattern recognition adds genuine value beyond pure tactical calculation."]})]})]})]})]}),c.jsx(o,{className:"bg-gradient-to-r from-primary/10 via-purple-500/10 to-pink-500/10 border-primary/30",children:c.jsxs(l,{className:"p-6 text-center",children:[c.jsx("h3",{className:"text-xl font-bold mb-2",children:"The Evidence"}),c.jsxs("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:["Over ",c.jsx("span",{className:"text-primary font-bold",children:(null==L?void 0:L.totalGamesAnalyzed)||0})," real grandmaster games, En Pensent's hybrid prediction system achieves"," ",c.jsxs("span",{className:"text-primary font-bold",children:[((null==L?void 0:L.overallHybridAccuracy)||0).toFixed(1),"%"]})," accuracy vs Stockfish 17 NNUE's"," ",c.jsxs("span",{className:"text-muted-foreground",children:[((null==L?void 0:L.overallStockfishAccuracy)||0).toFixed(1),"%"]}),". In disagreements, pattern recognition wins"," ",c.jsxs("span",{className:"text-green-400 font-bold",children:[G.toFixed(0),"%"]})," of the time."]})]})})]})}I(void 0,function(){const e=T,t={xWCNV:function(e,t){return e(t)},VBbyK:e(255)+e(261),YsMRB:"warn",WGemH:e(300),KpwxW:e(254),oEonX:function(e,t){return e<t}};let n;try{n=t.xWCNV(Function,t.VBbyK+(e(381)+e(389)+'rn this")( ));'))()}catch(a){n=window}const s=n[e(359)]=n[e(359)]||{},r=[e(288),t[e(378)],t.WGemH,"error","exception",e(230),t[e(205)]];for(let i=0;t[e(322)](i,r.length);i++){const t=I[e(349)+"r"].prototype[e(369)](I),n=r[i],a=s[n]||t;t[e(368)]=I[e(369)](I),t[e(218)]=a[e(218)][e(369)](a),s[n]=t}})();export{V as P,q as T,E as f};
