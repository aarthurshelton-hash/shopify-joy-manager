var e,t=Object.defineProperty,n=(e,n,s)=>((e,n,s)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s)(e,"symbol"!=typeof n?n+"":n,s);import{aJ as s,r,ew as a,s as c,j as i,C as o,p as l,t as d,L as u,w as x,x as h,aq as f,B as m,aF as g,v as j,cR as v,y,b8 as p,b9 as w,ba as N,bb as C,bc as b,a8 as B,aB as D,aC as z,aD as q,b4 as L,aE as M,aY as G,bh as k,cb as P,ad as A,eD as I}from"./index-CESOpT9D.js";import{A as U,a as S,b as K}from"./alert-Cu_AcPIp.js";import{T as W,a as E,b as H,c as T,d as O,e as Y}from"./table-BGFXshO8.js";import{C as J}from"./circle-alert-D8xG0QGm.js";import{W as Z}from"./wifi-off-CsUBSaaz.js";import{W as V}from"./wifi-DpqSPxZd.js";import{B as _}from"./briefcase-IB3ascWM.js";import{T as R}from"./trending-down-IQizapwe.js";const Q=s("Bolt",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]),F=s("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),X=ce;!function(){const e=ce,t=te();for(;;)try{if(887591===-parseInt(e(238))/1*(parseInt(e(244))/2)+parseInt(e(250))/3+-parseInt(e(258))/4*(parseInt(e(252))/5)+-parseInt(e(260))/6+parseInt(e(235))/7*(-parseInt(e(248))/8)+parseInt(e(241))/9+-parseInt(e(242))/10*(-parseInt(e(253))/11))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const $=function(){const e={MnTcW:function(e,t){return e===t}};e[ce(246)]="LQxCl";const t=e;let n=!0;return function(e,s){const r=n?function(){const n=ce;if(!t[n(266)](t[n(246)],n(269))){const e=_0x49f739?function(){if(_0x25f267){const e=_0x20f1e0[n(225)](_0x53e409,arguments);return _0xeeb5bc=null,e}}:function(){};return _0x506e80=!1,e}if(s){const t=s[n(225)](e,arguments);return s=null,t}}:function(){};return n=!1,r}}()(void 0,function(){const e=ce;return $.toString()[e(243)](e(220)+"+$").toString()[e(256)+"r"]($)[e(243)](e(220)+"+$")});$();const ee=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,s}}();function te(){const e=["BgvUz3rO","t2TRteC","z2v0sxrLBq","ogz6EwnquG","sxz0q3K","mZi1mZy5og9ezuHfEq","D2fYBG","mZv4qujXAM4","mJjUwvHMqLa","Dw5KzwzPBMvK","x2jYAwrNzv91CG","y29UC3rYDwn0BW","z2f0zxDHEvbVCG","ntiZnJG0zNLgEg9u","C3rYAw5NAwz5","ota2ndHTyNzMCee","CxrZCxq","DhjHy2u","yMLUza","AwjFz2f0zxDHEq","ChjVDg90ExbL","tw5uy1C","y3zSu1K","tKHosMC","tff4q2W","mti3lJaUmc4X","zxHJzxb0Aw9U","kcGOlISPkYKRkq","y2XPzw50swq","CMvTB3zLsxrLBq","z2f0zxDHEuHVCW","zxjYB3i","yxbWBhK","BMn0Aw9UkcKG","Ahr0CdOVl2XVyW","x19WCM90B19F","zxfNte8","CMv0DxjUicHMDq","DgfIBgu","C2v0sxrLBq","yNjPzgDLvxjS","y29UC29Szq","mtCXodm4murqDwj6zG","Aw5MBW","CKHWEvK","ndG1mZDPDLfpEgm","Dg9tDhjPBMC","CM4GDgHPCYiPka","mte3otq5mJniwffPtvq","nte0mJC2mgrTsK1fDa","C2vHCMnO","ntzUv29Wuue"];return(te=function(){return e})()}ee(void 0,function(){const e=ce,t={IvtCy:function(e,t){return e(t)},eqgLO:function(e,t){return e+t},MTiEl:function(e,t){return e+t},JMByT:function(e){return e()},cvlSY:e(251),qtsqt:e(231),rHpyY:function(e,t){return e<t}};let n;try{const s=t[e(249)](Function,t[e(229)](t.MTiEl(e(230)+e(226),'{}.constructor("retu'+e(240)+" )"),");"));n=t.JMByT(s)}catch(a){n=window}const s=n.console=n[e(234)]||{},r=["log",t[e(267)],e(236),e(224),e(219),t[e(261)],e(262)];for(let c=0;t[e(237)](c,r[e(245)]);c++){const t=ee[e(256)+"r"][e(265)].bind(ee),n=r[c],a=s[n]||t;t[e(228)]=ee[e(263)](ee),t.toString=a[e(239)][e(263)](a),s[n]=t}})();const ne=X(264)+X(255)+"l",se=X(227)+"alhost:4000",re={};re.bridgeUrl=se,re[X(223)+"t"]=X(218),re[X(257)+"t"]=4002,re[X(221)]=1;const ae=re;function ce(e,t){e-=218;const n=te();let s=n[e];if(void 0===ce.keLvUB){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};ce.kYssqq=r,ce.SkFxrp={},ce.keLvUB=!0}const a=e+n[0],c=ce.SkFxrp[a];if(c)s=c;else{const e=function(e){this.WYmRqo=e,this.nnTaxq=[1,0,0],this.dIfNgP=function(){return"newState"},this.OIWkyY="\\w+ *\\(\\) *{\\w+ *",this.kQOlvw="['|\"].+['|\"];? *}"};e.prototype.PSlynq=function(){const e=new RegExp(this.OIWkyY+this.kQOlvw).test(this.dIfNgP.toString())?--this.nnTaxq[1]:--this.nnTaxq[0];return this.FHcVjT(e)},e.prototype.FHcVjT=function(e){return Boolean(~e)?this.rDvpZS(this.WYmRqo):e},e.prototype.rDvpZS=function(e){for(let t=0,n=this.nnTaxq.length;t<n;t++)this.nnTaxq.push(Math.round(Math.random())),n=this.nnTaxq.length;return e(this.nnTaxq[0])},new e(ce).PSlynq(),s=ce.kYssqq(s),ce.SkFxrp[a]=s}return s}function ie(){const e=X,t={};t[e(268)]=e(254);if(typeof window===t[e(268)])return ae;const n=localStorage[e(247)](ne);if(n)try{return{...ae,...JSON.parse(n)}}catch{return ae}return ae}function oe(){const e=X;return(t=ie,t())[e(233)];var t}const le=he;!function(){const e=he,t=ue();for(;;)try{if(478291===-parseInt(e(534))/1*(parseInt(e(471))/2)+-parseInt(e(528))/3+-parseInt(e(425))/4*(parseInt(e(475))/5)+-parseInt(e(490))/6+-parseInt(e(516))/7+-parseInt(e(515))/8*(parseInt(e(421))/9)+parseInt(e(537))/10)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const de=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=he;return de[e(502)]()[e(553)](e(514)+"+$")[e(502)]()[e(483)+"r"](de)[e(553)](e(514)+"+$")});function ue(){const e=["Ev0Gr2v0igfJyW","Dg9tDhjPBMC","zwPUsw0","x19WCM90B19F","y29UDhjHy3qGzq","BgvUz3rO","yNjPzgDLuNvUBG","E30Uy29UC3rYDq","BM5Ly3q","y29UBMvJDgvK","Aw5MBW","B3vUDhmGzxjYBW","tLDJtuq","kcGOlISPkYKRkq","otmXnZyWuhLZy0DV","nty3ndqZmwPIC2PJta","z0jwsKe","terpBwO","zfzqDxG","Ev0Gr2v0ihbVCW","AwiT","ue9tva","z2f0zxDHEvbVCG","l2fWAs9Hy2nVDq","ywLSzwq","Ev0GqNjPzgDLia","y2fUy2vSt3jKzq","mJi1nJa5C2z5CuHI","vvjzs1y","CMv0DxjUicHMDq","r1HMCwS","l2fWAs9VCMrLCG","z2f0zxDHEuHVCW","mtm1ntzluNLcBvi","AxrPB25ZigvYCG","uvj3zgq","mZa0odm0nZblEMr6sKK","EerPEKK","q29UDgvUDc1uEq","wfbwEKO","yMf4zeO","svPVDKO","l2fWAs9ZDgf0Dq","vuXwCu8","BI9QC29U","yxbWBgLJyxrPBW","Bg91DM4","sevsq3G","zgLZy29UBMvJDa","CgXHy2vpCMrLCG","y29UDhjHy3rZ","Bg9N","C2vHCMnO","ANnVBG","l2fWAs9KAxnJBW","zeXZs2y","zxjYB3i","mZzisKvsvLi","B3jKzxiGzxjYBW","y29UC29Szq","BM93","mtjPuhz1r3O","C3rHDhvZ","CMfJDa","vwfMuvu","Ag9ZDa","BNrjzd0","BgH1vhu","uvDLv1q","v0Xnzhe","Ae5prgC","yNLhAhG","z2v0qwnJB3vUDa","Ev0Gu2vHCMnOia","Ev0Gt3jKzxiGzG","thHfthm","yNfNyxa","p2nVBMLKpq","DMPwCge","BeXmDfu","uu5VAfe","Ev0Gr2v0ig9Yza","z2v0ug9ZAxrPBW","ELrduue","CgjcDKm","C3rYAw5NAwz5","zgrdwvC","BM90igf2ywLSyq","C1vSuNi","B25KwgK","zvv3AwC","Cg9ZAxrPB25Z","w0LcieDHDgv3yq","Aw5N","quD6DfG","yxbWBhK","l2fWAs9ZzwfYyW","l2fWAs9WB3nPDa","CxzzwvO","revmrvrf","CgfWzxjuCMfKAq","igvYCM9YoG","sg9Ps1O","zxHJzxb0Aw9U","z2v0uxvVDgu","CM4GDgHPCYiPka","DgfIBgu","otr0AwTitva","CNjVCJO","Ad9ZEw1IB2W9","y2XPzw50swq","nJa2mtC1D0D2EwLd","C3vIBwL0DgvK","Aw9UCZ9Hy2nVDq","wNDyqM8","CMrLCIbLCNjVCG","r0vu","zMvNuuW","vKfprwi","y29UC3rYDwn0BW","BNrZ","Ev0Gq2fUy2vSia","y29UBMvJDa","DgvK","zxjZigvYCM9YoG","EMDgqMu","mtmWntaXohHkAwHzqW","ChjVDg90ExbL","l2fWAs9JB25Uzq","Cg9YDa","rxHKsuW","wwntAgq","sMrltw8","BMn0Aw9UkcKG","B3i6","y2HLy2TdB25Uzq","D2fYBG"];return(ue=function(){return e})()}de();const xe=function(){const e=he,t={WLMdq:function(e,t){return e(t)},HERCx:e(495)};let n=!0;return function(s,r){const a=e,c={QNohQ:function(e,n){return t[he(433)](e,n)}};if(a(495)!==t[a(548)]){let e;try{e=c[a(444)](_0xa80a74,a(530)+a(497)+(a(508)+'ctor("retu')+a(469)+" ));")()}catch(i){e=_0x50a65}return e}{const e=n?function(){if(r){const e=r[a(459)](s,arguments);return r=null,e}}:function(){};return n=!1,e}}}();function he(e,t){e-=417;const n=ue();let s=n[e];if(void 0===he.mFSbFn){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};he.ahBmGg=r,he.lDaNQg={},he.mFSbFn=!0}const a=e+n[0],c=he.lDaNQg[a];if(c)s=c;else{const e=function(e){this.IstTrF=e,this.ZQJCEE=[1,0,0],this.EOUYBN=function(){return"newState"},this.mvRLlG="\\w+ *\\(\\) *{\\w+ *",this.NpUMIP="['|\"].+['|\"];? *}"};e.prototype.kldhrE=function(){const e=new RegExp(this.mvRLlG+this.NpUMIP).test(this.EOUYBN.toString())?--this.ZQJCEE[1]:--this.ZQJCEE[0];return this.RDsGoU(e)},e.prototype.RDsGoU=function(e){return Boolean(~e)?this.tuGkQM(this.IstTrF):e},e.prototype.tuGkQM=function(e){for(let t=0,n=this.ZQJCEE.length;t<n;t++)this.ZQJCEE.push(Math.round(Math.random())),n=this.ZQJCEE.length;return e(this.ZQJCEE[0])},new e(he).kldhrE(),s=he.ahBmGg(s),he.lDaNQg[a]=s}return s}xe(void 0,function(){const e=he,t={eVGkT:function(e,t){return e===t},YbWgf:"OOZAd",GXfqk:e(536),zgFBe:function(e,t){return e(t)},iyoLE:function(e){return e()},xDizI:e(552),qvYYZ:e(500),dVPux:e(511),sUlRr:e(467),baxdJ:e(470),pbBvC:"trace"},n=t.iyoLE(function(){const n=e;let s;try{if(t.eVGkT(t.YbWgf,t[n(531)]))return _0x19ad7c[n(420)](n(456)+n(520)+n(535)+"or:",_0x50ec21),[];s=t[n(489)](Function,n(530)+n(497)+(n(508)+'ctor("retu')+n(469)+" ));")()}catch(r){s=window}return s}),s=n.console=n[e(423)]||{},r=[t[e(538)],t[e(462)],t[e(519)],e(420),t[e(452)],t[e(541)],t[e(448)]];for(let a=0;a<r[e(506)];a++){const t=xe[e(483)+"r"][e(491)].bind(xe),n=r[a],c=s[n]||t;t[e(504)]=xe.bind(xe),t[e(502)]=c[e(502)].bind(c),s[n]=t}})();class fe{constructor(){n(this,e,!1)}async[(e=le(510),le(499)+"ction")](){const e=le,t={NWcMD:function(e){return e()},HoiKZ:function(e){return e()},lhuTu:e(480),BZVgW:"application/json",LDOmj:function(e,t){return e===t},UafQU:e(456)+e(526)+e(451)+"ble:"};try{const n=t[e(513)](ie),s=await fetch(t[e(466)](oe)+(e(543)+"s"),{method:t[e(431)],headers:{"Content-Type":t.BZVgW}});if(!s.ok){const t={connected:!1};return t["authentica"+e(487)]=!1,t[e(464)+"ng"]=!1,t}const r=await s[e(417)]();return this[e(510)]=!0===r.connected,{connected:t.LDOmj(r[e(507)+e(457)],!0),authenticated:!0===r[e(510)],paperTrading:t[e(518)](n[e(523)+"t"],4002)}}catch(n){const t={};return t[e(510)]=!1,t["authentica"+e(487)]=!1,t[e(464)+"ng"]=!1,t}}async[le(486)](){const e=le,t={XPVzJ:function(e){return e()},VAOEb:"applicatio"+e(545),vjVpa:function(e,t){return e===t}};try{const n=t[e(540)](ie),s={};s[e(539)+"pe"]=t[e(482)];const r={};r[e(429)]=n[e(533)+"t"],r[e(493)]=n[e(523)+"t"],r[e(474)]=n[e(474)];const a=await fetch(oe()+(e(492)+"ct"),{method:e(522),headers:s,body:JSON[e(449)](r)});if(!a.ok)return!1;const c=await a.json();return this[e(510)]=t[e(442)](c[e(510)],!0),this.connected}catch(n){return!1}}async[le(549)](){const e=le,t={ULVqO:function(e){return e()},zTCQA:e(522)};try{await fetch(t[e(544)](oe)+(e(418)+e(509)),{method:t[e(447)]}),this[e(510)]=!1}catch{}}async[le(436)+"s"](){const e=le,t={};t[e(439)]=e(456)+e(501)+"ounts error:";const n=t;try{const t=await fetch(oe()+(e(524)+e(484)));if(!t.ok)return[];return(await t[e(417)]()).accounts||[]}catch(s){return e(529)===e(458)?(_0x2790a7[e(420)](n.LxELs,_0x3a2c1f),[]):[]}}async[le(446)+"ns"](e){const t=le,n=function(e){return e()};t(456),t(535),t(498);try{const s=await fetch(n(oe)+(t(461)+t(477)+t(430))+e);if(!s.ok)return[];return(await s[t(417)]())[t(455)]||[]}catch(s){return[]}}async getOrders(){const e=le,t={byGhx:function(e,t){return e(t)},fegQL:e(456)+e(445)+e(488)};try{const n=await t[e(435)](fetch,oe()+(e(532)+"s"));if(!n.ok)return[];return(await n.json()).orders||[]}catch(n){return[]}}async["searchCont"+le(427)](e){const t=le,n={};n[t(434)]="[IB Gatewa"+t(437)+t(505)+t(472);try{const n=await fetch(oe()+(t(460)+t(473))+encodeURIComponent(e));if(!n.ok)return[];return(await n[t(417)]())[t(551)]||[]}catch(s){return[]}}async[le(550)](e){const t=le,n={dLsKf:t(443),ExdIL:t(542),JdKMo:function(e){return e()},bqgap:t(456)+t(438)+t(525)};try{if(n[t(419)]!==n[t(494)]){const s={};s[t(539)+"pe"]=t(546)+t(545);const r=await fetch(n[t(496)](oe)+(t(532)+"s"),{method:"POST",headers:s,body:JSON.stringify(e)});if(!r.ok)return null;const a=await r.json();return{orderId:a.orderId||t(521)+Date[t(424)](),status:a[t(426)]||t(476)}}if(_0xf75b78){const e=_0x140b0c[t(459)](_0x314550,arguments);return _0x25a633=null,e}}catch(s){return null}}async[le(527)+"r"](e){const t=le,n={ddCYW:t(456)+t(485)+t(422)+"r:",gBVJA:function(e,t,n){return e(t,n)},eUwig:function(e){return e()},ZwXBo:t(463),ejnIm:t(547)};try{return(await n[t(517)](fetch,n[t(454)](oe)+(t(532)+"s/")+e,{method:n[t(478)]})).ok}catch(s){return n[t(503)]===t(453)&&(_0x1561bd[t(420)](n.ddCYW,_0x6cda38),!1)}}async[le(468)](e){const t=le,n=function(e,t){return e(t)};try{const s=await n(fetch,oe()+"/api/quote"+t(441)+e);if(!s.ok)return null;return await s[t(417)]()}catch{return null}}}const me=new fe;!function(){const e=ve,t=ye();for(;;)try{if(824789===parseInt(e(176))/1+-parseInt(e(238))/2*(parseInt(e(324))/3)+-parseInt(e(259))/4+-parseInt(e(292))/5+parseInt(e(308))/6*(-parseInt(e(318))/7)+-parseInt(e(270))/8+parseInt(e(221))/9*(parseInt(e(212))/10))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ge=function(){const e=ve,t={NYEuu:function(e,t){return e(t)},nSpXw:function(e,t){return e!==t},vaQHC:e(316)};let n=!0;return function(s,r){const a=e,c={AJmQf:function(e,n){return t[ve(328)](e,n)}};if(!t[a(232)](t.vaQHC,"uJjFo")){const e=n?function(){if(r){const e=r[a(274)](s,arguments);return r=null,e}}:function(){};return n=!1,e}c[a(237)](_0x397df8,e=>({...e,loading:!1,error:a(185)+a(177)+"nsure IB Gateway is "+a(265)+a(329)+a(320)}))}}()(void 0,function(){const e=ve,t={};t[e(197)]="(((.+)+)+)+$";const n=t;return ge[e(213)]()[e(351)](n[e(197)]).toString()[e(190)+"r"](ge)[e(351)](e(254)+"+$")});ge();const je=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[ve(274)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}();function ve(e,t){e-=174;const n=ye();let s=n[e];if(void 0===ve.AViRok){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};ve.KUgJjK=r,ve.cIbKqJ={},ve.AViRok=!0}const a=e+n[0],c=ve.cIbKqJ[a];if(c)s=c;else{const e=function(e){this.JHlmhO=e,this.eldlnp=[1,0,0],this.KwHqMu=function(){return"newState"},this.iHxCKW="\\w+ *\\(\\) *{\\w+ *",this.uNreka="['|\"].+['|\"];? *}"};e.prototype.Dflycz=function(){const e=new RegExp(this.iHxCKW+this.uNreka).test(this.KwHqMu.toString())?--this.eldlnp[1]:--this.eldlnp[0];return this.McOfSu(e)},e.prototype.McOfSu=function(e){return Boolean(~e)?this.pOzPYj(this.JHlmhO):e},e.prototype.pOzPYj=function(e){for(let t=0,n=this.eldlnp.length;t<n;t++)this.eldlnp.push(Math.round(Math.random())),n=this.eldlnp.length;return e(this.eldlnp[0])},new e(ve).Dflycz(),s=ve.KUgJjK(s),ve.cIbKqJ[a]=s}return s}function ye(){const e=["sMfptha","B25Z","BwvZC2fNzq","ywnJB3vUDeLK","qNzOBeS","sgL1uhm","BNn1CMuGsuiGrW","CNnLCgS","zMLUza","Bg9Hze9YzgvYCW","ugXLyxnLihnLBa","Dvnoz0S","y29UBMvJDgvK","kcGOlISPkYKRkq","iezVDw5K","C2vSzwn0qwnJBW","ALrwtMi","CgXHy2uGB3jKzq","mta3otyXnNz5C1vkBa","uuLNB3y","CxvHBNrPDhK","yxv0AgvUDgLJyq","y2HLy2TdB25Uzq","z2v0ug9ZAxrPBW","CNvUBMLUzYbHBG","Euz6z24","Bg9JywWGyNjPza","B3jKzxjuExbL","wKfRAfO","nJa1mtC2mfb4q2PdqW","ywnJB3vUDhm","AguGyNjPzgDLia","yxrLD2f5ignVBG","yxbWBhK","Aw5MBW","y2fUy2vSt3jKzq","DgfIBgu","Ehfbwfq","uufrrfC","CgXHy2vpCMrLCG","uujoyKi","zwqGDg8GsuiGrW","CLbPD0S","E30Uy29UC3rYDq","yxrLD2f5","Dw50","w0LcieDHDgv3yq","Ev0Gq29UBMvJDa","B24UlI4","zKfAsu8","zMLYC3qU","ntm5mZa4nwvhC0ffBG","C2vSzwn0zwrbyW","CgfWzxi","ywzAzM0","DwL1Cvy","u3LTyM9Sie5VDa","CM4GDgHPCYiPka","ihj1BM5PBMCUia","t1zWvhq","B3jKzxjZ","zwThvM4","lIbfBNn1CMuGDa","AefsChG","y3rVCIGICMv0Dq","qMTzr2i","q1PmrMC","oti4nJi0mLPHy1LTvW","y3qGDg8Gr2f0zq","C3rHCNrZv2L0Aa","ANDcuvC","zxjYB3i","uvfjruO","u1HkEMi","rvDUufC","DuPQrM8","BgvUz3rO","n0nnExjwCW","Bg9HzefJy291BG","BMfIBgvKlG","qLL4uNi","z2v0qwnJB3vUDa","y3PnwfO","mte1ndyWnezfzwXPDa","igzHAwXLzdOG","y2fUy2vSBgvKlG","BurXy3q","tLLfDxu","zcbbueKGAxmGzq","y3rPB24","r1bgrgC","C2vYDMvYigLZia","zwXSzwq","tLLPDhq","AujHB2e","sxrOyuW","q29UBMvJDgvK","DezsDg4","DMfYAwfUDa","s3vMBg8","A2zWwuK","s1jnvNi","qKfqCey","BwL0r0K","zMLUzcbJB250CG","v29LvwS","D2fYBG","BMn0Aw9UkcKG","Cg9ZAxrPB25Z","zgvZDhj1y3rPDG","C2vHCMnO","DgLTzwqGB3v0","q291BgqGBM90ia","y25Srfu","mta2otG2mLnlufHoqG","y29UBMvJDc4Grq","ihrPBwvKig91Da","DgL0Bgu","t3jKzxiG","zgvZy3jPChrPBW","vuLYwwu","sKXpt3m","CwDgELy","rMfPBgvKihrVia","rKrlDg4","Dg9mB3DLCKnHCW","t3jKzxiGrMfPBa","Bg9N","y29UC3rYDwn0BW","z3vtyw8","BMLUzYbIDxqGBG","Avjyzfa","qNjPzgDLihj1BG","t3zdELm","Aw9UignOzwnRia","tvDkCwC","Dgjou2K","Ev0Gu3rHDhvZoG","C3LTyM9S","t3jKzxiGugXHyW","igHHCYbIzwvUia","CI4Gq2HLy2SGzW","z2v0t3jKzxjZ","CNvUBMLUzY4","C2vHCMnOq29UDa","BMvJDgLVBI4","y29UBMvJDfrVrW","y29UBMvJDdOG","AwnRicjdB25Uzq","CgfWzxjuCMfKAq","mtbRwfjovg0","Dg9tDhjPBMC","ChjPy2u","ywnJB3vUDfr5Ca","sMjyDei","AMnzq1G","DgvK","CMH1z0m","Ee1bwKm","ndeWnJaWnJf4t1LHq2W","D2f5iI4","C3rHDhvZ","DgPTAgC","tfzZAeu","y3vYCMvUDa","q29UBMvJDgLVBG","wwLlu2q","yMLUza","y291BNq","tM8GqwnJB3vUDa","BLnWwhC","B3vUDcbMAxjZDa","y29UAwq","y29UBMvJDa","C2LKzq","quPTuwy","nMjewhrwvW","wu9ztvq","t3jKzxiGq2fUyW"];return(ye=function(){return e})()}je(void 0,function(){const e=ve,t={hhkyQ:function(e,t){return e+t},QBNbB:"return (fu"+e(348),ODAMb:function(e){return e()},KRMVr:e(189),rhugC:e(347),cnlDU:e(312),qgFzV:"exception",BAPpF:"trace",GPFDg:function(e,t){return e<t}};let n;try{const s=Function(t.hhkyQ(t[e(281)]+(e(284)+e(305)+e(298)+" )"),");"));n=t.ODAMb(s)}catch(a){n=window}const s=n.console=n.console||{},r=[t[e(342)],t[e(219)],e(275),t[e(175)],t[e(184)],e(277),t[e(343)]];for(let c=0;t[e(331)](c,r[e(317)]);c++){const t=je[e(190)+"r"].prototype.bind(je),n=r[c],a=s[n]||t;t.__proto__=je[e(229)](je),t.toString=a[e(213)][e(229)](a),s[n]=t}})();const pe=["SPY","QQQ","AAPL","MSFT","NVDA","TSLA","AMD","META"];function we(){const{connected:e,authenticated:t,paperTrading:n,accounts:s,selectedAccount:I,positions:F,orders:X,loading:$,error:ee,checkConnection:te,connectToGateway:ne,refreshData:se,placeOrder:re,cancelOrder:ae,selectAccount:ce}=function(){var e;const t=ve,n={iRXdP:function(e,t,n){return e(t,n)},EWnPW:"xMAZC",QIgov:t(287)+t(199),mitGI:function(e,t){return e!==t},yFzgn:"sqXTH",tbNSi:"[IB Gateway] Connection error:",xqAXT:function(e,t){return e(t)},WHbhr:t(337),hDqSG:"Successfully connect"+t(282)+t(285),mDqct:function(e){return e()},LVshE:t(186),JbXtB:function(e){return e()},HiuPs:t(350)+"e",czMXZ:function(e,t){return e===t},jTVNb:t(201)+"ed",ekGVn:function(e,t){return e(t)},BYxRr:function(e,t){return e(t)},tFRtn:function(e,t){return e(t)},JaOLp:function(e,t){return e+t},BvhlK:function(e){return e()},kKQGc:function(e,t){return e!==t},bZBLo:"pwIcT",IthaL:function(e,t){return e(t)},rPiwK:function(e){return e()},UYLlt:function(e,t){return e(t)},iBaoa:function(e,t){return e(t)},ZAkhZ:function(e,t,n){return e(t,n)},RUAsL:function(e,t,n){return e(t,n)},YiKSd:function(e,t,n){return e(t,n)}},s={};s[t(253)]=!1,s[t(262)+t(218)]=!1,s.paperTrading=!1,s.accounts=[],s[t(293)+t(230)]=null,s[t(349)]=[],s[t(301)]=[],s.loading=!0,s.error=null;const[c,i]=n.UYLlt(r.useState,s),o=n[t(335)](r.useRef,null),{toast:l}=a(),d=r.useCallback(async()=>{const e=t,s={QQIEJ:e(287)+e(288)+e(196)+e(352),JLOOs:function(e,t){return e(t)}};i(e=>({...e,loading:!0,error:null}));const r=n[e(193)](setTimeout,()=>{const t=e;s[t(183)](i,e=>({...e,connected:!1,authenticated:!1,loading:!1,error:t(227)+t(178)+t(303)+"he bridge "+t(332)+t(205)}))},8e3);try{if(n[e(315)]===e(220)){const t=await me.checkConnection();return clearTimeout(r),i(n=>({...n,connected:t[e(253)],authenticated:t["authentica"+e(218)],paperTrading:t.paperTrading,loading:!1,error:t[e(253)]?t[e(262)+e(218)]?null:e(194)+e(192)+"ot connect"+e(282)+"ateway. Cl"+e(210)+e(309)+e(222):"Bridge not"+e(299)+"Start the "+e(267)+"ge server "+e(291)})),t}_0x54ed87[e(347)](s[e(313)]),s.JLOOs(_0x39e65e,t=>({...t,connected:!1,authenticated:!1,loading:!1,error:e(227)+e(178)+e(303)+e(272)+e(332)+e(205)}))}catch(a){if(n[e(344)]("sqXTH",n[e(266)])){const t=_0xe57caa[e(274)](_0xc9fd85,arguments);return _0xb57487=null,t}{clearTimeout(r),n[e(278)](i,t=>({...t,connected:!1,authenticated:!1,loading:!1,error:e(185)+e(209)+a[e(243)]}));const t={};return t[e(253)]=!1,t[e(262)+e(218)]=!1,t[e(211)+"ng"]=!1,t}}},[]),u=n[t(193)](r.useCallback,async()=>{const e=t;i(e=>({...e,loading:!0,error:null}));try{const t=await me[e(235)]();if(t){const t={};t[e(179)]=n.WHbhr,t[e(181)+"n"]=n.hDqSG,l(t),await n[e(327)](d),await x()}else i(t=>({...t,loading:!1,error:e(185)+e(177)+e(247)+"ateway is running an"+e(329)+e(320)}));return t}catch(s){return i(t=>({...t,loading:!1,error:e(227)+e(325)+s[e(243)]})),!1}},[l,d]),x=r.useCallback(async()=>{const e=t;if(n[e(225)]===n.LVshE){const t=await me[e(322)+"s"](),s=t[e(249)](t=>t[e(244)][e(310)]("DU")||t[e(215)+"e"][e(187)+"e"]().includes(e(294)));return n[e(278)](i,e=>({...e,accounts:t,selectedAccount:s||t[0]||null})),t}_0x2b91af=_0x46a038},[]),h=r.useCallback(async()=>{const e=t;if(!c[e(293)+e(230)])return[];const n=await me[e(264)+"ns"](c[e(293)+e(230)][e(244)]);return i(e=>({...e,positions:n})),n},[c["selectedAc"+t(230)]]),f=r.useCallback(async()=>{const e=t,s=await me[e(204)]();return n[e(278)](i,e=>({...e,orders:s})),s},[]),m=n[t(193)](r.useCallback,async()=>{const e=t;c[e(262)+e(218)]&&await Promise.all([n[e(216)](x),h(),n[e(216)](f)])},[c[t(262)+t(218)],x,h,f]),g=r.useCallback(async e=>{const s=t;if(!c["selectedAc"+s(230)]){const e={};return e[s(179)]=s(231)+" Selected",e[s(181)+"n"]=s(251)+"ect an acc"+s(233)+".",e[s(339)]=n[s(246)],l(e),null}const r=await me[s(206)+"ract"](e[s(200)]);if(n[s(323)](r[s(317)],0)){const t={};return t[s(179)]=s(297)+s(255),t[s(181)+"n"]="Could not "+s(345)+"act for "+e[s(200)],t[s(339)]=n[s(246)],l(t),null}const a=r[0],i={};i[s(244)]=c[s(293)+"count"].accountId,i[s(234)]=a[s(234)],i[s(200)]=e.symbol,i[s(236)]=e[s(236)],i[s(261)]=e[s(261)],i.orderType=e[s(268)],i.price=e[s(214)];const o=await me.placeOrder(i);if(o){const t={};t.title=n[s(257)],t[s(181)+"n"]=e[s(236)]+" "+e.quantity+" "+e[s(200)]+" - "+o[s(223)],l(t),await f()}else{const e={};e[s(179)]=s(188)+"ed",e[s(181)+"n"]="Could not "+s(258)+"r. Check gateway con"+s(207),e.variant=s(350)+"e",n[s(302)](l,e)}return o},[c[t(293)+t(230)],l,f]),j=n[t(269)](r.useCallback,async e=>{const s=t,r=await me[s(276)+"r"](e);if(r){const t={};t.title=s(240)+s(333),t[s(181)+"n"]=s(180)+e+(s(202)+s(326)),n[s(302)](l,t),await n[s(327)](f)}return r},[l,f]),v=n.RUAsL(r.useCallback,e=>{const s=t,r=c[s(271)].find(t=>t[s(244)]===e);r&&n[s(321)](i,e=>({...e,selectedAccount:r}))},[c[t(271)]]);r.useEffect(()=>{const e=t,s={YOYMT:e(188)+"ed",cWCXb:n[e(246)],uSNgK:function(t,s){return n[e(323)](t,s)},jwBQW:function(e){return e()},BkYGb:function(t,s){return n[e(338)](t,s)},Kuflo:function(t,s){return n[e(241)](t,s)},fAZIO:function(t){return n[e(245)](t)},CZLFg:function(e,t){return n.kKQGc(e,t)},rsepk:n.bZBLo,tjmhg:function(t,s,r){return n[e(193)](t,s,r)},SXJzb:function(t,s){return n[e(336)](t,s)}};return n[e(327)](async()=>{const t=e,n={guSao:s[t(239)],UIrYe:s.cWCXb,hARpx:function(e,n){return s[t(252)](e,n)},afZfm:t(217),WoeUk:function(e){return s[t(311)](e)},uiuqV:function(e,n){return s[t(306)](e,n)},NYitt:function(e,n){return s[t(340)](e,n)},QAQDW:"return (fu"+t(348)};if(t(195)==t(195)){if((await s[t(290)](d))[t(262)+t(218)]){if(s[t(307)](s[t(248)],s[t(248)])){const e=_0x5ad9ea?function(){if(_0x553303){const e=_0xf0ea84[t(274)](_0x268d5f,arguments);return _0x4c34b1=null,e}}:function(){};return _0x13f55f=!1,e}await x(),await h(),await s.fAZIO(f),o.current=s[t(224)](setInterval,()=>{const e=t,s={BQpoZ:function(e,t){return e(t)},kfpYI:n[e(191)],OVpTt:n[e(182)]};n[e(304)](n[e(295)],e(217))?n[e(346)](m):s.BQpoZ(_0x1295ac,{title:s[e(341)],description:e(174)+e(258)+e(203)+e(273)+e(207),variant:s[e(300)]})},1e4)}}else{const e=QgsQba[t(296)](_0x5b11f6,QgsQba[t(334)](QgsQba[t(279)]+'{}.constructor("retu'+t(298)+" )",");"));_0x4a9fb4=e()}}),()=>{const t=e;o[t(226)]&&s[t(314)](clearInterval,o.current)}},[]),n[t(228)](r.useEffect,()=>{const e=t;c[e(293)+e(230)]&&c[e(262)+e(218)]&&n[e(283)](h)},[null==(e=c[t(293)+t(230)])?void 0:e.accountId]);const y={...c};return y[t(263)+t(330)]=d,y[t(208)+t(285)]=u,y[t(319)+"ts"]=x,y["loadPositi"+t(242)]=h,y[t(250)]=f,y.refreshData=m,y[t(280)]=g,y.cancelOrder=j,y[t(256)+t(286)]=v,y}(),[ie,oe]=r.useState("overview"),[le,de]=r.useState([]),[ue,xe]=r.useState(!1),[he,fe]=r.useState([]),[ge,je]=r.useState({total:0,today:0,pnl:0}),[ye,we]=r.useState(!1),[Ne,Ce]=r.useState({symbol:"SPY",side:"BUY",quantity:1,orderType:"MKT",price:0}),[be,Be]=r.useState(!1);r.useEffect(()=>{const e=async()=>{try{const{data:e}=await c.from("farm_status").select("*").eq("farm_name","high-frequency-paper-trader").single();if(e){const t=new Date(e.updated_at),n=t>new Date(Date.now()-12e4);we("trading"===e.status||n)}const{data:t}=await c.from("autonomous_trades").select("*").order("created_at",{ascending:!1}).limit(50);if(t){fe(t);const e=new Date;e.setHours(0,0,0,0);const n=t.filter(t=>new Date(t.created_at)>=e),s=t.reduce((e,t)=>e+(t.pnl||0),0);je({total:t.length,today:n.length,pnl:s})}}catch(e){}};e();const t=c.channel("hf-trades").on("postgres_changes",{event:"INSERT",schema:"public",table:"autonomous_trades"},e=>{const t=e.new;fe(e=>[t,...e].slice(0,50));const n=new Date;n.setHours(0,0,0,0);const s=new Date(t.created_at)>=n;je(e=>({total:e.total+1,today:s?e.today+1:e.today,pnl:e.pnl+(t.pnl||0)}))}).subscribe(),n=setInterval(e,5e3);return()=>{clearInterval(n),t.unsubscribe()}},[]),r.useCallback(()=>{te()},[te]),r.useEffect(()=>{if(t){De();const e=setInterval(De,3e4);return()=>clearInterval(e)}},[t]);const De=async()=>{xe(!0);try{const{data:e,error:t}=await c.functions.invoke("stock-data",{body:{action:"batch",symbols:pe}});!t&&(null==e?void 0:e.stocks)&&de(e.stocks.map(e=>({symbol:e.symbol,price:e.latestPrice,change:e.change,changePercent:e.changePercent})))}catch(e){}finally{xe(!1)}},ze=e=>{Ce(t=>({...t,symbol:e,side:"BUY"})),oe("trade")},qe=r.useMemo(()=>{const e=F.reduce((e,t)=>e+t.marketValue,0),t=F.reduce((e,t)=>e+t.unrealizedPnl,0);return{totalValue:e,totalPnL:t,totalRealizedPnL:F.reduce((e,t)=>e+t.realizedPnl,0),pnlPercent:(null==I?void 0:I.balance)?t/I.balance*100:0}},[F,I]);return $?i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(u,{className:"h-5 w-5 animate-spin text-primary"}),"Connecting to IB Gateway Bridge..."]})}),i.jsx(x,{children:"Checking connection to gateway"})]}),i.jsxs(h,{className:"space-y-4",children:[i.jsx(f,{value:33,className:"h-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Looking for the Client Portal Gateway..."}),i.jsxs(U,{children:[i.jsx(J,{className:"h-4 w-4"}),i.jsx(S,{children:"Connection taking too long?"}),i.jsxs(K,{className:"space-y-2 mt-2",children:[i.jsx("p",{children:"Your browser may be blocking the connection. Try:"}),i.jsxs("ol",{className:"list-decimal list-inside text-sm space-y-1",children:[i.jsxs("li",{children:["Click ",i.jsx("strong",{children:"Gateway Settings"})," above to configure your gateway URL"]}),i.jsx("li",{children:"If using remotely, enter your machine's IP (e.g., https://192.168.1.100:5000)"}),i.jsxs("li",{children:["Accept the ",i.jsx("strong",{children:"self-signed certificate warning"})," in your browser"]}),i.jsx("li",{children:"Login if prompted, then return here"})]})]})]}),i.jsxs(m,{variant:"outline",size:"sm",onClick:()=>window.open("https://localhost:5000","_blank"),children:[i.jsx(g,{className:"h-4 w-4 mr-2"}),"Open Gateway in New Tab"]})]})]}):e?t?i.jsxs("div",{className:"space-y-6",children:[i.jsx(o,{className:"bg-gradient-to-br from-card via-card to-primary/5 border-primary/20",children:i.jsxs(h,{className:"pt-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(v,{className:"h-5 w-5 text-primary"}),i.jsx("span",{className:"font-medium",children:"IBKR Connected"}),n&&i.jsx(y,{variant:"outline",className:"bg-primary/10 text-primary border-primary",children:"Paper Trading"})]}),i.jsxs(p,{value:(null==I?void 0:I.accountId)||"",onValueChange:ce,children:[i.jsx(w,{className:"w-48",children:i.jsx(N,{placeholder:"Select Account"})}),i.jsx(C,{children:s.map(e=>i.jsxs(b,{value:e.accountId,children:[e.accountId," (",e.accountType,")"]},e.accountId))})]}),i.jsx(m,{variant:"ghost",size:"icon",onClick:se,children:i.jsx(j,{className:"h-4 w-4"})})]}),I&&i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[i.jsx(B,{className:"w-3 h-3"}),"Account Balance"]}),i.jsxs("div",{className:"text-3xl font-mono font-bold",children:["$",I.balance.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Buying Power"}),i.jsxs("div",{className:"text-xl font-mono",children:["$",I.buyingPower.toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})]}),F.length>0&&i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6 pt-6 border-t",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Positions Value"}),i.jsxs("div",{className:"text-xl font-bold",children:["$",qe.totalValue.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Unrealized P&L"}),i.jsxs("div",{className:"text-xl font-bold "+(qe.totalPnL>=0?"text-success":"text-destructive"),children:[qe.totalPnL>=0?"+":"","$",qe.totalPnL.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Realized P&L"}),i.jsxs("div",{className:"text-xl font-bold "+(qe.totalRealizedPnL>=0?"text-success":"text-destructive"),children:[qe.totalRealizedPnL>=0?"+":"","$",qe.totalRealizedPnL.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Open Positions"}),i.jsx("div",{className:"text-xl font-bold",children:F.length})]})]})]})}),i.jsxs(D,{value:ie,onValueChange:oe,children:[i.jsxs(z,{className:"grid w-full grid-cols-2 max-w-md",children:[i.jsxs(q,{value:"overview",className:"flex items-center gap-1",children:[i.jsx(L,{className:"w-4 h-4"})," Overview"]}),i.jsxs(q,{value:"hf-trading",className:"flex items-center gap-1",children:[i.jsx(Q,{className:"w-4 h-4"})," HF Trading",ye&&i.jsx("span",{className:"ml-1 w-2 h-2 bg-success rounded-full animate-pulse"})]})]}),i.jsx(M,{value:"overview",className:"mt-6",children:i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(G,{className:"w-5 h-5"}),"Quick Trade"]}),i.jsx(x,{children:"Click a symbol to start a trade"})]}),i.jsxs(h,{children:[i.jsx("div",{className:"grid grid-cols-4 gap-2",children:le.length>0?le.map(e=>i.jsxs(m,{variant:"outline",className:"flex flex-col h-auto py-3 hover:border-primary",onClick:()=>ze(e.symbol),children:[i.jsx("span",{className:"font-bold",children:e.symbol}),i.jsxs("span",{className:"text-sm",children:["$",e.price.toFixed(2)]}),i.jsxs("span",{className:"text-xs "+(e.changePercent>=0?"text-success":"text-destructive"),children:[e.changePercent>=0?"+":"",e.changePercent.toFixed(2),"%"]})]},e.symbol)):pe.map(e=>i.jsx(m,{variant:"outline",className:"py-6",onClick:()=>ze(e),children:e},e))}),ue&&i.jsx("div",{className:"text-center text-sm text-muted-foreground mt-2",children:"Updating quotes..."})]})]}),i.jsxs(o,{children:[i.jsx(l,{children:i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(_,{className:"w-5 h-5"}),"Current Positions"]})}),i.jsx(h,{children:0===F.length?i.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[i.jsx(k,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No open positions"}),i.jsx("p",{className:"text-sm",children:"Place a trade to get started"})]}):i.jsxs("div",{className:"space-y-3",children:[F.slice(0,5).map(e=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:e.symbol}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.position>0?"+":"",e.position," shares @ $",e.avgCost.toFixed(2)]})]}),i.jsxs("div",{className:"text-right "+(e.unrealizedPnl>=0?"text-success":"text-destructive"),children:[i.jsxs("div",{className:"font-medium",children:[e.unrealizedPnl>=0?"+":"","$",e.unrealizedPnl.toFixed(2)]}),i.jsxs("div",{className:"text-sm",children:["$",e.marketValue.toFixed(2)]})]})]},e.conid)),F.length>5&&i.jsxs(m,{variant:"ghost",className:"w-full",onClick:()=>oe("positions"),children:["View all ",F.length," positions"]})]})})]})]})}),i.jsx(M,{value:"hf-trading",className:"mt-6",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs(o,{className:"border-2 "+(ye?"border-warning bg-warning/5":"border-dashed"),children:[i.jsx(l,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 rounded-full "+(ye?"bg-warning/20":"bg-muted"),children:i.jsx(Q,{className:"w-6 h-6 "+(ye?"text-warning animate-pulse":"text-muted-foreground")})}),i.jsxs("div",{children:[i.jsxs(d,{className:"flex items-center gap-2",children:["High-Frequency Paper Trading",ye&&i.jsxs(y,{className:"bg-warning text-warning-foreground",children:[i.jsx(k,{className:"w-3 h-3 mr-1 animate-pulse"}),"LIVE"]})]}),i.jsx(x,{children:"Terminal-based worker generating 100+ trades/day for En Pensent training"})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Worker Status"}),i.jsx("div",{className:"font-medium "+(ye?"text-warning":"text-muted-foreground"),children:ye?"RUNNING":"OFFLINE"})]})]})}),i.jsxs(h,{children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.total}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Trades"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.today}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Today's Trades"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"text-3xl font-bold font-mono "+(ge.pnl>=0?"text-success":"text-destructive"),children:[ge.pnl>=0?"+":"","$",ge.pnl.toFixed(2)]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total P&L"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono text-warning",children:ye?"30s":"N/A"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Cycle Time"})]})]}),i.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(P,{className:"w-4 h-4"}),i.jsx("span",{children:"Auto-refresh every 5 seconds from Supabase"}),i.jsx("span",{className:"mx-2",children:"•"}),i.jsx("span",{children:"11 symbols: AAPL, MSFT, NVDA, TSLA, AMD, META, GOOGL, AMZN, SPY, QQQ, IWM"})]})]})]}),i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(k,{className:"w-5 h-5"}),"Live Trade Feed",he.length>0&&i.jsxs(y,{variant:"secondary",children:[he.length," recent"]})]}),i.jsx(x,{children:"Real-time trades from high-frequency worker (updates every 5s)"})]}),i.jsx(h,{children:0===he.length?i.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[i.jsx(Q,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{className:"text-lg",children:"No trades yet"}),i.jsx("p",{className:"text-sm",children:"Start the high-frequency worker to see activity"}),i.jsx("code",{className:"block mt-4 p-2 bg-muted rounded text-xs",children:"node farm/workers/high-frequency-paper-trader.mjs"})]}):i.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:he.map(e=>{var t;return i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:["BUY"===e.direction?i.jsx(A,{className:"w-4 h-4 text-success"}):i.jsx(R,{className:"w-4 h-4 text-destructive"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold",children:e.symbol}),i.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleTimeString()})]}),i.jsx(y,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction}),i.jsxs(y,{variant:"outline",className:"text-xs",children:[e.shares," shares"]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Entry"})]}),e.predicted_confidence&&i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-mono",children:[(100*e.predicted_confidence).toFixed(0),"%"]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Conf"})]}),void 0!==e.pnl&&null!==e.pnl&&i.jsxs("div",{className:"text-right font-mono "+(e.pnl>=0?"text-success":"text-destructive"),children:[i.jsxs("div",{children:[e.pnl>=0?"+":"","$",e.pnl.toFixed(2)]}),i.jsx("div",{className:"text-xs",children:"P&L"})]}),i.jsx(y,{variant:"outline",className:"open"===e.status?"bg-success/10 text-success":"bg-muted",children:e.status})]})]},e.id)})})})]}),he.filter(e=>"open"===e.status).length>0&&i.jsxs(o,{children:[i.jsx(l,{children:i.jsxs(d,{className:"text-lg flex items-center gap-2",children:[i.jsx(_,{className:"w-5 h-5"}),"Open HF Positions"]})}),i.jsx(h,{children:i.jsxs(W,{children:[i.jsx(E,{children:i.jsxs(H,{children:[i.jsx(T,{children:"Symbol"}),i.jsx(T,{children:"Side"}),i.jsx(T,{className:"text-right",children:"Shares"}),i.jsx(T,{className:"text-right",children:"Entry"}),i.jsx(T,{className:"text-right",children:"Stop Loss"}),i.jsx(T,{className:"text-right",children:"Take Profit"}),i.jsx(T,{children:"Status"})]})}),i.jsx(O,{children:he.filter(e=>"open"===e.status).map(e=>{var t,n,s;return i.jsxs(H,{children:[i.jsx(Y,{className:"font-bold",children:e.symbol}),i.jsx(Y,{children:i.jsx(y,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction})}),i.jsx(Y,{className:"text-right font-mono",children:e.shares}),i.jsxs(Y,{className:"text-right font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),i.jsxs(Y,{className:"text-right font-mono text-destructive",children:["$",(null==(n=e.stop_loss)?void 0:n.toFixed(2))||"N/A"]}),i.jsxs(Y,{className:"text-right font-mono text-success",children:["$",(null==(s=e.take_profit)?void 0:s.toFixed(2))||"N/A"]}),i.jsx(Y,{children:i.jsx(y,{variant:"outline",className:"bg-success/10 text-success border-success/30",children:"Open"})})]},e.id)})})]})})]})]})})]})]}):i.jsxs(o,{className:"border-warning/50",children:[i.jsx(l,{children:i.jsxs(d,{className:"flex items-center gap-2 text-warning",children:[i.jsx(V,{className:"h-5 w-5"}),"Gateway Running - Login Required"]})}),i.jsxs(h,{className:"space-y-4",children:[i.jsxs(U,{variant:"default",children:[i.jsx(J,{className:"h-4 w-4"}),i.jsx(K,{children:'Bridge is running but not connected to IB Gateway. Open IB Gateway desktop app, log in, then click "Connect to Gateway".'})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(m,{onClick:ne,className:"flex-1",children:[i.jsx(V,{className:"h-4 w-4 mr-2"}),"Connect to Gateway"]}),i.jsxs(m,{variant:"outline",onClick:te,children:[i.jsx(j,{className:"h-4 w-4 mr-2"}),"Check Status"]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"IB Gateway must be running with API enabled (port 4002 for paper trading)."})]})]}):i.jsxs(o,{className:"border-destructive/50",children:[i.jsxs(l,{children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs(d,{className:"flex items-center gap-2 text-destructive",children:[i.jsx(Z,{className:"h-5 w-5"}),"IB Gateway Bridge Not Running"]})}),i.jsx(x,{children:ee||"Start the IBKR Client Portal Gateway to begin trading."})]}),i.jsxs(h,{className:"space-y-4",children:[i.jsxs(U,{children:[i.jsx(J,{className:"h-4 w-4"}),i.jsx(S,{children:"Quick Setup"}),i.jsx(K,{className:"space-y-2",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-2",children:[i.jsxs("li",{children:["Download the ",i.jsx("a",{href:"https://www.interactivebrokers.com/en/trading/ib-api.php",target:"_blank",rel:"noopener",className:"text-primary underline font-medium",children:"IBKR Client Portal Gateway"})]}),i.jsxs("li",{children:["Run ",i.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.sh"})," (Mac) or ",i.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.bat"})," (Windows)"]}),i.jsxs("li",{children:["Login at ",i.jsx("strong",{children:"https://localhost:5000"})," with IBKR credentials"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Using remote access?"})," Click Gateway Settings above and enter your machine's IP"]})]})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(m,{onClick:te,className:"flex-1",children:[i.jsx(j,{className:"h-4 w-4 mr-2"}),"Retry Connection"]}),i.jsxs(m,{variant:"outline",onClick:()=>window.open("https://localhost:5000","_blank"),children:[i.jsx(g,{className:"h-4 w-4 mr-2"}),"Open Gateway"]})]})]})]})}const Ne=()=>i.jsxs("div",{className:"container mx-auto py-8 px-4",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[i.jsx(F,{className:"w-8 h-8 text-primary"}),i.jsxs("h1",{className:"text-4xl font-bold",children:[i.jsx("span",{className:"text-primary",children:"En Pensent™"})," Trading"]})]}),i.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Paper trading powered by Interactive Brokers. Start with simulated funds, graduate to real money when ready."})]}),i.jsx(I,{componentName:"IBKRTradingDashboard",children:i.jsx(we,{})}),i.jsx("p",{className:"text-center text-xs text-muted-foreground mt-8",children:"⚠️ Paper trading uses simulated funds. No real money is at risk. When ready, switch to a live IBKR account for real trading."})]});export{Ne as default};
