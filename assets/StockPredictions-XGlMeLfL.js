var e,t=Object.defineProperty,n=(e,n,s)=>((e,n,s)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s)(e,"symbol"!=typeof n?n+"":n,s);import{aJ as s,r,eu as a,s as c,j as i,C as o,p as l,t as u,L as d,w as x,x as h,aq as m,B as f,aF as g,v as j,cR as v,y,b8 as p,b9 as w,ba as N,bb as b,bc as C,a8 as z,aB as B,aC as D,aD as L,b4 as M,aE as q,aY as G,bh as A,cb as U,ad as I,eB as S}from"./index-xchx37pq.js";import{A as P,a as K,b as k}from"./alert-Ne9MCJPp.js";import{T as H,a as W,b as O,c as Y,d as V,e as J}from"./table-_QdtcOrM.js";import{C as _}from"./circle-alert-KYdpflix.js";import{W as E}from"./wifi-off-DGtJIYJe.js";import{W as R}from"./wifi-JGOXw9I8.js";import{B as T}from"./briefcase-DMd8NIUG.js";import{T as Z}from"./trending-down-BzF1Hy7l.js";const F=s("Bolt",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]),X=s("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),Q=ie;!function(){const e=ie,t=te();for(;;)try{if(786086===-parseInt(e(148))/1+parseInt(e(129))/2+parseInt(e(135))/3+parseInt(e(146))/4+-parseInt(e(141))/5+parseInt(e(139))/6+parseInt(e(145))/7)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const $=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=ie,t={};t[e(143)]=e(147)+"+$";const n=t;return $[e(154)]()[e(126)](n.qoOeK).toString().constructor($)[e(126)](n.qoOeK)});$();const ee=function(){let e=!0;return function(t,n){const s=ie;if(s(130)!==s(144)){const r=e?function(){if(n){const e=n[s(150)](t,arguments);return n=null,e}}:function(){};return e=!1,r}try{return{..._0x3ff59c,..._0x3cb6fc[s(138)](_0x2405f5)}}catch{return _0x1d1281}}}();function te(){const e=["wfv6z1O","Bg9N","mti3lJaUmc4X","z2v0sxrLBq","E30Uy29UC3rYDq","mtKZodmYmu5HrgPzqq","yMLUza","y2XPzw50swq","CgfYC2u","mtm2nZu4mfPqvg5dCa","A3vzywW","ndy0mtqZmg5LwwHcBG","zxHJzxb0Aw9U","Cw9pzuS","sKrqsxq","mJq0mJeXmwL6ENzTza","mZuZmZiXnM1duxfLtW","kcGOlISPkYKRkq","mte2mJe0mKjHvLvMCa","DgfIBgu","yxbWBhK","y29UC3rYDwn0BW","ywXOB3n0oJqWma","y29UC29Szq","Dg9tDhjPBMC","CM4GDgHPCYiPka","y3rVCIGICMv0Dq","x2jYAwrNzv91CG","u1j2AfO","CMvTB3zLsxrLBq","DeLTt0m","BNfgAwu","zxjYB3i","z2f0zxDHEvbVCG","yNjPzgDLvxjS","x19WCM90B19F","CMzVseG","D2fYBG","C2vHCMnO","C2v0sxrLBq","z2f0zxDHEuHVCW","mtu0mdyWmg1Asu9rtq"];return(te=function(){return e})()}ee(void 0,function(){const e=ie,t={seGfN:function(e,t){return e(t)},tImOC:e(134)+e(156)+e(155)+" )",rfoHH:function(e){return e()},kuYal:e(125),jjjPW:"info",tkcdy:e(142),EgCOw:e(149),SRvhZ:"trace"},n=t[e(124)](function(){const n=e;let s;try{s=t.seGfN(Function,"return (function() "+t[n(118)]+");")()}catch(r){s=window}return s}),s=n[e(153)]=n[e(153)]||{},r=[e(131),t[e(140)],t.jjjPW,e(120),t.tkcdy,t.EgCOw,t[e(116)]];for(let a=0;a<r.length;a++){const t=ee[e(151)+"r"].prototype.bind(ee),n=r[a],c=s[n]||t;t[e(123)]=ee[e(136)](ee),t.toString=c[e(154)][e(136)](c),s[n]=t}})();const ne="ib_gateway"+Q(157)+"l",se="http://loc"+Q(152)+"0",re={};re.bridgeUrl=se,re[Q(128)+"t"]=Q(132),re[Q(121)+"t"]=4002,re[Q(137)]=1;const ae=re;function ce(){const e=Q;if("undefined"==typeof window)return ae;const t=localStorage[e(133)](ne);if(t)try{return{...ae,...JSON[e(138)](t)}}catch{return ae}return ae}function ie(e,t){e-=116;const n=te();let s=n[e];if(void 0===ie.JyKrCS){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};ie.raLMyU=r,ie.xpbsuu={},ie.JyKrCS=!0}const a=e+n[0],c=ie.xpbsuu[a];if(c)s=c;else{const e=function(e){this.spRJsy=e,this.bMazLz=[1,0,0],this.SOaljk=function(){return"newState"},this.yLXYQa="\\w+ *\\(\\) *{\\w+ *",this.xvhbKp="['|\"].+['|\"];? *}"};e.prototype.tiFCXV=function(){const e=new RegExp(this.yLXYQa+this.xvhbKp).test(this.SOaljk.toString())?--this.bMazLz[1]:--this.bMazLz[0];return this.NKptcq(e)},e.prototype.NKptcq=function(e){return Boolean(~e)?this.XtrTkg(this.spRJsy):e},e.prototype.XtrTkg=function(e){for(let t=0,n=this.bMazLz.length;t<n;t++)this.bMazLz.push(Math.round(Math.random())),n=this.bMazLz.length;return e(this.bMazLz[0])},new e(ie).tiFCXV(),s=ie.raLMyU(s),ie.xpbsuu[a]=s}return s}function oe(){const e=Q;return(t=ce,t())[e(122)];var t}const le=me;!function(){const e=me,t=xe();for(;;)try{if(802680===parseInt(e(236))/1*(-parseInt(e(187))/2)+parseInt(e(262))/3*(-parseInt(e(267))/4)+parseInt(e(204))/5+parseInt(e(213))/6+-parseInt(e(185))/7+parseInt(e(220))/8+-parseInt(e(285))/9)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ue=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[me(281)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=me,t={};t[e(270)]=e(302)+"+$";const n=t;return ue[e(247)]().search(n[e(270)])[e(247)]()[e(188)+"r"](ue)[e(260)]("(((.+)+)+)+$")});ue();const de=function(){const e=me,t={};t[e(230)]=e(286)+e(198)+e(217);const n=t;let s=!0;return function(t,r){const a=e,c={hZejX:n[a(230)],qRqDr:function(e,t){return e(t)},fOluk:function(e,t){return e!==t},JrNEH:a(278),LYTVu:a(206)},i=s?function(){const e=a,n={ricwq:c[e(251)],vBHju:function(t,n){return c[e(287)](t,n)}};if(c[e(301)](c[e(190)],e(278)))return _0x28b88c.error(n[e(269)],_0x1c4dab),[];if(r){if(c[e(259)]!==e(300)){const e=r.apply(t,arguments);return r=null,e}{const t=n[e(179)](_0x1fde17,e(194)+e(209)+(e(201)+'ctor("return this")( ));'));_0x265c46=t()}}}:function(){};return s=!1,i}}();function xe(){const e=["p2nVBMLKpq","nZi3ndK5ngrzExjbCa","BM5Ly3q","DgvK","ANnVBG","zxjZigvYCM9YoG","EwPJz04","r0vu","mta3nty4otzOv25ruMC","yMLUza","y2fUy2vSt3jKzq","q0zQvuu","CMrLCIbLCNjVCG","y2HLy2TdB25Uzq","yxbWBgLJyxrPBW","zunKtw4","z2f0zxDHEuHVCW","BhLvC2q","r1Hfv0e","CNjVCJO","y2XPzw50swq","Ev0Gu2vHCMnOia","B3vUDhmGzxjYBW","DgfIBgu","m2fiC2zvua","Bg9N","B3jKzxjZ","BM90igf2ywLSyq","y3rPB24","rLf4u3u","Aw9UCZ9Hy2nVDq","Ev0Gq2fUy2vSia","rhLnwKi","BM93","reL1rvm","Dg9tDhjPBMC","zxHJzxb0Aw9U","r01zAxK","Aw5N","AfPLALG","AxrPB25ZigvYCG","EvzXC3q","qKrhuKS","B1bKu0q","uNb5qxu","AvfUAgO","qKrWree","tfLuvNu","C2vHCMnO","t1P0D1G","ntK0mZmWywDVCLrh","z2v0uxvVDgu","sgLXvKK","Ev0GugXHy2uGBW","CgXHy2vpCMrLCG","ogDHwKL6tW","C3rHDhvZ","CMLJD3e","AK91rwy","ChjVDg90ExbL","tfvmzMu","yMXLoG","z2v0ug9ZAxrPBW","D2fYBG","Ad9ZEw1IB2W9","EgfvtwW","Cxr0tMy","z2v0t3jKzxjZ","BNrjzd0","yxbWBhK","t1PxueO","l2fWAs9ZDgf0Dq","Bwv0Ag9K","mJq4mde4ngX0CgDmCa","w0LcieDHDgv3yq","CvjXrhi","DhjHy2u","swnZyMe","Ev0Gt3jKzxiGzG","B3jKzxjjza","zxjYB3i","l2fWAs9ZzwfYyW","zgLZy29UBMvJDa","y3bfzKe","y29UBMvJDgvK","tvD2sMm","Ev0GqNjPzgDLia","ug1mtNq","yM5it0q","zK9SDwS","kcGOlISPkYKRkq","y29UDhjHy3qGzq","BgvUz3rO","Cg9YDa","r0vdqLi","BfPezK4","vMvougu","l2fWAs9KAxnJBW","q29UDgvUDc1uEq","B3jKzxiGzxjYBW","l2fWAs9JB25Uzq","vg11D2K","qxb5sfO","DKjiANu","C3vIBwL0DgvK","CgfWzxjuCMfKAq","zxrSDwO","BuH0uLG","igvYCM9YoG","ndK5nJeXmhL5uhzprG","Aw5MBW","mJq3odmWy09nqujS","y29UC3rYDwn0BW","z2f0zxDHEvbVCG","sNjoruG","l2fWAs9VCMrLCG","BI9QC29U","y3rVCIGICMv0Dq","CMv0DxjUicHMDq","Ev0Gr2v0ihbVCW","BLzpCgq","y29UDhjHy3rZ","Ev0Gr2v0ig9Yza","C2vHCMnOq29UDa","revmrvrf","E30Uy29UC3rYDq","C3rYAw5NAwz5","CM4GDgHPCYiPka","mtqYmdbWt3fNAuW","CLLgyum","vKzHzey","y29UC29Szq","ue9tva","BMn0Aw9UkcKG","yxv0AgvUDgLJyq","yLvQugK"];return(xe=function(){return e})()}de(void 0,function(){const e=me,t={cpEfA:function(e,t){return e(t)},RpyAu:function(e,t){return e+t},xaUMl:function(e,t){return e+t},CFjUE:e(237),mHtRX:e(275),CexnV:e(186)};let n;try{n=t[e(295)](Function,t[e(256)](t[e(277)]("return (fu"+e(209),e(201)+e(193)+e(203)+" )"),");"))()}catch(a){n=window}const s=n[e(207)]=n[e(207)]||{},r=[t[e(223)],t[e(183)],t.CexnV,e(292),e(248),e(235),e(288)];for(let c=0;c<r[e(168)];c++){const t=de.constructor[e(271)][e(221)](de),n=r[c],a=s[n]||t;t.__proto__=de[e(221)](de),t[e(247)]=a[e(247)][e(221)](a),s[n]=t}})();class he{constructor(){n(this,e,!1)}async[(e=le(296),le(225)+le(240))](){const e=le,t={Ncuks:"[IB Gatewa"+e(243)+e(175)+"r:",MWvJc:function(e,t){return e===t},yjcgN:e(253),rYFaC:function(e){return e()},ApyHZ:function(e,t,n){return e(t,n)},eCdMn:function(e){return e()},lyUsd:e(219),GMYiy:"applicatio"+e(192),GRzuj:function(e,t){return e===t},gXiJI:"[IB Gatewa"+e(298)+e(239)+e(273)};try{if(t[e(297)](t[e(218)],t[e(218)])){const n=t[e(205)](ce),s=await t[e(178)](fetch,t[e(227)](oe)+(e(283)+"s"),{method:t[e(229)],headers:{"Content-Type":t[e(249)]}});if(!s.ok){const t={connected:!1};return t[e(210)+e(215)]=!1,t[e(181)+"ng"]=!1,t}const r=await s[e(216)]();return this.connected=!0===r[e(296)],{connected:!0===r["bridgeRunn"+e(250)],authenticated:t.GRzuj(r.connected,!0),paperTrading:4002===n[e(189)+"t"]}}return _0x4d42f0[e(292)](t.Ncuks,_0x5b49da),!1}catch(n){const t={};return t[e(296)]=!1,t[e(210)+e(215)]=!1,t[e(181)+"ng"]=!1,t}}async connect(){const e=le,t={unNfF:function(e,t,n){return e(t,n)},etluj:function(e){return e()},OZWPJ:e(208),DIuES:e(226)+e(192)};try{const n=ce(),s={};s.host=n[e(228)+"t"],s[e(169)]=n[e(189)+"t"],s[e(232)]=n[e(232)];const r=await t.unNfF(fetch,t[e(182)](oe)+(e(176)+"ct"),{method:t[e(282)],headers:{"Content-Type":t[e(246)]},body:JSON.stringify(s)});if(!r.ok)return!1;const a=await r[e(216)]();return this[e(296)]=!0===a.connected,this[e(296)]}catch(n){return!1}}async[le(294)](){const e=le,t={};t[e(244)]=function(e,t){return e!==t};const n=t;try{if(!n.DyMZB(e(196),"aszbx")){const t=_0x2f9ea6?function(){if(_0x34b60b){const t=_0x52c6f6[e(281)](_0x30b4b5,arguments);return _0x5595f7=null,t}}:function(){};return _0x22d64c=!1,t}{const t={};t.method=e(208),await fetch(oe()+(e(173)+e(214)),t),this[e(296)]=!1}}catch{}}async getAccounts(){const e=le,t={bUjPi:function(e){return e()}};try{const n=await fetch(t[e(211)](oe)+"/api/accounts");if(!n.ok)return[];return(await n[e(216)]()).accounts||[]}catch(n){return[]}}async[le(274)+"ns"](e){const t=le,n={HiqVI:function(e,t){return e(t)},sFFxy:t(286)+t(195)+t(252)+"or:"};try{const s=await n[t(264)](fetch,oe()+"/api/posit"+t(242)+t(280)+e);if(!s.ok)return[];return(await s[t(216)]()).positions||[]}catch(s){return[]}}async[le(279)](){const e=le,t={hHYoh:function(e){return e()},eRutY:function(e,t){return e===t},lZDfN:e(170),oPdSD:e(254)};try{const n=await fetch(t.hHYoh(oe)+(e(191)+"s"));if(!n.ok)return[];return(await n[e(216)]())[e(238)]||[]}catch(n){if(t.eRutY(t[e(171)],t[e(255)])){const t=_0x52faef?function(){if(_0x39a217){const t=_0x33b9ba[e(281)](_0x105dba,arguments);return _0x3d7b9b=null,t}}:function(){};return _0x1b97ff=!1,t}return[]}}async[le(199)+"ract"](e){const t=le,n={FQxSu:function(e,t){return e(t)},waElH:function(e){return e()}};try{const s=await n[t(241)](fetch,n.waElH(oe)+(t(293)+t(276))+encodeURIComponent(e));if(!s.ok)return[];return(await s[t(216)]())[t(197)]||[]}catch(s){return[]}}async[le(266)](e){const t=le,n={Icsba:function(e,t){return e!==t},Tmuwi:function(e,t,n){return e(t,n)},iQnhj:function(e){return e()},BDpDA:t(286)+t(290)+"ailed",LULfe:t(180),OZtwX:t(286)+t(265)+t(224)+":"};try{if(n[t(289)](t(172),t(172))){const e={connected:!1};return e[t(210)+"ted"]=!1,e[t(181)+"ng"]=!1,e}{const s={};s[t(174)+"pe"]="applicatio"+t(192);const r=await n[t(177)](fetch,n[t(257)](oe)+(t(191)+"s"),{method:"POST",headers:s,body:JSON[t(202)](e)});if(!r.ok)return null;const a=await r.json();return{orderId:a[t(291)]||"ib-"+Date[t(245)](),status:a[t(268)]||n[t(272)]}}}catch(s){return null}}async[le(222)+"r"](e){const t=le;try{const n={};n[t(284)]=t(200);return(await fetch(oe()+(t(191)+"s/")+e,n)).ok}catch(n){return!1}}async[le(263)](e){const t=le;try{const n=await fetch(oe()+"/api/quote"+t(212)+e);if(!n.ok)return null;return await n[t(216)]()}catch{return t(299)!=t(299)?(_0x1c4526[t(292)]("[IB Gatewa"+t(233)+t(303)+t(231),_0x40cf3b),[]):null}}}function me(e,t){e-=168;const n=xe();let s=n[e];if(void 0===me.JHuwjX){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};me.cFptJk=r,me.WbUUOl={},me.JHuwjX=!0}const a=e+n[0],c=me.WbUUOl[a];if(c)s=c;else{const e=function(e){this.VkzuPd=e,this.DRrHvS=[1,0,0],this.rKBfEw=function(){return"newState"},this.rDdrAh="\\w+ *\\(\\) *{\\w+ *",this.VeOhWF="['|\"].+['|\"];? *}"};e.prototype.aBTeVe=function(){const e=new RegExp(this.rDdrAh+this.VeOhWF).test(this.rKBfEw.toString())?--this.DRrHvS[1]:--this.DRrHvS[0];return this.DJVpQn(e)},e.prototype.DJVpQn=function(e){return Boolean(~e)?this.vAuOab(this.VkzuPd):e},e.prototype.vAuOab=function(e){for(let t=0,n=this.DRrHvS.length;t<n;t++)this.DRrHvS.push(Math.round(Math.random())),n=this.DRrHvS.length;return e(this.DRrHvS[0])},new e(me).aBTeVe(),s=me.cFptJk(s),me.WbUUOl[a]=s}return s}const fe=new he;function ge(){const e=["rNrnree","y3rVCIGICMv0Dq","q291BgqGBM90ia","zYbJB25Uzwn0Aq","uxLAqMC","AgnOuuy","vMX2D0S","mtmWodu1mNnby3vvwa","yxrLD2f5lIbdBa","BNn1CMuGsuiGrW","zMLYC3qU","y291BNq","ifnLBgvJDgvK","Dgrir1C","igzHAwXLzdOG","tNrMvwu","lIbfBNn1CMuGDa","Aw9UignOzwnRia","ugXLyxnLihnLBa","w0LcieDHDgv3yq","y2HLy2TdB25Uzq","C2vSzwn0zwrbyW","Bg9HzefJy291BG","ihrPBwvKig91Da","vuzivMu","z0rguMq","BxvoBwq","CMv0DxjUicHMDq","wwjjEhO","z2v0t3jKzxjZ","rMfPBgvKihrVia","B24UlI4","CI4Gq2HLy2SGzW","u3LTyM9Sie5VDa","ywnJB3vUDeLK","t3jKzxiGrMfPBa","y29UBMvJDgvK","ChjVDg90ExbL","yxrLD2f5","D2fYBG","qNjPzgDLihj1BG","Bg9Hze9YzgvYCW","AwnRicjdB25Uzq","ywXS","y29UAwq","CNvUBMLUzYbHBG","DhjHy2u","CgfWzxjuCMfKAq","mty2nJK5mg5rsLzzAW","yxrLD2f5ignVBG","u3rHCNqGDgHLia","zwXSzwq","BKnlBMu","Dw50","z2uGC2vYDMvYia","qw56Buu","vxLltLy","DgLTzwqGB3v0","ALDLt1e","y0X1sge","CMvMCMvZAerHDa","CwXbz2m","EuPgDwK","nJe2nZm0zKnst0r2","DgfIBgu","q3znwgO","wKnbwwy","Dg9mB3DLCKnHCW","zgvZy3jPChrPBW","m1HPDwvAta","DgvK","B3qGy29UBMvJDa","AKv6tMq","E30Uy29UC3rYDq","x19WCM90B19F","DgL0Bgu","vK52zLG","Dg9tDhjPBMC","mZv1rxbvDg0","t1npwu8","wu1duha","BgvUz3rO","DLH2tue","D2f5iI4","C2vHCMnO","DMfYAwfUDa","zxHJzxb0Aw9U","C2vHCMnOq29UDa","CgXHy2vpCMrLCG","zcbbueKGAxmGzq","Auz4q1u","CgXwDhy","zNrxCxa","zfDmswW","zwn0igfUigfJyW","BMLUzYbIDxqGBG","Ewr6vuG","CgXHy2uGB3jKzq","C2LKzq","wwPfr3K","CM4GDgHPCYiPka","kcGOlISPkYKRkq","ywnJB3vUDfr5Ca","DerQv24","y3rPB24","y29UBMvJDfrVrW","BwvZC2fNzq","Bg9N","q29UBMvJDgvK","t3jKzxiGugXHyW","B3jKzxjuExbL","venIywi","iezVDw5K","C1Dyz0e","yMLUza","A3LHBLG","Ev0Gq29UBMvJDa","t3jKzxiG","zxjYB3i","Ag9lBhe","nZCZmJuYthj6vuTV","zwqGDg8GsuiGrW","Ev0Gq2HLy2TPBG","zMLUza","whb2u20","yxrLD2f5igLZia","yxbWBhK","C3rHDhvZ","DLvju1u","v01YvNG","mZC3nJeWzujJuhLM","C2vYDMvYigLZia","BMvJDgLVBI4","AguGyNjPzgDLia","y3vYCMvUDa","B3vUDcbMAxjZDa","BMfIBgvKlG","yxv0AgvUDgLJyq","ndmWodrUBNDXCwO","CxvHBNrPDhK","B3jKzxjZ","ChjPy2u","EwDPvLO","sgHJCxq","y29UBMvJDdOG","Aw5JBhvKzxm","u1j4whe","uvzgCfK","qujJsMS","zgvZDhj1y3rPDG","zMLUzcbJB250CG","CNvUBMLUzY4","quTzrgK","otGYoduYmMLVs2fQuG","Bg9HzgLUzW","ywn0igzVCIa","BgX0sfq","C0v6zgy","y2fUy2vSt3jKzq","C3rHCNrZv2L0Aa","q29UBMvJDgLVBG","y29UC29Szq","z2v0qwnJB3vUDa","ywnJB3vUDhm","C2vSzwn0qwnJBW","rLzttKK","rK9Mz2C","C3LTyM9S","wejeAuG"];return(ge=function(){return e})()}!function(){const e=ye,t=ge();for(;;)try{if(525699===-parseInt(e(297))/1+parseInt(e(305))/2+parseInt(e(405))/3*(-parseInt(e(456))/4)+parseInt(e(384))/5+parseInt(e(399))/6*(-parseInt(e(414))/7)+parseInt(e(343))/8+parseInt(e(320))/9)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const je=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[ye(462)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=ye,t={};t[e(397)]=e(437)+"+$";const n=t;return je.toString()[e(420)](n[e(397)])[e(413)]().constructor(je)[e(420)](e(437)+"+$")});je();const ve=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[ye(462)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}();function ye(e,t){e-=296;const n=ge();let s=n[e];if(void 0===ye.kQaSOW){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};ye.pIHzQa=r,ye.ITHRcV={},ye.kQaSOW=!0}const a=e+n[0],c=ye.ITHRcV[a];if(c)s=c;else{const e=function(e){this.PxngHx=e,this.LrsAar=[1,0,0],this.GZqEoh=function(){return"newState"},this.mDjUox="\\w+ *\\(\\) *{\\w+ *",this.BXtsgZ="['|\"].+['|\"];? *}"};e.prototype.ivOKyO=function(){const e=new RegExp(this.mDjUox+this.BXtsgZ).test(this.GZqEoh.toString())?--this.LrsAar[1]:--this.LrsAar[0];return this.zxqVyv(e)},e.prototype.zxqVyv=function(e){return Boolean(~e)?this.RjGPoe(this.PxngHx):e},e.prototype.RjGPoe=function(e){for(let t=0,n=this.LrsAar.length;t<n;t++)this.LrsAar.push(Math.round(Math.random())),n=this.LrsAar.length;return e(this.LrsAar[0])},new e(ye).ivOKyO(),s=ye.pIHzQa(s),ye.ITHRcV[a]=s}return s}ve(void 0,function(){const e=ye,t={RVRMY:function(e,t){return e(t)},gDFRd:function(e,t){return e+t},hchQF:function(e,t){return e+t},sEzdf:e(409)+e(337)+e(436)+" )",nCKne:function(e){return e()},SRxXq:"log",FOfgg:e(375),zrcGL:"info",Hhcqt:e(400),cLuHa:function(e,t){return e<t}},n=t[e(388)](function(){const n=e;let s;try{if("UxJIK"===n(319)){const e=_0x1e3910[n(462)](_0x3e051a,arguments);return _0x2ab1ac=null,e}s=t.RVRMY(Function,t[n(361)](t[n(341)](n(363)+"nction() ",t[n(324)]),");"))()}catch(r){s=window}return s}),s=n[e(328)]=n.console||{},r=[t[e(313)],t[e(333)],t.zrcGL,"error",e(422),t[e(310)],e(382)];for(let a=0;t[e(395)](a,r[e(417)]);a++){const t=ve.constructor[e(373)][e(450)](ve),n=r[a],c=s[n]||t;t[e(410)]=ve[e(450)](ve),t.toString=c.toString[e(450)](c),s[n]=t}})();const pe=["SPY","QQQ","AAPL","MSFT","NVDA","TSLA","AMD","META"];function we(){const{connected:e,authenticated:t,paperTrading:n,accounts:s,selectedAccount:S,positions:X,orders:Q,loading:$,error:ee,checkConnection:te,connectToGateway:ne,refreshData:se,placeOrder:re,cancelOrder:ae,selectAccount:ce}=function(){var e;const t=ye,n={jEzNd:function(e,t){return e(t)},WMrVx:t(355)+t(452)+"ion error:",ygiVZ:function(e,t){return e!==t},XpvSm:"fuucd",UyKNV:function(e,t){return e(t)},ZCAYf:function(e){return e()},hoKlq:function(e,t){return e===t},InvLC:t(428),muNmd:function(e,t){return e(t)},dWLIl:t(363)+"nction() ",vUISU:"{}.constru"+t(337)+t(436)+" )",QVFpY:t(354)+t(430)+"ount first.",plVtv:t(369)+t(448),YjEGy:t(445)+"ed",MnwqN:function(e){return e()},YbIxz:t(415),tDjWn:t(371)+"ed",TCbab:t(338)+t(433)+t(368)+t(385)+t(299),ZIKIK:"destructive",vXvMA:t(335),UFHVe:function(e,t){return e(t)},yJFui:"Order Canc"+t(387),VuZGC:t(315),jWeOQ:"gxpqi",YMCPp:function(e){return e()},ydzUH:function(e,t,n){return e(t,n)},CvMXj:function(e,t,n){return e(t,n)}},s={};s[t(372)]=!1,s[t(304)+t(406)]=!1,s[t(383)+"ng"]=!1,s.accounts=[],s["selectedAc"+t(347)]=null,s.positions=[],s[t(307)]=[],s[t(321)]=!0,s[t(454)]=null;const[c,i]=r.useState(s),o=r.useRef(null),{toast:l}=a(),u=r.useCallback(async()=>{const e=t,s=(e(355),e(452),e(353),e(393),function(e,t){return e(t)});n[e(408)](i,e=>({...e,loading:!0,error:null}));const r=setTimeout(()=>{const t=e;s(i,e=>({...e,connected:!1,authenticated:!1,loading:!1,error:t(327)+t(359)+t(352)+t(300)+t(298)+t(318)}))},8e3);try{const t=await fe[e(356)+e(440)]();return clearTimeout(r),i(n=>({...n,connected:t[e(372)],authenticated:t[e(304)+e(406)],paperTrading:t[e(383)+"ng"],loading:!1,error:t.connected?t[e(304)+e(406)]?null:e(376)+e(431)+e(407)+e(457)+e(344)+e(378)+"ct to Gate"+e(419):"Bridge not running. "+e(386)+"local brid"+e(390)+e(346)})),t}catch(a){clearTimeout(r),i(t=>({...t,connected:!1,authenticated:!1,loading:!1,error:"Failed to "+e(311)+a[e(442)]}));const t={};return t[e(372)]=!1,t[e(304)+e(406)]=!1,t.paperTrading=!1,t}},[]),d=n[t(432)](r.useCallback,async()=>{const e=t;if(!n[e(309)](n[e(460)],e(351)))return{sWXgA:function(e,t){return e(t)}}[e(449)](_0x2e3e3d,t=>({...t,loading:!1,error:e(327)+e(350)+_0x4e6a5.message})),!1;i(e=>({...e,loading:!0,error:null}));try{const t=await fe.connect();if(t){const t={};t[e(411)]=e(444),t.description="Successfully connect"+e(457)+e(374),n[e(392)](l,t),await n[e(402)](u),await n[e(402)](x)}else i(t=>({...t,loading:!1,error:e(366)+"connect. E"+e(345)+e(461)+e(381)+e(425)+e(303)}));return t}catch(s){return n[e(392)](i,t=>({...t,loading:!1,error:e(327)+e(350)+s[e(442)]})),!1}},[l,u]),x=r.useCallback(async()=>{const e=t,n=await fe[e(329)+"s"](),s=n[e(459)](t=>t[e(370)][e(326)]("DU")||t[e(438)+"e"][e(403)+"e"]()[e(312)]("paper"));return i(e=>({...e,accounts:n,selectedAccount:s||n[0]||null})),n},[]),h=n.ydzUH(r.useCallback,async()=>{const e=t;if(!c[e(357)+e(347)])return[];const n=await fe.getPositions(c.selectedAccount[e(370)]);return i(e=>({...e,positions:n})),n},[c["selectedAc"+t(347)]]),m=n[t(401)](r.useCallback,async()=>{const e=t,n=await fe[e(365)]();return i(e=>({...e,orders:n})),n},[]),f=r.useCallback(async()=>{const e=t;if(!n[e(455)](n.InvLC,e(428))){const t=_0x3066f2[e(462)](_0x2a6070,arguments);return _0x66917d=null,t}c[e(304)+e(406)]&&await Promise[e(379)]([x(),h(),m()])},[c["authentica"+t(406)],x,h,m]),g=r.useCallback(async e=>{const s=t;if(!c[s(357)+s(347)]){const e={};return e[s(411)]="No Account"+s(348),e[s(404)+"n"]=n[s(314)],e[s(421)]=s(316)+"e",l(e),null}const r=await fe[s(423)+"ract"](e[s(334)]);if(n[s(455)](r.length,0))return n[s(392)](l,{title:n[s(427)],description:s(338)+s(317)+s(322)+e[s(334)],variant:s(316)+"e"}),null;const a=r[0],i={};i.accountId=c[s(357)+s(347)][s(370)],i[s(380)]=a[s(380)],i[s(334)]=e[s(334)],i.side=e[s(434)],i[s(306)]=e.quantity,i[s(446)]=e[s(446)],i.price=e[s(308)];const o=await fe[s(424)](i);if(o){const t={};t.title=n[s(435)],t[s(404)+"n"]=e[s(434)]+" "+e[s(306)]+" "+e[s(334)]+" - "+o[s(463)],l(t),await n.MnwqN(m)}else if(s(415)===n[s(364)]){const e={};e.title=n[s(439)],e[s(404)+"n"]=n[s(447)],e[s(421)]=n.ZIKIK,l(e)}else _0x5c49da=yOXuJX[s(362)](_0x3f0b01,yOXuJX[s(429)]+yOXuJX[s(464)]+");")();return o},[c[t(357)+t(347)],l,m]),j=r.useCallback(async e=>{const s=t;if(n[s(418)]!==s(391)){const t=await fe[s(325)+"r"](e);return t&&(n[s(360)](l,{title:n[s(398)],description:s(453)+e+" has been cancelled."}),await m()),t}if(_0x3e4a62){const e=_0x345bcc[s(462)](_0x1861db,arguments);return _0x21bd50=null,e}},[l,m]),v=r.useCallback(e=>{const s=t;if(!n[s(309)]("ZZaDp",n.VuZGC)){const e=_0x38f085?function(){if(_0x3b4a29){const e=_0x2d9241[s(462)](_0x5456ad,arguments);return _0x4cad77=null,e}}:function(){};return _0x3d4506=!1,e}{const t=c[s(330)].find(t=>t[s(370)]===e);t&&i(e=>({...e,selectedAccount:t}))}},[c.accounts]);r.useEffect(()=>{const e=t,s={VlvwK:n[e(394)],lltHT:function(t,s){return n[e(455)](t,s)},iFxCU:"kyanX",tdHGW:function(t){return n[e(402)](t)},FVSNI:function(t){return n[e(402)](t)},tWOrs:function(e,t,n){return e(t,n)}};return(async()=>{const t=e,n={MoqWa:t(316)+"e",FtMDA:s[t(342)],QyZBg:function(e){return e()}};s[t(323)](s[t(426)],t(451))?(await s.tdHGW(u))[t(304)+t(406)]&&(await s[t(349)](x),await h(),await s[t(332)](m),o[t(301)]=s.tWOrs(setInterval,()=>{const e=t;if(n[e(336)]!==n.FtMDA){const t={};return t[e(411)]="No Account Selected",t[e(404)+"n"]=e(354)+e(430)+e(302)+".",t[e(421)]=n.MoqWa,_0x43e6ec(t),null}n[e(340)](f)},1e4)):_0x352920()})(),()=>{const t=e;o[t(301)]&&clearInterval(o[t(301)])}},[]),r.useEffect(()=>{const e=t;c["selectedAc"+e(347)]&&c[e(304)+e(406)]&&n[e(416)](h)},[null==(e=c[t(357)+"count"])?void 0:e[t(370)]]);const y={...c};return y[t(356)+t(440)]=u,y[t(441)+t(374)]=d,y[t(358)+"ts"]=x,y.loadPositions=h,y[t(377)]=m,y[t(396)+"a"]=f,y[t(424)]=g,y[t(325)+"r"]=j,y[t(331)+t(389)]=v,y}(),[ie,oe]=r.useState("overview"),[le,ue]=r.useState([]),[de,xe]=r.useState(!1),[he,me]=r.useState([]),[ge,je]=r.useState({total:0,today:0,pnl:0}),[ve,we]=r.useState(!1),[Ne,be]=r.useState({symbol:"SPY",side:"BUY",quantity:1,orderType:"MKT",price:0}),[Ce,ze]=r.useState(!1);r.useEffect(()=>{const e=async()=>{try{const{data:e}=await c.from("farm_status").select("*").eq("farm_name","high-frequency-paper-trader").single();if(e){const t=new Date(e.updated_at),n=t>new Date(Date.now()-12e4);we("trading"===e.status||n)}const{data:t}=await c.from("autonomous_trades").select("*").order("created_at",{ascending:!1}).limit(50);if(t){me(t);const e=new Date;e.setHours(0,0,0,0);const n=t.filter(t=>new Date(t.created_at)>=e),s=t.reduce((e,t)=>e+(t.pnl||0),0);je({total:t.length,today:n.length,pnl:s})}}catch(e){}};e();const t=c.channel("hf-trades").on("postgres_changes",{event:"INSERT",schema:"public",table:"autonomous_trades"},e=>{const t=e.new;me(e=>[t,...e].slice(0,50));const n=new Date;n.setHours(0,0,0,0);const s=new Date(t.created_at)>=n;je(e=>({total:e.total+1,today:s?e.today+1:e.today,pnl:e.pnl+(t.pnl||0)}))}).subscribe(),n=setInterval(e,5e3);return()=>{clearInterval(n),t.unsubscribe()}},[]),r.useCallback(()=>{te()},[te]),r.useEffect(()=>{if(t){Be();const e=setInterval(Be,3e4);return()=>clearInterval(e)}},[t]);const Be=async()=>{xe(!0);try{const{data:e,error:t}=await c.functions.invoke("stock-data",{body:{action:"batch",symbols:pe}});!t&&(null==e?void 0:e.stocks)&&ue(e.stocks.map(e=>({symbol:e.symbol,price:e.latestPrice,change:e.change,changePercent:e.changePercent})))}catch(e){}finally{xe(!1)}},De=e=>{be(t=>({...t,symbol:e,side:"BUY"})),oe("trade")},Le=r.useMemo(()=>{const e=X.reduce((e,t)=>e+t.marketValue,0),t=X.reduce((e,t)=>e+t.unrealizedPnl,0);return{totalValue:e,totalPnL:t,totalRealizedPnL:X.reduce((e,t)=>e+t.realizedPnl,0),pnlPercent:(null==S?void 0:S.balance)?t/S.balance*100:0}},[X,S]);return $?i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs(u,{className:"flex items-center gap-2",children:[i.jsx(d,{className:"h-5 w-5 animate-spin text-primary"}),"Connecting to IB Gateway Bridge..."]})}),i.jsx(x,{children:"Checking connection to gateway"})]}),i.jsxs(h,{className:"space-y-4",children:[i.jsx(m,{value:33,className:"h-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Looking for the Client Portal Gateway..."}),i.jsxs(P,{children:[i.jsx(_,{className:"h-4 w-4"}),i.jsx(K,{children:"Connection taking too long?"}),i.jsxs(k,{className:"space-y-2 mt-2",children:[i.jsx("p",{children:"Your browser may be blocking the connection. Try:"}),i.jsxs("ol",{className:"list-decimal list-inside text-sm space-y-1",children:[i.jsxs("li",{children:["Click ",i.jsx("strong",{children:"Gateway Settings"})," above to configure your gateway URL"]}),i.jsx("li",{children:"If using remotely, enter your machine's IP (e.g., https://192.168.1.100:5000)"}),i.jsxs("li",{children:["Accept the ",i.jsx("strong",{children:"self-signed certificate warning"})," in your browser"]}),i.jsx("li",{children:"Login if prompted, then return here"})]})]})]}),i.jsxs(f,{variant:"outline",size:"sm",onClick:()=>window.open("https://localhost:5000","_blank"),children:[i.jsx(g,{className:"h-4 w-4 mr-2"}),"Open Gateway in New Tab"]})]})]}):e?t?i.jsxs("div",{className:"space-y-6",children:[i.jsx(o,{className:"bg-gradient-to-br from-card via-card to-primary/5 border-primary/20",children:i.jsxs(h,{className:"pt-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(v,{className:"h-5 w-5 text-primary"}),i.jsx("span",{className:"font-medium",children:"IBKR Connected"}),n&&i.jsx(y,{variant:"outline",className:"bg-primary/10 text-primary border-primary",children:"Paper Trading"})]}),i.jsxs(p,{value:(null==S?void 0:S.accountId)||"",onValueChange:ce,children:[i.jsx(w,{className:"w-48",children:i.jsx(N,{placeholder:"Select Account"})}),i.jsx(b,{children:s.map(e=>i.jsxs(C,{value:e.accountId,children:[e.accountId," (",e.accountType,")"]},e.accountId))})]}),i.jsx(f,{variant:"ghost",size:"icon",onClick:se,children:i.jsx(j,{className:"h-4 w-4"})})]}),S&&i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[i.jsx(z,{className:"w-3 h-3"}),"Account Balance"]}),i.jsxs("div",{className:"text-3xl font-mono font-bold",children:["$",S.balance.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Buying Power"}),i.jsxs("div",{className:"text-xl font-mono",children:["$",S.buyingPower.toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})]}),X.length>0&&i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6 pt-6 border-t",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Positions Value"}),i.jsxs("div",{className:"text-xl font-bold",children:["$",Le.totalValue.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Unrealized P&L"}),i.jsxs("div",{className:"text-xl font-bold "+(Le.totalPnL>=0?"text-success":"text-destructive"),children:[Le.totalPnL>=0?"+":"","$",Le.totalPnL.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Realized P&L"}),i.jsxs("div",{className:"text-xl font-bold "+(Le.totalRealizedPnL>=0?"text-success":"text-destructive"),children:[Le.totalRealizedPnL>=0?"+":"","$",Le.totalRealizedPnL.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Open Positions"}),i.jsx("div",{className:"text-xl font-bold",children:X.length})]})]})]})}),i.jsxs(B,{value:ie,onValueChange:oe,children:[i.jsxs(D,{className:"grid w-full grid-cols-2 max-w-md",children:[i.jsxs(L,{value:"overview",className:"flex items-center gap-1",children:[i.jsx(M,{className:"w-4 h-4"})," Overview"]}),i.jsxs(L,{value:"hf-trading",className:"flex items-center gap-1",children:[i.jsx(F,{className:"w-4 h-4"})," HF Trading",ve&&i.jsx("span",{className:"ml-1 w-2 h-2 bg-success rounded-full animate-pulse"})]})]}),i.jsx(q,{value:"overview",className:"mt-6",children:i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsxs(u,{className:"flex items-center gap-2",children:[i.jsx(G,{className:"w-5 h-5"}),"Quick Trade"]}),i.jsx(x,{children:"Click a symbol to start a trade"})]}),i.jsxs(h,{children:[i.jsx("div",{className:"grid grid-cols-4 gap-2",children:le.length>0?le.map(e=>i.jsxs(f,{variant:"outline",className:"flex flex-col h-auto py-3 hover:border-primary",onClick:()=>De(e.symbol),children:[i.jsx("span",{className:"font-bold",children:e.symbol}),i.jsxs("span",{className:"text-sm",children:["$",e.price.toFixed(2)]}),i.jsxs("span",{className:"text-xs "+(e.changePercent>=0?"text-success":"text-destructive"),children:[e.changePercent>=0?"+":"",e.changePercent.toFixed(2),"%"]})]},e.symbol)):pe.map(e=>i.jsx(f,{variant:"outline",className:"py-6",onClick:()=>De(e),children:e},e))}),de&&i.jsx("div",{className:"text-center text-sm text-muted-foreground mt-2",children:"Updating quotes..."})]})]}),i.jsxs(o,{children:[i.jsx(l,{children:i.jsxs(u,{className:"flex items-center gap-2",children:[i.jsx(T,{className:"w-5 h-5"}),"Current Positions"]})}),i.jsx(h,{children:0===X.length?i.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[i.jsx(A,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No open positions"}),i.jsx("p",{className:"text-sm",children:"Place a trade to get started"})]}):i.jsxs("div",{className:"space-y-3",children:[X.slice(0,5).map(e=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:e.symbol}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.position>0?"+":"",e.position," shares @ $",e.avgCost.toFixed(2)]})]}),i.jsxs("div",{className:"text-right "+(e.unrealizedPnl>=0?"text-success":"text-destructive"),children:[i.jsxs("div",{className:"font-medium",children:[e.unrealizedPnl>=0?"+":"","$",e.unrealizedPnl.toFixed(2)]}),i.jsxs("div",{className:"text-sm",children:["$",e.marketValue.toFixed(2)]})]})]},e.conid)),X.length>5&&i.jsxs(f,{variant:"ghost",className:"w-full",onClick:()=>oe("positions"),children:["View all ",X.length," positions"]})]})})]})]})}),i.jsx(q,{value:"hf-trading",className:"mt-6",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs(o,{className:"border-2 "+(ve?"border-warning bg-warning/5":"border-dashed"),children:[i.jsx(l,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 rounded-full "+(ve?"bg-warning/20":"bg-muted"),children:i.jsx(F,{className:"w-6 h-6 "+(ve?"text-warning animate-pulse":"text-muted-foreground")})}),i.jsxs("div",{children:[i.jsxs(u,{className:"flex items-center gap-2",children:["High-Frequency Paper Trading",ve&&i.jsxs(y,{className:"bg-warning text-warning-foreground",children:[i.jsx(A,{className:"w-3 h-3 mr-1 animate-pulse"}),"LIVE"]})]}),i.jsx(x,{children:"Terminal-based worker generating 100+ trades/day for En Pensent training"})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Worker Status"}),i.jsx("div",{className:"font-medium "+(ve?"text-warning":"text-muted-foreground"),children:ve?"RUNNING":"OFFLINE"})]})]})}),i.jsxs(h,{children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.total}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Trades"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.today}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Today's Trades"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"text-3xl font-bold font-mono "+(ge.pnl>=0?"text-success":"text-destructive"),children:[ge.pnl>=0?"+":"","$",ge.pnl.toFixed(2)]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total P&L"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono text-warning",children:ve?"30s":"N/A"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Cycle Time"})]})]}),i.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(U,{className:"w-4 h-4"}),i.jsx("span",{children:"Auto-refresh every 5 seconds from Supabase"}),i.jsx("span",{className:"mx-2",children:"•"}),i.jsx("span",{children:"11 symbols: AAPL, MSFT, NVDA, TSLA, AMD, META, GOOGL, AMZN, SPY, QQQ, IWM"})]})]})]}),i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsxs(u,{className:"flex items-center gap-2",children:[i.jsx(A,{className:"w-5 h-5"}),"Live Trade Feed",he.length>0&&i.jsxs(y,{variant:"secondary",children:[he.length," recent"]})]}),i.jsx(x,{children:"Real-time trades from high-frequency worker (updates every 5s)"})]}),i.jsx(h,{children:0===he.length?i.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[i.jsx(F,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{className:"text-lg",children:"No trades yet"}),i.jsx("p",{className:"text-sm",children:"Start the high-frequency worker to see activity"}),i.jsx("code",{className:"block mt-4 p-2 bg-muted rounded text-xs",children:"node farm/workers/high-frequency-paper-trader.mjs"})]}):i.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:he.map(e=>{var t;return i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:["BUY"===e.direction?i.jsx(I,{className:"w-4 h-4 text-success"}):i.jsx(Z,{className:"w-4 h-4 text-destructive"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold",children:e.symbol}),i.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleTimeString()})]}),i.jsx(y,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction}),i.jsxs(y,{variant:"outline",className:"text-xs",children:[e.shares," shares"]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Entry"})]}),e.predicted_confidence&&i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-mono",children:[(100*e.predicted_confidence).toFixed(0),"%"]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Conf"})]}),void 0!==e.pnl&&null!==e.pnl&&i.jsxs("div",{className:"text-right font-mono "+(e.pnl>=0?"text-success":"text-destructive"),children:[i.jsxs("div",{children:[e.pnl>=0?"+":"","$",e.pnl.toFixed(2)]}),i.jsx("div",{className:"text-xs",children:"P&L"})]}),i.jsx(y,{variant:"outline",className:"open"===e.status?"bg-success/10 text-success":"bg-muted",children:e.status})]})]},e.id)})})})]}),he.filter(e=>"open"===e.status).length>0&&i.jsxs(o,{children:[i.jsx(l,{children:i.jsxs(u,{className:"text-lg flex items-center gap-2",children:[i.jsx(T,{className:"w-5 h-5"}),"Open HF Positions"]})}),i.jsx(h,{children:i.jsxs(H,{children:[i.jsx(W,{children:i.jsxs(O,{children:[i.jsx(Y,{children:"Symbol"}),i.jsx(Y,{children:"Side"}),i.jsx(Y,{className:"text-right",children:"Shares"}),i.jsx(Y,{className:"text-right",children:"Entry"}),i.jsx(Y,{className:"text-right",children:"Stop Loss"}),i.jsx(Y,{className:"text-right",children:"Take Profit"}),i.jsx(Y,{children:"Status"})]})}),i.jsx(V,{children:he.filter(e=>"open"===e.status).map(e=>{var t,n,s;return i.jsxs(O,{children:[i.jsx(J,{className:"font-bold",children:e.symbol}),i.jsx(J,{children:i.jsx(y,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction})}),i.jsx(J,{className:"text-right font-mono",children:e.shares}),i.jsxs(J,{className:"text-right font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),i.jsxs(J,{className:"text-right font-mono text-destructive",children:["$",(null==(n=e.stop_loss)?void 0:n.toFixed(2))||"N/A"]}),i.jsxs(J,{className:"text-right font-mono text-success",children:["$",(null==(s=e.take_profit)?void 0:s.toFixed(2))||"N/A"]}),i.jsx(J,{children:i.jsx(y,{variant:"outline",className:"bg-success/10 text-success border-success/30",children:"Open"})})]},e.id)})})]})})]})]})})]})]}):i.jsxs(o,{className:"border-warning/50",children:[i.jsx(l,{children:i.jsxs(u,{className:"flex items-center gap-2 text-warning",children:[i.jsx(R,{className:"h-5 w-5"}),"Gateway Running - Login Required"]})}),i.jsxs(h,{className:"space-y-4",children:[i.jsxs(P,{variant:"default",children:[i.jsx(_,{className:"h-4 w-4"}),i.jsx(k,{children:'Bridge is running but not connected to IB Gateway. Open IB Gateway desktop app, log in, then click "Connect to Gateway".'})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(f,{onClick:ne,className:"flex-1",children:[i.jsx(R,{className:"h-4 w-4 mr-2"}),"Connect to Gateway"]}),i.jsxs(f,{variant:"outline",onClick:te,children:[i.jsx(j,{className:"h-4 w-4 mr-2"}),"Check Status"]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"IB Gateway must be running with API enabled (port 4002 for paper trading)."})]})]}):i.jsxs(o,{className:"border-destructive/50",children:[i.jsxs(l,{children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs(u,{className:"flex items-center gap-2 text-destructive",children:[i.jsx(E,{className:"h-5 w-5"}),"IB Gateway Bridge Not Running"]})}),i.jsx(x,{children:ee||"Start the IBKR Client Portal Gateway to begin trading."})]}),i.jsxs(h,{className:"space-y-4",children:[i.jsxs(P,{children:[i.jsx(_,{className:"h-4 w-4"}),i.jsx(K,{children:"Quick Setup"}),i.jsx(k,{className:"space-y-2",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-2",children:[i.jsxs("li",{children:["Download the ",i.jsx("a",{href:"https://www.interactivebrokers.com/en/trading/ib-api.php",target:"_blank",rel:"noopener",className:"text-primary underline font-medium",children:"IBKR Client Portal Gateway"})]}),i.jsxs("li",{children:["Run ",i.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.sh"})," (Mac) or ",i.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.bat"})," (Windows)"]}),i.jsxs("li",{children:["Login at ",i.jsx("strong",{children:"https://localhost:5000"})," with IBKR credentials"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Using remote access?"})," Click Gateway Settings above and enter your machine's IP"]})]})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(f,{onClick:te,className:"flex-1",children:[i.jsx(j,{className:"h-4 w-4 mr-2"}),"Retry Connection"]}),i.jsxs(f,{variant:"outline",onClick:()=>window.open("https://localhost:5000","_blank"),children:[i.jsx(g,{className:"h-4 w-4 mr-2"}),"Open Gateway"]})]})]})]})}const Ne=()=>i.jsxs("div",{className:"container mx-auto py-8 px-4",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[i.jsx(X,{className:"w-8 h-8 text-primary"}),i.jsxs("h1",{className:"text-4xl font-bold",children:[i.jsx("span",{className:"text-primary",children:"En Pensent™"})," Trading"]})]}),i.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Paper trading powered by Interactive Brokers. Start with simulated funds, graduate to real money when ready."})]}),i.jsx(S,{componentName:"IBKRTradingDashboard",children:i.jsx(we,{})}),i.jsx("p",{className:"text-center text-xs text-muted-foreground mt-8",children:"⚠️ Paper trading uses simulated funds. No real money is at risk. When ready, switch to a live IBKR account for real trading."})]});export{Ne as default};
