import{d6 as e,d7 as t,d8 as n,cp as s,a as r,u as a,r as i,J as o,o as l,s as c,aH as u,aa as d,cM as m,j as h,L as x,C as f,x as p,D as g,B as v,A as w,p as j,t as y,cN as b,bC as N,S as z,a6 as C,P as D,y as L,bG as M,T as B,aq as q,z as A,cU as E,aj as _,aT as G,ca as P,b as S,d9 as U}from"./index-UzGFh8Yo.js";!function(){const e=T,t=I();for(;;)try{if(224415===-parseInt(e(208))/1+parseInt(e(250))/2+parseInt(e(333))/3+parseInt(e(226))/4+-parseInt(e(201))/5*(-parseInt(e(258))/6)+-parseInt(e(160))/7+-parseInt(e(238))/8*(parseInt(e(195))/9))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const O=function(){const e=T,t={};t.ChodM=e(267);const n=t;let s=!0;return function(t,r){const a=e;if(n[a(196)]===a(267)){const e=s?function(){if(r){const e=r.apply(t,arguments);return r=null,e}}:function(){};return s=!1,e}if(_0x57f87a){const e=_0x3d9c67[a(169)](_0x1d436c,arguments);return _0x2609e2=null,e}}}()(void 0,function(){const e=T,t={};t[e(182)]=e(296)+"+$";const n=t;return O.toString()[e(210)](n[e(182)])[e(294)]()[e(212)+"r"](O)[e(210)]("(((.+)+)+)+$")});O();const W=function(){const e=T,t={bByAy:function(e,t){return e!==t}};t[e(260)]=e(318);const n=t;let s=!0;return function(t,r){const a=e,i={icPzI:function(e,t){return n[T(142)](e,t)},OZgSq:n[a(260)]},o=s?function(){const e=a;if(i[e(120)](i[e(219)],"ATLQo")){if(_0x21f5a4){const t=_0x635d28[e(169)](_0x6e96d1,arguments);return _0x169fe4=null,t}}else if(r){const n=r[e(169)](t,arguments);return r=null,n}}:function(){};return s=!1,o}}();W(void 0,function(){const e=T,t={woJXS:function(e,t){return e(t)},gViUd:function(e,t){return e+t},TJLlF:function(e){return e()},KpANa:e(275),klVMs:"exception",pisyh:e(312),OUlDU:e(239)},n=t.TJLlF(function(){const n=e;let s;try{s=t[n(251)](Function,t.gViUd(n(297)+n(308)+(n(137)+'ctor("retu')+n(162)+" )",");"))()}catch(r){s=window}return s}),s=n[e(173)]=n.console||{},r=["log",e(148),t[e(202)],e(243),t[e(123)],t[e(165)],t[e(336)]];for(let a=0;a<r.length;a++){const t=W.constructor[e(116)][e(302)](W),n=r[a],i=s[n]||t;t[e(171)]=W.bind(W),t[e(294)]=i[e(294)][e(302)](i),s[n]=t}})();function I(){const e=["C0TUC28","DhPUu1a","ELr3Aee","ndaWideXChGGjW","4PMuievoifbftLnf","yMvNAw5qyxrO","wxPnzw4","y2XPCa","qurIvgG","vKXHq3K","D2LKDgG","C3rYB2TLu3r5Ba","BgLUzvDPzhrO","mtHUA2TKB3O","q2HVze0","Bw92zxm","zMLSBfrLEhq","AgvPz2H0","yMPpsNC","nxPJs1verq","s3bbtMe","CgvPrgK","vu9OuuC","Ahr0Chm6lY9LBG","DhjHBNnWyxjLBG","i2e4yti5zq","nJy0ntDhz3z4ChO","C3rYB2TL","C2vHCMnO","iZC4nZe2yW","y29UC3rYDwn0BW","y3jLyxrLrwXLBq","psjODhrWoI8VDW","vw5RBM93BG","BwvHC3vYzvrLEa","B1bcvwu","Aw1Hz2vtBw9VDa","t1PNu3e","CgvUC2vUDc5JBW","Bgf5zxjtAxPL","zM9UDa","y29SB3i","A3Lvu1C","z0DswLy","mty0oduZnNfozNrPqW","nJaWidi0ChGGjW","BwvZlcbZzxjPzG","zw9Yz2LHlcbZzq","vgLTzxmGtMv3ia","phjLy3qGEd0I","BgLUzvrV","CvPiAxK","z3z5teO","BgvMDa","AgLNAa","zMLSBfn0EwXL","mJyZndi0mfbYB1n4qW","DhjHy2u","idiWChGGj0nVCG","iZq0ndaZyW","B3jSD3u","zxjYB3i","rKnXv3K","yNHisg4","B25SB2fK","svvTqKS","zMLSBa","Dg9vChbLCKnHCW","ndK1nteWzgX0venw","D29kwfm","Cfb5DNm","tMnKDvO","qLfJwgm","B3jWwgi","y29T","C3bSAxq","otu1ndG4tuz3EfHJ","BwLU","EfPjvLe","lI4U","rMfPBgvKihrVia","nJaWideZChGGjW","yM9YzgvY","Bw92zvrV","zMLSBfjLy3q","AuneCNe","t2L2zxC","DgPYu0K","qvjLq2C","i0zerKngqG","CMLM","uwj3tKi","EfDID1q","Aw5MBW","zfPiAva","yK15wNm","D2HPDgu","AgLUz1f1ywXPDa","zfnethm","icdIGkiGia","qM1pv0y","Dgv4DefSAwDU","CMvKDwnL","CgLLy2u","vu9VzLO","txf2C00","ywXWAgfIzxrPyW","zufUthm","ywXS","DKTsC1y","tLqG4PMA","z3rXuvm","Dg9tDhjPBMC","zw50","kcGOlISPkYKRkq","CMv0DxjUicHMDq","z29TAgW","CKnXthq","CM91BMrszwn0","BgLNAhq","yMLUza","Axv3Bg0","y3rvuKW","yxjJ","Eg1So2nOyxjZzq","zhrOpsi","BMn0Aw9UkcKG","Bw9Yyw50jYWGrW","phjLy3qGEd0Ima","zhD2Axe","DgfIBgu","DMLZAxrZ","Dg9eyxrHvvjm","rhfttwC","sLzeqMC","uM9Tyw4NlcbuAq","qvrmuw8","wNP5s3C","AuXszgK","CeP0rw4","C2f2zq","Aw1Hz2uVC3zNkW","C3jJ","ndaWideWChGGjW","r0z1C2W","AgLUz0vUywjSzq","twDyu1O","Aw5JBhvKzxm","uM9Tyw4NlcbZzq","BNmTC2vYAwy","zgf0zq","odK5mduYD0XPs05Z","Bg9HzcbtvKC","tMfqre4","t1vSrfu","DKTYBMe","iZfbmueXqq","C2nHBgu","phn2zYb4BwXUCW","BhPOA2K","iZi5mJuYna","iJaGmca","CMDIysGYntuSia","ue5Qy1a","sgPQqLa","yLjgAuO","zxzLBNq","y3jLyxrLt2jQzq","CMvZDg9Yzq","ChjVDg90ExbL","Dd11DgyToa","iIbMAwXSpsi","iI8+","AwnqEKK","Dgv4DejHC2vSAq","uuftzgy","A2Xwtxm","DhLWzq","y2fUDMfZ","sw50zxiNlcbZyq","ide4ChGGj0nVCG","v1P3rvu","z0fpweO","iIbOzwLNAhq9iG","zgvMyxvSDa","yw5VBNLTB3vZ","B25LCNjVCG","yu9AC2W","iIb2Awv3qM94pq","D2LKDgG9iG","E30Uy29UC3rYDq","ntaWideXChGGjW","D3CUDZmUB3jNlW","z1DzruG","q2LUEMvSjYWGjW","yKj5qxK","v2HPDgu","t1Dst2S","rhfZvxG","zgfYAW","iIb3Awr0Ad0I","D2fYBG","zhjHD0LTywDL","AxrHBgLJiduWma","y3jVC3npCMLNAq","zw5Wzw5Zzw50lG","AfnNBMi","BgvUz3rO","ru4Guevou0vova","C3vIC3rYAw5N","CMvHzhK","iZbbmeeWqq","CMv2B2TLt2jQzq","mte4ntCYm2zLzvbYvq","zLH5rNe","CM4GDgHPCYiPka","AeDPtLa","y2vUDgvY","CgLZEwG","BwLKzgXL","pc9ZDMC+","BuzWwvO","yxbWBhK","tMLYwvq","x19WCM90B19F","rwnosKW","y29UC29Szq","iIb5psiWiIb3Aq","zM9UDhm","iIb5psi","z2v0q29UDgv4Da","D1LNy1K","yNbABeq","DNrmuei","u3vbtM8"];return(I=function(){return e})()}async function Y(){const e=T;document[e(175)]&&document[e(175)][e(157)]&&await document[e(175)][e(157)],await new Promise(e=>setTimeout(e,150))}function T(e,t){e-=107;const n=I();let s=n[e];if(void 0===T.bMBlTo){var r=function(e){let t="",n="",s=t+r;for(let r,a,i=0,o=0;a=e.charAt(o++);~a&&(r=i%4?64*r+a:a,i++%4)?t+=s.charCodeAt(o+10)-10!=0?String.fromCharCode(255&r>>(-2*i&6)):i:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};T.VYxynV=r,T.xniRCB={},T.bMBlTo=!0}const a=e+n[0],i=T.xniRCB[a];if(i)s=i;else{const e=function(e){this.ggBOAM=e,this.XIEBRR=[1,0,0],this.UzTpLR=function(){return"newState"},this.gOUdUq="\\w+ *\\(\\) *{\\w+ *",this.uaeORo="['|\"].+['|\"];? *}"};e.prototype.oQyVxR=function(){const e=new RegExp(this.gOUdUq+this.uaeORo).test(this.UzTpLR.toString())?--this.XIEBRR[1]:--this.XIEBRR[0];return this.KjiLSY(e)},e.prototype.KjiLSY=function(e){return Boolean(~e)?this.YlAZQD(this.ggBOAM):e},e.prototype.YlAZQD=function(e){for(let t=0,n=this.XIEBRR.length;t<n;t++)this.XIEBRR.push(Math.round(Math.random())),n=this.XIEBRR.length;return e(this.XIEBRR[0])},new e(T).oQyVxR(),s=T.VYxynV(s),T.xniRCB[a]=s}return s}function k(n,s){const r=T,a={};a[r(200)]=function(e,t){return e+t},a[r(282)]=function(e,t){return e*t},a[r(244)]=function(e,t){return e<t},a[r(276)]=function(e,t){return e+t},a[r(291)]=function(e,t){return e*t},a.iLRdi=function(e,t){return e-t},a.zTwhA=function(e,t){return e<t},a[r(252)]=function(e,t){return e===t},a.bpZlD=function(e,t){return e+t},a[r(172)]=r(167);const i=a,o=s/8,l=.02*s,c=s+i[r(282)](l,2);let u=r(340)+r(214)+r(139)+'2000/svg" '+r(136)+c+r(130)+c+(r(135)+r(108))+c+" "+c+'">';u+=r(310)+r(174)+r(307)+c+r(130)+c+r(118)+e[r(264)]+r(119);for(let d=0;d<8;d++){const s=7-d;for(let a=0;i[r(244)](a,8);a++){const c=n[s][a],m=c.isLight?e[r(301)]:e[r(146)],h=i[r(276)](l,i[r(291)](a,o)),x=l+d*o;if(u+=r(231)+h+'" y="'+x+r(147)+o+r(130)+o+'" fill="'+m+r(119),c[r(313)].length>0){const e=.08*o,n=[];for(const i of c[r(313)]){const e=t(i[r(285)],i[r(223)]);!n[r(329)](e)&&n.push(e)}const s=Math[r(259)](n[r(154)],6),a=[];let l=i[r(320)](o,2*e);const d=.7*l/s;for(let t=0;i[r(184)](t,s);t++){const e={};if(e.color=n[t],e.layerSize=l,a.push(e),l-=d,i[r(244)](l,i[r(291)](o,.1)))break}for(const t of a)if(i.pPyvs("lUbWc",r(122)))_0x34f7ba[r(283)]=r(235),_0x1922aa[r(198)](_0x391950,_0xb4abba,_0x99bc26),_0x4c5ee4+=i.bjOJw(_0x279739.measureText(_0x235267).width,_0x4d3e89);else{const e=(o-t.layerSize)/2;u+='<rect x="'+i.bjOJw(h,e)+r(176)+i[r(179)](x,e)+r(147)+t[r(221)]+r(130)+t[r(221)]+r(118)+t.color+r(119)}}}}return u+=i[r(172)],u}async function K(e){const t=T,s={};s[t(134)]=t(205)+t(220)+"m",s[t(204)]="#FAFAFA",s[t(277)]=t(338),s[t(315)]=t(206)+"t";const r=s;return(await n(()=>import("./browser-D7bYB7HG.js").then(e=>e.b),[]))[t(131)][t(314)](r[t(134)],{width:200,margin:1,color:{dark:e?r.UOhQG:r[t(277)],light:r[t(315)]},errorCorrectionLevel:"M"})}async function V(){const e=T,t={};t[e(242)]=e(132);const n=t;return new Promise((t,r)=>{const a=e,i=new Image;i[a(151)+"n"]=n[a(242)],i[a(246)]=()=>t(i),i.onerror=r,i[a(324)]=s})}async function R(e,t,n={}){const s=T,r={OhIju:function(e,t){return e(t)},NMbHb:s(262)+s(334),pJtEn:function(e,t){return e+t},YzMen:"tULEm",tiTeG:s(129),gtqQS:function(e){return e()},UOofZ:function(e,t,n){return e(t,n)},HjjBP:function(e,t){return e*t},dSDLs:function(e,t){return e*t},gomhl:function(e,t){return e*t},vtLPB:s(236),iuwlm:function(e,t){return e+t},WZwEU:function(e,t){return e+t},gnViU:"#e7e5e4",Oivew:s(107),wYgcY:s(211),AReCg:"Black",oPBUe:s(166),tznSP:"600 24px 'Cinzel', '"+s(230)+s(330)+s(272),jbNLr:s(150)+s(240)+s(309)+"eorgia, se"+s(272),JVDBg:" vs ",SuANo:function(e,t){return e+t},QbwNB:function(e,t){return e-t},ZzyKw:s(235),NirYT:function(e,t){return e+t},xlQrD:s(215),ULjRP:"3|1|0|4|2",gGRZV:s(164),YVapz:"500 12px 'Inter', sa"+s(331),bxHHn:function(e,t){return e+t},vKrna:s(281),mFpYZ:function(e,t){return e*t},qZHiy:function(e,t){return e-t},dwviq:function(e,t){return e/t},VLaCy:function(e,t){return e+t},DqsUx:function(e,t){return e>t},aMEpO:function(e,t){return e>t},BQcXc:s(261),gvyLJ:function(e,t){return e-t},PGGcx:function(e,t){return e-t},hGiNP:function(e,t){return e+t},peiDi:function(e,t){return e<t},NcduZ:function(e,t){return e-t},GFusl:s(287),GoBYK:function(e,t){return e-t},gWYEH:function(e,t){return e-t},xWbwT:s(109)+"255, 255, 0.95)",kyUSW:function(e,t){return e+t},LfqqE:function(e,t){return e/t},PNjcP:function(e,t){return e/t},MgXSZ:function(e,t){return e*t},bRFiJ:function(e,t){return e+t},qmOsj:s(263)+s(126)+s(331),rCqLt:s(185)+s(126)+s(331),LDyls:s(152)+s(256),OWROk:function(e,t){return e+t},NaPDN:function(e,t){return e+t},hSgnb:function(e,t){return e-t}};await r[s(293)](Y);const{boardSize:a=600,darkMode:i=!1,withWatermark:o=!1,title:l}=n,c=r[s(286)](k,e,a),u=.02*a,d=a+r[s(111)](u,2),m=await async function(e,t,n){const s=T,r={CDkDO:function(e,t){return e(t)},eNYWC:"Failed to "+s(334),UFnVD:s(323)+s(306)+s(117)};return new Promise((a,i)=>{const o=s,l=new Image,c={};c[o(124)]=r.UFnVD;const u=new Blob([e],c),d=URL[o(114)+o(304)](u);l[o(246)]=()=>{const e=o,s=document[e(213)+"ent"]("canvas");s.width=5*t,s[e(199)]=5*n;const r=s[e(177)]("2d");r.scale(5,5),r.drawImage(l,0,0,t,n),URL[e(159)+e(304)](d),a(s)},l.onerror=()=>{const e=o;URL[e(159)+e(304)](d),r.CDkDO(i,new Error(r.eNYWC))},l[o(324)]=d})}(c,d,d),h=60,x=d+r[s(280)](h,2),f=r[s(321)](r[s(321)](d+220,60),r[s(298)](h,2)),p=document[s(213)+s(295)](s(125));p.width=r[s(298)](x,5),p.height=r[s(280)](f,5);const g=p[s(177)]("2d");g[s(339)](5,5),g[s(218)+s(327)+"d"]=!0,g[s(218)+s(279)+"y"]=r[s(180)],g.fillStyle=s(i?158:271),g[s(266)](0,0,x,f),g.drawImage(m,0,0,m[s(192)],m[s(199)],h,h,d,d);const v=r.iuwlm(r[s(128)](h,d),28);g.strokeStyle=i?s(107):r.gnViU,g[s(194)]=1,g[s(187)](),g[s(265)](h,v),g[s(232)](x-h,v),g[s(209)]();const w=i?"#fafaf9":r[s(268)],j=i?s(207):r[s(178)],y=i?r[s(178)]:s(207),b=i?r[s(178)]:s(207),N=x/2;let z=r[s(303)](v,55);const C=t[s(278)]||s(143),D=t.black||r[s(270)];g[s(121)+"ne"]=r[s(217)],g.font=r[s(183)];const L=g[s(216)+"t"](C)[s(192)],M=g[s(216)+"t"](D)[s(192)];g[s(222)]=r.jbNLr;const B=r[s(316)],q=g[s(216)+"t"](B)[s(192)],A=r[s(181)](r[s(128)](L,q),M),E=r[s(273)](N,A/2);if(g[s(222)]=r[s(183)],g[s(237)]=w,g.textAlign=r.ZzyKw,g.fillText(C,E,z),g.font=r.jbNLr,g.fillStyle=b,g.fillText(B,E+L,z),g[s(222)]=s(227)+s(141)+"Times New "+s(330)+s(272),g[s(237)]=w,g[s(198)](D,r.NirYT(E,L)+q,z),z+=36,t[s(113)]&&t.event!==r.xlQrD){const e=r.ULjRP[s(257)]("|");let n=0;for(;;){switch(e[n++]){case"0":g.textAlign=r.gGRZV;continue;case"1":g[s(222)]=s(150)+s(127)+"morant', G"+s(229)+s(272);continue;case"2":z+=32;continue;case"3":g[s(237)]=j;continue;case"4":g[s(198)](t[s(113)],N,z);continue}break}}const _=l,G=t[s(332)]||"";if(_||G){g[s(237)]=y,g[s(222)]=r.YVapz,g[s(283)]=r[s(225)];let e="";_?(e=_[s(249)+"e"](),G&&(e+=r[s(245)](r[s(337)],G))):e=G;const t=2,n=e.split(""),a=n.reduce((e,t)=>e+g[s(216)+"t"](t)[s(192)],0),i=r[s(168)](r[s(233)](n.length,1),t);let o=r.QbwNB(N,r[s(311)](r.VLaCy(a,i),2));for(const l of n)g[s(283)]=r[s(319)],g[s(198)](l,o,z),o+=g[s(216)+"t"](l)[s(192)]+t;z+=28}if(t.moves&&r[s(145)](t.moves[s(154)],0)){g[s(237)]=y,g[s(222)]=s(325)+"Times New "+s(317)+s(228),g[s(283)]=r[s(225)];const e=t[s(197)].join(" "),n=r.aMEpO(e.length,400)?e[s(156)](0,400)+r[s(254)]:e,a=r[s(234)](r.PGGcx(x,r[s(111)](h,2)),40),i=n.split(" ");let o="",l=z;const c=15,u=4;let d=0;for(const t of i){const e=r[s(163)](r[s(245)](o,o?" ":""),t);if(r.aMEpO(g[s(216)+"t"](e)[s(192)],a)&&o){if(g[s(198)](o,N,l),o=t,l+=c,d++,d>=u)break}else o=e}o&&r[s(203)](d,u)&&g[s(198)](o,N,l)}const P=r[s(253)](r[s(233)](f,h),20);g.fillStyle=y,g[s(222)]=s(138)+s(126)+s(331),g[s(283)]=r.gGRZV;const S=(s(186)+s(292))[s(257)](""),U=S[s(284)]((e,t)=>e+g[s(216)+"t"](t)[s(192)],0)+4*(S.length-1);let O=N-r[s(311)](U,2);for(const W of S)r[s(326)]===s(341)?(_0x4cdd09["revokeObje"+s(304)](_0x57fde6),r.OhIju(_0x350ec3,new _0x19e4a4(r.NMbHb))):(g[s(283)]=r[s(319)],g[s(198)](W,O,P),O+=g[s(216)+"t"](W)[s(192)]+4);if(o){const[e,t]=await Promise[s(290)]([r.OhIju(K,!1),V()]),n=220,a=65,i=r.GoBYK(h+d-n,12),o=r[s(140)](r[s(303)](h,d)-a,12);g[s(237)]=r[s(274)],g.beginPath(),g[s(300)](i,o,n,a,6),g[s(248)](),g[s(193)+"e"]=r.gnViU,g[s(194)]=1,g[s(209)]();const l=48,c=r[s(191)](i,12),u=r[s(224)](o,r.LfqqE(a-l,2));g[s(322)](),g[s(187)](),g[s(305)](c+r[s(311)](l,2),u+r.dwviq(l,2),r[s(110)](l,2),0,r[s(328)](Math.PI,2)),g[s(189)](),g[s(149)](t,c,u,l,l),g[s(115)]();const m=r[s(112)](r[s(181)](c,l),10);g[s(283)]=s(235),g[s(121)+"ne"]=s(288),g[s(237)]=s(241),g[s(222)]=r.qmOsj,g[s(198)](s(155),m,r.bxHHn(o,28)),g[s(237)]=r.wYgcY,g.font=r[s(299)],g[s(198)](r.LDyls,m,r[s(144)](o,46));const x=50,f=r[s(233)](r[s(335)](i,n)-x,10),p=r[s(170)](o,r[s(153)](a,x)/2),v=new Image;await new Promise(t=>{const n=s;r[n(188)]===r.tiTeG?(_0x5d849f.textAlign="left",_0xc5301e[n(198)](_0x258eae,_0xfad4a0,_0x3a5e40),_0x13cbed+=r[n(321)](_0x17e4e8.measureText(_0x3fa7f4).width,_0x3b246f)):(v.onload=()=>{g[n(149)](v,f,p,x,x),t()},v[n(133)]=()=>t(),v[n(324)]=e)})}return p}const Z=P.filter(e=>"custom"!==e.id);const H=["Exemplar â„–001 â€¢ Genesis","Exemplar â„–002 â€¢ Prototype","Exemplar â„–003 â€¢ Blueprint","Exemplar â„–004 â€¢ Foundation","Exemplar â„–005 â€¢ Pioneer","Exemplar â„–006 â€¢ Alpha","Exemplar â„–007 â€¢ Benchmark","Exemplar â„–008 â€¢ Catalyst","Exemplar â„–009 â€¢ Origin","Exemplar â„–010 â€¢ Spectrum","Exemplar â„–011 â€¢ Prism","Exemplar â„–012 â€¢ Vertex","Exemplar â„–013 â€¢ Meridian","Exemplar â„–014 â€¢ Zenith","Exemplar â„–015 â€¢ Nexus","Exemplar â„–016 â€¢ Axiom","Exemplar â„–017 â€¢ Epoch","Exemplar â„–018 â€¢ Vector","Exemplar â„–019 â€¢ Cipher","Exemplar â„–020 â€¢ Matrix","Exemplar â„–021 â€¢ Helix","Exemplar â„–022 â€¢ Synthesis","Exemplar â„–023 â€¢ Thesis","Exemplar â„–024 â€¢ Opus","Exemplar â„–025 â€¢ Finale","Sunset Clash","Ocean Depths","Earth Tones","Forest Canopy","Copper Age","Midnight Purple","Rustic Charm","Steel Gray","Olive Grove","Slate Dreams","Berry Burst","Sandy Beach","Wine Country","Mint Fresh","Mahogany Dreams","Arctic Ice","Coral Reef","Lavender Fields","Bronze Medal","Neon Nights","Autumn Leaves","Crystal Cave","Desert Dusk","Emerald City","Fire Dance"];const X=()=>{const e=r(),{user:t,isLoading:n}=a(),[s,O]=i.useState(null),[W,I]=i.useState(!1),[Y,T]=i.useState(0),[k,K]=i.useState(""),[V,X]=i.useState([]),[F,J]=i.useState(50),[$,Q]=i.useState(!0),[ee,te]=i.useState(!1),[ne,se]=i.useState(null);i.useEffect(()=>{n||(async()=>{if(!t)return void O(!1);const{data:e}=await c.rpc("has_role",{_user_id:t.id,_role:"admin"});O(!0===e)})()},[t,n]);const re=i.useCallback(async(e,n,s,r,a=!0)=>{try{const i=o(e.pgn),h=a?Z[Math.floor(Math.random()*Z.length)]:Z[s%Z.length],x=function(e,t){const n=P.find(e=>e.id===t)||P[0];return e.map(e=>e.map(e=>({...e,visits:e.visits.map(e=>{const t=("w"===e.color?n.white:n.black)[e.piece]||"#888888";return{...e,hexColor:t}})})))}(i.board,h.id);l(h.id);const f=await R(x,i.gameData,{boardSize:600,darkMode:!1,withWatermark:!1,title:n}),p=await new Promise((e,t)=>{f.toBlob(n=>{n?e(n):t(new Error("Failed to create blob"))},"image/png",.95)}),g=Date.now(),v=`${t.id}/${g}-${n.replace(/[^a-z0-9]/gi,"-").toLowerCase()}.png`,{error:w}=await c.storage.from("visualizations").upload(v,p,{contentType:"image/png",upsert:!1});if(w)throw w;const{data:j}=c.storage.from("visualizations").getPublicUrl(v),y=u(e.pgn),b={white:i.gameData.white,black:i.gameData.black,event:i.gameData.event,date:i.gameData.date,result:i.gameData.result,pgn:i.gameData.pgn,moves:i.gameData.moves,board:x,totalMoves:i.totalMoves,visualizationState:{paletteId:h.id,paletteName:h.name,isOfficialPalette:!0,darkMode:!1,currentMove:1/0,isExemplar:r,exemplarNumber:r?s+1:void 0,gameHash:y}},{data:N,error:z}=await c.from("saved_visualizations").insert({user_id:t.id,title:n,pgn:e.pgn,game_data:b,image_path:j.publicUrl}).select().single();if(z)throw z;const C=function(e,t){if(e){const e=99,n=Math.max(0,10*(25-t));return e+Math.floor(300*Math.random())+n}return 199+Math.floor(600*Math.random())}(r,s),{data:D,error:L}=await d(N.id,C);if(L)throw L;const M=function(e,t){const n=e?1.5:1,s=e?Math.max(0,.1*(25-t)):0;return{viewCount:Math.floor((15*Math.random()+3)*n+5*s),hdDownloads:Math.floor(3*Math.random()*n),gifDownloads:Math.floor(2*Math.random()*n),tradeCount:e?Math.floor(2*Math.random()):0}}(r,s);for(let e=0;e<M.viewCount;e++)await c.rpc("record_vision_interaction",{p_visualization_id:N.id,p_user_id:t.id,p_interaction_type:"view"}),await new Promise(e=>setTimeout(e,50));const B=m(e.pgn),q=a?"premium":"genesis";return{title:n,success:!0,visualizationId:N.id,listingId:null==D?void 0:D.id,isExemplar:r,paletteId:h.id,paletteName:h.name,gameHash:y,tier:q,openingName:null==B?void 0:B.fullName}}catch(i){return{title:n,success:!1,error:i.message,isExemplar:r}}},[t]),ae=V.filter(e=>e.success).length,ie=V.filter(e=>!e.success).length;return V.filter(e=>e.success&&e.isExemplar).length,n||null===s?h.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:h.jsx(x,{className:"h-8 w-8 animate-spin text-primary"})}):t&&s?h.jsx("div",{className:"min-h-screen bg-background p-8",children:h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsxs(v,{variant:"ghost",onClick:()=>e("/marketplace"),className:"mb-6",children:[h.jsx(w,{className:"h-4 w-4 mr-2"}),"Return to Marketplace"]}),h.jsxs(f,{children:[h.jsx(j,{children:h.jsxs(y,{className:"flex items-center gap-3",children:[h.jsx(b,{className:"h-6 w-6 text-primary"}),"Seed Marketplace with Visions"]})}),h.jsxs(p,{className:"space-y-6",children:[h.jsx("div",{className:"p-4 rounded-lg bg-amber-500/10 border border-amber-500/30",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(N,{className:"h-5 w-5 text-amber-500 mt-0.5"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-amber-600",children:"CEO Only"}),h.jsxs("p",{className:"text-sm text-muted-foreground",children:["Generates ",F," visions: ",Math.min(25,F)," Exemplar editions (numbered testers from our humble beginnings) + ",Math.max(0,F-25)," creative community visions. Exemplars: $0.99-$4.99, Creative: $1.99-$7.99."]})]})]})}),h.jsxs("div",{className:"flex items-center justify-between gap-4",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("label",{className:"text-sm text-muted-foreground",children:"Number of visions:"}),h.jsxs("select",{value:F,onChange:e=>J(Number(e.target.value)),disabled:W,className:"bg-muted border border-border rounded px-3 py-2",children:[h.jsx("option",{value:5,children:"5 (test)"}),h.jsx("option",{value:10,children:"10"}),h.jsx("option",{value:25,children:"25"}),h.jsx("option",{value:50,children:"50"})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(z,{id:"use-official-palettes",checked:$,onCheckedChange:Q,disabled:W}),h.jsxs(C,{htmlFor:"use-official-palettes",className:"flex items-center gap-2",children:[h.jsx(D,{className:"h-4 w-4 text-primary"}),h.jsx("span",{className:"text-sm",children:"Official Palettes"})]})]}),$&&h.jsxs(L,{variant:"secondary",className:"text-xs",children:[Z.length," palettes"]})]})]}),h.jsx(v,{onClick:async()=>{if(!t)return void S.error("You must be logged in as the CEO account");I(!0),X([]),T(0);const e=[],n=U.slice(0,Math.min(F,U.length)),s=[];for(let t=0;t<F;t++){const e=t%n.length,r=t<25,a=H[t]||`Vision ${t+1}`;s.push({game:n[e],title:a,isExemplar:r})}for(let t=0;t<s.length;t++){const{game:n,title:r,isExemplar:a}=s[t];K(`${a?"ðŸ†":"ðŸŽ¨"} ${r} (${t+1}/${s.length})`);const i=await re(n,r,t,a,$);e.push(i),X([...e]),T((t+1)/s.length*100),await new Promise(e=>setTimeout(e,300))}I(!1);const r=e.filter(e=>e.success).length,a=e.filter(e=>!e.success).length,i=e.filter(e=>e.success&&e.isExemplar).length;r>0?S.success(`Created ${r} visions`,{description:`${i} Exemplars, ${r-i} Creative${a>0?` (${a} failed)`:""}`}):S.error("Failed to create any visions")},disabled:W||!t,className:"w-full",size:"lg",children:W?h.jsxs(h.Fragment,{children:[h.jsx(x,{className:"h-5 w-5 mr-2 animate-spin"}),"Generating..."]}):h.jsxs(h.Fragment,{children:[h.jsx(M,{className:"h-5 w-5 mr-2"}),"Start Seeding"]})}),h.jsxs("div",{className:"border-t border-border pt-6 mt-6",children:[h.jsx("div",{className:"p-4 rounded-lg bg-destructive/10 border border-destructive/30 mb-4",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(B,{className:"h-5 w-5 text-destructive mt-0.5"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-destructive",children:"Delete My Test Visions"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Deletes only YOUR visions that have NOT earned royalties from other users' print orders. Visions with natural value accrual are preserved. Safe for testing cleanup."})]})]})}),h.jsx(v,{onClick:async()=>{if(!t)return;if(window.confirm("This will delete all YOUR visions that have NOT earned royalties from other users' print orders.\n\nVisions with natural value accrual will be preserved.\n\nAre you sure?")){te(!0),se(null);try{const{data:e,error:n}=await c.from("saved_visualizations").select("id").eq("user_id",t.id);if(n)throw n;if(!e||0===e.length)return S.info("No visions to delete"),void te(!1);const s=e.map(e=>e.id),{data:r,error:a}=await c.from("vision_scores").select("visualization_id, royalty_cents_earned, royalty_orders_count").in("visualization_id",s);if(a)throw a;const i=new Set((r||[]).filter(e=>e.royalty_cents_earned>0||e.royalty_orders_count>0).map(e=>e.visualization_id)),o=s.filter(e=>!i.has(e)),l=s.filter(e=>i.has(e));if(0===o.length)return S.info("All your visions have accrued natural value - none deleted"),se({deleted:0,preserved:l.length}),void te(!1);await c.from("visualization_listings").delete().in("visualization_id",o),await c.from("vision_scores").delete().in("visualization_id",o),await c.from("vision_interactions").delete().in("visualization_id",o),await c.from("visualization_transfers").delete().in("visualization_id",o);const{error:u}=await c.from("saved_visualizations").delete().in("id",o);if(u)throw u;for(const d of e.filter(e=>o.includes(e.id)))await c.storage.from("visualizations").remove([`${t.id}/`]);se({deleted:o.length,preserved:l.length}),S.success(`Deleted ${o.length} test visions`,{description:l.length>0?`${l.length} visions with natural value preserved`:void 0})}catch(e){S.error("Failed to delete visions",{description:e.message})}finally{te(!1)}}},disabled:ee||W||!t,variant:"destructive",className:"w-full",size:"lg",children:ee?h.jsxs(h.Fragment,{children:[h.jsx(x,{className:"h-5 w-5 mr-2 animate-spin"}),"Deleting Test Visions..."]}):h.jsxs(h.Fragment,{children:[h.jsx(B,{className:"h-5 w-5 mr-2"}),"Delete My Test Visions"]})}),ne&&h.jsx("div",{className:"mt-4 p-3 rounded-lg bg-muted text-sm",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("span",{className:"text-destructive",children:["ðŸ—‘ ",ne.deleted," deleted"]}),ne.preserved>0&&h.jsxs("span",{className:"text-green-500",children:["âœ“ ",ne.preserved," preserved (has value)"]})]})})]}),W&&h.jsxs("div",{className:"space-y-2",children:[h.jsx(q,{value:Y,className:"h-2"}),h.jsx("p",{className:"text-sm text-muted-foreground text-center",children:k})]}),V.length>0&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-4 text-sm flex-wrap",children:[h.jsxs("span",{className:"flex items-center gap-1 text-green-500",children:[h.jsx(A,{className:"h-4 w-4"}),ae," successful"]}),h.jsxs("span",{className:"flex items-center gap-1 text-purple-500",children:[h.jsx(E,{className:"h-4 w-4"}),V.filter(e=>e.success&&"premium"===e.tier).length," Premium"]}),h.jsxs("span",{className:"flex items-center gap-1 text-blue-500",children:[h.jsx(_,{className:"h-4 w-4"}),V.filter(e=>e.success&&"genesis"===e.tier).length," Genesis"]}),ie>0&&h.jsxs("span",{className:"flex items-center gap-1 text-red-500",children:[h.jsx(g,{className:"h-4 w-4"}),ie," failed"]})]}),h.jsx("div",{className:"max-h-64 overflow-y-auto space-y-1 border border-border rounded-lg p-2",children:V.map((e,t)=>h.jsxs(G.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"text-sm p-2 rounded flex items-center justify-between gap-2 "+(e.success?"premium"===e.tier?"bg-purple-500/10 border border-purple-500/20":"bg-blue-500/10 border border-blue-500/20":"bg-red-500/10 text-red-600"),children:[h.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[e.success?"premium"===e.tier?h.jsx(E,{className:"h-4 w-4 text-purple-500 flex-shrink-0"}):h.jsx(_,{className:"h-4 w-4 text-blue-500 flex-shrink-0"}):h.jsx(g,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),h.jsx("span",{className:"truncate",children:e.title}),e.openingName&&h.jsx(L,{variant:"secondary",className:"text-[9px] hidden sm:inline-flex",children:e.openingName}),e.error&&h.jsxs("span",{className:"text-xs opacity-70",children:["(",e.error,")"]})]}),e.success&&h.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[h.jsxs(L,{variant:"outline",className:"text-[10px] "+("premium"===e.tier?"border-purple-500/50":"border-blue-500/50"),children:[h.jsx(D,{className:"h-2.5 w-2.5 mr-1"}),e.paletteName]}),e.gameHash&&h.jsx("a",{href:`/g/${e.gameHash}?p=${e.paletteId}`,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-primary hover:underline",children:"View â†’"})]})]},t))})]})]})]})]})}):h.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:h.jsx(f,{className:"max-w-md",children:h.jsxs(p,{className:"pt-6 text-center",children:[h.jsx(g,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),h.jsx("h2",{className:"text-xl font-bold mb-2",children:"Access Denied"}),h.jsx("p",{className:"text-muted-foreground mb-4",children:"You need admin privileges to access this page."}),h.jsx(v,{onClick:()=>e("/"),children:"Go Home"})]})})})};export{X as default};
