var e,t=Object.defineProperty,n=(e,n,s)=>((e,n,s)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s)(e,"symbol"!=typeof n?n+"":n,s);import{aJ as s,r,eu as a,s as c,j as i,C as o,p as l,t as d,L as u,w as x,x as h,aq as m,B as f,aF as g,v,cR as j,y,b8 as p,b9 as w,ba as N,bb as C,bc as b,a8 as B,aB as D,aC as z,aD as M,b4 as q,aE as L,aY as A,bh as k,cb as K,ad as P,eB as G}from"./index-DeSwrHRg.js";import{A as U,a as I,b as S}from"./alert-C7KazW3B.js";import{T as H,a as T,b as W,c as _,d as Y,e as E}from"./table-4G3pYx0i.js";import{C as J}from"./circle-alert-BQoTEsXl.js";import{W as Z}from"./wifi-off-CSziT6ex.js";import{W as O}from"./wifi-Dke6-Bab.js";import{B as F}from"./briefcase-CJN264Gu.js";import{T as R}from"./trending-down-CPPuAN0z.js";const V=s("Bolt",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]),X=s("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),Q=$;function $(e,t){e-=478;const n=re();let s=n[e];if(void 0===$.aoocYk){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};$.brExsn=r,$.ciqcyF={},$.aoocYk=!0}const a=e+n[0],c=$.ciqcyF[a];if(c)s=c;else{const e=function(e){this.ZNOhUH=e,this.iKKTkM=[1,0,0],this.PVHqgW=function(){return"newState"},this.PZTbEH="\\w+ *\\(\\) *{\\w+ *",this.PoTuko="['|\"].+['|\"];? *}"};e.prototype.cOtLaI=function(){const e=new RegExp(this.PZTbEH+this.PoTuko).test(this.PVHqgW.toString())?--this.iKKTkM[1]:--this.iKKTkM[0];return this.sBHapn(e)},e.prototype.sBHapn=function(e){return Boolean(~e)?this.UzZhLq(this.ZNOhUH):e},e.prototype.UzZhLq=function(e){for(let t=0,n=this.iKKTkM.length;t<n;t++)this.iKKTkM.push(Math.round(Math.random())),n=this.iKKTkM.length;return e(this.iKKTkM[0])},new e($).cOtLaI(),s=$.brExsn(s),$.ciqcyF[a]=s}return s}!function(){const e=$,t=re();for(;;)try{if(360651===-parseInt(e(511))/1*(-parseInt(e(536))/2)+-parseInt(e(515))/3*(-parseInt(e(488))/4)+-parseInt(e(508))/5*(parseInt(e(537))/6)+parseInt(e(517))/7*(-parseInt(e(486))/8)+parseInt(e(494))/9+-parseInt(e(498))/10*(parseInt(e(542))/11)+parseInt(e(520))/12*(parseInt(e(505))/13))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ee=function(){const e=$,t={xnTWN:function(e,t){return e(t)},RWeUW:'{}.constructor("retu'+e(535)+" )",LjAtP:function(e,t){return e!==t},Qeqow:e(525),GPqmu:e(500)};let n=!0;return function(e,s){const r=n?function(){const n=$,r={BRyET:function(e,n){return t[$(540)](e,n)},CJPgY:function(e,t){return e+t},cHcpn:n(541)+"nction() ",zYIrc:t[n(482)]};if(t[n(502)](t[n(523)],t[n(501)])){if(s){const t=s.apply(e,arguments);return s=null,t}}else _0x4b1945=r.BRyET(_0x12655c,r[n(526)](r[n(522)],r[n(509)])+");")()}:function(){};return n=!1,r}}()(void 0,function(){const e=$,t={};t[e(480)]=e(530)+"+$";const n=t;return ee.toString()[e(503)](n[e(480)])[e(524)]()[e(496)+"r"](ee).search(n.wUthA)});ee();const te=function(){const e=$,t={LLAzR:function(e,t){return e(t)},vcBpK:e(493)};let n=!0;return function(s,r){const a=e,c={wBpjF:function(e,n){return t[$(495)](e,n)},tsSgK:a(541)+"nction() ",StjSb:a(490),WFRMP:t.vcBpK},i=n?function(){const e=a;if(r){if(c[e(539)]!==c[e(483)]){const t=r[e(516)](s,arguments);return r=null,t}{let n;try{n=c.wBpjF(_0xfb42be,c[e(479)]+(e(514)+e(544)+'rn this")( ));'))()}catch(t){n=_0x2a8373}return n}}}:function(){};return n=!1,i}}();te(void 0,function(){const e=$,t={};t[e(485)]=e(530)+"+$",t.syInR=function(e,t){return e===t},t.LZJXT=e(491),t[e(533)]="log",t[e(481)]=e(506),t[e(518)]=function(e,t){return e<t};const n=t,s=function(){const t=e;if(n[t(489)](n[t(534)],t(521)))return _0x72fa02.toString().search(n.cbaqQ)[t(524)]()[t(496)+"r"](_0x335bb7)[t(503)](n[t(485)]);{let e;try{e=Function(t(541)+"nction() "+t(514)+'ctor("return this")( ));')()}catch(s){e=window}return e}}(),r=s.console=s[e(507)]||{},a=[n[e(533)],e(528),n[e(481)],"error","exception",e(487),e(545)];for(let c=0;n[e(518)](c,a[e(529)]);c++){const t=te[e(496)+"r"][e(513)][e(499)](te),n=a[c],s=r[n]||t;t.__proto__=te.bind(te),t[e(524)]=s[e(524)][e(499)](s),r[n]=t}})();const ne=Q(510)+Q(497)+"l",se={};function re(){const e=["C2vHCMnO","AKTJC0G","mtyXmLvMq3n1tq","Aw5MBW","y29UC29Szq","ntbWtunPq24","ELLjCMm","AwjFz2f0zxDHEq","oti2n3rRz21XzW","x19WCM90B19F","ChjVDg90ExbL","E30Uy29UC3rYDq","nJC0mtbJyxDbrg8","yxbWBhK","ndiWnZDdvvP6Evu","v3nTzw4","sfzOqKK","oty5nZjvz1PHz0C","EwTorM0","y0HJCg4","uwvXB3C","Dg9tDhjPBMC","zxvgELK","q0Pqz1K","z2v0sxrLBq","D2fYBG","BgvUz3rO","kcGOlISPkYKRkq","tuzKy08","CMvTB3zLsxrLBq","AenMs1K","tfPkwfq","CM4GDgHPCYiPka","ndrUBhfoCM0","mZu4mdK4wefJDe5J","tNn1t1q","u3rQu2i","Eg5uv04","CMv0DxjUicHMDq","odq1ntDwv3bgq2y","C2v0sxrLBq","y3rVCIGICMv0Dq","DhjHy2u","yNjPzgDLvxjS","Dhntz0S","D1v0Aee","uKjKwhq","uLDLvvC","v0zstva","z2f0zxDHEuHVCW","y2jHCve","odi0Dg1VAxzl","DgfIBgu","nJbXse5nCeG","C3LjBLi","q2juuwS","tfnQD2O","y2XPzw50swq","r3Plv1m","nJq2mdeWmvLcwxjsBq","teXbELi","y29UC3rYDwn0BW","x2jYAwrNzv91CG","odKWugX3y0fy","yMLUza","zezzDgG","r1bXBxu","tgPbDfa"];return(re=function(){return e})()}se[Q(478)]="http://localhost:4000",se[Q(484)+"t"]="127.0.0.1",se.gatewayPort=4002,se[Q(492)]=1;const ae=se;function ce(){const e=Q,t={};t[e(519)]=function(e,t){return e===t},t[e(504)]="undefined",t[e(531)]="SlTAH";const n=t;if(n.HVhBI(typeof window,n[e(504)]))return ae;const s=localStorage[e(527)](ne);if(s)try{return{...ae,...JSON.parse(s)}}catch{if(!n[e(519)](n[e(531)],"tOaAX"))return ae;{const t=_0x1421f6[e(496)+"r"][e(513)][e(499)](_0x311223),n=_0x23c58d[_0x3c162f],s=_0x39f15b[n]||t;t[e(512)]=_0x253a6b[e(499)](_0x4ab2c7),t.toString=s[e(524)][e(499)](s),_0x5962fc[n]=t}}return ae}function ie(){const e=Q;return{NsuOT:function(e){return e()}}[e(538)](ce)[e(478)]}const oe=de;!function(){const e=de,t=me();for(;;)try{if(473923===parseInt(e(352))/1*(parseInt(e(292))/2)+parseInt(e(354))/3+-parseInt(e(360))/4*(-parseInt(e(344))/5)+-parseInt(e(353))/6*(parseInt(e(285))/7)+-parseInt(e(298))/8+-parseInt(e(317))/9*(parseInt(e(249))/10)+-parseInt(e(263))/11)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const le=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=de;return le.toString()[e(318)](e(335)+"+$")[e(242)]()[e(356)+"r"](le).search(e(335)+"+$")});function de(e,t){e-=229;const n=me();let s=n[e];if(void 0===de.iXOMEl){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};de.MCZdMa=r,de.nUbNFk={},de.iXOMEl=!0}const a=e+n[0],c=de.nUbNFk[a];if(c)s=c;else{const e=function(e){this.DobBHy=e,this.NZpRtD=[1,0,0],this.KRAjcV=function(){return"newState"},this.sgcvez="\\w+ *\\(\\) *{\\w+ *",this.KWDCtY="['|\"].+['|\"];? *}"};e.prototype.KeLFNi=function(){const e=new RegExp(this.sgcvez+this.KWDCtY).test(this.KRAjcV.toString())?--this.NZpRtD[1]:--this.NZpRtD[0];return this.xByMrz(e)},e.prototype.xByMrz=function(e){return Boolean(~e)?this.XmWTmZ(this.DobBHy):e},e.prototype.XmWTmZ=function(e){for(let t=0,n=this.NZpRtD.length;t<n;t++)this.NZpRtD.push(Math.round(Math.random())),n=this.NZpRtD.length;return e(this.NZpRtD[0])},new e(de).KeLFNi(),s=de.MCZdMa(s),de.nUbNFk[a]=s}return s}le();const ue=function(){const e={};e[de(279)]=function(e,t){return e!==t},e.tKhAD="bPoUF";const t=e;let n=!0;return function(e,s){const r=n?function(){const n=de;if(!t[n(279)](t.tKhAD,n(254)))return _0x2a2f45[n(327)]("[IB Gatewa"+n(308)+n(237),_0x309826),!1;if(s){const t=s[n(291)](e,arguments);return s=null,t}}:function(){};return n=!1,r}}();ue(void 0,function(){const e=de,t={umhOj:function(e,t){return e(t)},RBGAK:function(e,t){return e+t},mYZjZ:e(262)+e(243)+'rn this")( )',Ydnzr:e(311),VEIcy:e(290),bkaok:"table",GMtAA:function(e,t){return e<t}},n=function(){const n=e;let s;try{s=t[n(282)](Function,t[n(314)](t[n(314)](n(255)+"nction() ",t[n(342)]),");"))()}catch(r){s=window}return s}(),s=n[e(325)]=n[e(325)]||{},r=[e(326),t.Ydnzr,e(312),"error",t.VEIcy,t[e(334)],e(345)];for(let a=0;t[e(261)](a,r.length);a++){const t=ue[e(356)+"r"][e(350)][e(346)](ue),n=r[a],c=s[n]||t;t.__proto__=ue[e(346)](ue),t[e(242)]=c[e(242)][e(346)](c),s[n]=t}})();class xe{constructor(){n(this,e,!1)}async[(e=oe(361),oe(240)+"ction")](){const e=oe,t={};t[e(305)]=function(e,t){return e===t},t.DvFRW=function(e,t){return e===t},t[e(337)]=function(e,t){return e===t};const n=t;try{const t=ce(),s={};s[e(333)+"pe"]=e(332)+e(351);const r={};r.method=e(315),r[e(329)]=s;const a=await fetch(ie()+(e(297)+"s"),r);if(!a.ok){const t={};return t[e(361)]=!1,t[e(320)+e(322)]=!1,t[e(340)+"ng"]=!1,t}const c=await a[e(273)]();return this[e(361)]=n[e(305)](c.connected,!0),{connected:n[e(305)](c[e(272)+e(310)],!0),authenticated:n[e(246)](c[e(361)],!0),paperTrading:n.GeWHA(t[e(265)+"t"],4002)}}catch(s){const t={};return t[e(361)]=!1,t["authentica"+e(322)]=!1,t.paperTrading=!1,t}}async[oe(362)](){const e=oe,t={};t[e(241)]=e(257)+e(293)+e(307),t[e(355)]=function(e,t){return e===t},t.bulQO=function(e,t){return e===t},t[e(299)]=function(e,t){return e!==t};const n=t;try{if(n[e(355)](e(304),e(283)))return _0x5081a3[e(327)](n[e(241)],_0x486429),[];{const t=ce(),s={};s[e(333)+"pe"]=e(332)+e(351);const r={};r[e(233)]=t[e(303)+"t"],r[e(281)]=t.gatewayPort,r[e(287)]=t.clientId;const a=await fetch(ie()+"/api/connect",{method:e(280),headers:s,body:JSON.stringify(r)});if(!a.ok)return!1;const c=await a[e(273)]();return this[e(361)]=n[e(294)](c[e(361)],!0),this[e(361)]}}catch(s){return n[e(299)](e(349),e(235))||_0x59a938[e(327)]("[IB Gatewa"+e(270)+e(324)+"r:",_0x40c9df),!1}}async[oe(238)](){const e=oe,t={kbmNd:e(323),TpuLA:e(339),oJgod:function(e,t,n){return e(t,n)}};try{if(t[e(239)]===t[e(266)]){const e=_0x3aa317.apply(_0x3885d6,arguments);return _0x4f1ca0=null,e}{const n={};n[e(234)]=e(280),await t.oJgod(fetch,ie()+(e(264)+e(316)),n),this[e(361)]=!1}}catch{}}async[oe(256)+"s"](){const e=oe,t={RtSvy:function(e,t){return e!==t}};t[e(330)]=e(257)+e(277)+"ounts error:";const n=t;try{const t=await fetch(ie()+"/api/accou"+e(301));if(!t.ok)return[];return(await t[e(273)]())[e(247)]||[]}catch(s){if(n[e(309)](e(278),e(245)))return[];{const t={};return t[e(361)]=!1,t[e(320)+e(322)]=!1,t[e(340)+"ng"]=!1,t}}}async[oe(244)+"ns"](e){const t=oe,n={zwyKp:function(e,t){return e(t)}};try{const s=await n[t(250)](fetch,ie()+"/api/posit"+t(331)+t(269)+e);if(!s.ok)return[];return(await s[t(273)]())[t(348)]||[]}catch(s){return[]}}async[oe(231)](){const e=oe,t={QLukB:function(e,t){return e!==t},fnnAM:function(e,t){return e(t)},EbTjH:function(e){return e()},DDeqO:e(257)+"y] Get ord"+e(307)};try{if(!t.QLukB(e(286),e(286))){const n=await t.fnnAM(fetch,t[e(296)](ie)+(e(300)+"s"));if(!n.ok)return[];return(await n.json()).orders||[]}_0x3e8b36=_0xe76c4d}catch(n){return[]}}async[oe(328)+oe(357)](e){const t=oe,n={reIxr:function(e){return e()},HECAT:function(e,t){return e(t)}};try{const s=await fetch(n[t(319)](ie)+"/api/searc"+t(358)+n[t(313)](encodeURIComponent,e));if(!s.ok)return[];return(await s[t(273)]()).contracts||[]}catch(s){return[]}}async[oe(274)](e){const t=oe,n={hqZoC:function(e,t,n){return e(t,n)},bqhZB:t(280),QppGW:"application/json",YMTJv:t(257)+t(229)+t(321),BBCLt:function(e,t){return e===t},YJdoP:t(343),NXmjF:t(236)};try{const s=await n[t(302)](fetch,ie()+"/api/orders",{method:n[t(260)],headers:{"Content-Type":n[t(276)]},body:JSON[t(295)](e)});if(!s.ok)return null;const r=await s[t(273)]();return{orderId:r[t(252)]||t(275)+Date[t(341)](),status:r.status||t(336)}}catch(s){if(n.BBCLt(n[t(248)],n[t(284)])){const e=_0x33119e[t(291)](_0x1d073b,arguments);return _0x3974d4=null,e}return null}}async cancelOrder(e){const t=oe,n={kPFMC:function(e,t,n){return e(t,n)},sDXCg:function(e){return e()},mbnxC:t(257)+"y] Cancel "+t(324)+"r:"};try{const s={};s[t(234)]=t(359);return(await n.kPFMC(fetch,n[t(251)](ie)+"/api/orders/"+e,s)).ok}catch(s){return!1}}async getQuote(e){const t=oe;try{const n=await fetch(ie()+(t(338)+t(288))+e);if(!n.ok)return null;return await n[t(273)]()}catch{return null}}}const he=new xe;function me(){const e=["CMfJDa","Ad9ZEw1IB2W9","revmrvrf","ndy4q2jeB1nr","y29UBMvJDgvK","y29UBMvJDa","Ev0Gt3jKzxiGzG","Ev0GqNjPzgDLia","z2v0t3jKzxjZ","Ev0Gr2v0ihbVCW","Ag9ZDa","Bwv0Ag9K","s1fxEKO","wNjKzvi","igvYCM9YoG","zgLZy29UBMvJDa","A2jTtMq","y2HLy2TdB25Uzq","vef3C00","Dg9tDhjPBMC","y3rVCIGICMv0Dq","z2v0ug9ZAxrPBW","sw14Cvu","rhzguLC","ywnJB3vUDhm","wuPKB1a","mti2otCWqMfZA1Dl","END5s3a","C0ryq2C","B3jKzxjjza","CNjVCJO","z1b0Cem","CMv0DxjUicHMDq","z2v0qwnJB3vUDa","w0LcieDHDgv3yq","wu1usNy","rerLCu8","yNfOwKi","r010que","E30Uy29UC3rYDq","nti5mtaWv1PqEhjX","l2fWAs9KAxnJBW","z2f0zxDHEvbVCG","vhb1tee","CMrLCIbLCNjVCG","AxrPB25ZigvYCG","BNrjzd0","Ev0Gq2fUy2vSia","y29UDhjHy3qGzq","yNjPzgDLuNvUBG","ANnVBG","CgXHy2vpCMrLCG","AwiT","uxbWr1C","Ev0Gr2v0igfJyW","tuzYBeG","Cw5bBxi","ue9tva","Cg9YDa","Dw1Ot2O","ru1Kv2W","tLHTAKy","ndy3otu3q0HQBxfL","thnTr20","y2XPzw50swq","p2nVBMLKpq","BM90igf2ywLSyq","zxHJzxb0Aw9U","yxbWBhK","ndmYCxjzyu1z","Ev0Gr2v0ig9Yza","yNvSuu8","C3rYAw5NAwz5","rwjuAKG","l2fWAs9ZDgf0Dq","mJu5nZq1nKHlz3jJza","ywfqtK8","l2fWAs9VCMrLCG","BNrZ","AhfAB0m","z2f0zxDHEuHVCW","DMT0z3G","Auz4vvK","yMXLoG","zxjZigvYCM9YoG","Ev0Gq29UBMvJDa","uNrtDNK","Aw5N","D2fYBG","Aw5MBW","sevdqvq","uKjhquS","r0vu","BM5Ly3q","mZmZvNffrK1i","C2vHCMnO","CMvjEhi","yxv0AgvUDgLJyq","ywLSzwq","DgvK","AKrgq0O","B3jKzxiGzxjYBW","y29UC29Szq","Bg9N","zxjYB3i","C2vHCMnOq29UDa","AgvHzgvYCW","CLb5u1u","Aw9UCZ9Hy2nVDq","yxbWBgLJyxrPBW","q29UDgvUDc1uEq","yMTHB2S","kcGOlISPkYKRkq","C3vIBwL0DgvK","r2vxsee","l2fWAs9XDw90zq","yNPuq1u","CgfWzxjuCMfKAq","BM93","BvLAALO","vM9JzfC","mZq2mJvjqLDPsfK","DhjHy2u","yMLUza","B3i6","Cg9ZAxrPB25Z","wfritvq","ChjVDg90ExbL","BI9QC29U","ndqWrKHNAw9d","mtHwCM5nC2G","mtGZntm0nM1jEvnhua","wwr2Cvq","y29UC3rYDwn0BW"];return(me=function(){return e})()}function fe(){const e=["s2ftsNK","CgfWzxjuCMfKAq","Cg9ZAxrPB25Z","iezVDw5K","Ev0Gu3rHDhvZoG","CxvHBNrPDhK","u3rHCNqGDgHLia","zgvZDhj1y3rPDG","z2v0ug9ZAxrPBW","ufHkq2W","BgvUz3rO","mJyZndC3n2vuyMjowG","y29UBMvJDc4Grq","t2T0Age","C2LKzq","s0HMvgK","EgfoDei","q291BgqGBM90ia","Bg9N","ndmXogvNAhPxyG","qwPKDe4","yxv0AgvUDgLJyq","ywn0igzVCIa","zMLUzcbJB250CG","A2virNm","DgLTzwqGB3v0","CMv0DxjUicHMDq","u3H1wgS","zwXSzwq","ywXS","Dg9tDhjPBMC","C3LTyM9S","DNvOt1a","C3rHCNrZv2L0Aa","zMLYC3qU","sKrpqNi","D2fYBG","yxbWBhK","yMLUza","qNDKBNy","ihj1BM5PBMCUia","Bg9Hze9YzgvYCW","Ae50tfm","Ewvfu24","CgfWzxi","z2v0qwnJB3vUDa","y3vYCMvUDa","w0LcieDHDgv3yq","BMvJDgLVBI4","A2DIsgS","oti2mteYnNniyuXcwq","q29UBMvJDgLVBG","Bg9HzfbVC2L0Aq","ywnJB3vUDfr5Ca","BLrgAuu","Aw9UigvYCM9YoG","CNvUBMLUzYbHBG","BMn0Aw9UkcKG","C2vYDMvYigLZia","y29UBMvJDa","u3vJy2vZC2z1Ba","y3rVCIGICMv0Dq","zgvZy3jPChrPBW","y3qGDg8Gr2f0zq","CgXHy2vpCMrLCG","Aw5MBW","yxrLD2f5","ngLktKXzrW","A0jJz1K","q29UBMvJDgvK","BwnfALe","E30Uy29UC3rYDq","CNvUBMLUzY4","y29UBMvJDdOG","y29UBMvJDgvK","tM8GqwnJB3vUDa","Ev0Gq29UBMvJDa","zwqGDg8GsuiGrW","BNLOv3i","C2vHCMnO","y29UAwq","Dg9mB3DLCKnHCW","uwndr3y","zwn0igfUigfJyW","ywnJB3vUDeLK","AMXdDLy","ic0G","ifnLBgvJDgvK","ndC2oda2mZneu3L0Aem","CNjOEgq","CMvMCMvZAerHDa","mZe0wgjsBvvT","D1HWAw8","BwvZC2fNzq","yxrLD2f5igLZia","t3jKzxiG","zxjYB3i","CMfJDa","BvPxzLe","CND4zwq","s0vnr0u","BMLUzYbIDxqGBG","B3jKzxjZ","y291BNq","lIbfBNn1CMuGDa","ywnJB3vUDhm","z2v0t3jKzxjZ","C2vSzwn0qwnJBW","wwnpBwy","C1jkwNi","igHHCYbIzwvUia","Dw50","kcGOlISPkYKRkq","t3jKzxiGq2fUyW","mtq0odqWnujPvhbgzq","D2f5iI4","igzHAwXLzdOG","CM4GDgHPCYiPka","Bg9JywWGyNjPza","t3jKzxiGrMfPBa","C2vSzwn0zwrbyW","t3jKzxiGugXHyW","ChjPy2u","y2HLy2TdB25Uzq","Bg9HzefJy291BG","Bg9HzgLUzW","uw1ou0W","v3D2vuy","qK5gqM0","ChjVDg90ExbL","nZjKwMXmuKi","C3rHDhvZ","uKj6qxG","uxrfuM8","CgfuA3a","rMfPBgvKihrVia","mZe2nJaYqKD4wePj","zeXQDfa","nJa3nZi3nwfUt0rdCa","y29UC3rYDwn0BW","DgvK","x19WCM90B19F","y2fUy2vSt3jKzq","C2vHCMnOq29UDa","vxPdu0K","vunytNe","zxHJzxb0Aw9U","z2uGC2vYDMvYia","BvDMsMS","B25Z","q2LnsKK","CgXHy2uGB3jKzq","vxHru1u","v2f6BgW","ntbctezsAfm","BMfIBgvKlG","BeXPv3m","zMLUza","u3bxExe","DgL0Bgu"];return(fe=function(){return e})()}!function(){const e=je,t=fe();for(;;)try{if(966913===-parseInt(e(449))/1*(parseInt(e(377))/2)+-parseInt(e(334))/3+parseInt(e(425))/4*(parseInt(e(336))/5)+parseInt(e(408))/6+-parseInt(e(312))/7*(-parseInt(e(328))/8)+parseInt(e(369))/9*(parseInt(e(352))/10)+-parseInt(e(446))/11)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ge=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[je(395)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=je,t={};t[e(382)]=e(310)+"+$";const n=t;return ge[e(388)]()[e(437)](n[e(382)]).toString().constructor(ge)[e(437)](n[e(382)])});ge();const ve=function(){const e=je,t={};t[e(356)]=function(e,t){return e===t},t[e(307)]="tWama";const n=t;let s=!0;return function(t,r){const a=e,c={};c[a(351)]=a(310)+"+$";const i=c,o=s?function(){const e=a;if(r){if(n[e(356)](n[e(307)],n[e(307)])){const e=r.apply(t,arguments);return r=null,e}return _0x50917d[e(388)]()[e(437)](i[e(351)])[e(388)]()[e(337)+"r"](_0x4bb93b)[e(437)](i[e(351)])}}:function(){};return s=!1,o}}();function je(e,t){e-=293;const n=fe();let s=n[e];if(void 0===je.DhzYML){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};je.yAaUni=r,je.xtUjhF={},je.DhzYML=!0}const a=e+n[0],c=je.xtUjhF[a];if(c)s=c;else{const e=function(e){this.PwpoLQ=e,this.nVSsob=[1,0,0],this.eGlNYJ=function(){return"newState"},this.ylJtjK="\\w+ *\\(\\) *{\\w+ *",this.nuBHTX="['|\"].+['|\"];? *}"};e.prototype.rMMHOC=function(){const e=new RegExp(this.ylJtjK+this.nuBHTX).test(this.eGlNYJ.toString())?--this.nVSsob[1]:--this.nVSsob[0];return this.AAxCBQ(e)},e.prototype.AAxCBQ=function(e){return Boolean(~e)?this.thxcRo(this.PwpoLQ):e},e.prototype.thxcRo=function(e){for(let t=0,n=this.nVSsob.length;t<n;t++)this.nVSsob.push(Math.round(Math.random())),n=this.nVSsob.length;return e(this.nVSsob[0])},new e(je).rMMHOC(),s=je.yAaUni(s),je.xtUjhF[a]=s}return s}ve(void 0,function(){const e=je,t={};t[e(440)]=function(e,t){return e+t},t[e(324)]=e(429)+e(419)+e(315)+" )",t.KHfTi=e(344),t[e(374)]="trace",t[e(412)]=function(e,t){return e<t};const n=t,s=function(){const t=e;let s;try{s=Function(n[t(440)](t(384)+t(415)+n.QmNSL,");"))()}catch(r){s=window}return s}(),r=s.console=s.console||{},a=[e(376),"warn",e(423),"error",n[e(373)],"table",n.xaNtB];for(let c=0;n.nTFiE(c,a[e(368)]);c++){const t=ve.constructor[e(327)][e(396)](ve),n=a[c],s=r[n]||t;t[e(339)]=ve[e(396)](ve),t.toString=s.toString[e(396)](s),r[n]=t}})();const ye=["SPY","QQQ","AAPL","MSFT","NVDA","TSLA","AMD","META"];function pe(){const{connected:e,authenticated:t,paperTrading:n,accounts:s,selectedAccount:G,positions:X,orders:Q,loading:$,error:ee,checkConnection:te,connectToGateway:ne,refreshData:se,placeOrder:re,cancelOrder:ae,selectAccount:ce}=function(){var e;const t=je,n={BNFBm:t(405)+t(434)+"ion check "+t(383),wXpio:function(e,t){return e(t)},CDRKg:t(405)+"y] Checking connection...",PXJCl:function(e,t){return e!==t},QtERo:t(371),kgbHk:t(405)+t(434)+t(413),SxuXk:function(e,t){return e(t)},kBcgY:function(e,t){return e===t},vuhOP:t(330),rrhxd:function(e,t){return e(t)},CiMJI:function(e,t){return e(t)},lLiWs:function(e,t){return e(t)},Dazcv:function(e,t){return e(t)},yeESn:t(433)+t(445),UCXNq:"Please sel"+t(441)+"ount first.",YcOmf:t(365)+"e",KaSJy:"Symbol Not"+t(361),jlCvV:function(e){return e()},rOxcq:"AjdtN",paTkp:function(e,t){return e(t)},Bwdnv:t(375)+t(349)+"r. Check gateway con"+t(406),UxQSU:t(311)+t(386),UzCSI:function(e,t,n){return e(t,n)},cZrJn:function(e){return e()},KEMGE:function(e,t,n){return e(t,n)},hNtLS:function(e,t,n){return e(t,n)},nyhWr:function(e,t,n){return e(t,n)}},s={connected:!1};s["authentica"+t(338)]=!1,s[t(359)+"ng"]=!1,s[t(303)]=[],s[t(318)+t(301)]=null,s[t(360)]=[],s[t(300)]=[],s[t(323)]=!0,s[t(294)]=null;const[c,i]=r.useState(s),o=r.useRef(null),{toast:l}=n.cZrJn(a),d=r.useCallback(async()=>{const e=t,s={psKUX:n[e(326)],WwvUF:function(t,s){return n[e(450)](t,s)}};i(e=>({...e,loading:!0,error:null}));const r=setTimeout(()=>{const t=e;if(t(346)===t(393)){const e=_0x4e92ad?function(){if(_0x3d5f62){const e=_0x202cdb[t(395)](_0x456eb5,arguments);return _0x14ace2=null,e}}:function(){};return _0x1adccf=!1,e}s[t(325)](i,e=>({...e,connected:!1,authenticated:!1,loading:!1,error:t(409)+" timed out"+t(302)+"he bridge "+t(416)+t(430)}))},8e3);try{const t=await he[e(321)+"ction"]();return clearTimeout(r),i(n=>({...n,connected:t[e(432)],authenticated:t[e(379)+e(338)],paperTrading:t[e(359)+"ng"],loading:!1,error:t[e(432)]?t[e(379)+e(338)]?null:"Bridge run"+e(299)+"ot connect"+e(435)+'ateway. Click "Conne'+e(421)+e(313):"Bridge not"+e(398)+e(364)+e(316)+e(345)+e(392)})),t}catch(a){if(n[e(367)](e(335),n[e(331)])){clearTimeout(r),n[e(385)](i,t=>({...t,connected:!1,authenticated:!1,loading:!1,error:e(333)+e(431)+a[e(451)]}));const t={};return t[e(432)]=!1,t["authentica"+e(338)]=!1,t[e(359)+"ng"]=!1,t}{const t=_0xced329[e(337)+"r"][e(327)].bind(_0x3c863e),n=_0x1c1e4c[_0x76f489],s=_0x1864b9[n]||t;t.__proto__=_0x3043d9[e(396)](_0x3b5aed),t.toString=s[e(388)][e(396)](s),_0x9a5d8[n]=t}}},[]),u=r.useCallback(async()=>{const e=t;i(e=>({...e,loading:!0,error:null}));try{if(!n.kBcgY(e(297),n[e(390)])){const t=await he[e(417)]();if(t){const t={};t[e(357)]=e(427),t[e(420)+"n"]=e(418)+"ly connect"+e(435)+e(424),n[e(447)](l,t),await d(),await x()}else n[e(450)](i,t=>({...t,loading:!1,error:e(333)+e(370)+"nsure IB G"+e(452)+e(414)+"d API is e"+e(353)}));return t}if(_0x4a0368){const t=_0x48e24b[e(395)](_0x50608a,arguments);return _0x8dd15c=null,t}}catch(s){return n[e(348)](i,t=>({...t,loading:!1,error:e(409)+e(314)+s[e(451)]})),!1}},[l,d]),x=r.useCallback(async()=>{const e=t,n=await he[e(403)+"s"](),s=n[e(355)](t=>t[e(442)][e(391)]("DU")||t[e(411)+"e"][e(439)+"e"]().includes(e(402)));return i(e=>({...e,accounts:n,selectedAccount:s||n[0]||null})),n},[]),h=n.UzCSI(r.useCallback,async()=>{const e=t;if(!c[e(318)+e(301)])return[];const s=await he[e(366)+"ns"](c[e(318)+e(301)].accountId);return n[e(354)](i,e=>({...e,positions:s})),s},[c["selectedAc"+t(301)]]),m=n.KEMGE(r.useCallback,async()=>{const e=t,s=await he[e(304)]();return n.Dazcv(i,e=>({...e,orders:s})),s},[]),f=n[t(400)](r.useCallback,async()=>{const e=t;c[e(379)+e(338)]&&await Promise[e(387)]([x(),h(),m()])},[c[t(379)+t(338)],x,h,m]),g=n[t(298)](r.useCallback,async e=>{const s=t;if(!c[s(318)+"count"])return n[s(385)](l,{title:n[s(401)],description:n[s(343)],variant:n[s(306)]}),null;const r=await he[s(341)+s(295)](e.symbol);if(n[s(426)](r.length,0))return n[s(348)](l,{title:n[s(358)],description:s(375)+s(381)+s(380)+e.symbol,variant:n.YcOmf}),null;const a=r[0],i={};i.accountId=c[s(318)+s(301)][s(442)],i[s(438)]=a.conid,i[s(389)]=e.symbol,i[s(372)]=e[s(372)],i[s(363)]=e[s(363)],i.orderType=e.orderType,i[s(320)]=e.price;const o=await he[s(422)](i);if(o){const t={};t.title=s(319)+"ed",t[s(420)+"n"]=e.side+" "+e[s(363)]+" "+e[s(389)]+s(444)+o[s(329)],n[s(354)](l,t),await n.jlCvV(m)}else n.rOxcq===s(378)?n[s(332)](l,{title:s(317)+"ed",description:n[s(397)],variant:n.YcOmf}):_0x5b2cb4();return o},[c["selectedAc"+t(301)],l,m]),v=n[t(436)](r.useCallback,async e=>{const s=t,r=await he[s(340)+"r"](e);if(r){const t={};t[s(357)]=n[s(350)],t[s(420)+"n"]=s(293)+e+(s(308)+"cancelled."),l(t),await n[s(443)](m)}return r},[l,m]),j=n[t(436)](r.useCallback,e=>{const n=t,s=c[n(303)].find(t=>t[n(442)]===e);s&&i(e=>({...e,selectedAccount:s}))},[c[t(303)]]);r.useEffect(()=>{const e={tyFOn:function(e){return e()},mZWfQ:function(e,t,s){return n[je(342)](e,t,s)}};return n.jlCvV(async()=>{const t=je,n={mcEjQ:function(t){return e.tyFOn(t)}};(await d())[t(379)+t(338)]&&(await x(),await h(),await m(),o[t(404)]=e[t(296)](setInterval,()=>{n[t(428)](f)},1e4))}),()=>{const e=je;o.current&&clearInterval(o[e(404)])}},[]),r.useEffect(()=>{const e=t;c.selectedAccount&&c[e(379)+e(338)]&&h()},[null==(e=c[t(318)+"count"])?void 0:e[t(442)]]);const y={...c};return y[t(321)+"ction"]=d,y.connectToGateway=u,y[t(322)+"ts"]=x,y[t(410)+t(347)]=h,y[t(399)]=m,y[t(448)+"a"]=f,y[t(422)]=g,y.cancelOrder=v,y[t(305)+t(309)]=j,y}(),[ie,oe]=r.useState("overview"),[le,de]=r.useState([]),[ue,xe]=r.useState(!1),[me,fe]=r.useState([]),[ge,ve]=r.useState({total:0,today:0,pnl:0}),[pe,we]=r.useState(!1),[Ne,Ce]=r.useState({symbol:"SPY",side:"BUY",quantity:1,orderType:"MKT",price:0}),[be,Be]=r.useState(!1);r.useEffect(()=>{const e=async()=>{try{const{data:e}=await c.from("farm_status").select("*").eq("farm_name","high-frequency-paper-trader").single();if(e){const t=new Date(e.updated_at),n=t>new Date(Date.now()-12e4);we("trading"===e.status||n)}const{data:t}=await c.from("autonomous_trades").select("*").order("created_at",{ascending:!1}).limit(50);if(t){fe(t);const e=new Date;e.setHours(0,0,0,0);const n=t.filter(t=>new Date(t.created_at)>=e),s=t.reduce((e,t)=>e+(t.pnl||0),0);ve({total:t.length,today:n.length,pnl:s})}}catch(e){}};e();const t=c.channel("hf-trades").on("postgres_changes",{event:"INSERT",schema:"public",table:"autonomous_trades"},e=>{const t=e.new;fe(e=>[t,...e].slice(0,50));const n=new Date;n.setHours(0,0,0,0);const s=new Date(t.created_at)>=n;ve(e=>({total:e.total+1,today:s?e.today+1:e.today,pnl:e.pnl+(t.pnl||0)}))}).subscribe(),n=setInterval(e,5e3);return()=>{clearInterval(n),t.unsubscribe()}},[]),r.useCallback(()=>{te()},[te]),r.useEffect(()=>{if(t){De();const e=setInterval(De,3e4);return()=>clearInterval(e)}},[t]);const De=async()=>{xe(!0);try{const{data:e,error:t}=await c.functions.invoke("stock-data",{body:{action:"batch",symbols:ye}});!t&&(null==e?void 0:e.stocks)&&de(e.stocks.map(e=>({symbol:e.symbol,price:e.latestPrice,change:e.change,changePercent:e.changePercent})))}catch(e){}finally{xe(!1)}},ze=e=>{Ce(t=>({...t,symbol:e,side:"BUY"})),oe("trade")},Me=r.useMemo(()=>{const e=X.reduce((e,t)=>e+t.marketValue,0),t=X.reduce((e,t)=>e+t.unrealizedPnl,0);return{totalValue:e,totalPnL:t,totalRealizedPnL:X.reduce((e,t)=>e+t.realizedPnl,0),pnlPercent:(null==G?void 0:G.balance)?t/G.balance*100:0}},[X,G]);return $?i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(u,{className:"h-5 w-5 animate-spin text-primary"}),"Connecting to IB Gateway Bridge..."]})}),i.jsx(x,{children:"Checking connection to gateway"})]}),i.jsxs(h,{className:"space-y-4",children:[i.jsx(m,{value:33,className:"h-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Looking for the Client Portal Gateway..."}),i.jsxs(U,{children:[i.jsx(J,{className:"h-4 w-4"}),i.jsx(I,{children:"Connection taking too long?"}),i.jsxs(S,{className:"space-y-2 mt-2",children:[i.jsx("p",{children:"Your browser may be blocking the connection. Try:"}),i.jsxs("ol",{className:"list-decimal list-inside text-sm space-y-1",children:[i.jsxs("li",{children:["Click ",i.jsx("strong",{children:"Gateway Settings"})," above to configure your gateway URL"]}),i.jsx("li",{children:"If using remotely, enter your machine's IP (e.g., https://192.168.1.100:5000)"}),i.jsxs("li",{children:["Accept the ",i.jsx("strong",{children:"self-signed certificate warning"})," in your browser"]}),i.jsx("li",{children:"Login if prompted, then return here"})]})]})]}),i.jsxs(f,{variant:"outline",size:"sm",onClick:()=>window.open("https://localhost:5000","_blank"),children:[i.jsx(g,{className:"h-4 w-4 mr-2"}),"Open Gateway in New Tab"]})]})]}):e?t?i.jsxs("div",{className:"space-y-6",children:[i.jsx(o,{className:"bg-gradient-to-br from-card via-card to-primary/5 border-primary/20",children:i.jsxs(h,{className:"pt-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(j,{className:"h-5 w-5 text-primary"}),i.jsx("span",{className:"font-medium",children:"IBKR Connected"}),n&&i.jsx(y,{variant:"outline",className:"bg-primary/10 text-primary border-primary",children:"Paper Trading"})]}),i.jsxs(p,{value:(null==G?void 0:G.accountId)||"",onValueChange:ce,children:[i.jsx(w,{className:"w-48",children:i.jsx(N,{placeholder:"Select Account"})}),i.jsx(C,{children:s.map(e=>i.jsxs(b,{value:e.accountId,children:[e.accountId," (",e.accountType,")"]},e.accountId))})]}),i.jsx(f,{variant:"ghost",size:"icon",onClick:se,children:i.jsx(v,{className:"h-4 w-4"})})]}),G&&i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[i.jsx(B,{className:"w-3 h-3"}),"Account Balance"]}),i.jsxs("div",{className:"text-3xl font-mono font-bold",children:["$",G.balance.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Buying Power"}),i.jsxs("div",{className:"text-xl font-mono",children:["$",G.buyingPower.toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})]}),X.length>0&&i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6 pt-6 border-t",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Positions Value"}),i.jsxs("div",{className:"text-xl font-bold",children:["$",Me.totalValue.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Unrealized P&L"}),i.jsxs("div",{className:"text-xl font-bold "+(Me.totalPnL>=0?"text-success":"text-destructive"),children:[Me.totalPnL>=0?"+":"","$",Me.totalPnL.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Realized P&L"}),i.jsxs("div",{className:"text-xl font-bold "+(Me.totalRealizedPnL>=0?"text-success":"text-destructive"),children:[Me.totalRealizedPnL>=0?"+":"","$",Me.totalRealizedPnL.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Open Positions"}),i.jsx("div",{className:"text-xl font-bold",children:X.length})]})]})]})}),i.jsxs(D,{value:ie,onValueChange:oe,children:[i.jsxs(z,{className:"grid w-full grid-cols-2 max-w-md",children:[i.jsxs(M,{value:"overview",className:"flex items-center gap-1",children:[i.jsx(q,{className:"w-4 h-4"})," Overview"]}),i.jsxs(M,{value:"hf-trading",className:"flex items-center gap-1",children:[i.jsx(V,{className:"w-4 h-4"})," HF Trading",pe&&i.jsx("span",{className:"ml-1 w-2 h-2 bg-success rounded-full animate-pulse"})]})]}),i.jsx(L,{value:"overview",className:"mt-6",children:i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(A,{className:"w-5 h-5"}),"Quick Trade"]}),i.jsx(x,{children:"Click a symbol to start a trade"})]}),i.jsxs(h,{children:[i.jsx("div",{className:"grid grid-cols-4 gap-2",children:le.length>0?le.map(e=>i.jsxs(f,{variant:"outline",className:"flex flex-col h-auto py-3 hover:border-primary",onClick:()=>ze(e.symbol),children:[i.jsx("span",{className:"font-bold",children:e.symbol}),i.jsxs("span",{className:"text-sm",children:["$",e.price.toFixed(2)]}),i.jsxs("span",{className:"text-xs "+(e.changePercent>=0?"text-success":"text-destructive"),children:[e.changePercent>=0?"+":"",e.changePercent.toFixed(2),"%"]})]},e.symbol)):ye.map(e=>i.jsx(f,{variant:"outline",className:"py-6",onClick:()=>ze(e),children:e},e))}),ue&&i.jsx("div",{className:"text-center text-sm text-muted-foreground mt-2",children:"Updating quotes..."})]})]}),i.jsxs(o,{children:[i.jsx(l,{children:i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(F,{className:"w-5 h-5"}),"Current Positions"]})}),i.jsx(h,{children:0===X.length?i.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[i.jsx(k,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No open positions"}),i.jsx("p",{className:"text-sm",children:"Place a trade to get started"})]}):i.jsxs("div",{className:"space-y-3",children:[X.slice(0,5).map(e=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:e.symbol}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.position>0?"+":"",e.position," shares @ $",e.avgCost.toFixed(2)]})]}),i.jsxs("div",{className:"text-right "+(e.unrealizedPnl>=0?"text-success":"text-destructive"),children:[i.jsxs("div",{className:"font-medium",children:[e.unrealizedPnl>=0?"+":"","$",e.unrealizedPnl.toFixed(2)]}),i.jsxs("div",{className:"text-sm",children:["$",e.marketValue.toFixed(2)]})]})]},e.conid)),X.length>5&&i.jsxs(f,{variant:"ghost",className:"w-full",onClick:()=>oe("positions"),children:["View all ",X.length," positions"]})]})})]})]})}),i.jsx(L,{value:"hf-trading",className:"mt-6",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs(o,{className:"border-2 "+(pe?"border-warning bg-warning/5":"border-dashed"),children:[i.jsx(l,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 rounded-full "+(pe?"bg-warning/20":"bg-muted"),children:i.jsx(V,{className:"w-6 h-6 "+(pe?"text-warning animate-pulse":"text-muted-foreground")})}),i.jsxs("div",{children:[i.jsxs(d,{className:"flex items-center gap-2",children:["High-Frequency Paper Trading",pe&&i.jsxs(y,{className:"bg-warning text-warning-foreground",children:[i.jsx(k,{className:"w-3 h-3 mr-1 animate-pulse"}),"LIVE"]})]}),i.jsx(x,{children:"Terminal-based worker generating 100+ trades/day for En Pensent training"})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Worker Status"}),i.jsx("div",{className:"font-medium "+(pe?"text-warning":"text-muted-foreground"),children:pe?"RUNNING":"OFFLINE"})]})]})}),i.jsxs(h,{children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.total}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Trades"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.today}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Today's Trades"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"text-3xl font-bold font-mono "+(ge.pnl>=0?"text-success":"text-destructive"),children:[ge.pnl>=0?"+":"","$",ge.pnl.toFixed(2)]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total P&L"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono text-warning",children:pe?"30s":"N/A"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Cycle Time"})]})]}),i.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(K,{className:"w-4 h-4"}),i.jsx("span",{children:"Auto-refresh every 5 seconds from Supabase"}),i.jsx("span",{className:"mx-2",children:"•"}),i.jsx("span",{children:"11 symbols: AAPL, MSFT, NVDA, TSLA, AMD, META, GOOGL, AMZN, SPY, QQQ, IWM"})]})]})]}),i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(k,{className:"w-5 h-5"}),"Live Trade Feed",me.length>0&&i.jsxs(y,{variant:"secondary",children:[me.length," recent"]})]}),i.jsx(x,{children:"Real-time trades from high-frequency worker (updates every 5s)"})]}),i.jsx(h,{children:0===me.length?i.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[i.jsx(V,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{className:"text-lg",children:"No trades yet"}),i.jsx("p",{className:"text-sm",children:"Start the high-frequency worker to see activity"}),i.jsx("code",{className:"block mt-4 p-2 bg-muted rounded text-xs",children:"node farm/workers/high-frequency-paper-trader.mjs"})]}):i.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:me.map(e=>{var t;return i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:["BUY"===e.direction?i.jsx(P,{className:"w-4 h-4 text-success"}):i.jsx(R,{className:"w-4 h-4 text-destructive"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold",children:e.symbol}),i.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleTimeString()})]}),i.jsx(y,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction}),i.jsxs(y,{variant:"outline",className:"text-xs",children:[e.shares," shares"]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Entry"})]}),e.predicted_confidence&&i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-mono",children:[(100*e.predicted_confidence).toFixed(0),"%"]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Conf"})]}),void 0!==e.pnl&&null!==e.pnl&&i.jsxs("div",{className:"text-right font-mono "+(e.pnl>=0?"text-success":"text-destructive"),children:[i.jsxs("div",{children:[e.pnl>=0?"+":"","$",e.pnl.toFixed(2)]}),i.jsx("div",{className:"text-xs",children:"P&L"})]}),i.jsx(y,{variant:"outline",className:"open"===e.status?"bg-success/10 text-success":"bg-muted",children:e.status})]})]},e.id)})})})]}),me.filter(e=>"open"===e.status).length>0&&i.jsxs(o,{children:[i.jsx(l,{children:i.jsxs(d,{className:"text-lg flex items-center gap-2",children:[i.jsx(F,{className:"w-5 h-5"}),"Open HF Positions"]})}),i.jsx(h,{children:i.jsxs(H,{children:[i.jsx(T,{children:i.jsxs(W,{children:[i.jsx(_,{children:"Symbol"}),i.jsx(_,{children:"Side"}),i.jsx(_,{className:"text-right",children:"Shares"}),i.jsx(_,{className:"text-right",children:"Entry"}),i.jsx(_,{className:"text-right",children:"Stop Loss"}),i.jsx(_,{className:"text-right",children:"Take Profit"}),i.jsx(_,{children:"Status"})]})}),i.jsx(Y,{children:me.filter(e=>"open"===e.status).map(e=>{var t,n,s;return i.jsxs(W,{children:[i.jsx(E,{className:"font-bold",children:e.symbol}),i.jsx(E,{children:i.jsx(y,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction})}),i.jsx(E,{className:"text-right font-mono",children:e.shares}),i.jsxs(E,{className:"text-right font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),i.jsxs(E,{className:"text-right font-mono text-destructive",children:["$",(null==(n=e.stop_loss)?void 0:n.toFixed(2))||"N/A"]}),i.jsxs(E,{className:"text-right font-mono text-success",children:["$",(null==(s=e.take_profit)?void 0:s.toFixed(2))||"N/A"]}),i.jsx(E,{children:i.jsx(y,{variant:"outline",className:"bg-success/10 text-success border-success/30",children:"Open"})})]},e.id)})})]})})]})]})})]})]}):i.jsxs(o,{className:"border-warning/50",children:[i.jsx(l,{children:i.jsxs(d,{className:"flex items-center gap-2 text-warning",children:[i.jsx(O,{className:"h-5 w-5"}),"Gateway Running - Login Required"]})}),i.jsxs(h,{className:"space-y-4",children:[i.jsxs(U,{variant:"default",children:[i.jsx(J,{className:"h-4 w-4"}),i.jsx(S,{children:'Bridge is running but not connected to IB Gateway. Open IB Gateway desktop app, log in, then click "Connect to Gateway".'})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(f,{onClick:ne,className:"flex-1",children:[i.jsx(O,{className:"h-4 w-4 mr-2"}),"Connect to Gateway"]}),i.jsxs(f,{variant:"outline",onClick:te,children:[i.jsx(v,{className:"h-4 w-4 mr-2"}),"Check Status"]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"IB Gateway must be running with API enabled (port 4002 for paper trading)."})]})]}):i.jsxs(o,{className:"border-destructive/50",children:[i.jsxs(l,{children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs(d,{className:"flex items-center gap-2 text-destructive",children:[i.jsx(Z,{className:"h-5 w-5"}),"IB Gateway Bridge Not Running"]})}),i.jsx(x,{children:ee||"Start the IBKR Client Portal Gateway to begin trading."})]}),i.jsxs(h,{className:"space-y-4",children:[i.jsxs(U,{children:[i.jsx(J,{className:"h-4 w-4"}),i.jsx(I,{children:"Quick Setup"}),i.jsx(S,{className:"space-y-2",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-2",children:[i.jsxs("li",{children:["Download the ",i.jsx("a",{href:"https://www.interactivebrokers.com/en/trading/ib-api.php",target:"_blank",rel:"noopener",className:"text-primary underline font-medium",children:"IBKR Client Portal Gateway"})]}),i.jsxs("li",{children:["Run ",i.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.sh"})," (Mac) or ",i.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.bat"})," (Windows)"]}),i.jsxs("li",{children:["Login at ",i.jsx("strong",{children:"https://localhost:5000"})," with IBKR credentials"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Using remote access?"})," Click Gateway Settings above and enter your machine's IP"]})]})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(f,{onClick:te,className:"flex-1",children:[i.jsx(v,{className:"h-4 w-4 mr-2"}),"Retry Connection"]}),i.jsxs(f,{variant:"outline",onClick:()=>window.open("https://localhost:5000","_blank"),children:[i.jsx(g,{className:"h-4 w-4 mr-2"}),"Open Gateway"]})]})]})]})}const we=()=>i.jsxs("div",{className:"container mx-auto py-8 px-4",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[i.jsx(X,{className:"w-8 h-8 text-primary"}),i.jsxs("h1",{className:"text-4xl font-bold",children:[i.jsx("span",{className:"text-primary",children:"En Pensent™"})," Trading"]})]}),i.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Paper trading powered by Interactive Brokers. Start with simulated funds, graduate to real money when ready."})]}),i.jsx(G,{componentName:"IBKRTradingDashboard",children:i.jsx(pe,{})}),i.jsx("p",{className:"text-center text-xs text-muted-foreground mt-8",children:"⚠️ Paper trading uses simulated funds. No real money is at risk. When ready, switch to a live IBKR account for real trading."})]});export{we as default};
