const n="import { useEffect, useRef } from 'react';\nimport { \n  getMembershipCardVariants, \n  recordABEvent, \n  getAllAssignedVariants,\n  MEMBERSHIP_CARD_TESTS,\n  type MembershipCardVariants \n} from '@/lib/analytics/abTesting';\n\nexport function useABTest() {\n  const variants = getMembershipCardVariants();\n  const hasRecordedImpression = useRef(false);\n\n  // Record impressions for all active tests\n  const recordImpressions = async () => {\n    if (hasRecordedImpression.current) return;\n    hasRecordedImpression.current = true;\n\n    const assignedVariants = getAllAssignedVariants();\n    \n    for (const [testId, variant] of Object.entries(assignedVariants)) {\n      await recordABEvent(testId, variant, 'impression');\n    }\n  };\n\n  // Record conversion for all active tests\n  const recordConversions = async () => {\n    const assignedVariants = getAllAssignedVariants();\n    \n    for (const [testId, variant] of Object.entries(assignedVariants)) {\n      await recordABEvent(testId, variant, 'conversion');\n    }\n  };\n\n  return {\n    variants,\n    recordImpressions,\n    recordConversions,\n    tests: MEMBERSHIP_CARD_TESTS,\n  };\n}\n\nexport type { MembershipCardVariants };\n";export{n as default};
