const e="/**\n * Fingerprint Comparator Module\n * \n * Functions for comparing fingerprint similarity.\n */\n\nimport { PlayerFingerprint } from './types';\n\nexport interface FingerprintSimilarity {\n  similarity: number;\n  matchingTraits: string[];\n}\n\n/**\n * Compare two fingerprints for similarity\n * Used to detect if two accounts might be the same player\n * or if market behavior matches a chess player profile\n */\nexport function compareFingerprintSimilarity(\n  fp1: PlayerFingerprint,\n  fp2: PlayerFingerprint\n): FingerprintSimilarity {\n  const matchingTraits: string[] = [];\n  let totalSimilarity = 0;\n  \n  // Style comparison\n  const styleDiff = Math.abs(fp1.styleProfile.aggressiveness - fp2.styleProfile.aggressiveness) +\n                   Math.abs(fp1.styleProfile.riskTolerance - fp2.styleProfile.riskTolerance);\n  if (styleDiff < 0.3) {\n    matchingTraits.push('similar_risk_style');\n    totalSimilarity += 0.25;\n  }\n  \n  // Pressure response comparison\n  const pressureDiff = Math.abs(fp1.pressureProfile.tiltResistance - fp2.pressureProfile.tiltResistance);\n  if (pressureDiff < 0.2) {\n    matchingTraits.push('similar_pressure_response');\n    totalSimilarity += 0.25;\n  }\n  \n  // Blunder pattern comparison\n  if (fp1.blunderSignature.dominantBlunderType === fp2.blunderSignature.dominantBlunderType) {\n    matchingTraits.push('same_blunder_type');\n    totalSimilarity += 0.25;\n  }\n  \n  // Temporal behavior comparison\n  const timeDiff = Math.abs(fp1.temporalPatterns.averageMoveTime - fp2.temporalPatterns.averageMoveTime);\n  if (timeDiff < 5) {\n    matchingTraits.push('similar_time_management');\n    totalSimilarity += 0.25;\n  }\n  \n  return {\n    similarity: Math.min(1, totalSimilarity),\n    matchingTraits\n  };\n}\n\n/**\n * Calculate detailed similarity breakdown\n */\nexport function getDetailedSimilarity(\n  fp1: PlayerFingerprint,\n  fp2: PlayerFingerprint\n): Record<string, number> {\n  return {\n    styleAggressive: 1 - Math.abs(fp1.styleProfile.aggressiveness - fp2.styleProfile.aggressiveness),\n    styleComplexity: 1 - Math.abs(fp1.styleProfile.complexity - fp2.styleProfile.complexity),\n    styleSpeed: 1 - Math.abs(fp1.styleProfile.speedPreference - fp2.styleProfile.speedPreference),\n    styleRisk: 1 - Math.abs(fp1.styleProfile.riskTolerance - fp2.styleProfile.riskTolerance),\n    styleEndgame: 1 - Math.abs(fp1.styleProfile.endgameSkill - fp2.styleProfile.endgameSkill),\n    pressureTilt: 1 - Math.abs(fp1.pressureProfile.tiltResistance - fp2.pressureProfile.tiltResistance),\n    pressureTime: 1 - Math.abs(fp1.pressureProfile.timePressurePerformance - fp2.pressureProfile.timePressurePerformance),\n    temporalMoveTime: 1 - Math.abs(fp1.temporalPatterns.averageMoveTime - fp2.temporalPatterns.averageMoveTime) / 60,\n    temporalComeback: 1 - Math.abs(fp1.temporalPatterns.comebackProbability - fp2.temporalPatterns.comebackProbability),\n    blunderType: fp1.blunderSignature.dominantBlunderType === fp2.blunderSignature.dominantBlunderType ? 1 : 0\n  };\n}\n";export{e as default};
