import{d6 as e,d7 as t,cp as s,a as n,u as r,r as a,J as i,o,s as c,aH as l,aa as u,cM as d,j as m,L as f,C as x,x as h,D as p,B as g,A as v,p as w,t as j,cN as b,bC as y,S as C,a6 as N,P as z,y as _,bG as M,T as D,aq as B,z as L,cU as q,aj as E,aT as S,ca as A,b as G,d8 as k}from"./index-BKigiLhM.js";!function(){const e=T,t=Z();for(;;)try{if(129293===parseInt(e(372))/1+-parseInt(e(307))/2+parseInt(e(186))/3*(parseInt(e(222))/4)+-parseInt(e(227))/5*(parseInt(e(335))/6)+-parseInt(e(211))/7+-parseInt(e(275))/8*(parseInt(e(317))/9)+-parseInt(e(274))/10*(-parseInt(e(357))/11))break;t.push(t.shift())}catch(s){t.push(t.shift())}}();const H=function(){const e={CDmbt:function(e){return e()}};let t=!0;return function(s,n){const r=T;if("jEDPq"!==r(387)){const e=t?function(){if(n){const e=n.apply(s,arguments);return n=null,e}}:function(){};return t=!1,e}_0x48565f[r(360)](_0x28de9a,_0x48beb7,_0x4294b5,_0x511420,_0x37e71e),e[r(273)](_0x463e45)}}()(void 0,function(){const e=T,t={};t[e(254)]=e(261)+"+$";const s=t;return H[e(352)]()[e(291)](e(261)+"+$")[e(352)]()[e(299)+"r"](H).search(s[e(254)])});H();const W=function(){let e=!0;return function(t,s){const n=e?function(){if(s){const e=s.apply(t,arguments);return s=null,e}}:function(){};return e=!1,n}}();W(void 0,function(){const e=T,t={knGyp:e(397),wSPHr:function(e,t){return e(t)},odCme:function(e,t){return e+t},QNmmF:"{}.constru"+e(285)+'rn this")( )',AYMmQ:"Stqzm",YeteS:e(190),uyncr:e(224),RMMgN:e(406),hPSvF:"trace",onxuC:function(e,t){return e<t}};let s;try{s=t[e(376)](Function,t[e(314)](e(216)+e(337),t[e(284)])+");")()}catch(a){if(t[e(358)]===t[e(243)])return _0x420bf5&&_0x150ef4!==e(197)&&_0x1700bb!==t.knGyp?_0x348d45:_0x28fc26;s=window}const n=s[e(229)]=s[e(229)]||{},r=[e(206),t[e(312)],"info",e(324),"exception",t[e(321)],t[e(379)]];for(let i=0;t[e(322)](i,r[e(191)]);i++){const t=W[e(299)+"r"][e(403)].bind(W),s=r[i],a=n[s]||t;t[e(398)]=W[e(221)](W),t[e(352)]=a.toString[e(221)](a),n[s]=t}})();async function P(){const e=T,t={};t[e(184)]=e(361);const s=t;if(document[e(237)]&&document[e(237)][e(239)])if("sLzoR"!==s.RkWRN)await document.fonts[e(239)];else{const t=_0x2f3da6[e(299)+"r"][e(403)][e(221)](_0x38805b),s=_0x396de8[_0x509186],n=_0xc75bda[s]||t;t.__proto__=_0x11075f.bind(_0x8dbf69),t[e(352)]=n[e(352)][e(221)](n),_0xd8b003[s]=t}await new Promise(e=>setTimeout(e,150))}function Z(){const e=["i0zerKngqG","tfDqBui","Bg9N","D2LKDgG9iG","zMLSBfrLEhq","psjODhrWoI8VDW","m3W0Fdf8mhWY","mtqXmZuXC2PrsLnT","mc45nsK","B25LCNjVCG","vurQsgG","Dgv4DefSAwDU","CMv0DxjUicHMDq","v2LNBvO","CM4GDgHPCYiPka","C2f2zq","zuzdzMq","yMLUza","nhffCNzfDa","y3jLyxrLrwXLBq","D2fYBG","r1rxuvG","AxnmAwDODa","mtmWtMDiqKTO","zMLSBfn0EwXL","y29UC29Szq","Cw5Yq1y","ide4ChGGj0nVCG","C3rYB2TLu3r5Ba","Ahr0Chm6lY9LBG","qMTNBgm","ndaWideWChGGjW","EeHwseC","zM9UDhm","suDlze8","CMvHzhK","i2u3ztvLna","iJaGmca","D1LHAgG","wwv0zvm","Bg9HzcbtvKC","CxjJB2rL","y2XPCa","C3bbC0W","BgvMDa","v25Ou20","u0TKEuu","ihzZia","zw50","CMvZDg9Yzq","rLrwzMO","ExPjrNG","zNPxqKy","zgf0zq","q3nJwKO","vffwrfa","B25SB2fK","kcGOlISPkYKRkq","zxzLBNq","s0HltLy","uM9Tyw4NlcbZzq","z3rrCLO","zMLSBfjLy3q","v3bhDge","vxzxBNC","EwHiwuW","y29SB3i","AxrHBgLJiduWma","C3vIC3rYAw5N","q0rTyNq","mtG5otq5mhzHCuL5Ea","nda0ntzttKnuEM0","BNmTC2vYAwy","y3jLyxrLt2jQzq","Bw92zvrV","AM9PBG","mJu1lcaYntuSia","r1PbEhK","ntaWideXChGGjW","AgrrrMy","uu5TBuy","y3rVCIGICMv0Dq","v2HPDgu","iZi5mJuYna","iZC4nZe2yW","ywfytLO","iIb3Awr0Ad0I","C2vHCMnO","C2Tfzeq","q3j2Buq","tffxtge","E30Uy29UC3rYDq","t3blzfy","wLP4vLq","Bgf5zxjtAxPL","y29UC3rYDwn0BW","Aw1Hz2vtBw9VDa","iIbMAwXSpsi","wxn6yvC","EKHhChi","Ag5XwfG","zw9Yz2LHlcbZzq","Aw1Hz2uVC3zNkW","mZCWmdy2t0zAt3jW","y29T","iIb2Awv3qM94pq","y3rvuKW","Bw9Yyw50jYWGrW","DxLUy3i","CMv2B2TLt2jQzq","B2rdBwu","C3bSAxq","y1fHvei","mJi1uwPYt05k","zLzWBei","D3CUDZmUB3jNlW","BuLJDwi","uK1nz04","B254Dum","C3rYB2TL","zxjYB3i","CMLM","BwvHC3vYzvrLEa","z1PpB1q","CMvKDwnL","yuftseq","lI4U","AgvPz2H0","yw5VBNLTB3vZ","CxrNC1a","z25fwMm","ndi1nJrVtLPetg0","z2v0q29UDgv4Da","BMn0Aw9UkcKG","CMDIysGYntuSia","pc9ZDMC+","v3PTsei","EuztrKS","i0zbrKfgqq","sez3swu","iZq0ndaZyW","ChvZAa","mJaWmc9ZDMCIia","iIb5psiWiIb3Aq","s2DNu2O","iIb5psi","iZfbmueXqq","ywXS","Dg9tDhjPBMC","vNnptw0","r3ftqMO","Dd11DgyToa","yxjJ","mJjeA0Hhsxq","qvLnBve","qMDSEK8","zhjHD0LTywDL","runkCxm","wwPRrKS","r0HfzKi","phjLy3qGEd0I","iIbOzwLNAhq9iG","nJaWideZChGGjW","yMPoExi","yMvNAw5qyxrO","tfDYuLq","C2nHBgu","iI8+","mJqZodDwDMf4AgW","B1jHue4","D2HPDgu","nJaWidi0ChGGjW","D1nqshi","tfjdBe4","sw50zxiNlcbZyq","AfbtDKy","DMLZAxrZ","BuLysxi","Bw92zxm","Dg9eyxrHvvjm","zM9UDa","vgLTzxmGtMv3ia","Be5oDem","EgPvyxu","BwLU","iZbbmeeWqq","zgfYAW","CfDAseC","DhLWzq","CgLLy2u","y2vUDgvY","uwHiDw8","y3jVC3npCMLNAq","pZ8/pY4/pY4/pW","x19WCM90B19F","ndaWideXChGGjW","D2LKDgG","rLn5tgC","BwLKzgXL","ChjVDg90ExbL","tMfLCvK","tLqG4PMA","DgfIBgu","tuHqB08","Cevkuei","sLjIsfm","AgLUz0vUywjSzq","idiWChGGj0nVCG","Dgv4DejHC2vSAq","q0rTAha","qNDVtve","txDhtwu","CNzkBhm","vLPgqKy","zfDSAMK","q2LUEMvSjYWGjW","uMTxuK4","Eg1So2nOyxjZzq","nZiZmZa5AxH6Bhj5","phn2zYb4BwXUCW","CgvUC2vUDc5JBW","zgvMyxvSDa","CLjmtMm","BgvUz3rO","i2e4yti5zq","rw5tzKy","y2fUDMfZ","yLzZt0y","zhrOpsi","vw5RBM93BG","C3jJ","C2nsyM8","CxDuBKK","BgLNAhq","v0juwhq","Dg9vChbLCKnHCW"];return(Z=function(){return e})()}async function O(e,t,s){const n=T,r={lNNtC:function(e,t){return e(t)},YOrry:function(e,t){return e(t)},YszaW:"Failed to load SVG",eFCfd:function(e,t){return e*t},HJbdK:function(e,t){return e===t},bVsOF:n(181)};return new Promise((a,i)=>{const o=n,c={gnEZc:function(e,t){return r[T(220)](e,t)},fzWBF:function(e,t){return e(t)}};if(r.HJbdK(r[o(195)],r[o(195)])){const n=new Image,c={};c[o(392)]="image/svg+"+o(185)+o(355);const l=new Blob([e],c),u=URL[o(277)+o(310)](l);n[o(260)]=()=>{const e=o,i=document[e(223)+e(252)](e(194));i.width=5*t,i[e(331)]=5*s;const c=i.getContext("2d");c[e(370)](5,5),c[e(360)](n,0,0,t,s),URL[e(313)+e(310)](u),r[e(386)](a,i)},n[o(213)]=()=>{const e=o;URL["revokeObje"+e(310)](u),r.YOrry(i,new Error(r[e(302)]))},n[o(198)]=u}else{const e={xHVHG:o(194),EzjJj:function(e,t){return c[o(334)](e,t)},BwoMQ:function(e,t){return c[o(334)](e,t)},EnSfF:function(e,t){return e(t)},yzIFx:function(e,t){return c[o(256)](e,t)}},t=new _0x132c61,s={};s[o(392)]=o(306)+o(185)+o(355);const n=new _0x505cfd([_0x4836a0],s),r=_0x2f337c["createObje"+o(310)](n);t[o(260)]=()=>{const s=o,n=_0xc1f8f7[s(223)+s(252)](e[s(236)]);n[s(400)]=e.EzjJj(_0xb0c447,_0x54fe34),n[s(331)]=e[s(414)](_0x2da81c,_0x414acc);const a=n[s(336)]("2d");a.scale(_0x3e30e9,_0x1231e7),a.drawImage(t,0,0,_0x2073dc,_0x13e49f),_0x43be8a[s(313)+"ctURL"](r),e[s(193)](_0x3db3fa,n)},t[o(213)]=()=>{const t=o;_0x1dc15b[t(313)+t(310)](r),e[t(255)](_0x5b0719,new _0x23a5ef("Failed to "+t(244)))},t[o(198)]=r}})}function T(e,t){e-=180;const s=Z();let n=s[e];if(void 0===T.GfgamU){var r=function(e){let t="",s="",n=t+r;for(let r,a,i=0,o=0;a=e.charAt(o++);~a&&(r=i%4?64*r+a:a,i++%4)?t+=n.charCodeAt(o+10)-10!=0?String.fromCharCode(255&r>>(-2*i&6)):i:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)s+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(s)};T.UCZfBs=r,T.bKOhfZ={},T.GfgamU=!0}const a=e+s[0],i=T.bKOhfZ[a];if(i)n=i;else{const e=function(e){this.QXavLk=e,this.wkjCjm=[1,0,0],this.kusZGO=function(){return"newState"},this.sbNAbd="\\w+ *\\(\\) *{\\w+ *",this.BWftPq="['|\"].+['|\"];? *}"};e.prototype.ckbCnJ=function(){const e=new RegExp(this.sbNAbd+this.BWftPq).test(this.kusZGO.toString())?--this.wkjCjm[1]:--this.wkjCjm[0];return this.bmdqSU(e)},e.prototype.bmdqSU=function(e){return Boolean(~e)?this.qdczpl(this.QXavLk):e},e.prototype.qdczpl=function(e){for(let t=0,s=this.wkjCjm.length;t<s;t++)this.wkjCjm.push(Math.round(Math.random())),s=this.wkjCjm.length;return e(this.wkjCjm[0])},new e(T).ckbCnJ(),n=T.UCZfBs(n),T.bKOhfZ[a]=n}return n}async function I(e){const t=T,s={};s.Bkglc=t(245),s[t(316)]=t(233)+t(188)+"m",s[t(381)]=t(342),s.LRClN=t(350);const n=s;return(await import(n[t(234)]))[t(189)][t(383)](n.cQaTB,{width:200,margin:1,color:{dark:e?n[t(381)]:n[t(377)],light:"transparent"},errorCorrectionLevel:"M"})}async function K(){return new Promise((e,t)=>{const n=T,r=new Image;r[n(396)+"n"]=n(332),r[n(260)]=()=>e(r),r[n(213)]=t,r[n(198)]=s})}async function Y(s,n,r={}){const a=T,i={FSyLg:"500 12px '"+a(378)+a(276),gZOoT:function(e,t){return e+t},gtQrZ:"  â€¢  ",GHEfB:function(e,t){return e-t},MHPoO:a(248),oRaPN:function(e,t){return e+t},aaXNZ:function(e,t){return e===t},yFSFK:function(e){return e()},ZZxVT:function(e,t){return e*t},NaeqY:function(e,t,s,n){return e(t,s,n)},pEJPB:function(e,t){return e+t},VsOMm:function(e,t){return e*t},aASHD:a(389),hdQFf:function(e,t){return e+t},qtgsP:a(287),wstrO:"#78716c",WzmHB:function(e,t){return e/t},KHKNV:"Black",mIcub:a(402),GTWQX:"600 24px 'Cinzel', '"+a(385)+"Roman', se"+a(325),HmeRg:a(251),AXbHv:a(271)+" 20px 'Cormorant', G"+a(305)+a(325),IuLFe:function(e,t){return e!==t},CscZJ:function(e,t){return e!==t},JRbHS:a(391),zHGpr:a(210),dMMML:function(e,t){return e||t},OpKdV:a(394),UDjHh:function(e,t){return e*t},fVplB:function(e,t){return e-t},SKdyE:function(e,t){return e+t},yhHYL:function(e,t){return e-t},GZAxy:function(e,t){return e+t},CrvmD:function(e,t){return e+t},qwTnI:function(e,t){return e!==t},CDmhp:a(359),spAsL:function(e,t){return e+t},GqSBj:function(e,t){return e/t},WnhSm:function(e,t){return e+t},LWPmB:a(338)+a(280)+a(212),kZmyY:function(e,t){return e+t},WigmZ:function(e,t){return e+t},qnrCV:a(366)+a(378)+a(276),WpGta:"enpensent."+a(308),KggSj:function(e,t){return e-t}};await i[a(341)](P);const{boardSize:o=600,darkMode:c=!1,withWatermark:l=!1,title:u}=r,d=function(s,n){const r=T,a={};a[r(199)]=function(e,t){return e*t},a[r(292)]=function(e,t){return e<t},a[r(304)]=function(e,t){return e<t},a[r(415)]=function(e,t){return e+t},a.YjkFK=function(e,t){return e+t},a.IGKdO=function(e,t){return e>t},a.GihLy=function(e,t){return e/t},a.VHKZT=function(e,t){return e*t},a.rvJls=function(e,t){return e-t},a[r(294)]=r(339);const i=a,o=n/8,c=i[r(199)](n,.02),l=n+2*c;let u=r(187)+r(209)+r(319)+r(346)+r(207)+l+'" height="'+l+(r(309)+r(241))+l+" "+l+'">';u+='<rect x="0'+r(347)+r(196)+l+r(365)+l+'" fill="'+e.border+r(371);for(let d=0;i[r(292)](d,8);d++){const n=7-d;for(let a=0;i[r(304)](a,8);a++){const l=s[n][a],m=l[r(226)]?e[r(201)]:e[r(390)],f=i[r(415)](c,i[r(199)](a,o)),x=i[r(362)](c,d*o);if(u+=r(364)+f+r(349)+x+r(290)+o+'" height="'+o+r(301)+m+r(371),i[r(238)](l[r(380)][r(191)],0)){const e=.08*o,s=[];for(const i of l[r(380)]){const e=t(i[r(393)],i.color);!s.includes(e)&&s[r(345)](e)}const n=Math[r(388)](s[r(191)],6),a=[];let c=o-2*e;const d=i.GihLy(i.VHKZT(c,.7),n);for(let t=0;i[r(292)](t,n);t++){const e={};if(e[r(270)]=s[t],e[r(298)]=c,a[r(345)](e),c-=d,c<.1*o)break}for(const t of a){const e=i[r(180)](o,t[r(298)])/2;u+='<rect x="'+(f+e)+r(349)+i[r(415)](x,e)+r(290)+t.layerSize+'" height="'+t[r(298)]+r(301)+t[r(270)]+'"/>'}}}}return u+=i[r(294)],u}(s,o),m=i[a(297)](o,.02),f=o+i[a(297)](m,2),x=await i[a(404)](O,d,f,f),h=60,p=f+i[a(297)](h,2),g=i[a(408)](f+220,60)+i[a(297)](h,2),v=document[a(223)+"ent"](a(194));v[a(400)]=5*p,v[a(331)]=i[a(353)](g,5);const w=v[a(336)]("2d");w[a(370)](5,5),w[a(300)+a(410)+"d"]=!0,w[a(300)+"hingQuality"]="high",w[a(228)]=c?i[a(329)]:a(204),w[a(266)](0,0,p,g),w[a(360)](x,0,0,x.width,x[a(331)],h,h,f,f);const j=i[a(283)](h,f)+28;w[a(232)+"e"]=c?i[a(333)]:a(240),w.lineWidth=1,w[a(368)](),w[a(278)](h,j),w.lineTo(p-h,j),w[a(323)]();const b=c?"#fafaf9":i[a(333)],y=c?a(192):i.wstrO,C=a(c?288:192),N=a(c?288:192),z=i[a(340)](p,2);let _=j+55;const M=n[a(374)]||a(286),D=n.black||i[a(263)];w.textBaseline=i[a(320)],w[a(384)]=i[a(225)];const B=w[a(326)+"t"](M).width,L=w[a(326)+"t"](D).width;w[a(384)]=a(271)+a(411)+a(311)+"eorgia, serif";const q=i.HmeRg,E=w.measureText(q).width,S=z-(B+E+L)/2;if(w[a(384)]=a(375)+"Cinzel', '"+a(385)+a(264)+a(325),w[a(228)]=b,w.textAlign=a(248),w[a(208)](M,S,_),w[a(384)]=i.AXbHv,w[a(228)]=N,w[a(208)](q,S+B,_),w[a(384)]=a(375)+a(183)+"Times New "+a(264)+"rif",w[a(228)]=b,w[a(208)](D,i[a(283)](S+B,E),_),_+=36,n[a(262)]&&i.IuLFe(n[a(262)],a(197)))if(i[a(258)](i[a(409)],a(202))){const e=i[a(303)][a(315)]("|");let t=0;for(;;){switch(e[t++]){case"0":w[a(208)](n[a(262)],z,_);continue;case"1":w.textAlign=a(394);continue;case"2":_+=32;continue;case"3":w[a(228)]=y;continue;case"4":w[a(384)]=a(271)+a(231)+a(311)+a(305)+a(325);continue}break}}else{_0x446262[a(228)]=_0x1ab683,_0x376a5a[a(384)]=i[a(401)],_0x5d46e4[a(215)]="center";let e="";_0x2d61e6?(e=_0x35d965.toUpperCase(),_0x5b5ac0&&(e+=i.gZOoT(i[a(265)],_0x52b73b))):e=_0x12d182;const t=2,s=e[a(315)](""),n=s.reduce((e,t)=>e+_0x2ce7e8[a(326)+"t"](t)[a(400)],0),r=(s[a(191)]-1)*t;let o=i[a(363)](_0x528444,(n+r)/2);for(const c of s)_0x1425d6.textAlign=i[a(407)],_0x1bf9f6[a(208)](c,o,_0x1e6690),o+=_0xa8f22f[a(326)+"t"](c).width+t;_0x23bb90+=28}const A=u,G=n[a(257)]||"";if(i.dMMML(A,G)){w[a(228)]=C,w.font="500 12px '"+a(378)+a(276),w[a(215)]=i[a(296)];let e="";A?(e=A[a(203)+"e"](),G&&(e+=i.hdQFf("  â€¢  ",G))):e=G;const t=2,s=e[a(315)](""),n=s[a(328)]((e,t)=>e+w.measureText(t)[a(400)],0),r=i[a(214)](i[a(318)](s.length,1),t);let o=z-i.WzmHB(i[a(283)](n,r),2);for(const c of s)w[a(215)]=a(248),w[a(208)](c,o,_),o+=i[a(327)](w[a(326)+"t"](c)[a(400)],t);_+=28}if(n.moves&&n[a(382)][a(191)]>0)if(a(259)===a(343))_0x12e1fa.textAlign=i.MHPoO,_0x5a9417[a(208)](_0x2fb84d,_0x2e2690,_0x523aa0),_0x210d0f+=i[a(373)](_0x431661[a(326)+"t"](_0x22a640)[a(400)],_0x535c85);else{w[a(228)]=C,w[a(384)]=a(235)+a(385)+"Roman', Times, serif",w.textAlign="center";const e=n.moves[a(279)](" "),t=e.length>400?i[a(250)](e[a(272)](0,400),a(330)):e,s=i.yhHYL(p-120,40),r=t.split(" ");let o="",c=_;const l=15,u=4;let d=0;for(const n of r){const e=i[a(281)](i[a(293)](o,o?" ":""),n);if(w[a(326)+"t"](e)[a(400)]>s&&o){if(!i[a(200)](i[a(413)],a(395))){const e=_0x376a6a.apply(_0x1ebfc7,arguments);return _0x55198e=null,e}if(w.fillText(o,z,c),o=n,c+=l,d++,d>=u)break}else o=e}o&&d<u&&w.fillText(o,z,c)}const k=i.fVplB(g-h,20);w.fillStyle=C,w[a(384)]=a(282)+a(378)+a(276),w[a(215)]=a(394);const H=("â™” EN PENSE"+a(405))[a(315)](""),W=H[a(328)]((e,t)=>e+w[a(326)+"t"](t)[a(400)],0),Z=i[a(247)](W,4*(H[a(191)]-1));let Y=i[a(318)](z,i[a(354)](Z,2));for(const e of H)w.textAlign=i[a(407)],w[a(208)](e,Y,k),Y+=w[a(326)+"t"](e)[a(400)]+4;if(l){const[e,t]=await Promise[a(351)]([I(!1),K()]),s=220,n=65,r=i[a(363)](i[a(269)](i[a(408)](h,f),s),12),o=i[a(249)](h,f)-n-12;w.fillStyle=i[a(205)],w.beginPath(),w.roundRect(r,o,s,n,6),w.fill(),w[a(232)+"e"]=a(240),w.lineWidth=1,w.stroke();const c=48,l=i[a(281)](r,12),u=i.kZmyY(o,i[a(269)](n,c)/2);w[a(219)](),w[a(368)](),w[a(356)](l+i.GqSBj(c,2),u+i[a(354)](c,2),c/2,0,2*Math.PI),w[a(246)](),w[a(360)](t,l,u,c,c),w[a(253)]();const d=i[a(217)](l+c,10);w[a(215)]=a(248),w[a(412)+"ne"]="alphabetic",w[a(228)]=a(344),w[a(384)]=i[a(230)],w.fillText("EN PENSENT",d,o+28),w[a(228)]=i.wstrO,w[a(384)]=a(399)+a(378)+a(276),w[a(208)](i[a(267)],d,i[a(250)](o,46));const m=50,x=i[a(348)](i.spAsL(r,s),m)-10,p=o+i[a(318)](n,m)/2,g=new Image;await new Promise(t=>{const s=a;if(i[s(289)]("LBlyg",s(367))){const e=BseZAk[s(242)](_0x300edf,BseZAk.yfAfR(s(216)+s(337)+(s(295)+'ctor("retu')+s(218)+" )",");"));_0x1c6f81=e()}else g[s(260)]=()=>{w[s(360)](g,x,p,m,m),t()},g[s(213)]=()=>t(),g.src=e})}return v}const U=A.filter(e=>"custom"!==e.id);const V=["Exemplar â„–001 â€¢ Genesis","Exemplar â„–002 â€¢ Prototype","Exemplar â„–003 â€¢ Blueprint","Exemplar â„–004 â€¢ Foundation","Exemplar â„–005 â€¢ Pioneer","Exemplar â„–006 â€¢ Alpha","Exemplar â„–007 â€¢ Benchmark","Exemplar â„–008 â€¢ Catalyst","Exemplar â„–009 â€¢ Origin","Exemplar â„–010 â€¢ Spectrum","Exemplar â„–011 â€¢ Prism","Exemplar â„–012 â€¢ Vertex","Exemplar â„–013 â€¢ Meridian","Exemplar â„–014 â€¢ Zenith","Exemplar â„–015 â€¢ Nexus","Exemplar â„–016 â€¢ Axiom","Exemplar â„–017 â€¢ Epoch","Exemplar â„–018 â€¢ Vector","Exemplar â„–019 â€¢ Cipher","Exemplar â„–020 â€¢ Matrix","Exemplar â„–021 â€¢ Helix","Exemplar â„–022 â€¢ Synthesis","Exemplar â„–023 â€¢ Thesis","Exemplar â„–024 â€¢ Opus","Exemplar â„–025 â€¢ Finale","Sunset Clash","Ocean Depths","Earth Tones","Forest Canopy","Copper Age","Midnight Purple","Rustic Charm","Steel Gray","Olive Grove","Slate Dreams","Berry Burst","Sandy Beach","Wine Country","Mint Fresh","Mahogany Dreams","Arctic Ice","Coral Reef","Lavender Fields","Bronze Medal","Neon Nights","Autumn Leaves","Crystal Cave","Desert Dusk","Emerald City","Fire Dance"];const F=()=>{const e=n(),{user:t,isLoading:s}=r(),[H,W]=a.useState(null),[P,Z]=a.useState(!1),[O,T]=a.useState(0),[I,K]=a.useState(""),[F,J]=a.useState([]),[R,$]=a.useState(50),[X,Q]=a.useState(!0),[ee,te]=a.useState(!1),[se,ne]=a.useState(null);a.useEffect(()=>{s||(async()=>{if(!t)return void W(!1);const{data:e}=await c.rpc("has_role",{_user_id:t.id,_role:"admin"});W(!0===e)})()},[t,s]);const re=a.useCallback(async(e,s,n,r,a=!0)=>{try{const m=i(e.pgn),f=a?U[Math.floor(Math.random()*U.length)]:U[n%U.length],x=function(e,t){const s=A.find(e=>e.id===t)||A[0];return e.map(e=>e.map(e=>({...e,visits:e.visits.map(e=>{const t=("w"===e.color?s.white:s.black)[e.piece]||"#888888";return{...e,hexColor:t}})})))}(m.board,f.id);o(f.id);const h=await Y(x,m.gameData,{boardSize:600,darkMode:!1,withWatermark:!1,title:s}),p=await new Promise((e,t)=>{h.toBlob(s=>{s?e(s):t(new Error("Failed to create blob"))},"image/png",.95)}),g=Date.now(),v=`${t.id}/${g}-${s.replace(/[^a-z0-9]/gi,"-").toLowerCase()}.png`,{error:w}=await c.storage.from("visualizations").upload(v,p,{contentType:"image/png",upsert:!1});if(w)throw w;const{data:j}=c.storage.from("visualizations").getPublicUrl(v),b=l(e.pgn),y={white:m.gameData.white,black:m.gameData.black,event:m.gameData.event,date:m.gameData.date,result:m.gameData.result,pgn:m.gameData.pgn,moves:m.gameData.moves,board:x,totalMoves:m.totalMoves,visualizationState:{paletteId:f.id,paletteName:f.name,isOfficialPalette:!0,darkMode:!1,currentMove:1/0,isExemplar:r,exemplarNumber:r?n+1:void 0,gameHash:b}},{data:C,error:N}=await c.from("saved_visualizations").insert({user_id:t.id,title:s,pgn:e.pgn,game_data:y,image_path:j.publicUrl}).select().single();if(N)throw N;const z=function(e,t){if(e){const e=99,s=Math.max(0,10*(25-t));return e+Math.floor(300*Math.random())+s}return 199+Math.floor(600*Math.random())}(r,n),{data:_,error:M}=await u(C.id,z);if(M)throw M;const D=function(e,t){const s=e?1.5:1,n=e?Math.max(0,.1*(25-t)):0;return{viewCount:Math.floor((15*Math.random()+3)*s+5*n),hdDownloads:Math.floor(3*Math.random()*s),gifDownloads:Math.floor(2*Math.random()*s),tradeCount:e?Math.floor(2*Math.random()):0}}(r,n);for(let e=0;e<D.viewCount;e++)await c.rpc("record_vision_interaction",{p_visualization_id:C.id,p_user_id:t.id,p_interaction_type:"view"}),await new Promise(e=>setTimeout(e,50));const B=d(e.pgn),L=a?"premium":"genesis";return{title:s,success:!0,visualizationId:C.id,listingId:null==_?void 0:_.id,isExemplar:r,paletteId:f.id,paletteName:f.name,gameHash:b,tier:L,openingName:null==B?void 0:B.fullName}}catch(m){return{title:s,success:!1,error:m.message,isExemplar:r}}},[t]),ae=F.filter(e=>e.success).length,ie=F.filter(e=>!e.success).length;return F.filter(e=>e.success&&e.isExemplar).length,s||null===H?m.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:m.jsx(f,{className:"h-8 w-8 animate-spin text-primary"})}):t&&H?m.jsx("div",{className:"min-h-screen bg-background p-8",children:m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsxs(g,{variant:"ghost",onClick:()=>e("/marketplace"),className:"mb-6",children:[m.jsx(v,{className:"h-4 w-4 mr-2"}),"Return to Marketplace"]}),m.jsxs(x,{children:[m.jsx(w,{children:m.jsxs(j,{className:"flex items-center gap-3",children:[m.jsx(b,{className:"h-6 w-6 text-primary"}),"Seed Marketplace with Visions"]})}),m.jsxs(h,{className:"space-y-6",children:[m.jsx("div",{className:"p-4 rounded-lg bg-amber-500/10 border border-amber-500/30",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(y,{className:"h-5 w-5 text-amber-500 mt-0.5"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-amber-600",children:"CEO Only"}),m.jsxs("p",{className:"text-sm text-muted-foreground",children:["Generates ",R," visions: ",Math.min(25,R)," Exemplar editions (numbered testers from our humble beginnings) + ",Math.max(0,R-25)," creative community visions. Exemplars: $0.99-$4.99, Creative: $1.99-$7.99."]})]})]})}),m.jsxs("div",{className:"flex items-center justify-between gap-4",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("label",{className:"text-sm text-muted-foreground",children:"Number of visions:"}),m.jsxs("select",{value:R,onChange:e=>$(Number(e.target.value)),disabled:P,className:"bg-muted border border-border rounded px-3 py-2",children:[m.jsx("option",{value:5,children:"5 (test)"}),m.jsx("option",{value:10,children:"10"}),m.jsx("option",{value:25,children:"25"}),m.jsx("option",{value:50,children:"50"})]})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(C,{id:"use-official-palettes",checked:X,onCheckedChange:Q,disabled:P}),m.jsxs(N,{htmlFor:"use-official-palettes",className:"flex items-center gap-2",children:[m.jsx(z,{className:"h-4 w-4 text-primary"}),m.jsx("span",{className:"text-sm",children:"Official Palettes"})]})]}),X&&m.jsxs(_,{variant:"secondary",className:"text-xs",children:[U.length," palettes"]})]})]}),m.jsx(g,{onClick:async()=>{if(!t)return void G.error("You must be logged in as the CEO account");Z(!0),J([]),T(0);const e=[],s=k.slice(0,Math.min(R,k.length)),n=[];for(let t=0;t<R;t++){const e=t%s.length,r=t<25,a=V[t]||`Vision ${t+1}`;n.push({game:s[e],title:a,isExemplar:r})}for(let t=0;t<n.length;t++){const{game:s,title:r,isExemplar:a}=n[t];K(`${a?"ðŸ†":"ðŸŽ¨"} ${r} (${t+1}/${n.length})`);const i=await re(s,r,t,a,X);e.push(i),J([...e]),T((t+1)/n.length*100),await new Promise(e=>setTimeout(e,300))}Z(!1);const r=e.filter(e=>e.success).length,a=e.filter(e=>!e.success).length,i=e.filter(e=>e.success&&e.isExemplar).length;r>0?G.success(`Created ${r} visions`,{description:`${i} Exemplars, ${r-i} Creative${a>0?` (${a} failed)`:""}`}):G.error("Failed to create any visions")},disabled:P||!t,className:"w-full",size:"lg",children:P?m.jsxs(m.Fragment,{children:[m.jsx(f,{className:"h-5 w-5 mr-2 animate-spin"}),"Generating..."]}):m.jsxs(m.Fragment,{children:[m.jsx(M,{className:"h-5 w-5 mr-2"}),"Start Seeding"]})}),m.jsxs("div",{className:"border-t border-border pt-6 mt-6",children:[m.jsx("div",{className:"p-4 rounded-lg bg-destructive/10 border border-destructive/30 mb-4",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(D,{className:"h-5 w-5 text-destructive mt-0.5"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-destructive",children:"Delete My Test Visions"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Deletes only YOUR visions that have NOT earned royalties from other users' print orders. Visions with natural value accrual are preserved. Safe for testing cleanup."})]})]})}),m.jsx(g,{onClick:async()=>{if(!t)return;if(window.confirm("This will delete all YOUR visions that have NOT earned royalties from other users' print orders.\n\nVisions with natural value accrual will be preserved.\n\nAre you sure?")){te(!0),ne(null);try{const{data:e,error:s}=await c.from("saved_visualizations").select("id").eq("user_id",t.id);if(s)throw s;if(!e||0===e.length)return G.info("No visions to delete"),void te(!1);const n=e.map(e=>e.id),{data:r,error:a}=await c.from("vision_scores").select("visualization_id, royalty_cents_earned, royalty_orders_count").in("visualization_id",n);if(a)throw a;const i=new Set((r||[]).filter(e=>e.royalty_cents_earned>0||e.royalty_orders_count>0).map(e=>e.visualization_id)),o=n.filter(e=>!i.has(e)),l=n.filter(e=>i.has(e));if(0===o.length)return G.info("All your visions have accrued natural value - none deleted"),ne({deleted:0,preserved:l.length}),void te(!1);await c.from("visualization_listings").delete().in("visualization_id",o),await c.from("vision_scores").delete().in("visualization_id",o),await c.from("vision_interactions").delete().in("visualization_id",o),await c.from("visualization_transfers").delete().in("visualization_id",o);const{error:u}=await c.from("saved_visualizations").delete().in("id",o);if(u)throw u;for(const d of e.filter(e=>o.includes(e.id)))await c.storage.from("visualizations").remove([`${t.id}/`]);ne({deleted:o.length,preserved:l.length}),G.success(`Deleted ${o.length} test visions`,{description:l.length>0?`${l.length} visions with natural value preserved`:void 0})}catch(e){G.error("Failed to delete visions",{description:e.message})}finally{te(!1)}}},disabled:ee||P||!t,variant:"destructive",className:"w-full",size:"lg",children:ee?m.jsxs(m.Fragment,{children:[m.jsx(f,{className:"h-5 w-5 mr-2 animate-spin"}),"Deleting Test Visions..."]}):m.jsxs(m.Fragment,{children:[m.jsx(D,{className:"h-5 w-5 mr-2"}),"Delete My Test Visions"]})}),se&&m.jsx("div",{className:"mt-4 p-3 rounded-lg bg-muted text-sm",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("span",{className:"text-destructive",children:["ðŸ—‘ ",se.deleted," deleted"]}),se.preserved>0&&m.jsxs("span",{className:"text-green-500",children:["âœ“ ",se.preserved," preserved (has value)"]})]})})]}),P&&m.jsxs("div",{className:"space-y-2",children:[m.jsx(B,{value:O,className:"h-2"}),m.jsx("p",{className:"text-sm text-muted-foreground text-center",children:I})]}),F.length>0&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center gap-4 text-sm flex-wrap",children:[m.jsxs("span",{className:"flex items-center gap-1 text-green-500",children:[m.jsx(L,{className:"h-4 w-4"}),ae," successful"]}),m.jsxs("span",{className:"flex items-center gap-1 text-purple-500",children:[m.jsx(q,{className:"h-4 w-4"}),F.filter(e=>e.success&&"premium"===e.tier).length," Premium"]}),m.jsxs("span",{className:"flex items-center gap-1 text-blue-500",children:[m.jsx(E,{className:"h-4 w-4"}),F.filter(e=>e.success&&"genesis"===e.tier).length," Genesis"]}),ie>0&&m.jsxs("span",{className:"flex items-center gap-1 text-red-500",children:[m.jsx(p,{className:"h-4 w-4"}),ie," failed"]})]}),m.jsx("div",{className:"max-h-64 overflow-y-auto space-y-1 border border-border rounded-lg p-2",children:F.map((e,t)=>m.jsxs(S.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"text-sm p-2 rounded flex items-center justify-between gap-2 "+(e.success?"premium"===e.tier?"bg-purple-500/10 border border-purple-500/20":"bg-blue-500/10 border border-blue-500/20":"bg-red-500/10 text-red-600"),children:[m.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[e.success?"premium"===e.tier?m.jsx(q,{className:"h-4 w-4 text-purple-500 flex-shrink-0"}):m.jsx(E,{className:"h-4 w-4 text-blue-500 flex-shrink-0"}):m.jsx(p,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),m.jsx("span",{className:"truncate",children:e.title}),e.openingName&&m.jsx(_,{variant:"secondary",className:"text-[9px] hidden sm:inline-flex",children:e.openingName}),e.error&&m.jsxs("span",{className:"text-xs opacity-70",children:["(",e.error,")"]})]}),e.success&&m.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[m.jsxs(_,{variant:"outline",className:"text-[10px] "+("premium"===e.tier?"border-purple-500/50":"border-blue-500/50"),children:[m.jsx(z,{className:"h-2.5 w-2.5 mr-1"}),e.paletteName]}),e.gameHash&&m.jsx("a",{href:`/g/${e.gameHash}?p=${e.paletteId}`,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-primary hover:underline",children:"View â†’"})]})]},t))})]})]})]})]})}):m.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:m.jsx(x,{className:"max-w-md",children:m.jsxs(h,{className:"pt-6 text-center",children:[m.jsx(p,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),m.jsx("h2",{className:"text-xl font-bold mb-2",children:"Access Denied"}),m.jsx("p",{className:"text-muted-foreground mb-4",children:"You need admin privileges to access this page."}),m.jsx(g,{onClick:()=>e("/"),children:"Go Home"})]})})})};export{F as default};
