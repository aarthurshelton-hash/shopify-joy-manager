const n="/**\n * Archaeological Adapter - Historical Reconstruction & Cultural Layers\n * \n * Stratigraphy patterns, artifact dating, site formation processes,\n * cultural diffusion, and the temporal depth of human history.\n * \n * For Alec Arthur Shelton - The Artist\n * Archaeology is the recovery of lost patterns from the earth's memory.\n */\n\nimport type { DomainAdapter, UniversalSignal, DomainSignature } from '../types';\n\n// EXCAVATION METHODS\nconst EXCAVATION_PATTERNS = {\n  stratigraphy: {\n    principle: 'Superposition - deeper = older',\n    law: 'Harris matrix for sequence',\n    challenge: 'Disturbance, reuse, bioturbation'\n  },\n  \n  grid: {\n    method: 'Systematic squares, precise recording',\n    scale: 'Arbitrary or natural',\n    documentation: 'Photos, plans, section drawings'\n  },\n  \n  openArea: {\n    method: 'Expose large horizontal surfaces',\n    advantage: 'Context relationships',\n    risk: 'Structural integrity'\n  },\n  \n  rescue: {\n    context: 'Development threat, limited time',\n    priority: 'Data recovery over completeness',\n    ethics: 'Preservation vs knowledge'\n  }\n};\n\n// DATING METHODS\nconst DATING_TECHNIQUES = {\n  relative: {\n    stratigraphy: 'Layer sequence',\n    typology: 'Artifact style evolution',\n    seriation: 'Frequency change over time'\n  },\n  \n  absolute: {\n    radiocarbon: 'Organic material, 50k year limit',\n    dendrochronology: 'Tree rings, precise',\n    thermoluminescence: 'Fired ceramics, flint',\n    archaeomagnetism: 'Magnetic field changes',\n    potassiumArgon: 'Volcanic rock, millions of years'\n  },\n  \n  calibration: {\n    need: 'C14 vs calendar years differ',\n    curves: 'IntCal, SHCal',\n    precision: 'Ranges not single dates'\n  }\n};\n\n// CULTURAL PROCESSES\nconst CULTURAL_PATTERNS = {\n  innovation: {\n    source: 'Invention, diffusion, migration',\n    adoption: 'S-curve, early adopters',\n    factors: ['Visibility', 'Advantage', 'Compatibility', 'Complexity']\n  },\n  \n  diffusion: {\n    models: ['Relocation', 'Expansion', 'Stimulus'],\n    barriers: ['Distance', 'Mountains', 'Hostility'],\n    evidence: 'Trade goods, styles, ideas'\n  },\n  \n  collapse: {\n    causes: ['Climate', 'Invasion', 'System failure', 'Resource depletion'],\n    examples: ['Maya', 'Rome', 'Easter Island'],\n    complexity: 'Multiple factors, not monocausal'\n  },\n  \n  continuity: {\n    evidence: 'Persistent practices, genetic continuity',\n    change: 'Gradual transformation, not replacement'\n  }\n};\n\n// SITE FORMATION\nconst FORMATION_PROCESSES = {\n  cultural: {\n    deposition: 'Discard, loss, burial, ritual',\n    disturbance: 'Reuse, looting, rebuilding',\n    cTransforms: 'Human behavior effects'\n  },\n  \n  natural: {\n    erosion: 'Wind, water, gravity',\n    burial: 'Alluvium, volcanic ash, colluvium',\n    preservation: ['Arid', 'Waterlogged', 'Frozen', 'Anaerobic']\n  },\n  \n  taphonomy: {\n    focus: 'From deposition to discovery',\n    bias: 'What survives vs what existed',\n    factors: ['Material', 'Environment', 'Time']\n  }\n};\n\n// INTERPRETIVE PARADIGMS\nconst ARCHAEOLOGICAL_THEORY = {\n  cultureHistory: {\n    focus: 'Description, classification, chronology',\n    era: 'Early 20th century',\n    question: 'When, where, what'\n  },\n  \n  processual: {\n    focus: 'Cultural processes, systems',\n    era: '1960s-80s',\n    method: 'Scientific, hypothesis testing',\n    question: 'How, why'\n  },\n  \n  postProcessual: {\n    focus: 'Meaning, symbolism, agency',\n    era: '1980s-present',\n    method: 'Hermeneutics, critical theory',\n    question: 'What did it mean'\n  },\n  \n  public: {\n    focus: 'Community engagement, ethics',\n    concerns: ['Descendant communities', 'Looting', 'Repatriation'],\n    practice: 'Collaborative, transparent'\n  }\n};\n\ninterface ArchaeologicalEvent {\n  timestamp: number;\n  layerDepth: number; // meters\n  artifactDensity: number; // per mÂ²\n  preservationQuality: number; // 0-1\n  datingCertainty: number; // 0-1\n  culturalComplexity: number; // 0-10\n  evidenceOfTrade: number; // 0-1\n  ritualSignificance: number; // 0-1\n  environmentalContext: number; // 0-1\n}\n\nclass ArchaeologicalAdapter implements DomainAdapter<ArchaeologicalEvent> {\n  domain = 'soul' as const;\n  name = 'Archaeological Reconstruction & Cultural Layers';\n  isActive = false;\n  lastUpdate = 0;\n  \n  private signalBuffer: UniversalSignal[] = [];\n  private readonly BUFFER_SIZE = 2000;\n  \n  async initialize(): Promise<void> {\n    this.isActive = true;\n    this.lastUpdate = Date.now();\n    console.log('[ArchaeologicalAdapter] Initialized - History patterns active');\n  }\n  \n  processRawData(event: ArchaeologicalEvent): UniversalSignal {\n    const { timestamp, layerDepth, artifactDensity, preservationQuality, datingCertainty, culturalComplexity } = event;\n    \n    // Frequency encodes temporal depth\n    const frequency = 1 / (layerDepth + 1);\n    \n    // Intensity = archaeological significance\n    const intensity = artifactDensity * preservationQuality * datingCertainty * culturalComplexity / 10;\n    \n    // Phase encodes ritual-secular balance\n    const phase = event.ritualSignificance * Math.PI;\n    \n    const harmonics = [\n      1 / (layerDepth + 1),\n      artifactDensity,\n      preservationQuality,\n      datingCertainty,\n      culturalComplexity / 10,\n      event.evidenceOfTrade\n    ];\n    \n    const signal: UniversalSignal = {\n      domain: 'soul',\n      timestamp,\n      intensity,\n      frequency,\n      phase,\n      harmonics,\n      rawData: [layerDepth, artifactDensity, preservationQuality, datingCertainty, culturalComplexity]\n    };\n    \n    this.signalBuffer.push(signal);\n    if (this.signalBuffer.length > this.BUFFER_SIZE) {\n      this.signalBuffer.shift();\n    }\n    \n    this.lastUpdate = timestamp;\n    return signal;\n  }\n  \n  extractSignature(signals: UniversalSignal[]): DomainSignature {\n    if (signals.length === 0) {\n      return this.getDefaultSignature();\n    }\n    \n    const recent = signals.slice(-100);\n    \n    const avgDepth = recent.reduce((sum, s) => sum + s.rawData[0], 0) / recent.length;\n    const avgDensity = recent.reduce((sum, s) => sum + s.rawData[1], 0) / recent.length;\n    const avgPreservation = recent.reduce((sum, s) => sum + s.rawData[2], 0) / recent.length;\n    const avgDating = recent.reduce((sum, s) => sum + s.rawData[3], 0) / recent.length;\n    const avgComplexity = recent.reduce((sum, s) => sum + s.rawData[4], 0) / recent.length;\n    \n    const quadrantProfile = {\n      aggressive: avgDepth > 5 ? 0.8 : 0.2,\n      defensive: avgPreservation > 0.7 ? 0.7 : 0.2,\n      tactical: avgDating < 0.5 ? 0.6 : 0.3,\n      strategic: avgComplexity > 7 ? 0.8 : 0.3\n    };\n    \n    const temporalFlow = {\n      early: avgDepth > 8 ? 0.9 : 0.1,\n      mid: avgDepth > 3 && avgDepth <= 8 ? 0.7 : 0.2,\n      late: avgDepth <= 3 ? 0.8 : 0.2\n    };\n    \n    return {\n      domain: 'soul',\n      quadrantProfile,\n      temporalFlow,\n      intensity: avgDensity * avgPreservation,\n      momentum: avgDensity > 0.5 ? 1 : -1,\n      volatility: 1 - avgDating,\n      dominantFrequency: 1 / (avgDepth + 1),\n      harmonicResonance: avgPreservation,\n      phaseAlignment: avgDating,\n      extractedAt: Date.now()\n    };\n  }\n  \n  private getDefaultSignature(): DomainSignature {\n    return {\n      domain: 'soul',\n      quadrantProfile: { aggressive: 0.4, defensive: 0.3, tactical: 0.2, strategic: 0.1 },\n      temporalFlow: { early: 0.7, mid: 0.2, late: 0.1 },\n      intensity: 0.5,\n      momentum: 0,\n      volatility: 0.4,\n      dominantFrequency: 0.3,\n      harmonicResonance: 0.7,\n      phaseAlignment: 0.6,\n      extractedAt: Date.now()\n    };\n  }\n}\n\nexport const archaeologicalAdapter = new ArchaeologicalAdapter();\nexport { EXCAVATION_PATTERNS, DATING_TECHNIQUES, CULTURAL_PATTERNS, FORMATION_PROCESSES, ARCHAEOLOGICAL_THEORY };\nexport type { ArchaeologicalEvent };\n";export{n as default};
