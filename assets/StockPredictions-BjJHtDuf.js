var e=Object.defineProperty,t=(t,n,s)=>((t,n,s)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s)(t,"symbol"!=typeof n?n+"":n,s);import{aJ as n,r as s,eu as r,s as a,j as c,C as i,p as o,t as l,L as d,w as u,x,aq as h,B as m,aF as f,v as g,cR as y,y as j,b8 as v,b9 as p,ba as w,bb as N,bc as b,a8 as B,aB as C,aC as D,aD as z,b4 as L,aE as q,aY as M,bh as U,cb as G,ad as I,eB as A}from"./index-C_PxF1MG.js";import{A as P,a as k,b as W}from"./alert-D5JPCP-D.js";import{T as K,a as S,b as H,c as J,d as T,e as Y}from"./table-DLgW88a8.js";import{C as Z}from"./circle-alert-Cxv18S7D.js";import{W as V}from"./wifi-off-N8Fs2aC9.js";import{W as E}from"./wifi-iRS1HSnI.js";import{B as F}from"./briefcase-DyKY2fna.js";import{T as O}from"./trending-down-CwVHwJwI.js";const _=n("Bolt",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]),R=n("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),Q=$;!function(){const e=$,t=te();for(;;)try{if(447485===parseInt(e(414))/1+parseInt(e(417))/2*(-parseInt(e(422))/3)+parseInt(e(453))/4*(-parseInt(e(449))/5)+-parseInt(e(420))/6+parseInt(e(441))/7*(parseInt(e(425))/8)+-parseInt(e(442))/9+parseInt(e(454))/10)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const X=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[$(434)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=$,t={};t.PCTXI=e(446)+"+$";const n=t;return X[e(457)]()[e(415)](n[e(435)])[e(457)]()[e(421)+"r"](X).search(n[e(435)])});function $(e,t){e-=412;const n=te();let s=n[e];if(void 0===$.iZywdg){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};$.dohtOD=r,$.GEZJdS={},$.iZywdg=!0}const a=e+n[0],c=$.GEZJdS[a];if(c)s=c;else{const e=function(e){this.FXUwyb=e,this.nLLmHV=[1,0,0],this.FSeXRM=function(){return"newState"},this.wjWfBu="\\w+ *\\(\\) *{\\w+ *",this.mHKKLU="['|\"].+['|\"];? *}"};e.prototype.lbHJdl=function(){const e=new RegExp(this.wjWfBu+this.mHKKLU).test(this.FSeXRM.toString())?--this.nLLmHV[1]:--this.nLLmHV[0];return this.pczsqs(e)},e.prototype.pczsqs=function(e){return Boolean(~e)?this.RbqRsl(this.FXUwyb):e},e.prototype.RbqRsl=function(e){for(let t=0,n=this.nLLmHV.length;t<n;t++)this.nLLmHV.push(Math.round(Math.random())),n=this.nLLmHV.length;return e(this.nLLmHV[0])},new e($).lbHJdl(),s=$.dohtOD(s),$.GEZJdS[a]=s}return s}X();const ee=function(){let e=!0;return function(t,n){const s=e?function(){const e=$;if(n){if(e(459)==e(459)){const s=n[e(434)](t,arguments);return n=null,s}_0x42cb64=_0x3e0e56}}:function(){};return e=!1,s}}();function te(){const e=["y29UC3rYDwn0BW","nJm4n3bdzLfxyq","z2v0sxrLBq","Bfz2quK","mZK0nhrVAMrsCW","B0n6qw8","mti3lJaUmc4X","yMLUza","DhjHy2u","BhfMAge","z1bwwMW","EufwCfy","CMvTB3zLsxrLBq","yxbWBhK","uenuweK","zxHJzxb0Aw9U","ChjVDg90ExbL","uLjruui","tK9MvKe","C2v0sxrLBq","mtu0DNDJy1fo","mte1mJu2n2nzsvnSuW","q2nhA0G","yNjPzgDLvxjS","y3rVCIGICMv0Dq","kcGOlISPkYKRkq","Bg9N","zePIthK","otvmuunNv3i","C3rYAw5NAwz5","CgfYC2u","yMDtBuu","mte0nti0z1fmC3jv","mtGZnta5otbiuxjzzgC","txz3re8","DgzYsKW","Dg9tDhjPBMC","Aw5MBW","swrqCMu","BgvUz3rO","y29UC29Szq","Ahr0CdOVl2XVyW","CMv0DxjUicHMDq","D2fYBG","x2jYAwrNzv91CG","y2XPzw50swq","nZq2mZfwrxryrNy","C2vHCMnO","ywXOB3n0oJqWma","mJuWCgLODNfK","zxjYB3i","AwjFz2f0zxDHEq","mZiWotq4nffAqK5HDW"];return(te=function(){return e})()}ee(void 0,function(){const e=$,t={oCzAo:function(e,t){return e+t}};t[e(443)]=function(e,t){return e+t},t[e(431)]=e(463)+"nction() ",t[e(452)]="{}.constru"+e(445)+'rn this")( )',t[e(424)]=e(464),t.MvwDO=e(436),t[e(430)]="table",t[e(456)]=e(429),t.RRQQB=e(448);const n=t,s=function(){const t=e;let s;try{s=Function(n[t(426)](n[t(443)](n.gPVZl,n.bgSmE),");"))()}catch(r){s=window}return s}(),r=s[e(461)]=s[e(461)]||{},a=[e(447),n[e(424)],e(458),e(418),n[e(455)],n[e(430)],n[e(456)]];for(let c=0;c<a[e(460)];c++){if("ONAOr"===n[e(438)])return _0x2d4a20;{const t=ee[e(421)+"r"][e(437)].bind(ee),n=a[c],s=r[n]||t;t.__proto__=ee[e(428)](ee),t[e(457)]=s[e(457)][e(428)](s),r[n]=t}}})();const ne=Q(419)+Q(412)+"l",se=Q(462)+Q(416)+"0",re={};re[Q(444)]=se,re.gatewayHost=Q(427),re.gatewayPort=4002,re[Q(413)]=1;const ae=re;function ce(){const e=Q,t={};t[e(439)]="undefined";if(typeof window===t[e(439)])return ae;const n=localStorage[e(423)](ne);if(n)try{return{...ae,...JSON[e(451)](n)}}catch{return ae}return ae}function ie(){const e=Q;return{yAVpV:function(e){return e()}}[e(432)](ce)[e(444)]}const oe=xe;!function(){const e=xe,t=de();for(;;)try{if(881961===parseInt(e(244))/1+parseInt(e(178))/2+parseInt(e(226))/3+parseInt(e(247))/4*(-parseInt(e(158))/5)+-parseInt(e(147))/6*(-parseInt(e(154))/7)+-parseInt(e(199))/8+parseInt(e(126))/9*(-parseInt(e(181))/10))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const le=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[xe(129)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=xe;return le.toString()[e(188)](e(203)+"+$")[e(148)]()[e(215)+"r"](le)[e(188)](e(203)+"+$")});function de(){const e=["DhjHy2u","BM90igf2ywLSyq","Ev0Gr2v0ihbVCW","yLDSufK","z2v0t3jKzxjZ","yxv0AgvUDgLJyq","Ad9ZEw1IB2W9","tKvAuxe","B3vUDhmGzxjYBW","z2v0qwnJB3vUDa","AgfuDLq","yxbWBgLJyxrPBW","E30Uy29UC3rYDq","mty4ndqWng5bBgXYCG","l2fWAs9Hy2nVDq","Ev0Gr2v0igfJyW","mZy2mJu1mgDSr3Dsra","u0Dezue","B3i6","CNjVCJO","y3rPB24","y29UBMvJDgvK","BM5Ly3q","C2vHCMnO","w0LcieDHDgv3yq","sw9Lzge","ANnVBG","DvHKBee","BhfZBNO","z2f0zxDHEuHVCW","ywnJB3vUDhm","l2fWAs9JB25Uzq","C2vJDLi","yMXLoG","nde1mZy3mKDxzwPOsW","y2fUy2vSt3jKzq","y3rVCIGICMv0Dq","CgfWzxjuCMfKAq","kcGOlISPkYKRkq","BgXfsfu","y29UC29Szq","BM93","uLLpAMm","BMn0Aw9UkcKG","t0nQt2e","BI9QC29U","ywLSzwq","y29UBMvJDa","AxrPB25ZigvYCG","zMHXwwK","y29UC3rYDwn0BW","l2fWAs9ZzwfYyW","l2fWAs9VCMrLCG","B3jKzxjZ","CM4GDgHPCYiPka","igvYCM9YoG","l2fWAs9KAxnJBW","C3vIBwL0DgvK","z1frt1e","Cg9ZAxrPB25Z","CMfJDa","mJu3mte2mKDTu2nJra","Aw9UCZ9Hy2nVDq","Bg9N","l2fWAs9WB3nPDa","Bwv0Ag9K","z2v0ug9ZAxrPBW","p2nVBMLKpq","se12tuu","DgvK","B3jKzxiGzxjYBW","y29UDhjHy3rZ","ChjVDg90ExbL","ue9tva","C2vHCMnOq29UDa","y1Dkyum","x19WCM90B19F","q29UDgvUDc1uEq","CMrLCIbLCNjVCG","nJu3mZGXAhnyD3bh","y2XPzw50swq","q2TNtw8","mtaWmJCYsKjds0fQ","zxHJzxb0Aw9U","Ev0GugXHy2uGBW","AwiT","ntrnsLDWEMe","DgHxr0e","DMvPu3i","yxbWBhK","CgXHy2vpCMrLCG","BNrZ","z2v0uxvVDgu","BgPqq2m","Ev0Gt3jKzxiGzG","r0vu","C3rHDhvZ","Ev0Gu2vHCMnOia","z2f0zxDHEvbVCG","zxjYB3i","zu14BLu","y0TmBe8","zgLZy29UBMvJDa","l2fWAs9XDw90zq","y2HLy2TdB25Uzq","v0vXq00","y29UDhjHy3qGzq","mZa2v1vlsvzu","Dg9tDhjPBMC","CMv0DxjUicHMDq","BgvUz3rO","yMLUza","Aw5N","BM9tqNK","mJa4mZi3thnysxLQ","BwvZC2fNzq","Bu1iAKi","C3rYAw5NAwz5","ntvyDhzyzfm","Aw5MBW","D2fYBG","Ev0GqNjPzgDLia","Ev0Gq29UBMvJDa","CKPJshK","svPOCeS"];return(de=function(){return e})()}le();const ue=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[xe(129)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}();function xe(e,t){e-=124;const n=de();let s=n[e];if(void 0===xe.TdLrrV){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};xe.VeTyUc=r,xe.gmNogF={},xe.TdLrrV=!0}const a=e+n[0],c=xe.gmNogF[a];if(c)s=c;else{const e=function(e){this.LWvuEH=e,this.FNWuUQ=[1,0,0],this.HqZhfB=function(){return"newState"},this.bMISaf="\\w+ *\\(\\) *{\\w+ *",this.qnyyTk="['|\"].+['|\"];? *}"};e.prototype.bXPsyq=function(){const e=new RegExp(this.bMISaf+this.qnyyTk).test(this.HqZhfB.toString())?--this.FNWuUQ[1]:--this.FNWuUQ[0];return this.YUcsVH(e)},e.prototype.YUcsVH=function(e){return Boolean(~e)?this.MQiTiW(this.LWvuEH):e},e.prototype.MQiTiW=function(e){for(let t=0,n=this.FNWuUQ.length;t<n;t++)this.FNWuUQ.push(Math.round(Math.random())),n=this.FNWuUQ.length;return e(this.FNWuUQ[0])},new e(xe).bXPsyq(),s=xe.VeTyUc(s),xe.gmNogF[a]=s}return s}ue(void 0,function(){const e=xe,t={ZLLFu:function(e,t){return e(t)},MHVtz:function(e,t){return e+t},secvR:function(e,t){return e+t},ljPCc:function(e){return e()},noSBy:"log",mMHjB:"error",HMvME:e(248)};let n;try{const s=t.ZLLFu(Function,t.MHVtz(t[e(197)](e(149)+e(208),e(177)+e(201)+e(219)+" )"),");"));n=t[e(133)](s)}catch(a){n=window}const s=n[e(205)]=n[e(205)]||{},r=[t[e(153)],e(160),e(159),t[e(156)],t[e(233)],"table",e(165)];for(let c=0;c<r[e(150)];c++){const t=ue[e(215)+"r"][e(237)].bind(ue),n=r[c],a=s[n]||t;t[e(241)]=ue[e(151)](ue),t[e(148)]=a[e(148)][e(151)](a),s[n]=t}})();class he{constructor(){t(this,"connected",!1)}async[oe(144)+oe(185)](){const e=oe,t={gQQOQ:function(e){return e()},veiSr:function(e,t,n){return e(t,n)},NBdRR:function(e,t){return e===t},thWGA:function(e,t){return e===t},fPrJo:function(e,t){return e===t}};try{const n=t[e(223)](ce),s={};s["Content-Type"]=e(176)+e(210);const r={};r.method=e(135),r.headers=s;const a=await t[e(128)](fetch,t[e(223)](ie)+"/api/status",r);if(!a.ok){const t={connected:!1};return t[e(170)+e(234)]=!1,t[e(202)+"ng"]=!1,t}const c=await a[e(191)]();return this[e(186)]=!0===c[e(186)],{connected:t.NBdRR(c["bridgeRunn"+e(152)],!0),authenticated:t[e(127)](c[e(186)],!0),paperTrading:t.fPrJo(n[e(138)+"t"],4002)}}catch(n){const t={connected:!1};return t[e(170)+e(234)]=!1,t[e(202)+"ng"]=!1,t}}async[oe(212)](){const e=oe,t={};t[e(141)]=e(238),t[e(163)]=e(176)+"n/json";const n=t;try{const t=ce(),s={};s.host=t[e(194)+"t"],s.port=t[e(138)+"t"],s[e(245)]=t.clientId;const r=await fetch(ie()+(e(196)+"ct"),{method:n[e(141)],headers:{"Content-Type":n[e(163)]},body:JSON[e(157)](s)});if(!r.ok)return!1;const a=await r.json();return this.connected=!0===a.connected,this[e(186)]}catch(s){return!1}}async[oe(142)](){const e=oe,t={Ioeda:function(e,t){return e===t},weMqV:"RYOjc",fhqYi:function(e,t,n){return e(t,n)},OriWa:function(e){return e()}};try{if(t[e(190)](t.weMqV,e(207))){const n={};n[e(230)]="POST",await t[e(214)](fetch,t.OriWa(ie)+(e(221)+e(187)),n),this.connected=!1}else _0x25482b=_0x443a8d}catch{}}async[oe(174)+"s"](){const e=oe,t={SGDeA:function(e,t){return e(t)},IZhpK:"[IB Gatewa"+e(180)+e(173)+"r:"};try{const n=await t[e(182)](fetch,ie()+(e(179)+e(131)));if(!n.ok)return[];return(await n[e(191)]())[e(195)]||[]}catch(n){return[]}}async[oe(231)+"ns"](e){const t=oe,n=function(e,t){return e(t)};t(189),t(167),t(213),t(183);try{const s=await n(fetch,ie()+(t(229)+t(227)+"ntId=")+e);if(!s.ok)return[];return(await s[t(191)]())[t(224)]||[]}catch(s){return[]}}async[oe(169)](){const e=oe,t={OCjOa:function(e,t){return e(t)},bWlPY:function(e){return e()},UsrUJ:e(189)+"y] Get orders error:"};try{const n=await t[e(209)](fetch,t[e(168)](ie)+(e(217)+"s"));if(!n.ok)return[];return(await n[e(191)]())[e(218)]||[]}catch(n){return[]}}async[oe(239)+oe(225)](e){const t=oe,n=function(e,t){return e(t)};t(189),t(137),t(146),t(184);try{const s=await n(fetch,ie()+(t(216)+t(171))+encodeURIComponent(e));if(!s.ok)return[];return(await s[t(191)]())[t(236)]||[]}catch(s){return[]}}async[oe(130)](e){const t=oe,n={flpZe:"[IB Gateway] Connect"+t(220),lqsnz:function(e){return e()},eWFTw:"POST",WEqCM:function(e,t){return e===t},haTvT:"ipApx",NEZQq:t(189)+t(134)+t(211),YWGOu:t(222)};try{const s={};s[t(242)+"pe"]=t(176)+"n/json";const r=await fetch(n[t(193)](ie)+(t(217)+"s"),{method:n.eWFTw,headers:s,body:JSON[t(157)](e)});if(!r.ok)return n[t(145)](t(140),n[t(175)])?(_0x2f53e1[t(139)](n.flpZe,_0x2b11ed),!1):null;const a=await r[t(191)]();return{orderId:a.orderId||t(125)+Date[t(206)](),status:a[t(136)]||n.YWGOu}}catch(s){return null}}async[oe(200)+"r"](e){const t=oe,n={cWJaC:function(e,t,n){return e(t,n)},rdrqj:function(e){return e()},inztT:t(189)+"y] Cancel "+t(235)+"r:"};try{const s={};s[t(230)]="DELETE";return(await n[t(240)](fetch,n.rdrqj(ie)+(t(217)+"s/")+e,s)).ok}catch(s){return!1}}async[oe(132)](e){const t=oe,n={uXdlA:function(e){return e()}};try{const s=await fetch(n[t(192)](ie)+(t(143)+t(232))+e);if(!s.ok)return null;return await s[t(191)]()}catch{return null}}}const me=new he;function fe(e,t){e-=217;const n=ye();let s=n[e];if(void 0===fe.eHsnwR){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};fe.uvseJJ=r,fe.WnBmTE={},fe.eHsnwR=!0}const a=e+n[0],c=fe.WnBmTE[a];if(c)s=c;else{const e=function(e){this.bYOsbP=e,this.eaLgKG=[1,0,0],this.UgaynJ=function(){return"newState"},this.nzJnNy="\\w+ *\\(\\) *{\\w+ *",this.NWvQgG="['|\"].+['|\"];? *}"};e.prototype.ofNIzb=function(){const e=new RegExp(this.nzJnNy+this.NWvQgG).test(this.UgaynJ.toString())?--this.eaLgKG[1]:--this.eaLgKG[0];return this.CtIyim(e)},e.prototype.CtIyim=function(e){return Boolean(~e)?this.FwHYUq(this.bYOsbP):e},e.prototype.FwHYUq=function(e){for(let t=0,n=this.eaLgKG.length;t<n;t++)this.eaLgKG.push(Math.round(Math.random())),n=this.eaLgKG.length;return e(this.eaLgKG[0])},new e(fe).ofNIzb(),s=fe.uvseJJ(s),fe.WnBmTE[a]=s}return s}!function(){const e=fe,t=ye();for(;;)try{if(624689===parseInt(e(235))/1+-parseInt(e(374))/2*(parseInt(e(227))/3)+-parseInt(e(355))/4+-parseInt(e(310))/5*(parseInt(e(221))/6)+parseInt(e(285))/7*(-parseInt(e(268))/8)+parseInt(e(349))/9*(parseInt(e(327))/10)+parseInt(e(276))/11*(parseInt(e(345))/12))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ge=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[fe(373)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=fe,t={};t[e(297)]="(((.+)+)+)+$";const n=t;return ge[e(217)]().search(n.YmLAF)[e(217)]()[e(293)+"r"](ge).search("(((.+)+)+)+$")});function ye(){const e=["BMn0Aw9UkcKG","ic0G","Bg9N","tLbOvMy","B25Z","mte2nKrxCfHUDa","yxrLD2f5ignVBG","E30Uy29UC3rYDq","Bg9HzefJy291BG","yxrLD2f5lIbdBa","C3rHDhvZ","zMLYC3qU","t3jKzxiG","z2TfDuW","otiWotLewhnQr3O","B3vUDcbMAxjZDa","u3LTyM9Sie5VDa","BMfIBgvKlG","CMvMCMvZAerHDa","y2fUy2vSBgvKlG","C2LKzq","yxrLD2f5igLZia","y29UC3rYDwn0BW","uxHwqxq","r2Howvi","tM8GqwnJB3vUDa","ww1mquy","zxjYB3i","t3jKzxiGugXHyW","DMjdEfC","v3LKsw8","qw1vq2K","Bg9JywWGyNjPza","zMLUzcbJB250CG","y092Bue","y29UBMvJDc4Grq","y29UBMvJDa","DgvK","Aw9UigvYCM9YoG","odb0B2nxD1q","ywn0igzVCIa","zMLUza","yxv0AgvUDgLJyq","y291BNq","zwqGDg8GsuiGrW","y3vYCMvUDa","C2vHCMnOq29UDa","u3rHCNqGDgHLia","zwn0igfUigfJyW","CMfJDa","ugXLyxnLihnLBa","zYbJB25Uzwn0Aq","zxHJzxb0Aw9U","tg5kEMm","y29UBMvJDdOG","BNn1CMuGsuiGrW","mJq2mhHLsNDHCa","CgfWzxi","zgvZDhj1y3rPDG","Cgzcteu","CgfWzxjuCMfKAq","rKTQzvK","tNn1rxa","CM4GDgHPCYiPka","ELLtAMi","AvrluuS","AwPHDMO","Bg9HzfbVC2L0Aq","Bg9Hze9YzgvYCW","ChjPy2u","BuziCgq","Aw5JBhvKzxm","q29UBMvJDgLVBG","yuPvsxm","mtmWmJeYrwXdwu5I","BMLUzYbIDxqGBG","zgvZy3jPChrPBW","C2joAgy","mJG2nZrRu3f3Aw0","Cg9ZAxrPB25Z","AwnRicjdB25Uzq","z2v0qwnJB3vUDa","B3jKzxjZ","q29UBMvJDgvK","mJiZmZmZnNf0zhjlwG","D2rusxu","CxvHBNrPDhK","C2vSzwn0zwrbyW","qM1jueS","ifnLBgvJDgvK","BMvJDgLVBI4","z3zztMq","Dw50","ALzfBfa","Du1Zshm","Ev0Gq29UBMvJDa","BgvUz3rO","B3jKzxjuExbL","zgXitfu","q0HbDgi","D2fYBG","CgXHy2vpCMrLCG","yxbWBhK","mJiYmZK2ohDrBLvZqG","yxrLD2f5","y2HLy2TdB25Uzq","ywnJB3vUDfr5Ca","lIbfBNn1CMuGDa","v2r6v2W","vvDXCva","Dg9tDhjPBMC","ChjVDg90ExbL","BujNywe","t3jKzxiGrMfPBa","mJuXmJe0wen6rKz3","DgHkDuK","y29UBMvJDgvK","C3LTyM9S","w0LcieDHDgv3yq","rMfPBgvKihrVia","m1DIq3fttW","zLvkB1y","zgTsuxu","Egf3B0K","Ev0Gu3rHDhvZoG","AguGyNjPzgDLia","ALfIzK8","BwvZC2fNzq","mta1nZi2m1LqqKT5uq","B24UlI4","Dg9mB3DLCKnHCW","yMLUza","ywnJB3vUDhm","zwXSzwq","vfrny2K","y3rPB24","DgL0Bgu","tvLjCgu","zcbbueKGAxmGzq","Bg9HzgLUzW","CxjlAvm","s0f2sgi","ywnJB3vUDeLK","B3qGy29UBMvJDa","z2v0t3jKzxjZ","t3jKzxiGq2fUyW","rMzHsfC","sLLQtKW","BhKGy29UBMvJDa","qNjPzgDLihj1BG","q291BgqGBM90ia","ExLLA1q","q0vyzLm","z3f3wKy","y3rVCIGICMv0Dq","ywXS","Aw5MBW","y2fUy2vSt3jKzq","CNvUBMLUzYbHBG","y29UAwq","C2vYDMvYigLZia","mtzLBgXQwgS","DgLTzwqGB3v0","vwTNB3i"];return(ye=function(){return e})()}ge();const je=function(){const e={};e[fe(233)]=function(e,t){return e!==t};const t=e;let n=!0;return function(e,s){const r=n?function(){const n=fe;if(t[n(233)](n(219),n(248))){if(s){const t=s[n(373)](e,arguments);return s=null,t}}else _0xc9148f(e=>({...e,loading:!1,error:"Failed to "+n(306)+n(326)+"ateway is "+n(265)+"d API is enabled."}))}:function(){};return n=!1,r}}();je(void 0,function(){const e=fe,t={cOvmA:function(e,t){return e(t)},NsuEp:e(379),FvKyw:function(e,t){return e+t},KjVSh:"return (fu"+e(271),nhYks:e(273),vpYmU:e(371),lrGDe:e(298),gokZC:e(323),Ukgor:function(e,t){return e<t}},n=function(){const n=e,s={WydIo:function(e,n){return t[fe(305)](e,n)}};let r;try{t[n(333)]!==n(379)?_0x4e3cf3.current&&s[n(301)](_0x26ee8b,_0x2bdda9[n(316)]):r=Function(t.FvKyw(t.KjVSh,n(278)+n(261)+n(334)+" )")+");")()}catch(a){r=window}return r}(),s=n.console=n.console||{},r=[t.nhYks,t.vpYmU,e(263),t.lrGDe,t.gokZC,"table","trace"];for(let a=0;t[e(270)](a,r[e(367)]);a++){const t=je[e(293)+"r"][e(218)][e(238)](je),n=r[a],c=s[n]||t;t.__proto__=je[e(238)](je),t.toString=c[e(217)][e(238)](c),s[n]=t}})();const ve=["SPY","QQQ","AAPL","MSFT","NVDA","TSLA","AMD","META"];function pe(){const{connected:e,authenticated:t,paperTrading:n,accounts:A,selectedAccount:R,positions:Q,orders:X,loading:$,error:ee,checkConnection:te,connectToGateway:ne,refreshData:se,placeOrder:re,cancelOrder:ae,selectAccount:ce}=function(){var e;const t=fe,n={HzFlr:t(321)+t(319)+t(286)+".",mFHpd:function(e,t){return e!==t},wdTIu:"MSppl",SAPnp:"[IB Gateway] Checkin"+t(322)+t(236),QxVAt:function(e,t,n){return e(t,n)},dlHLU:function(e,t){return e(t)},fUJoV:t(225)+t(231),vbCxW:t(225)+t(366)+t(309),gvYNd:function(e,t){return e!==t},GhNYR:t(336),MYIpe:t(354),aJUIs:function(e){return e()},zYSjb:function(e,t){return e(t)},Rigvs:function(e){return e()},TTMci:function(e,t){return e(t)},LDkMb:t(324),ITYIu:t(296)+t(360),FKjeY:t(299)+"ed",sbNhf:function(e,t){return e(t)},JYjNL:t(220)+"ed",thJuI:t(257)+"place order. Check g"+t(277)+t(361),jVElP:t(329)+"e",FfaHW:t(252)+t(240),pfBLE:function(e,t){return e===t},NPhVf:t(370),qrKiS:function(e,t){return e(t)},fmMWx:function(e){return e()},AmUCi:t(229),BmIPK:function(e,t,n){return e(t,n)},CEXfS:t(260),uMsHs:function(e,t,n){return e(t,n)}},a={};a[t(223)]=!1,a[t(313)+t(308)]=!1,a.paperTrading=!1,a[t(239)]=[],a[t(358)+t(314)]=null,a[t(350)]=[],a[t(353)]=[],a[t(246)]=!0,a.error=null;const[c,i]=s.useState(a),o=s.useRef(null),{toast:l}=r(),d=s.useCallback(async()=>{const e=t,s={xawoI:function(e,t){return e(t)},UWqqP:e(296)+e(360),gkEuL:n.HzFlr};if(n[e(341)](n[e(356)],n[e(356)]))return s[e(230)](_0x324302,{title:s[e(380)],description:s[e(284)],variant:e(329)+"e"}),null;{i(e=>({...e,loading:!0,error:null}));const t=n[e(294)](setTimeout,()=>{const t=e;i(e=>({...e,connected:!1,authenticated:!1,loading:!1,error:t(343)+" timed out"+t(378)+t(232)+t(267)+"running."}))},8e3);try{const s=await me["checkConne"+e(242)]();return n.dlHLU(clearTimeout,t),n[e(369)](i,t=>({...t,connected:s.connected,authenticated:s[e(313)+e(308)],paperTrading:s[e(331)+"ng"],loading:!1,error:s.connected?s["authentica"+e(308)]?null:e(256)+e(346)+e(250)+"ed to IB G"+e(280)+e(351)+'ct to Gateway".':"Bridge not running. "+e(318)+e(303)+"ge server "+e(282)})),s}catch(r){clearTimeout(t),i(t=>({...t,connected:!1,authenticated:!1,loading:!1,error:e(226)+e(325)+r[e(234)]}));const n={};return n[e(223)]=!1,n[e(313)+e(308)]=!1,n[e(331)+"ng"]=!1,n}}},[]),u=s.useCallback(async()=>{const e=t;if(n.gvYNd(n[e(295)],e(337))){i(e=>({...e,loading:!0,error:null}));try{const t=await me[e(307)]();if(t){const t={};t.title=n[e(244)],t.description="Successful"+e(255)+e(315)+e(375),l(t),await d(),await n[e(344)](x)}else n[e(369)](i,t=>({...t,loading:!1,error:"Failed to "+e(306)+e(326)+e(292)+"running an"+e(245)+e(288)}));return t}catch(s){return n[e(335)](i,t=>({...t,loading:!1,error:e(343)+" failed: "+s.message})),!1}}else _0x5ba427(e=>({...e,selectedAccount:_0x59b071}))},[l,d]),x=s.useCallback(async()=>{const e=t,n=await me[e(352)+"s"](),s=n[e(312)](t=>t[e(249)].startsWith("DU")||t[e(377)+"e"][e(237)+"e"]()[e(342)](e(328)));return i(e=>({...e,accounts:n,selectedAccount:s||n[0]||null})),n},[]),h=n[t(365)](s.useCallback,async()=>{const e=t;if(!c[e(358)+e(314)])return[];const n=await me.getPositions(c[e(358)+"count"].accountId);return i(e=>({...e,positions:n})),n},[c["selectedAc"+t(314)]]),m=n[t(359)](s.useCallback,async()=>{const e=t,s=await me[e(251)]();return n.zYSjb(i,e=>({...e,orders:s})),s},[]),f=s.useCallback(async()=>{const e=t;c["authentica"+e(308)]&&await Promise[e(262)]([n[e(344)](x),h(),n.Rigvs(m)])},[c[t(313)+"ted"],x,h,m]),g=n[t(294)](s.useCallback,async e=>{const s=t;if(n.LDkMb!==s(324))return n[s(241)](_0x1b0732,e=>({...e,loading:!1,error:s(343)+" failed: "+_0x3914c1[s(234)]})),!1;{if(!c["selectedAc"+s(314)]){const e={};return e.title=n.ITYIu,e[s(347)+"n"]=s(321)+s(319)+s(286)+".",e.variant="destructive",l(e),null}const t=await me[s(317)+s(320)](e[s(224)]);if(0===t[s(367)]){const t={};return t[s(243)]=s(287)+" Found",t[s(347)+"n"]="Could not "+s(304)+s(311)+e.symbol,t.variant=s(329)+"e",l(t),null}const r=t[0],a={};a[s(249)]=c["selectedAc"+s(314)][s(249)],a[s(266)]=r.conid,a.symbol=e[s(224)],a[s(291)]=e.side,a[s(357)]=e[s(357)],a.orderType=e[s(368)],a.price=e[s(340)];const i=await me[s(372)](a);if(i)n.dlHLU(l,{title:n[s(332)],description:e.side+" "+e.quantity+" "+e[s(224)]+s(272)+i[s(281)]}),await m();else{if(n[s(362)]("yyekT",s(258))){const e=_0x229c75[s(373)](_0x584944,arguments);return _0x136aeb=null,e}n[s(348)](l,{title:n[s(254)],description:n[s(222)],variant:n[s(364)]})}return i}},[c[t(358)+t(314)],l,m]),y=s.useCallback(async e=>{const s=t,r=await me[s(264)+"r"](e);if(r){const t={};t[s(243)]=n[s(253)],t[s(347)+"n"]=s(283)+e+" has been "+s(290),l(t),await m()}return r},[l,m]),j=s.useCallback(e=>{const s=t,r=c[s(239)][s(312)](t=>t[s(249)]===e);if(r){if(!n[s(330)](n[s(274)],n[s(274)])){n.dlHLU(_0x4b30a7,_0x314680),_0x5ae3ce[s(298)](s(225)+s(366)+s(309),_0x3a72aa),_0x53162b(e=>({...e,connected:!1,authenticated:!1,loading:!1,error:s(226)+s(325)+_0x5a0fde.message}));const e={};return e[s(223)]=!1,e["authentica"+s(308)]=!1,e.paperTrading=!1,e}n[s(247)](i,e=>({...e,selectedAccount:r}))}},[c[t(239)]]);s.useEffect(()=>((async()=>{const e=fe;if((await n.fmMWx(d))[e(313)+e(308)]){if(n[e(302)]!=n[e(302)]){const t=_0x3fd8fc?function(){if(_0x31ef67){const t=_0x5bce0e[e(373)](_0x555b79,arguments);return _0x3a695e=null,t}}:function(){};return _0x1037cc=!1,t}await x(),await h(),await m(),o.current=n.BmIPK(setInterval,()=>{f()},1e4)}})(),()=>{const e=fe;o[e(316)]&&clearInterval(o[e(316)])}),[]),n[t(365)](s.useEffect,()=>{const e=t;c[e(358)+"count"]&&c[e(313)+e(308)]&&(n[e(330)]("gqwZF",n[e(259)])?h():_0x50ca53[e(358)+"count"]&&_0x3b35be[e(313)+"ted"]&&_0x3c6c5d())},[null==(e=c[t(358)+"count"])?void 0:e.accountId]);const v={...c};return v[t(376)+"ction"]=d,v.connectToGateway=u,v[t(279)+"ts"]=x,v[t(338)+t(275)]=h,v[t(339)]=m,v[t(289)+"a"]=f,v[t(372)]=g,v.cancelOrder=y,v["selectAcco"+t(363)]=j,v}(),[ie,oe]=s.useState("overview"),[le,de]=s.useState([]),[ue,xe]=s.useState(!1),[he,ge]=s.useState([]),[ye,je]=s.useState({total:0,today:0,pnl:0}),[pe,we]=s.useState(!1),[Ne,be]=s.useState({symbol:"SPY",side:"BUY",quantity:1,orderType:"MKT",price:0}),[Be,Ce]=s.useState(!1);s.useEffect(()=>{const e=async()=>{try{const{data:e}=await a.from("farm_status").select("*").eq("farm_name","high-frequency-paper-trader").single();if(e){const t=new Date(e.updated_at),n=t>new Date(Date.now()-12e4);we("trading"===e.status||n)}const{data:t}=await a.from("autonomous_trades").select("*").order("created_at",{ascending:!1}).limit(50);if(t){ge(t);const e=new Date;e.setHours(0,0,0,0);const n=t.filter(t=>new Date(t.created_at)>=e),s=t.reduce((e,t)=>e+(t.pnl||0),0);je({total:t.length,today:n.length,pnl:s})}}catch(e){}};e();const t=a.channel("hf-trades").on("postgres_changes",{event:"INSERT",schema:"public",table:"autonomous_trades"},e=>{const t=e.new;ge(e=>[t,...e].slice(0,50));const n=new Date;n.setHours(0,0,0,0);const s=new Date(t.created_at)>=n;je(e=>({total:e.total+1,today:s?e.today+1:e.today,pnl:e.pnl+(t.pnl||0)}))}).subscribe(),n=setInterval(e,5e3);return()=>{clearInterval(n),t.unsubscribe()}},[]),s.useCallback(()=>{te()},[te]),s.useEffect(()=>{if(t){De();const e=setInterval(De,3e4);return()=>clearInterval(e)}},[t]);const De=async()=>{xe(!0);try{const{data:e,error:t}=await a.functions.invoke("stock-data",{body:{action:"batch",symbols:ve}});!t&&(null==e?void 0:e.stocks)&&de(e.stocks.map(e=>({symbol:e.symbol,price:e.latestPrice,change:e.change,changePercent:e.changePercent})))}catch(e){}finally{xe(!1)}},ze=e=>{be(t=>({...t,symbol:e,side:"BUY"})),oe("trade")},Le=s.useMemo(()=>{const e=Q.reduce((e,t)=>e+t.marketValue,0),t=Q.reduce((e,t)=>e+t.unrealizedPnl,0);return{totalValue:e,totalPnL:t,totalRealizedPnL:Q.reduce((e,t)=>e+t.realizedPnl,0),pnlPercent:(null==R?void 0:R.balance)?t/R.balance*100:0}},[Q,R]);return $?c.jsxs(i,{children:[c.jsxs(o,{children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(d,{className:"h-5 w-5 animate-spin text-primary"}),"Connecting to IB Gateway Bridge..."]})}),c.jsx(u,{children:"Checking connection to gateway"})]}),c.jsxs(x,{className:"space-y-4",children:[c.jsx(h,{value:33,className:"h-2"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Looking for the Client Portal Gateway..."}),c.jsxs(P,{children:[c.jsx(Z,{className:"h-4 w-4"}),c.jsx(k,{children:"Connection taking too long?"}),c.jsxs(W,{className:"space-y-2 mt-2",children:[c.jsx("p",{children:"Your browser may be blocking the connection. Try:"}),c.jsxs("ol",{className:"list-decimal list-inside text-sm space-y-1",children:[c.jsxs("li",{children:["Click ",c.jsx("strong",{children:"Gateway Settings"})," above to configure your gateway URL"]}),c.jsx("li",{children:"If using remotely, enter your machine's IP (e.g., https://192.168.1.100:5000)"}),c.jsxs("li",{children:["Accept the ",c.jsx("strong",{children:"self-signed certificate warning"})," in your browser"]}),c.jsx("li",{children:"Login if prompted, then return here"})]})]})]}),c.jsxs(m,{variant:"outline",size:"sm",onClick:()=>window.open("https://localhost:5000","_blank"),children:[c.jsx(f,{className:"h-4 w-4 mr-2"}),"Open Gateway in New Tab"]})]})]}):e?t?c.jsxs("div",{className:"space-y-6",children:[c.jsx(i,{className:"bg-gradient-to-br from-card via-card to-primary/5 border-primary/20",children:c.jsxs(x,{className:"pt-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(y,{className:"h-5 w-5 text-primary"}),c.jsx("span",{className:"font-medium",children:"IBKR Connected"}),n&&c.jsx(j,{variant:"outline",className:"bg-primary/10 text-primary border-primary",children:"Paper Trading"})]}),c.jsxs(v,{value:(null==R?void 0:R.accountId)||"",onValueChange:ce,children:[c.jsx(p,{className:"w-48",children:c.jsx(w,{placeholder:"Select Account"})}),c.jsx(N,{children:A.map(e=>c.jsxs(b,{value:e.accountId,children:[e.accountId," (",e.accountType,")"]},e.accountId))})]}),c.jsx(m,{variant:"ghost",size:"icon",onClick:se,children:c.jsx(g,{className:"h-4 w-4"})})]}),R&&c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[c.jsx(B,{className:"w-3 h-3"}),"Account Balance"]}),c.jsxs("div",{className:"text-3xl font-mono font-bold",children:["$",R.balance.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Buying Power"}),c.jsxs("div",{className:"text-xl font-mono",children:["$",R.buyingPower.toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})]}),Q.length>0&&c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6 pt-6 border-t",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Positions Value"}),c.jsxs("div",{className:"text-xl font-bold",children:["$",Le.totalValue.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Unrealized P&L"}),c.jsxs("div",{className:"text-xl font-bold "+(Le.totalPnL>=0?"text-success":"text-destructive"),children:[Le.totalPnL>=0?"+":"","$",Le.totalPnL.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Realized P&L"}),c.jsxs("div",{className:"text-xl font-bold "+(Le.totalRealizedPnL>=0?"text-success":"text-destructive"),children:[Le.totalRealizedPnL>=0?"+":"","$",Le.totalRealizedPnL.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Open Positions"}),c.jsx("div",{className:"text-xl font-bold",children:Q.length})]})]})]})}),c.jsxs(C,{value:ie,onValueChange:oe,children:[c.jsxs(D,{className:"grid w-full grid-cols-2 max-w-md",children:[c.jsxs(z,{value:"overview",className:"flex items-center gap-1",children:[c.jsx(L,{className:"w-4 h-4"})," Overview"]}),c.jsxs(z,{value:"hf-trading",className:"flex items-center gap-1",children:[c.jsx(_,{className:"w-4 h-4"})," HF Trading",pe&&c.jsx("span",{className:"ml-1 w-2 h-2 bg-success rounded-full animate-pulse"})]})]}),c.jsx(q,{value:"overview",className:"mt-6",children:c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs(i,{children:[c.jsxs(o,{children:[c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(M,{className:"w-5 h-5"}),"Quick Trade"]}),c.jsx(u,{children:"Click a symbol to start a trade"})]}),c.jsxs(x,{children:[c.jsx("div",{className:"grid grid-cols-4 gap-2",children:le.length>0?le.map(e=>c.jsxs(m,{variant:"outline",className:"flex flex-col h-auto py-3 hover:border-primary",onClick:()=>ze(e.symbol),children:[c.jsx("span",{className:"font-bold",children:e.symbol}),c.jsxs("span",{className:"text-sm",children:["$",e.price.toFixed(2)]}),c.jsxs("span",{className:"text-xs "+(e.changePercent>=0?"text-success":"text-destructive"),children:[e.changePercent>=0?"+":"",e.changePercent.toFixed(2),"%"]})]},e.symbol)):ve.map(e=>c.jsx(m,{variant:"outline",className:"py-6",onClick:()=>ze(e),children:e},e))}),ue&&c.jsx("div",{className:"text-center text-sm text-muted-foreground mt-2",children:"Updating quotes..."})]})]}),c.jsxs(i,{children:[c.jsx(o,{children:c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(F,{className:"w-5 h-5"}),"Current Positions"]})}),c.jsx(x,{children:0===Q.length?c.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[c.jsx(U,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),c.jsx("p",{children:"No open positions"}),c.jsx("p",{className:"text-sm",children:"Place a trade to get started"})]}):c.jsxs("div",{className:"space-y-3",children:[Q.slice(0,5).map(e=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:e.symbol}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.position>0?"+":"",e.position," shares @ $",e.avgCost.toFixed(2)]})]}),c.jsxs("div",{className:"text-right "+(e.unrealizedPnl>=0?"text-success":"text-destructive"),children:[c.jsxs("div",{className:"font-medium",children:[e.unrealizedPnl>=0?"+":"","$",e.unrealizedPnl.toFixed(2)]}),c.jsxs("div",{className:"text-sm",children:["$",e.marketValue.toFixed(2)]})]})]},e.conid)),Q.length>5&&c.jsxs(m,{variant:"ghost",className:"w-full",onClick:()=>oe("positions"),children:["View all ",Q.length," positions"]})]})})]})]})}),c.jsx(q,{value:"hf-trading",className:"mt-6",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs(i,{className:"border-2 "+(pe?"border-warning bg-warning/5":"border-dashed"),children:[c.jsx(o,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-3 rounded-full "+(pe?"bg-warning/20":"bg-muted"),children:c.jsx(_,{className:"w-6 h-6 "+(pe?"text-warning animate-pulse":"text-muted-foreground")})}),c.jsxs("div",{children:[c.jsxs(l,{className:"flex items-center gap-2",children:["High-Frequency Paper Trading",pe&&c.jsxs(j,{className:"bg-warning text-warning-foreground",children:[c.jsx(U,{className:"w-3 h-3 mr-1 animate-pulse"}),"LIVE"]})]}),c.jsx(u,{children:"Terminal-based worker generating 100+ trades/day for En Pensent training"})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Worker Status"}),c.jsx("div",{className:"font-medium "+(pe?"text-warning":"text-muted-foreground"),children:pe?"RUNNING":"OFFLINE"})]})]})}),c.jsxs(x,{children:[c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsx("div",{className:"text-3xl font-bold font-mono",children:ye.total}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Trades"})]}),c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsx("div",{className:"text-3xl font-bold font-mono",children:ye.today}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Today's Trades"})]}),c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsxs("div",{className:"text-3xl font-bold font-mono "+(ye.pnl>=0?"text-success":"text-destructive"),children:[ye.pnl>=0?"+":"","$",ye.pnl.toFixed(2)]}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Total P&L"})]}),c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsx("div",{className:"text-3xl font-bold font-mono text-warning",children:pe?"30s":"N/A"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Cycle Time"})]})]}),c.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-muted-foreground",children:[c.jsx(G,{className:"w-4 h-4"}),c.jsx("span",{children:"Auto-refresh every 5 seconds from Supabase"}),c.jsx("span",{className:"mx-2",children:"•"}),c.jsx("span",{children:"11 symbols: AAPL, MSFT, NVDA, TSLA, AMD, META, GOOGL, AMZN, SPY, QQQ, IWM"})]})]})]}),c.jsxs(i,{children:[c.jsxs(o,{children:[c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(U,{className:"w-5 h-5"}),"Live Trade Feed",he.length>0&&c.jsxs(j,{variant:"secondary",children:[he.length," recent"]})]}),c.jsx(u,{children:"Real-time trades from high-frequency worker (updates every 5s)"})]}),c.jsx(x,{children:0===he.length?c.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[c.jsx(_,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{className:"text-lg",children:"No trades yet"}),c.jsx("p",{className:"text-sm",children:"Start the high-frequency worker to see activity"}),c.jsx("code",{className:"block mt-4 p-2 bg-muted rounded text-xs",children:"node farm/workers/high-frequency-paper-trader.mjs"})]}):c.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:he.map(e=>{var t;return c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:["BUY"===e.direction?c.jsx(I,{className:"w-4 h-4 text-success"}):c.jsx(O,{className:"w-4 h-4 text-destructive"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold",children:e.symbol}),c.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleTimeString()})]}),c.jsx(j,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction}),c.jsxs(j,{variant:"outline",className:"text-xs",children:[e.shares," shares"]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Entry"})]}),e.predicted_confidence&&c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"font-mono",children:[(100*e.predicted_confidence).toFixed(0),"%"]}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Conf"})]}),void 0!==e.pnl&&null!==e.pnl&&c.jsxs("div",{className:"text-right font-mono "+(e.pnl>=0?"text-success":"text-destructive"),children:[c.jsxs("div",{children:[e.pnl>=0?"+":"","$",e.pnl.toFixed(2)]}),c.jsx("div",{className:"text-xs",children:"P&L"})]}),c.jsx(j,{variant:"outline",className:"open"===e.status?"bg-success/10 text-success":"bg-muted",children:e.status})]})]},e.id)})})})]}),he.filter(e=>"open"===e.status).length>0&&c.jsxs(i,{children:[c.jsx(o,{children:c.jsxs(l,{className:"text-lg flex items-center gap-2",children:[c.jsx(F,{className:"w-5 h-5"}),"Open HF Positions"]})}),c.jsx(x,{children:c.jsxs(K,{children:[c.jsx(S,{children:c.jsxs(H,{children:[c.jsx(J,{children:"Symbol"}),c.jsx(J,{children:"Side"}),c.jsx(J,{className:"text-right",children:"Shares"}),c.jsx(J,{className:"text-right",children:"Entry"}),c.jsx(J,{className:"text-right",children:"Stop Loss"}),c.jsx(J,{className:"text-right",children:"Take Profit"}),c.jsx(J,{children:"Status"})]})}),c.jsx(T,{children:he.filter(e=>"open"===e.status).map(e=>{var t,n,s;return c.jsxs(H,{children:[c.jsx(Y,{className:"font-bold",children:e.symbol}),c.jsx(Y,{children:c.jsx(j,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction})}),c.jsx(Y,{className:"text-right font-mono",children:e.shares}),c.jsxs(Y,{className:"text-right font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),c.jsxs(Y,{className:"text-right font-mono text-destructive",children:["$",(null==(n=e.stop_loss)?void 0:n.toFixed(2))||"N/A"]}),c.jsxs(Y,{className:"text-right font-mono text-success",children:["$",(null==(s=e.take_profit)?void 0:s.toFixed(2))||"N/A"]}),c.jsx(Y,{children:c.jsx(j,{variant:"outline",className:"bg-success/10 text-success border-success/30",children:"Open"})})]},e.id)})})]})})]})]})})]})]}):c.jsxs(i,{className:"border-warning/50",children:[c.jsx(o,{children:c.jsxs(l,{className:"flex items-center gap-2 text-warning",children:[c.jsx(E,{className:"h-5 w-5"}),"Gateway Running - Login Required"]})}),c.jsxs(x,{className:"space-y-4",children:[c.jsxs(P,{variant:"default",children:[c.jsx(Z,{className:"h-4 w-4"}),c.jsx(W,{children:'Bridge is running but not connected to IB Gateway. Open IB Gateway desktop app, log in, then click "Connect to Gateway".'})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(m,{onClick:ne,className:"flex-1",children:[c.jsx(E,{className:"h-4 w-4 mr-2"}),"Connect to Gateway"]}),c.jsxs(m,{variant:"outline",onClick:te,children:[c.jsx(g,{className:"h-4 w-4 mr-2"}),"Check Status"]})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"IB Gateway must be running with API enabled (port 4002 for paper trading)."})]})]}):c.jsxs(i,{className:"border-destructive/50",children:[c.jsxs(o,{children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(l,{className:"flex items-center gap-2 text-destructive",children:[c.jsx(V,{className:"h-5 w-5"}),"IB Gateway Bridge Not Running"]})}),c.jsx(u,{children:ee||"Start the IBKR Client Portal Gateway to begin trading."})]}),c.jsxs(x,{className:"space-y-4",children:[c.jsxs(P,{children:[c.jsx(Z,{className:"h-4 w-4"}),c.jsx(k,{children:"Quick Setup"}),c.jsx(W,{className:"space-y-2",children:c.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-2",children:[c.jsxs("li",{children:["Download the ",c.jsx("a",{href:"https://www.interactivebrokers.com/en/trading/ib-api.php",target:"_blank",rel:"noopener",className:"text-primary underline font-medium",children:"IBKR Client Portal Gateway"})]}),c.jsxs("li",{children:["Run ",c.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.sh"})," (Mac) or ",c.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.bat"})," (Windows)"]}),c.jsxs("li",{children:["Login at ",c.jsx("strong",{children:"https://localhost:5000"})," with IBKR credentials"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Using remote access?"})," Click Gateway Settings above and enter your machine's IP"]})]})})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(m,{onClick:te,className:"flex-1",children:[c.jsx(g,{className:"h-4 w-4 mr-2"}),"Retry Connection"]}),c.jsxs(m,{variant:"outline",onClick:()=>window.open("https://localhost:5000","_blank"),children:[c.jsx(f,{className:"h-4 w-4 mr-2"}),"Open Gateway"]})]})]})]})}const we=()=>c.jsxs("div",{className:"container mx-auto py-8 px-4",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[c.jsx(R,{className:"w-8 h-8 text-primary"}),c.jsxs("h1",{className:"text-4xl font-bold",children:[c.jsx("span",{className:"text-primary",children:"En Pensent™"})," Trading"]})]}),c.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Paper trading powered by Interactive Brokers. Start with simulated funds, graduate to real money when ready."})]}),c.jsx(A,{componentName:"IBKRTradingDashboard",children:c.jsx(pe,{})}),c.jsx("p",{className:"text-center text-xs text-muted-foreground mt-8",children:"⚠️ Paper trading uses simulated funds. No real money is at risk. When ready, switch to a live IBKR account for real trading."})]});export{we as default};
