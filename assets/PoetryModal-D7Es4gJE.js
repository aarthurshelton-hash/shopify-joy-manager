const e="import React from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { PenTool, Feather, Quote, Copy, Check } from 'lucide-react';\nimport { getGamePoetry, getPoetryStyleLabel, GamePoetry } from '@/lib/chess/gamePoetry';\nimport { toast } from 'sonner';\n\ninterface PoetryModalProps {\n  gameId: string | null;\n  gameTitle?: string;\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nconst styleIcons: Record<string, React.ReactNode> = {\n  'haiku': 'ðŸŽ‹',\n  'couplet': 'ðŸª¶',\n  'quatrain': 'ðŸ“œ',\n  'free verse': 'ðŸŒŠ',\n  'epigram': 'ðŸ’Ž',\n  'sonnet fragment': 'ðŸŒ¹',\n};\n\nconst styleDescriptions: Record<string, string> = {\n  'haiku': 'A traditional Japanese form: 3 lines capturing a moment in time',\n  'couplet': 'Two rhyming lines that complete a thought',\n  'quatrain': 'Four lines weaving narrative and emotion',\n  'free verse': 'Unbound by form, flowing with the game\\'s spirit',\n  'epigram': 'A brief, witty observation distilled to its essence',\n  'sonnet fragment': 'An excerpt from a larger poetic tradition',\n};\n\nexport const PoetryModal: React.FC<PoetryModalProps> = ({\n  gameId,\n  gameTitle,\n  isOpen,\n  onClose,\n}) => {\n  const [copied, setCopied] = React.useState(false);\n  \n  const poetry = gameId ? getGamePoetry(gameId) : null;\n  const styleLabel = gameId ? getPoetryStyleLabel(gameId) : null;\n\n  const handleCopy = () => {\n    if (poetry) {\n      const textToCopy = `${poetry.poem}\\n\\nâ€” \"${gameTitle || 'Chess Vision'}\" | En Pensent`;\n      navigator.clipboard.writeText(textToCopy);\n      setCopied(true);\n      toast.success('Poetry copied to clipboard');\n      setTimeout(() => setCopied(false), 2000);\n    }\n  };\n\n  if (!poetry) return null;\n\n  return (\n    <Dialog open={isOpen} onOpenChange={(open) => !open && onClose()}>\n      <DialogContent className=\"sm:max-w-lg border-primary/20 bg-gradient-to-b from-card to-background\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center gap-2 font-display text-xl\">\n            <motion.div\n              initial={{ rotate: -10 }}\n              animate={{ rotate: 0 }}\n              transition={{ type: 'spring', stiffness: 200 }}\n            >\n              <Feather className=\"h-5 w-5 text-primary\" />\n            </motion.div>\n            Poetry of the Game\n          </DialogTitle>\n        </DialogHeader>\n\n        <div className=\"space-y-6 py-4\">\n          {/* Game Title */}\n          {gameTitle && (\n            <div className=\"text-center\">\n              <p className=\"text-sm text-muted-foreground\">Inspired by</p>\n              <h3 className=\"font-display text-lg font-semibold text-foreground\">\n                {gameTitle}\n              </h3>\n            </div>\n          )}\n\n          {/* Poetry Display */}\n          <motion.div \n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: 0.1 }}\n            className=\"relative p-6 rounded-xl bg-gradient-to-br from-primary/5 via-transparent to-amber-500/5 border border-primary/20\"\n          >\n            {/* Quote decoration */}\n            <Quote className=\"absolute top-3 left-3 h-6 w-6 text-primary/20\" />\n            <Quote className=\"absolute bottom-3 right-3 h-6 w-6 text-primary/20 rotate-180\" />\n\n            {/* The poem */}\n            <div className=\"relative z-10 text-center px-4\">\n              {poetry.poem.split('\\n').map((line, index) => (\n                <motion.p\n                  key={index}\n                  initial={{ opacity: 0, x: -10 }}\n                  animate={{ opacity: 1, x: 0 }}\n                  transition={{ delay: 0.2 + index * 0.15 }}\n                  className=\"font-serif text-lg md:text-xl leading-relaxed text-foreground italic\"\n                >\n                  {line}\n                </motion.p>\n              ))}\n            </div>\n          </motion.div>\n\n          {/* Style Badge and Description */}\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            transition={{ delay: 0.4 }}\n            className=\"text-center space-y-2\"\n          >\n            <Badge \n              variant=\"outline\" \n              className=\"bg-primary/10 text-primary border-primary/30 gap-2\"\n            >\n              <span>{styleIcons[poetry.style] || 'âœ¨'}</span>\n              {styleLabel}\n            </Badge>\n            <p className=\"text-xs text-muted-foreground max-w-sm mx-auto\">\n              {styleDescriptions[poetry.style]}\n            </p>\n          </motion.div>\n\n          {/* Copy Button */}\n          <div className=\"flex justify-center pt-2\">\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={handleCopy}\n              className=\"gap-2 group\"\n            >\n              <AnimatePresence mode=\"wait\">\n                {copied ? (\n                  <motion.div\n                    key=\"check\"\n                    initial={{ scale: 0 }}\n                    animate={{ scale: 1 }}\n                    exit={{ scale: 0 }}\n                  >\n                    <Check className=\"h-4 w-4 text-green-500\" />\n                  </motion.div>\n                ) : (\n                  <motion.div\n                    key=\"copy\"\n                    initial={{ scale: 0 }}\n                    animate={{ scale: 1 }}\n                    exit={{ scale: 0 }}\n                  >\n                    <Copy className=\"h-4 w-4 group-hover:text-primary transition-colors\" />\n                  </motion.div>\n                )}\n              </AnimatePresence>\n              {copied ? 'Copied!' : 'Copy Poetry'}\n            </Button>\n          </div>\n\n          {/* Attribution */}\n          <p className=\"text-center text-xs text-muted-foreground\">\n            â™” En Pensent â€” Where Every Game Becomes Art â™š\n          </p>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\n// Compact poetry preview card for embedding in vision experience\nexport const PoetryPreviewCard = React.forwardRef<\n  HTMLButtonElement,\n  {\n    gameId: string | null;\n    gameTitle?: string;\n    onOpenModal: () => void;\n  }\n>(function PoetryPreviewCard({ gameId, gameTitle, onOpenModal }, ref) {\n  const poetry = gameId ? getGamePoetry(gameId) : null;\n  const styleLabel = gameId ? getPoetryStyleLabel(gameId) : null;\n\n  if (!poetry) return null;\n\n  const firstLine = poetry.poem.split('\\n')[0];\n\n  return (\n    <button\n      ref={ref}\n      onClick={onOpenModal}\n      className=\"w-full text-left p-4 rounded-lg bg-gradient-to-r from-primary/5 via-transparent to-amber-500/5 border border-primary/20 hover:border-primary/40 transition-all duration-300 group cursor-pointer hover:scale-[1.01] active:scale-[0.99]\"\n    >\n      <div className=\"flex items-start gap-3\">\n        <div className=\"p-2 rounded-full bg-primary/10 group-hover:bg-primary/20 transition-colors\">\n          <Feather className=\"h-4 w-4 text-primary\" />\n        </div>\n        <div className=\"flex-1 min-w-0\">\n          <div className=\"flex items-center gap-2 mb-1\">\n            <span className=\"text-xs font-medium text-muted-foreground uppercase tracking-wider\">Poetry</span>\n            <Badge variant=\"secondary\" className=\"text-[10px] py-0\">\n              {styleIcons[poetry.style]} {styleLabel}\n            </Badge>\n          </div>\n          <p className=\"font-serif text-sm text-foreground italic truncate\">\n            \"{firstLine}...\"\n          </p>\n          <p className=\"text-xs text-primary/70 mt-1 group-hover:text-primary transition-colors\">\n            Click to read full poem â†’\n          </p>\n        </div>\n      </div>\n    </button>\n  );\n});\n\nexport default PoetryModal;\n";export{e as default};
