const e="import { create } from 'zustand';\nimport { SimulationResult } from '@/lib/chess/gameSimulator';\nimport { MoveHistoryEntry } from '@/components/chess/EnPensentOverlay';\nimport { PieceType } from '@/lib/chess/pieceColors';\n\n// Captured state interface - matches what user currently sees\nexport interface CapturedVisualizationState {\n  currentMove: number;\n  selectedPhase: string;\n  lockedPieces: Array<{ pieceType: string; pieceColor: string }>;\n  compareMode: boolean;\n  displayMode: string;\n  darkMode: boolean;\n  showTerritory: boolean;\n  showHeatmaps: boolean;\n  showPieces?: boolean;\n  pieceOpacity?: number;\n  capturedAt: Date;\n}\n\nexport interface PrintOrderData {\n  // From saved visualization\n  visualizationId?: string;\n  imagePath?: string;\n  title: string;\n  pgn?: string;\n  fen?: string; // NEW: Support FEN-only positions\n  gameData: {\n    white: string;\n    black: string;\n    event?: string;\n    date?: string;\n    result?: string;\n  };\n  \n  // Game metadata for cart display and navigation\n  gameHash?: string;\n  gameId?: string; // Famous game ID for game card art\n  paletteId?: string; // For palette banner in cart\n  \n  // From En Pensent live game (Play page)\n  moveHistory?: MoveHistoryEntry[];\n  whitePalette?: Record<PieceType, string>;\n  blackPalette?: Record<PieceType, string>;\n  \n  // Full simulation result (from homepage or export)\n  simulation?: SimulationResult;\n  \n  // Share ID for QR code\n  shareId?: string | null;\n  \n  // Captured visualization state (timeline position, locked pieces, etc.)\n  // This is the source of truth for what the user sees\n  capturedState?: CapturedVisualizationState;\n  \n  // Pre-generated base64 image of exact current state (for cart/mockup)\n  previewImageBase64?: string;\n  \n  // Path to return to after closing order page\n  returnPath?: string;\n}\n\ninterface PrintOrderStore {\n  orderData: PrintOrderData | null;\n  setOrderData: (data: PrintOrderData) => void;\n  clearOrderData: () => void;\n  // Update just the preview image (after async generation)\n  setPreviewImage: (imageBase64: string) => void;\n  // Update FEN for position-only orders\n  setFen: (fen: string) => void;\n}\n\nexport const usePrintOrderStore = create<PrintOrderStore>((set) => ({\n  orderData: null,\n  setOrderData: (data) => set({ orderData: data }),\n  clearOrderData: () => set({ orderData: null }),\n  setPreviewImage: (imageBase64) => set((state) => ({\n    orderData: state.orderData ? { ...state.orderData, previewImageBase64: imageBase64 } : null,\n  })),\n  setFen: (fen) => set((state) => ({\n    orderData: state.orderData ? { ...state.orderData, fen } : null,\n  })),\n}));\n";export{e as default};
