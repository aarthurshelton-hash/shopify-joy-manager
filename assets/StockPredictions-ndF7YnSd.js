var e,t=Object.defineProperty,n=(e,n,s)=>((e,n,s)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s)(e,"symbol"!=typeof n?n+"":n,s);import{aJ as s,r,ew as a,s as c,j as i,C as o,p as l,t as d,L as u,w as x,x as h,aq as m,B as f,aF as g,v,cR as y,y as j,b8 as p,b9 as w,ba as N,bb as C,bc as b,a8 as B,aB as D,aC as z,aD as q,b4 as P,aE as L,aY as M,bh as G,cb as A,ad as I,eD as U}from"./index-CDYK3n_t.js";import{A as k,a as S,b as K}from"./alert-e9gLGcFb.js";import{T as H,a as T,b as E,c as J,d as Y,e as W}from"./table-DTuVNuV8.js";import{C as O}from"./circle-alert-BmwriaSi.js";import{W as V}from"./wifi-off-CRdQGyLj.js";import{W as F}from"./wifi-407vErjW.js";import{B as Z}from"./briefcase-DRTtRE0I.js";import{T as R}from"./trending-down-BH0XMLTI.js";const _=s("Bolt",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]),X=s("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),Q=ee;!function(){const e=ee,t=ie();for(;;)try{if(166086===-parseInt(e(523))/1+parseInt(e(488))/2*(-parseInt(e(511))/3)+parseInt(e(514))/4+-parseInt(e(480))/5+parseInt(e(528))/6+-parseInt(e(492))/7*(-parseInt(e(516))/8)+-parseInt(e(483))/9*(parseInt(e(515))/10))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const $=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[ee(489)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=ee,t={};t[e(522)]=e(506)+"+$";const n=t;return $[e(482)]()[e(504)](n[e(522)]).toString()[e(512)+"r"]($)[e(504)](n[e(522)])});function ee(e,t){e-=479;const n=ie();let s=n[e];if(void 0===ee.wRhcEF){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};ee.PzwNyq=r,ee.BJTszQ={},ee.wRhcEF=!0}const a=e+n[0],c=ee.BJTszQ[a];if(c)s=c;else{const e=function(e){this.fGeCve=e,this.YAeNEQ=[1,0,0],this.AVCRPb=function(){return"newState"},this.hTCiub="\\w+ *\\(\\) *{\\w+ *",this.KOccUr="['|\"].+['|\"];? *}"};e.prototype.Hrbhkr=function(){const e=new RegExp(this.hTCiub+this.KOccUr).test(this.AVCRPb.toString())?--this.YAeNEQ[1]:--this.YAeNEQ[0];return this.aCjNic(e)},e.prototype.aCjNic=function(e){return Boolean(~e)?this.jvPBPp(this.fGeCve):e},e.prototype.jvPBPp=function(e){for(let t=0,n=this.YAeNEQ.length;t<n;t++)this.YAeNEQ.push(Math.round(Math.random())),n=this.YAeNEQ.length;return e(this.YAeNEQ[0])},new e(ee).Hrbhkr(),s=ee.PzwNyq(s),ee.BJTszQ[a]=s}return s}$();const te=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[ee(489)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}();te(void 0,function(){const e=ee,t={};t[e(524)]=function(e,t){return e+t},t[e(505)]=e(493)+e(527),t[e(519)]=e(481),t[e(494)]=e(507),t[e(497)]=e(502),t.TSDXB=function(e,t){return e<t};const n=t;let s;try{s=Function(n[e(524)](n[e(505)]+(e(487)+e(501)+e(530)+" )"),");"))()}catch(c){s=window}const r=s.console=s[e(510)]||{},a=[e(518),e(503),e(484),n[e(519)],e(517),n[e(494)],n[e(497)]];for(let i=0;n[e(521)](i,a[e(490)]);i++){const t=te[e(512)+"r"][e(513)][e(495)](te),n=a[i],s=r[n]||t;t[e(498)]=te.bind(te),t[e(482)]=s.toString[e(495)](s),r[n]=t}})();const ne=Q(520)+Q(529)+"l",se=Q(525)+Q(508)+"0",re={};re.bridgeUrl=se,re[Q(491)+"t"]=Q(499),re.gatewayPort=4002,re[Q(479)]=1;const ae=re;function ce(){const e=Q;if(typeof window===e(485))return ae;const t=localStorage[e(486)](ne);if(t)try{return{...ae,...JSON[e(526)](t)}}catch{return ae}return ae}function ie(){const e=["m0jQrgTczW","y29UC3rYDwn0BW","ChjVDg90ExbL","mtiWmJuYngXvwLfLua","mtmWAwP4zwXi","mJi1mdu2oergu0vzsG","zxHJzxb0Aw9U","Bg9N","CvfdENu","AwjFz2f0zxDHEq","vfnewei","Cunjvvq","mtaWntu1uLfdD1zm","C1Hsr3m","Ahr0CdOVl2XVyW","CgfYC2u","BMn0Aw9UkcKG","mtqWmtC5mMf6vKnKtG","x2jYAwrNzv91CG","CM4GDgHPCYiPka","y2XPzw50swq","oty2mZa1CfDzCMrw","zxjYB3i","Dg9tDhjPBMC","mJqZmZmZyKLyDLvO","Aw5MBW","Dw5KzwzPBMvK","z2v0sxrLBq","E30Uy29UC3rYDq","odqWmKrOy3LZAG","yxbWBhK","BgvUz3rO","z2f0zxDHEuHVCW","n2zUB2Hiva","CMv0DxjUicHMDq","zfPwt0S","yMLUza","C2v0sxrLBq","DhHWCLu","x19WCM90B19F","mti3lJaUmc4X","yNjPzgDLvxjS","y3rVCIGICMv0Dq","DhjHy2u","D2fYBG","C2vHCMnO","BufWqNq","kcGOlISPkYKRkq","DgfIBgu","ywXOB3n0oJqWma","CMvTB3zLsxrLBq","y29UC29Szq"];return(ie=function(){return e})()}function oe(){const e=Q;return ce()[e(500)]}const le=he;function de(){const e=["zfHHEu4","EwzWt1i","A1L5tLe","B3i6","yKPoELy","CMrLCIbLCNjVCG","q0nRq1y","BNrZ","ANnVBG","CMfJDa","DgvK","Aw9UCZ9Hy2nVDq","y29UC29Szq","B3vUDhmGzxjYBW","z2v0ug9ZAxrPBW","Ev0Gr2v0ihbVCW","l2fWAs9XDw90zq","Ev0Gr2v0ig9Yza","zxHJzxb0Aw9U","y3rPB24","C3vIBwL0DgvK","mtm3mZe0og5Hy1vsBq","y2XPzw50swq","mZK3mdq2ngHtzLzoAG","AxrPB25ZigvYCG","uhHOyuC","otmWnhfir05qBa","Cg9ZAxrPB25Z","yxv0AgvUDgLJyq","Dg9tDhjPBMC","ywLSzwq","ChjVDg90ExbL","l2fWAs9WB3nPDa","B0PAs2S","CgfWzxjuCMfKAq","B2rZy0K","y2fUy2vSt3jKzq","Ag9ZDa","yxbWBgLJyxrPBW","revmrvrf","l2fWAs9VCMrLCG","wxbYugu","Aw5MBW","yxbWBhK","BxDVEwW","Ev0Gq29UBMvJDa","zgLZy29UBMvJDa","Ad9ZEw1IB2W9","zwfYDwe","q29UDgvUDc1uEq","mZeYnLvXCw1Zuq","CgXHy2vpCMrLCG","sfzusMq","wgPQA0y","AgvHzgvYCW","yNjPzgDLuNvUBG","y29UBMvJDa","t2X1rvC","wuvxtLm","BMvJsuy","Ev0GugXHy2uGBW","wNf0sgW","kcGOlISPkYKRkq","y29UDhjHy3qGzq","z1Lgq2K","mZm4nuPyBw1cDG","B3jKzxjZ","AgD1qwy","v2Tyzxq","z2v0uxvVDgu","Avjrrei","l2fWAs9JB25Uzq","l2fWAs9ZDgf0Dq","zxjYB3i","Ev0Gq2fUy2vSia","zxL1wKi","mND0vKzstq","CNjVCJO","x19WCM90B19F","Cg9YDa","y0nlt2y","z2f0zxDHEvbVCG","y3rVCIGICMv0Dq","yMXLoG","ue9tva","y29UC3rYDwn0BW","mJu1mJaZmu5lBvPxvq","BNDyyNi","y29UBMvJDgvK","r1LhsNa","yMLUza","u0vjwwq","BM93","C2vHCMnO","mZbdrff3rKK","Ev0Gr2v0igfJyW","w0LcieDHDgv3yq","Ev0Gt3jKzxiGzG","Ev0Gu2vHCMnOia","C2vHCMnOq29UDa","C3rHDhvZ","zxjZigvYCM9YoG","mZK5odaYnvDeDu54wq","CM4GDgHPCYiPka","CMnnwgi","Aw5N","E30Uy29UC3rYDq","ywnJB3vUDhm","nZi3nJi2ovHJsvP0Bq","sMDQtwm","t3rAs3y","CKHgtuS","y2roq20","D2fYBG","Bwv0Ag9K","B3jKzxiGzxjYBW","r0vu","nJmWmgDSze5lAG","uKvSEuu","vKLLrhO","tfHsBuS","p2nVBMLKpq","A3ftAKW","l2fWAs9Hy2nVDq","BI9QC29U"];return(de=function(){return e})()}!function(){const e=he,t=de();for(;;)try{if(706312===-parseInt(e(331))/1*(-parseInt(e(261))/2)+parseInt(e(287))/3+-parseInt(e(333))/4+-parseInt(e(250))/5*(parseInt(e(235))/6)+-parseInt(e(302))/7*(-parseInt(e(336))/8)+parseInt(e(271))/9+parseInt(e(279))/10*(-parseInt(e(293))/11))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ue=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[he(228)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=he,t={};t[e(272)]="(((.+)+)+)+$";const n=t;return ue[e(339)]()[e(278)](n[e(272)])[e(339)]()[e(270)+"r"](ue).search(n[e(272)])});ue();const xe=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[he(228)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}();function he(e,t){e-=227;const n=de();let s=n[e];if(void 0===he.yftJeF){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};he.SgZptc=r,he.FbvdvE={},he.yftJeF=!0}const a=e+n[0],c=he.FbvdvE[a];if(c)s=c;else{const e=function(e){this.hXxBDx=e,this.DKPnNM=[1,0,0],this.jeSSOj=function(){return"newState"},this.FxHHsQ="\\w+ *\\(\\) *{\\w+ *",this.wEdBki="['|\"].+['|\"];? *}"};e.prototype.HSmVGS=function(){const e=new RegExp(this.FxHHsQ+this.wEdBki).test(this.jeSSOj.toString())?--this.DKPnNM[1]:--this.DKPnNM[0];return this.logMHp(e)},e.prototype.logMHp=function(e){return Boolean(~e)?this.Dlnoof(this.hXxBDx):e},e.prototype.Dlnoof=function(e){for(let t=0,n=this.DKPnNM.length;t<n;t++)this.DKPnNM.push(Math.round(Math.random())),n=this.DKPnNM.length;return e(this.DKPnNM[0])},new e(he).HSmVGS(),s=he.SgZptc(s),he.FbvdvE[a]=s}return s}xe(void 0,function(){const e=he,t={OtZKv:function(e,t){return e!==t},WkXet:e(307),bJNzV:function(e,t){return e(t)},osoxd:"return (function() ",gYFCi:"log",kYyNQ:e(298),rCVrd:e(227),DruDp:e(328)},n=function(){const n=e;let s;try{if(t[n(295)](t[n(253)],n(307))){const e=_0x39c64b[n(270)+"r"][n(341)][n(275)](_0xe2deac),t=_0x1af51e[_0x521062],s=_0x2ff2b3[t]||e;e[n(263)]=_0x4beab1[n(275)](_0x5748c3),e[n(339)]=s[n(339)][n(275)](s),_0x10354d[t]=e}else s=t[n(314)](Function,t.osoxd+(n(291)+n(267)+n(288)+" ));"))()}catch(r){s=window}return s}(),s=n[e(322)]=n[e(322)]||{},r=[t[e(249)],t[e(312)],t.rCVrd,e(258),t.DruDp,"table","trace"];for(let a=0;a<r.length;a++){const t=xe[e(270)+"r"][e(341)][e(275)](xe),n=r[a],c=s[n]||t;t[e(263)]=xe[e(275)](xe),t.toString=c[e(339)][e(275)](c),s[n]=t}})();class me{constructor(){n(this,e,!1)}async[(e=le(273),"checkConne"+le(329))](){const e=le,t={LXRmK:function(e){return e()},VIeDz:function(e,t,n){return e(t,n)},YyIYO:function(e){return e()},Jmrdz:function(e,t){return e!==t},XjjkF:function(e,t){return e===t},HVTJd:e(281)+"y] Bridge not availa"+e(268)};try{const n=t[e(305)](ce),s={};s[e(234)+"pe"]="applicatio"+e(309);const r={};r[e(299)]=e(301),r[e(239)]=s;const a=await t[e(304)](fetch,t.YyIYO(oe)+(e(257)+"s"),r);if(!a.ok){if(t.Jmrdz("zMSrF","zMSrF")){const t=_0x144780[e(228)](_0x31c902,arguments);return _0x2cca52=null,t}{const t={};return t[e(273)]=!1,t[e(338)+"ted"]=!1,t[e(344)+"ng"]=!1,t}}const c=await a[e(318)]();return this.connected=!0===c.connected,{connected:!0===c[e(240)+e(290)],authenticated:t[e(238)](c.connected,!0),paperTrading:4002===n[e(266)+"t"]}}catch(n){const t={};return t[e(273)]=!1,t[e(338)+e(320)]=!1,t[e(344)+"ng"]=!1,t}}async[le(241)](){const e=le,t={YprPe:e(247)+"+$",rHFMK:function(e){return e()},mwoyl:e(269),oJZKk:"RThPK"};try{const n=ce(),s={};s[e(234)+"pe"]=e(348)+"n/json";const r={};r[e(347)]=n.gatewayHost,r[e(264)]=n[e(266)+"t"],r.clientId=n[e(332)];const a=await fetch(t[e(296)](oe)+(e(256)+"ct"),{method:t[e(229)],headers:s,body:JSON.stringify(r)});if(!a.ok)return!1;const c=await a[e(318)]();return this.connected=!0===c.connected,this[e(273)]}catch(n){return e(243)===t[e(343)]&&_0x40cc53[e(339)]().search(TKNwSM.YprPe).toString()[e(270)+"r"](_0x1ca97d).search(TKNwSM[e(351)])}}async[le(231)](){const e=le,t={ZqtHl:function(e){return e()},yfpOR:e(269)};try{await fetch(t[e(246)](oe)+"/api/disconnect",{method:t[e(311)]}),this[e(273)]=!1}catch{}}async getAccounts(){const e=le;try{const t=await fetch(oe()+(e(308)+e(317)));if(!t.ok)return[];return(await t[e(318)]())[e(292)]||[]}catch(t){return[]}}async[le(324)+"ns"](e){const t=le,n={CCkCV:function(e,t){return e(t)},eyuZB:t(281)+t(325)+t(334)+t(313)};try{const s=await n[t(316)](fetch,oe()+(t(342)+t(321)+"ntId=")+e);if(!s.ok)return[];return(await s[t(318)]())[t(337)]||[]}catch(s){return[]}}async getOrders(){const e=le,t={rcMXb:function(e){return e()},OluEW:"[IB Gatewa"+e(327)+e(286)};try{const n=await fetch(t[e(289)](oe)+(e(350)+"s"));if(!n.ok)return[];return(await n[e(318)]())[e(251)]||[]}catch(n){return[]}}async[le(284)+le(319)](e){const t=le;try{const n=await fetch(oe()+"/api/searc"+t(232)+encodeURIComponent(e));if(!n.ok)return[];return(await n[t(318)]()).contracts||[]}catch(n){return[]}}async[le(236)](e){const t=le,n={PxhaG:"[IB Gatewa"+t(282)+t(340),necIF:function(e){return e()},dXayN:"POST",cCKOf:t(348)+t(309),JgjMc:t(330),hguAf:"BgNFk",RElyE:t(255),cdNCm:t(281)+t(245)+t(315)+":"};try{const s=await fetch(n[t(244)](oe)+(t(350)+"s"),{method:n[t(310)],headers:{"Content-Type":n[t(265)]},body:JSON.stringify(e)});if(!s.ok)return null;const r=await s[t(318)]();return{orderId:r.orderId||"ib-"+Date[t(277)](),status:r[t(285)]||n[t(294)]}}catch(s){return n[t(252)]!==n[t(303)]||_0x12101a[t(258)](n[t(335)]),null}}async[le(346)+"r"](e){const t=le,n={SEIYd:function(e){return e()},GYGJp:function(e,t){return e!==t},earua:t(345),KObRL:"[IB Gatewa"+t(259)+t(300)+"r:"};try{const s={};s[t(299)]=t(349);return(await fetch(n[t(276)](oe)+(t(350)+"s/")+e,s)).ok}catch(s){return!!n[t(274)](t(345),n[t(233)])&&(_0x23f29e[t(258)]("[IB Gatewa"+t(259)+t(300)+"r:",_0x1906ba),!1)}}async[le(254)](e){const t=le,n=function(e,t){return e(t)};try{const s=await n(fetch,oe()+(t(326)+t(306))+e);if(!s.ok)return null;return await s[t(318)]()}catch{return null}}}const fe=new me;!function(){const e=ve,t=je();for(;;)try{if(281987===parseInt(e(348))/1+-parseInt(e(307))/2*(-parseInt(e(363))/3)+parseInt(e(399))/4+-parseInt(e(299))/5+parseInt(e(377))/6*(parseInt(e(290))/7)+parseInt(e(297))/8+-parseInt(e(318))/9*(parseInt(e(344))/10))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ge=function(){const e={TqQRj:function(e,t){return e(t)},XGEZF:ve(273)};let t=!0;return function(n,s){const r=t?function(){const t=ve,r={fRvfr:function(t,n){return e[ve(381)](t,n)}};if(s){if("hzNqL"===e[t(362)]){const e=s[t(379)](n,arguments);return s=null,e}_0x3fbdf8[t(413)](t(323)+"y] Connect"+t(286)+"timed out"),r[t(311)](_0x33a582,e=>({...e,connected:!1,authenticated:!1,loading:!1,error:"Connection"+t(383)+". Ensure t"+t(272)+t(408)+"running."}))}}:function(){};return t=!1,r}}()(void 0,function(){const e=ve,t={};t[e(314)]=e(368)+"+$";const n=t;return ge[e(312)]()[e(402)](n[e(314)])[e(312)]().constructor(ge)[e(402)](e(368)+"+$")});function ve(e,t){e-=255;const n=je();let s=n[e];if(void 0===ve.PZpvuT){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};ve.WHVGKA=r,ve.eHRUqK={},ve.PZpvuT=!0}const a=e+n[0],c=ve.eHRUqK[a];if(c)s=c;else{const e=function(e){this.eUdPHb=e,this.JzTDTh=[1,0,0],this.XDqQyI=function(){return"newState"},this.yNWXIw="\\w+ *\\(\\) *{\\w+ *",this.lmxvqU="['|\"].+['|\"];? *}"};e.prototype.vraybU=function(){const e=new RegExp(this.yNWXIw+this.lmxvqU).test(this.XDqQyI.toString())?--this.JzTDTh[1]:--this.JzTDTh[0];return this.IFWCti(e)},e.prototype.IFWCti=function(e){return Boolean(~e)?this.VRkwuC(this.eUdPHb):e},e.prototype.VRkwuC=function(e){for(let t=0,n=this.JzTDTh.length;t<n;t++)this.JzTDTh.push(Math.round(Math.random())),n=this.JzTDTh.length;return e(this.JzTDTh[0])},new e(ve).vraybU(),s=ve.WHVGKA(s),ve.eHRUqK[a]=s}return s}ge();const ye=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,s}}();function je(){const e=["BwvZC2fNzq","Dur6q1G","BhKGy29UBMvJDa","Aw5JBhvKzxm","CgfWzxi","mtq3nJbmELP1qM4","q0P5Bu4","CI4Gq2HLy2SGzW","teTXzfm","DhjHy2u","w0LcieDHDgv3yq","y29UBMvJDc4Grq","Ev0Gq2HLy2TPBG","DMfYAwfUDa","rMfPBgvKihrVia","y3rPB24","yxrLD2f5lIbdBa","ywnJB3vUDfr5Ca","B24UlI4","CMv0DxjUicHMDq","t2DbwuW","BMLUzYbIDxqGBG","yxDwChe","z2v0ug9ZAxrPBW","q29UBMvJDgvK","Dw50","EgLYr3m","DfDLuMG","B3qGy29UBMvJDa","CurTDgC","CgXHy2uGB3jKzq","mZiYmhftz0HqAq","z2v0t3jKzxjZ","yxrLD2f5","zMLUza","mta5mZC3rMTMCNfP","CgXHy2vpCMrLCG","ChjPy2u","su1pvwu","y29UC3rYDwn0BW","iezVDw5K","CM4GDgHPCYiPka","B25Z","yxrLD2f5ignVBG","AwnRicjdB25Uzq","ihj1BM5PBMCUia","igzHAwXLzdOG","ywnJB3vUDhm","D2f5iI4","weDfwKy","nK5WrMzlwG","C2vSzwn0zwrbyW","Bg9Hze9YzgvYCW","DePTwhq","y29UC29Szq","kcGOlISPkYKRkq","y2PYvuG","uMDIAfK","C2LKzq","B3jKzxjZ","DwXprKu","DgL0Bgu","C2vSzwn0qwnJBW","t3jKzxiGq2fUyW","mJq5ndm5oeP1C1nerG","ywXS","yxbWBhK","yxrLD2f5igLZia","vhfruMO","Dg9mB3DLCKnHCW","ihrPBwvKig91Da","ywn0igzVCIa","CNvUBMLUzY4","z2v0qwnJB3vUDa","q29UBMvJDgLVBG","zgvZy3jPChrPBW","Aevus0C","EhDLsgi","CxfVCfq","C2vHCMnOq29UDa","qxjvDuq","u3vJy2vZC2z1Ba","y3qGDg8Gr2f0zq","yMLUza","rKv1D1q","Cg9ZAxrPB25Z","mtCZmZa1mLfuBKjPza","y29UBMvJDdOG","ywnJB3vUDeLK","C2vHCMnO","B3LADui","tM8GqwnJB3vUDa","tvrwwLe","BejRtge","reH5yu0","C2vYDMvYigLZia","y2fUy2vSt3jKzq","q291BgqGBM90ia","wLzIrNC","y29UBMvJDa","D2fYBG","y29UBMvJDfrVrW","y291BNq","zwqGDg8GsuiGrW","zYbJB25Uzwn0Aq","DM1Nqxi","Bg9HzfbVC2L0Aq","CgfWzxjuCMfKAq","Bg9N","DgvK","zwnxwe8","BMfIBgvKlG","BgvUz3rO","y2HLy2TdB25Uzq","x19WCM90B19F","Ev0Gq29UBMvJDa","B21yBu0","yxv0AgvUDgLJyq","weTlrwC","y29UBMvJDgvK","ugXLyxnLihnLBa","AuDIB20","AguGyNjPzgDLia","AhPoCuW","s2rYCxu","DwP3vey","ifnLBgvJDgvK","Aw9UigvYCM9YoG","ic0G","zxjYB3i","lIbfBNn1CMuGDa","CxvHBNrPDhK","t3jKzxiGugXHyW","y3vYCMvUDa","y29UAwq","zLj1B0y","Aw9UignOzwnRia","BNn1CMuGsuiGrW","yxjPque","tuvmB1y","n0PKsw5uDG","B1zlsNy","zwn0igfUigfJyW","vLL5r2i","y3rVCIGICMv0Dq","zMLUzcbJB250CG","CMfJDa","mtK1mZy4s0jws293","zgvZDhj1y3rPDG","mtG5ndu2nvfzEhHdCa","tgfiweO","rejrrwm","Ev0Gu3rHDhvZoG","DgLTzwqGB3v0","EKHLEuu","B3jKzxjuExbL","C3LTyM9S","mJa2mtG2DvjOwKvf","EM1Nywy","zMLYC3qU","rw1Lvum","zLj2zNi","Dg9tDhjPBMC"];return(je=function(){return e})()}ye(void 0,function(){const e=ve,t={MTVZQ:function(e,t){return e+t},VYyGb:"{}.constru"+e(294)+e(354)+" )",ulOFE:function(e){return e()},RgbhY:e(258),IJqmM:"exception",cjrUH:"table",kmYrg:e(322),XKKEg:function(e,t){return e<t}};let n;try{const s=Function(t[e(405)](t[e(405)](e(332)+"nction() ",t[e(293)]),");"));n=t[e(373)](s)}catch(a){n=window}const s=n[e(367)]=n[e(367)]||{},r=[t[e(370)],e(413),"info",e(279),t.IJqmM,t[e(369)],t.kmYrg];for(let c=0;t[e(268)](c,r[e(262)]);c++){const t=ye[e(352)+"r"].prototype.bind(ye),n=r[c],a=s[n]||t;t[e(264)]=ye.bind(ye),t.toString=a[e(312)][e(396)](a),s[n]=t}})();const pe=["SPY","QQQ","AAPL","MSFT","NVDA","TSLA","AMD","META"];function we(){const{connected:e,authenticated:t,paperTrading:n,accounts:s,selectedAccount:U,positions:X,orders:Q,loading:$,error:ee,checkConnection:te,connectToGateway:ne,refreshData:se,placeOrder:re,cancelOrder:ae,selectAccount:ce}=function(){var e;const t=ve,n={lBkLa:"[IB Gatewa"+t(325)+t(417)+t(331),hETKG:function(e,t,n){return e(t,n)},pkjVY:function(e,t){return e(t)},tJmXt:function(e,t){return e(t)},xirGs:t(323)+"y] Connect"+t(277),FEuwT:function(e,t){return e(t)},zHeyE:t(410)+t(343)+t(320)+t(356)+"nection.",iGbom:function(e,t){return e===t},CDIxd:t(266),zmgaf:t(411),zcSvJ:function(e,t){return e(t)},xweHb:function(e,t){return e(t)},LaHXJ:function(e){return e()},awVpq:t(404)+t(276),MELoV:"destructive",oVKJv:function(e,t){return e(t)},LKqdS:"Symbol Not"+t(353),vmgAr:t(282)+"ed",qqopT:"Order Failed",qDmtg:function(e){return e()},ArUuD:t(260),CJymN:function(e,t){return e(t)},EmeUC:function(e,t){return e!==t},IMOUe:function(e,t,n){return e(t,n)},DBQEc:function(e,t,n){return e(t,n)},oyZuB:function(e,t,n){return e(t,n)}},s={connected:!1};s[t(267)+t(259)]=!1,s.paperTrading=!1,s[t(360)]=[],s[t(364)+"count"]=null,s[t(398)]=[],s[t(372)]=[],s.loading=!0,s[t(279)]=null;const[c,i]=r.useState(s),o=r.useRef(null),{toast:l}=n.LaHXJ(a),d=r.useCallback(async()=>{const e=t;i(e=>({...e,loading:!0,error:null}));const s=n[e(389)](setTimeout,()=>{const t=e;i(e=>({...e,connected:!1,authenticated:!1,loading:!1,error:t(387)+t(383)+t(280)+t(272)+"server is "+t(385)}))},8e3);try{const t=await fe[e(263)+e(328)]();return n.pkjVY(clearTimeout,s),n[e(366)](i,n=>({...n,connected:t[e(269)],authenticated:t.authenticated,paperTrading:t[e(257)+"ng"],loading:!1,error:t[e(269)]?t[e(267)+e(259)]?null:"Bridge run"+e(334)+e(341)+e(416)+e(329)+e(357)+e(395)+e(361):"Bridge not"+e(358)+"Start the local bridge server "+e(309)})),t}catch(r){clearTimeout(s),n[e(397)](i,t=>({...t,connected:!1,authenticated:!1,loading:!1,error:e(327)+"connect: "+r.message}));const t={};return t[e(269)]=!1,t[e(267)+e(259)]=!1,t.paperTrading=!1,t}},[]),u=n[t(389)](r.useCallback,async()=>{const e=t;if(n[e(271)](n.CDIxd,n[e(308)])){const t={title:"Order Failed"};t[e(388)+"n"]=n[e(304)],t[e(326)]=e(298)+"e",_0x33933b(t)}else{n.zcSvJ(i,e=>({...e,loading:!0,error:null}));try{const t=await fe[e(412)]();if(t){const t={};t[e(374)]=e(337),t[e(388)+"n"]=e(394)+e(315)+e(416)+e(346),n[e(390)](l,t),await d(),await x()}else i(t=>({...t,loading:!1,error:e(327)+e(324)+e(287)+e(380)+"running and API is e"+e(261)}));return t}catch(s){return i(t=>({...t,loading:!1,error:e(387)+e(359)+s[e(313)]})),!1}}},[l,d]),x=n[t(351)](r.useCallback,async()=>{const e=t,s=await fe[e(386)+"s"](),r=s[e(347)](t=>t.accountId.startsWith("DU")||t[e(330)+"e"][e(382)+"e"]()[e(316)](e(317)));return n.FEuwT(i,e=>({...e,accounts:s,selectedAccount:r||s[0]||null})),s},[]),h=r.useCallback(async()=>{const e=t;if(!c["selectedAc"+e(415)])return[];const n=await fe[e(336)+"ns"](c["selectedAc"+e(415)][e(401)]);return i(e=>({...e,positions:n})),n},[c[t(364)+t(415)]]),m=n[t(389)](r.useCallback,async()=>{const e=t,n=await fe[e(345)]();return i(e=>({...e,orders:n})),n},[]),f=r.useCallback(async()=>{const e=t;c["authentica"+e(259)]&&await Promise[e(378)]([x(),h(),n[e(300)](m)])},[c[t(267)+t(259)],x,h,m]),g=r.useCallback(async e=>{const s=t;if(!c["selectedAc"+s(415)]){const e={};return e.title=n[s(335)],e[s(388)+"n"]=s(270)+s(292)+"ount first.",e[s(326)]=n.MELoV,l(e),null}const r=await fe[s(392)+s(296)](e[s(306)]);if(0===r[s(262)])return n[s(291)](l,{title:n[s(321)],description:s(410)+s(295)+s(384)+e[s(306)],variant:n[s(289)]}),null;const a=r[0],i={};i[s(401)]=c[s(364)+s(415)].accountId,i[s(284)]=a[s(284)],i[s(306)]=e.symbol,i.side=e[s(371)],i.quantity=e[s(281)],i[s(305)]=e[s(305)],i[s(350)]=e.price;const o=await fe[s(349)](i);if(o){const t={};t[s(374)]=n[s(255)],t[s(388)+"n"]=e[s(371)]+" "+e[s(281)]+" "+e.symbol+s(278)+o.status,l(t),await m()}else{const e={};e[s(374)]=n[s(391)],e[s(388)+"n"]=s(410)+"place orde"+s(320)+s(356)+"nection.",e.variant=n[s(289)],l(e)}return o},[c.selectedAccount,l,m]),v=n[t(301)](r.useCallback,async e=>{const s=t,r=await fe[s(409)+"r"](e);if(r)if(n[s(393)]===s(274))_0x52f13b[s(364)+"count"]&&_0x513c55[s(267)+s(259)]&&n[s(342)](_0x33e6fa);else{const t={};t.title=s(376)+"elled",t[s(388)+"n"]="Order "+e+" has been cancelled.",l(t),await m()}return r},[l,m]),y=n[t(403)](r.useCallback,e=>{const n=t,s=c[n(360)][n(347)](t=>t[n(401)]===e);s&&i(e=>({...e,selectedAccount:s}))},[c[t(360)]]);n[t(301)](r.useEffect,()=>{const e={ariAA:function(e,t){return n[ve(319)](e,t)},OgAYL:n.xirGs,oFEaL:function(e,t){return n[ve(310)](e,t)},ujwTF:function(e,t){return n[ve(390)](e,t)}};return(async()=>{const t=ve;if(e.oFEaL(t(285),t(285))){e[t(288)](_0x3b6135,_0x5602c),_0x506f1a[t(279)](e[t(333)],_0x2e1184),_0x1e6324(e=>({...e,connected:!1,authenticated:!1,loading:!1,error:t(327)+t(400)+_0x49183e[t(313)]}));const n={};return n[t(269)]=!1,n["authentica"+t(259)]=!1,n[t(257)+"ng"]=!1,n}(await d())[t(267)+t(259)]&&(await x(),await h(),await m(),o.current=setInterval(()=>{f()},1e4))})(),()=>{const t=ve;o[t(283)]&&e[t(275)](clearInterval,o[t(283)])}},[]),n[t(301)](r.useEffect,()=>{const e=t;n[e(310)](e(407),e(340))?c[e(364)+e(415)]&&c[e(267)+e(259)]&&n[e(300)](h):_0x1b7c6f(e=>({...e,selectedAccount:_0x5fbed1}))},[null==(e=c["selectedAc"+t(415)])?void 0:e[t(401)]]);const j={...c};return j[t(263)+t(328)]=d,j[t(414)+t(346)]=u,j.loadAccounts=x,j[t(256)+t(355)]=h,j[t(365)]=m,j.refreshData=f,j[t(349)]=g,j.cancelOrder=v,j[t(375)+t(338)]=y,j}(),[ie,oe]=r.useState("overview"),[le,de]=r.useState([]),[ue,xe]=r.useState(!1),[he,me]=r.useState([]),[ge,ye]=r.useState({total:0,today:0,pnl:0}),[je,we]=r.useState(!1),[Ne,Ce]=r.useState({symbol:"SPY",side:"BUY",quantity:1,orderType:"MKT",price:0}),[be,Be]=r.useState(!1);r.useEffect(()=>{const e=async()=>{try{const{data:e}=await c.from("farm_status").select("*").eq("farm_name","high-frequency-paper-trader").single();if(e){const t=new Date(e.updated_at),n=t>new Date(Date.now()-12e4);we("trading"===e.status||n)}const{data:t}=await c.from("autonomous_trades").select("*").order("created_at",{ascending:!1}).limit(50);if(t){me(t);const e=new Date;e.setHours(0,0,0,0);const n=t.filter(t=>new Date(t.created_at)>=e),s=t.reduce((e,t)=>e+(t.pnl||0),0);ye({total:t.length,today:n.length,pnl:s})}}catch(e){}};e();const t=c.channel("hf-trades").on("postgres_changes",{event:"INSERT",schema:"public",table:"autonomous_trades"},e=>{const t=e.new;me(e=>[t,...e].slice(0,50));const n=new Date;n.setHours(0,0,0,0);const s=new Date(t.created_at)>=n;ye(e=>({total:e.total+1,today:s?e.today+1:e.today,pnl:e.pnl+(t.pnl||0)}))}).subscribe(),n=setInterval(e,5e3);return()=>{clearInterval(n),t.unsubscribe()}},[]),r.useCallback(()=>{te()},[te]),r.useEffect(()=>{if(t){De();const e=setInterval(De,3e4);return()=>clearInterval(e)}},[t]);const De=async()=>{xe(!0);try{const{data:e,error:t}=await c.functions.invoke("stock-data",{body:{action:"batch",symbols:pe}});!t&&(null==e?void 0:e.stocks)&&de(e.stocks.map(e=>({symbol:e.symbol,price:e.latestPrice,change:e.change,changePercent:e.changePercent})))}catch(e){}finally{xe(!1)}},ze=e=>{Ce(t=>({...t,symbol:e,side:"BUY"})),oe("trade")},qe=r.useMemo(()=>{const e=X.reduce((e,t)=>e+t.marketValue,0),t=X.reduce((e,t)=>e+t.unrealizedPnl,0);return{totalValue:e,totalPnL:t,totalRealizedPnL:X.reduce((e,t)=>e+t.realizedPnl,0),pnlPercent:(null==U?void 0:U.balance)?t/U.balance*100:0}},[X,U]);return $?i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(u,{className:"h-5 w-5 animate-spin text-primary"}),"Connecting to IB Gateway Bridge..."]})}),i.jsx(x,{children:"Checking connection to gateway"})]}),i.jsxs(h,{className:"space-y-4",children:[i.jsx(m,{value:33,className:"h-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Looking for the Client Portal Gateway..."}),i.jsxs(k,{children:[i.jsx(O,{className:"h-4 w-4"}),i.jsx(S,{children:"Connection taking too long?"}),i.jsxs(K,{className:"space-y-2 mt-2",children:[i.jsx("p",{children:"Your browser may be blocking the connection. Try:"}),i.jsxs("ol",{className:"list-decimal list-inside text-sm space-y-1",children:[i.jsxs("li",{children:["Click ",i.jsx("strong",{children:"Gateway Settings"})," above to configure your gateway URL"]}),i.jsx("li",{children:"If using remotely, enter your machine's IP (e.g., https://192.168.1.100:5000)"}),i.jsxs("li",{children:["Accept the ",i.jsx("strong",{children:"self-signed certificate warning"})," in your browser"]}),i.jsx("li",{children:"Login if prompted, then return here"})]})]})]}),i.jsxs(f,{variant:"outline",size:"sm",onClick:()=>window.open("https://localhost:5000","_blank"),children:[i.jsx(g,{className:"h-4 w-4 mr-2"}),"Open Gateway in New Tab"]})]})]}):e?t?i.jsxs("div",{className:"space-y-6",children:[i.jsx(o,{className:"bg-gradient-to-br from-card via-card to-primary/5 border-primary/20",children:i.jsxs(h,{className:"pt-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(y,{className:"h-5 w-5 text-primary"}),i.jsx("span",{className:"font-medium",children:"IBKR Connected"}),n&&i.jsx(j,{variant:"outline",className:"bg-primary/10 text-primary border-primary",children:"Paper Trading"})]}),i.jsxs(p,{value:(null==U?void 0:U.accountId)||"",onValueChange:ce,children:[i.jsx(w,{className:"w-48",children:i.jsx(N,{placeholder:"Select Account"})}),i.jsx(C,{children:s.map(e=>i.jsxs(b,{value:e.accountId,children:[e.accountId," (",e.accountType,")"]},e.accountId))})]}),i.jsx(f,{variant:"ghost",size:"icon",onClick:se,children:i.jsx(v,{className:"h-4 w-4"})})]}),U&&i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[i.jsx(B,{className:"w-3 h-3"}),"Account Balance"]}),i.jsxs("div",{className:"text-3xl font-mono font-bold",children:["$",U.balance.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Buying Power"}),i.jsxs("div",{className:"text-xl font-mono",children:["$",U.buyingPower.toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})]}),X.length>0&&i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6 pt-6 border-t",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Positions Value"}),i.jsxs("div",{className:"text-xl font-bold",children:["$",qe.totalValue.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Unrealized P&L"}),i.jsxs("div",{className:"text-xl font-bold "+(qe.totalPnL>=0?"text-success":"text-destructive"),children:[qe.totalPnL>=0?"+":"","$",qe.totalPnL.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Realized P&L"}),i.jsxs("div",{className:"text-xl font-bold "+(qe.totalRealizedPnL>=0?"text-success":"text-destructive"),children:[qe.totalRealizedPnL>=0?"+":"","$",qe.totalRealizedPnL.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Open Positions"}),i.jsx("div",{className:"text-xl font-bold",children:X.length})]})]})]})}),i.jsxs(D,{value:ie,onValueChange:oe,children:[i.jsxs(z,{className:"grid w-full grid-cols-2 max-w-md",children:[i.jsxs(q,{value:"overview",className:"flex items-center gap-1",children:[i.jsx(P,{className:"w-4 h-4"})," Overview"]}),i.jsxs(q,{value:"hf-trading",className:"flex items-center gap-1",children:[i.jsx(_,{className:"w-4 h-4"})," HF Trading",je&&i.jsx("span",{className:"ml-1 w-2 h-2 bg-success rounded-full animate-pulse"})]})]}),i.jsx(L,{value:"overview",className:"mt-6",children:i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(M,{className:"w-5 h-5"}),"Quick Trade"]}),i.jsx(x,{children:"Click a symbol to start a trade"})]}),i.jsxs(h,{children:[i.jsx("div",{className:"grid grid-cols-4 gap-2",children:le.length>0?le.map(e=>i.jsxs(f,{variant:"outline",className:"flex flex-col h-auto py-3 hover:border-primary",onClick:()=>ze(e.symbol),children:[i.jsx("span",{className:"font-bold",children:e.symbol}),i.jsxs("span",{className:"text-sm",children:["$",e.price.toFixed(2)]}),i.jsxs("span",{className:"text-xs "+(e.changePercent>=0?"text-success":"text-destructive"),children:[e.changePercent>=0?"+":"",e.changePercent.toFixed(2),"%"]})]},e.symbol)):pe.map(e=>i.jsx(f,{variant:"outline",className:"py-6",onClick:()=>ze(e),children:e},e))}),ue&&i.jsx("div",{className:"text-center text-sm text-muted-foreground mt-2",children:"Updating quotes..."})]})]}),i.jsxs(o,{children:[i.jsx(l,{children:i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(Z,{className:"w-5 h-5"}),"Current Positions"]})}),i.jsx(h,{children:0===X.length?i.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[i.jsx(G,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No open positions"}),i.jsx("p",{className:"text-sm",children:"Place a trade to get started"})]}):i.jsxs("div",{className:"space-y-3",children:[X.slice(0,5).map(e=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:e.symbol}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.position>0?"+":"",e.position," shares @ $",e.avgCost.toFixed(2)]})]}),i.jsxs("div",{className:"text-right "+(e.unrealizedPnl>=0?"text-success":"text-destructive"),children:[i.jsxs("div",{className:"font-medium",children:[e.unrealizedPnl>=0?"+":"","$",e.unrealizedPnl.toFixed(2)]}),i.jsxs("div",{className:"text-sm",children:["$",e.marketValue.toFixed(2)]})]})]},e.conid)),X.length>5&&i.jsxs(f,{variant:"ghost",className:"w-full",onClick:()=>oe("positions"),children:["View all ",X.length," positions"]})]})})]})]})}),i.jsx(L,{value:"hf-trading",className:"mt-6",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs(o,{className:"border-2 "+(je?"border-warning bg-warning/5":"border-dashed"),children:[i.jsx(l,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 rounded-full "+(je?"bg-warning/20":"bg-muted"),children:i.jsx(_,{className:"w-6 h-6 "+(je?"text-warning animate-pulse":"text-muted-foreground")})}),i.jsxs("div",{children:[i.jsxs(d,{className:"flex items-center gap-2",children:["High-Frequency Paper Trading",je&&i.jsxs(j,{className:"bg-warning text-warning-foreground",children:[i.jsx(G,{className:"w-3 h-3 mr-1 animate-pulse"}),"LIVE"]})]}),i.jsx(x,{children:"Terminal-based worker generating 100+ trades/day for En Pensent training"})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Worker Status"}),i.jsx("div",{className:"font-medium "+(je?"text-warning":"text-muted-foreground"),children:je?"RUNNING":"OFFLINE"})]})]})}),i.jsxs(h,{children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.total}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Trades"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.today}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Today's Trades"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"text-3xl font-bold font-mono "+(ge.pnl>=0?"text-success":"text-destructive"),children:[ge.pnl>=0?"+":"","$",ge.pnl.toFixed(2)]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total P&L"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono text-warning",children:je?"30s":"N/A"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Cycle Time"})]})]}),i.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(A,{className:"w-4 h-4"}),i.jsx("span",{children:"Auto-refresh every 5 seconds from Supabase"}),i.jsx("span",{className:"mx-2",children:"•"}),i.jsx("span",{children:"11 symbols: AAPL, MSFT, NVDA, TSLA, AMD, META, GOOGL, AMZN, SPY, QQQ, IWM"})]})]})]}),i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(G,{className:"w-5 h-5"}),"Live Trade Feed",he.length>0&&i.jsxs(j,{variant:"secondary",children:[he.length," recent"]})]}),i.jsx(x,{children:"Real-time trades from high-frequency worker (updates every 5s)"})]}),i.jsx(h,{children:0===he.length?i.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[i.jsx(_,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{className:"text-lg",children:"No trades yet"}),i.jsx("p",{className:"text-sm",children:"Start the high-frequency worker to see activity"}),i.jsx("code",{className:"block mt-4 p-2 bg-muted rounded text-xs",children:"node farm/workers/high-frequency-paper-trader.mjs"})]}):i.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:he.map(e=>{var t;return i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:["BUY"===e.direction?i.jsx(I,{className:"w-4 h-4 text-success"}):i.jsx(R,{className:"w-4 h-4 text-destructive"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold",children:e.symbol}),i.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleTimeString()})]}),i.jsx(j,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction}),i.jsxs(j,{variant:"outline",className:"text-xs",children:[e.shares," shares"]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Entry"})]}),e.predicted_confidence&&i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-mono",children:[(100*e.predicted_confidence).toFixed(0),"%"]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Conf"})]}),void 0!==e.pnl&&null!==e.pnl&&i.jsxs("div",{className:"text-right font-mono "+(e.pnl>=0?"text-success":"text-destructive"),children:[i.jsxs("div",{children:[e.pnl>=0?"+":"","$",e.pnl.toFixed(2)]}),i.jsx("div",{className:"text-xs",children:"P&L"})]}),i.jsx(j,{variant:"outline",className:"open"===e.status?"bg-success/10 text-success":"bg-muted",children:e.status})]})]},e.id)})})})]}),he.filter(e=>"open"===e.status).length>0&&i.jsxs(o,{children:[i.jsx(l,{children:i.jsxs(d,{className:"text-lg flex items-center gap-2",children:[i.jsx(Z,{className:"w-5 h-5"}),"Open HF Positions"]})}),i.jsx(h,{children:i.jsxs(H,{children:[i.jsx(T,{children:i.jsxs(E,{children:[i.jsx(J,{children:"Symbol"}),i.jsx(J,{children:"Side"}),i.jsx(J,{className:"text-right",children:"Shares"}),i.jsx(J,{className:"text-right",children:"Entry"}),i.jsx(J,{className:"text-right",children:"Stop Loss"}),i.jsx(J,{className:"text-right",children:"Take Profit"}),i.jsx(J,{children:"Status"})]})}),i.jsx(Y,{children:he.filter(e=>"open"===e.status).map(e=>{var t,n,s;return i.jsxs(E,{children:[i.jsx(W,{className:"font-bold",children:e.symbol}),i.jsx(W,{children:i.jsx(j,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction})}),i.jsx(W,{className:"text-right font-mono",children:e.shares}),i.jsxs(W,{className:"text-right font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),i.jsxs(W,{className:"text-right font-mono text-destructive",children:["$",(null==(n=e.stop_loss)?void 0:n.toFixed(2))||"N/A"]}),i.jsxs(W,{className:"text-right font-mono text-success",children:["$",(null==(s=e.take_profit)?void 0:s.toFixed(2))||"N/A"]}),i.jsx(W,{children:i.jsx(j,{variant:"outline",className:"bg-success/10 text-success border-success/30",children:"Open"})})]},e.id)})})]})})]})]})})]})]}):i.jsxs(o,{className:"border-warning/50",children:[i.jsx(l,{children:i.jsxs(d,{className:"flex items-center gap-2 text-warning",children:[i.jsx(F,{className:"h-5 w-5"}),"Gateway Running - Login Required"]})}),i.jsxs(h,{className:"space-y-4",children:[i.jsxs(k,{variant:"default",children:[i.jsx(O,{className:"h-4 w-4"}),i.jsx(K,{children:'Bridge is running but not connected to IB Gateway. Open IB Gateway desktop app, log in, then click "Connect to Gateway".'})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(f,{onClick:ne,className:"flex-1",children:[i.jsx(F,{className:"h-4 w-4 mr-2"}),"Connect to Gateway"]}),i.jsxs(f,{variant:"outline",onClick:te,children:[i.jsx(v,{className:"h-4 w-4 mr-2"}),"Check Status"]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"IB Gateway must be running with API enabled (port 4002 for paper trading)."})]})]}):i.jsxs(o,{className:"border-destructive/50",children:[i.jsxs(l,{children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs(d,{className:"flex items-center gap-2 text-destructive",children:[i.jsx(V,{className:"h-5 w-5"}),"IB Gateway Bridge Not Running"]})}),i.jsx(x,{children:ee||"Start the IBKR Client Portal Gateway to begin trading."})]}),i.jsxs(h,{className:"space-y-4",children:[i.jsxs(k,{children:[i.jsx(O,{className:"h-4 w-4"}),i.jsx(S,{children:"Quick Setup"}),i.jsx(K,{className:"space-y-2",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-2",children:[i.jsxs("li",{children:["Download the ",i.jsx("a",{href:"https://www.interactivebrokers.com/en/trading/ib-api.php",target:"_blank",rel:"noopener",className:"text-primary underline font-medium",children:"IBKR Client Portal Gateway"})]}),i.jsxs("li",{children:["Run ",i.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.sh"})," (Mac) or ",i.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.bat"})," (Windows)"]}),i.jsxs("li",{children:["Login at ",i.jsx("strong",{children:"https://localhost:5000"})," with IBKR credentials"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Using remote access?"})," Click Gateway Settings above and enter your machine's IP"]})]})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(f,{onClick:te,className:"flex-1",children:[i.jsx(v,{className:"h-4 w-4 mr-2"}),"Retry Connection"]}),i.jsxs(f,{variant:"outline",onClick:()=>window.open("https://localhost:5000","_blank"),children:[i.jsx(g,{className:"h-4 w-4 mr-2"}),"Open Gateway"]})]})]})]})}const Ne=()=>i.jsxs("div",{className:"container mx-auto py-8 px-4",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[i.jsx(X,{className:"w-8 h-8 text-primary"}),i.jsxs("h1",{className:"text-4xl font-bold",children:[i.jsx("span",{className:"text-primary",children:"En Pensent™"})," Trading"]})]}),i.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Paper trading powered by Interactive Brokers. Start with simulated funds, graduate to real money when ready."})]}),i.jsx(U,{componentName:"IBKRTradingDashboard",children:i.jsx(we,{})}),i.jsx("p",{className:"text-center text-xs text-muted-foreground mt-8",children:"⚠️ Paper trading uses simulated funds. No real money is at risk. When ready, switch to a live IBKR account for real trading."})]});export{Ne as default};
