var e=Object.defineProperty,t=(t,n,s)=>((t,n,s)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s)(t,"symbol"!=typeof n?n+"":n,s);import{aJ as n,r as s,g2 as r,s as a,j as c,C as i,p as o,t as l,L as d,w as u,x,aq as h,B as f,aF as m,v as g,cR as v,y,b8 as p,b9 as j,ba as w,bb as N,bc as C,a8 as b,aB as D,aC as B,aD as z,b4 as L,aE as A,aY as q,bh as K,cb as M,ad as P,g9 as G}from"./index-Hr12Z3Gc.js";import{A as U,a as k,b as S}from"./alert-C28z9AxU.js";import{T as I,a as E,b as Y,c as J,d as W,e as _}from"./table-BRD3YSBZ.js";import{C as H}from"./circle-alert-CWF0WAFp.js";import{W as O}from"./wifi-off-CSs3VYNU.js";import{W as T}from"./wifi-BAHqkQeK.js";import{B as Z}from"./briefcase-Hn7qyVKv.js";import{T as F}from"./trending-down-0hEx3mON.js";const V=n("Bolt",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]),R=n("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),X=ee;!function(){const e=ee,t=re();for(;;)try{if(826570===parseInt(e(186))/1*(parseInt(e(167))/2)+parseInt(e(157))/3+-parseInt(e(203))/4+-parseInt(e(213))/5+-parseInt(e(163))/6+-parseInt(e(202))/7+-parseInt(e(172))/8*(-parseInt(e(182))/9))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const Q=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[ee(178)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=ee,t={};t[e(174)]=e(209)+"+$";const n=t;return Q.toString()[e(148)](n.ycvqL)[e(149)]()[e(190)+"r"](Q)[e(148)](n.ycvqL)});Q();const $=function(){const e=ee,t={};t[e(147)]=e(209)+"+$",t[e(162)]=e(194);const n=t;let s=!0;return function(t,r){const a=e,c={};c[a(208)]=n[a(147)],c[a(153)]=n[a(162)];const i=c,o=s?function(){const e=a,n={};n[e(164)]=i[e(208)];const s=n;if(i[e(153)]!==e(194))return _0x1f92df[e(149)]().search("(((.+)+)+)+$")[e(149)]()[e(190)+"r"](_0x94513a)[e(148)](s[e(164)]);if(r){const n=r[e(178)](t,arguments);return r=null,n}}:function(){};return s=!1,o}}();function ee(e,t){e-=146;const n=re();let s=n[e];if(void 0===ee.EFdUpc){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};ee.LZMIQg=r,ee.PErxIP={},ee.EFdUpc=!0}const a=e+n[0],c=ee.PErxIP[a];if(c)s=c;else{const e=function(e){this.FHkyAX=e,this.Yxgpvo=[1,0,0],this.EFhVwA=function(){return"newState"},this.tJpqEF="\\w+ *\\(\\) *{\\w+ *",this.SEqvYW="['|\"].+['|\"];? *}"};e.prototype.Phhgqw=function(){const e=new RegExp(this.tJpqEF+this.SEqvYW).test(this.EFhVwA.toString())?--this.Yxgpvo[1]:--this.Yxgpvo[0];return this.KpGTbx(e)},e.prototype.KpGTbx=function(e){return Boolean(~e)?this.ZwXRDY(this.FHkyAX):e},e.prototype.ZwXRDY=function(e){for(let t=0,n=this.Yxgpvo.length;t<n;t++)this.Yxgpvo.push(Math.round(Math.random())),n=this.Yxgpvo.length;return e(this.Yxgpvo[0])},new e(ee).Phhgqw(),s=ee.LZMIQg(s),ee.PErxIP[a]=s}return s}$(void 0,function(){const e=ee,t={nWiCE:function(e,t){return e+t},rbzBq:e(183)+e(211)+e(212)+" )",fKMml:function(e){return e()},kerIH:e(191),WIxGY:e(165),DLgdY:"exception",RtUKo:e(204),tpkxZ:function(e,t){return e<t},ikDSe:function(e,t){return e!==t},DAiPA:e(161),sydfQ:e(201),nYZnG:function(e,t){return e+t},kuwqc:e(193)+"nction() ",icrCK:function(e,t){return e!==t},bkUPz:e(168),YWTJu:e(159),xRqxm:e(175),BKZNi:function(e,t){return e===t},CSbrC:"LzAcF"};let n;try{if(!t[e(180)](t[e(151)],t.sydfQ)){const t=_0x3029b5?function(){if(_0x9cccef){const t=_0x5e7cea[e(178)](_0x4c66ce,arguments);return _0x299c87=null,t}}:function(){};return _0xd7f75=!1,t}{const s=Function(t[e(198)](t.kuwqc+t[e(187)],");"));n=t.fKMml(s)}}catch(a){if(!t[e(171)](e(150),t.bkUPz))return _0x488d1b()[e(173)];n=window}const s=n.console=n.console||{},r=[t[e(197)],t[e(170)],e(165),t[e(177)],e(189),e(204),"trace"];for(let i=0;i<r[e(181)];i++)if(t[e(156)](t[e(207)],e(205))){const t=$[e(190)+"r"][e(195)][e(210)]($),n=r[i],a=s[n]||t;t[e(179)]=$[e(210)]($),t.toString=a[e(149)][e(210)](a),s[n]=t}else{let n;try{const s=_0x515466(t.nWiCE("return (fu"+e(158),t[e(187)])+");");n=t.fKMml(s)}catch(c){n=_0xbeae88}const s=n[e(215)]=n[e(215)]||{},r=[t[e(197)],"warn",t[e(155)],e(175),t[e(152)],t[e(196)],e(199)];for(let a=0;t[e(166)](a,r.length);a++){const t=_0x498618[e(190)+"r"][e(195)][e(210)](_0x3e13e7),n=r[a],c=s[n]||t;t.__proto__=_0x7302b5[e(210)](_0x1ff5e4),t[e(149)]=c[e(149)][e(210)](c),s[n]=t}}})();const te="ib_gateway"+X(185)+"l",ne=X(206)+X(169)+"0",se={};function re(){const e=["qKTAtMK","mZa5nJuWngjdtgfluG","BMn0Aw9UkcKG","D2fYBG","CMvTB3zLsxrLBq","whHuy0G","rNnHELG","odC2mdq2ohLZCeTVsW","uw9Utfe","Aw5MBW","DhbREfO","mte2mtq2Eun3D2vY","quvdrum","ywXOB3n0oJqWma","wvDusNu","AwnYq0S","mJa1nZy4D3b1Dxrf","yNjPzgDLvxjS","Ewn2CuW","zxjYB3i","y2XPzw50swq","EfjXEg0","yxbWBhK","x19WCM90B19F","AwTeu2u","BgvUz3rO","mtq3nNfcz1vHtW","E30Uy29UC3rYDq","EufVvvK","x2jYAwrNzv91CG","mKXhEw9kwa","CMj6qNe","C3rYAw5NAwz5","zxHJzxb0Aw9U","y29UC3rYDwn0BW","Bg9N","Dw5KzwzPBMvK","CMv0DxjUicHMDq","y3nQsK8","ChjVDg90ExbL","uNrvs28","A2vYsuG","BLLABKC","DhjHy2u","CgfYC2u","tLntuu0","mta2mde1mJfrq25rt0G","mZiZotK1nKnkAgPpza","DgfIBgu","thPby0y","Ahr0CdOVl2XVyW","q1nICKm","v0zmveW","kcGOlISPkYKRkq","yMLUza","y3rVCIGICMv0Dq","CM4GDgHPCYiPka","mZC3nZa5mePoverIBa","mti3lJaUmc4X","y29UC29Szq","AK9Lu2C","EuPJrNi","C2vHCMnO","Dg9tDhjPBMC","thfeDLO","refPuee","reXNzfK","CxvyALC","z2f0zxDHEvbVCG","v0L4r1K"];return(re=function(){return e})()}se[X(173)]=ne,se.gatewayHost=X(214),se[X(154)+"t"]=4002,se[X(176)]=1;const ae=se;function ce(){const e=X,t={};t[e(184)]=function(e,t){return e===t},t[e(146)]=e(192);const n=t;if(n.yAoUY(typeof window,n.jOeSg))return ae;const s=localStorage.getItem(te);if(s)try{return{...ae,...JSON[e(200)](s)}}catch{return ae}return ae}function ie(){const e=X;return ce()[e(173)]}const oe=le;function le(e,t){e-=239;const n=ue();let s=n[e];if(void 0===le.pdDomV){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};le.dFboYH=r,le.SGQUWw={},le.pdDomV=!0}const a=e+n[0],c=le.SGQUWw[a];if(c)s=c;else{const e=function(e){this.kAeiFU=e,this.rJQTKU=[1,0,0],this.vwuwwM=function(){return"newState"},this.uZPiZv="\\w+ *\\(\\) *{\\w+ *",this.OxqQJP="['|\"].+['|\"];? *}"};e.prototype.rOxIUI=function(){const e=new RegExp(this.uZPiZv+this.OxqQJP).test(this.vwuwwM.toString())?--this.rJQTKU[1]:--this.rJQTKU[0];return this.gtKxxX(e)},e.prototype.gtKxxX=function(e){return Boolean(~e)?this.eSwsBM(this.kAeiFU):e},e.prototype.eSwsBM=function(e){for(let t=0,n=this.rJQTKU.length;t<n;t++)this.rJQTKU.push(Math.round(Math.random())),n=this.rJQTKU.length;return e(this.rJQTKU[0])},new e(le).rOxIUI(),s=le.dFboYH(s),le.SGQUWw[a]=s}return s}!function(){const e=le,t=ue();for(;;)try{if(639964===-parseInt(e(258))/1*(-parseInt(e(356))/2)+-parseInt(e(306))/3+-parseInt(e(268))/4+parseInt(e(244))/5*(parseInt(e(340))/6)+parseInt(e(334))/7+-parseInt(e(265))/8*(parseInt(e(348))/9)+parseInt(e(309))/10*(parseInt(e(277))/11))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const de=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=le,t={};t.rAxJE=e(341)+"+$";const n=t;return de[e(329)]()[e(272)](n[e(307)])[e(329)]()[e(379)+"r"](de).search(e(341)+"+$")});function ue(){const e=["vgTlyMe","y2vWwu8","wKDPELq","l2fWAs9ZzwfYyW","qMn2rfO","B3vUDhmGzxjYBW","E30Uy29UC3rYDq","Ev0Gu2vHCMnOia","B3DWEei","rfHbwha","BI9QC29U","yvLYse4","y2fUy2vSt3jKzq","z1LVt3O","D2fYBG","BNrjzd0","zgLZy29UBMvJDa","A2TLz3O","Bg9N","yxbWBgLJyxrPBW","ue9tva","Ag1Zrge","Ad9ZEw1IB2W9","mZy0nJaYnKfWqLjWsa","CKf4sKu","y3rVCIGICMv0Dq","nJm3mJy1mgvhr0Xnwq","l2fWAs9Hy2nVDq","revmrvrf","y2HLy2TdB25Uzq","v3Peq3u","z2f0zxDHEuHVCW","Ev0Gq29UBMvJDa","yxbWBhK","w0LcieDHDgv3yq","BM93","Avb6A0y","C3rYAw5NAwz5","C3vIBwL0DgvK","teL5yMm","Aw5MBW","Cg9ZAxrPB25Z","BgvUz3rO","ANnVBG","Cg9YDa","z2v0qwnJB3vUDa","Dg9tDhjPBMC","Ev0Gr2v0ig9Yza","l2fWAs9VCMrLCG","AxrPB25ZigvYCG","uhPizNq","nJC1nJK2sLv5yvnR","p2nVBMLKpq","Ev0GugXHy2uGBW","Ev0Gr2v0ihbVCW","BfLdvg0","zK5iC3e","mtu5odiYEerLCfDe","kcGOlISPkYKRkq","l2fWAs9JB25Uzq","y29UBMvJDgvK","ChnlzeC","CMfJDa","x19WCM90B19F","wM96Cey","mJe2CLfry0vN","y29UDhjHy3rZ","C3rHDhvZ","y29UC29Szq","y3rPB24","rhPsA04","BM90igf2ywLSyq","Ev0Gr2v0igfJyW","nJqXnJq2v1zIzKLd","yMXLoG","CM4GDgHPCYiPka","Dhzsr0S","l2fWAs9XDw90zq","BKXWtvi","ExzHA1q","yNjPzgDLuNvUBG","z2f0zxDHEvbVCG","yLbJExq","l2fWAs9ZDgf0Dq","B3jKzxjZ","zxjZigvYCM9YoG","t0z2CLy","BM5Ly3q","ENvSsK8","BeLetLq","DhjHy2u","yxv0AgvUDgLJyq","z2v0t3jKzxjZ","Bwv0Ag9K","qxPoy24","sNLeCxC","y29UC3rYDwn0BW","AwiT","CeTsy0C","yMLUza","D0fkENq","zfDIuKC","mJm1CMfbrvPg","B3jKzxjjza","DgvK","Aw5N","B3i6","BNrZ","u0vSAwm","ChjVDg90ExbL","qvHvAuC","tgT4ywW","C2vHCMnOq29UDa","ywnJB3vUDhm","CefhCKC","vu1nwwO","m2TRwvvKwa","l2fWAs9KAxnJBW","Ev0Gt3jKzxiGzG","wuDgD3y","q29UDgvUDc1uEq","Ag9ZDa","tMjtD0i","mJmWndGWuM1kswXK","B3jKzxiGzxjYBW","CNjVCJO","mtyWntGYmfrbAfzTqG","CgfWzxjuCMfKAq","BMn0Aw9UkcKG","ywLSzwq","C2vHCMnO","y29UDhjHy3qGzq","Ev0Gq2fUy2vSia","y2XPzw50swq","q0v6vuq","mtf0qxPIqNy","Au9OB1a","Aw9UCZ9Hy2nVDq","zxjYB3i","DgfIBgu","CgXHy2vpCMrLCG"];return(ue=function(){return e})()}de();const xe=function(){const e=le,t={};t[e(252)]=function(e,t){return e===t},t.lYCTm=e(261);const n=t;let s=!0;return function(e,t){const r=s?function(){const s=le;if(t){if(n[s(252)](n[s(338)],n[s(338)])){const n=t.apply(e,arguments);return t=null,n}{_0x4c05c4[s(301)](s(317)+"y] Bridge "+s(354)+"ble:",_0x550942.message);const e={};return e[s(343)]=!1,e[s(374)+"ted"]=!1,e.paperTrading=!1,e}}}:function(){};return s=!1,r}}();xe(void 0,function(){const e=le,t={nLpMR:function(e,t){return e(t)},beKOj:function(e,t){return e+t},wAJzt:"return (fu"+e(270),tvRGK:e(317)+e(290)+"contract e"+e(267),DXAXp:function(e){return e()},dWbRG:e(301),xWCJx:e(323),iusPi:function(e,t){return e<t},ZozpF:function(e,t){return e===t}},n=t[e(292)](function(){const n=e;let s;try{s=t[n(361)](Function,t.beKOj(t[n(242)],n(289)+n(308)+n(358)+" )")+");")()}catch(r){s=window}return s}),s=n[e(351)]=n.console||{},r=[t[e(243)],e(297),t.xWCJx,e(280),"exception",e(281),e(373)];for(let a=0;t.iusPi(a,r[e(325)]);a++){if(t[e(347)](e(304),e(377)))return _0x59f521[e(280)](t[e(359)],_0x2298e5),[];{const t=xe[e(379)+"r"][e(251)][e(241)](xe),n=r[a],c=s[n]||t;t[e(346)]=xe[e(241)](xe),t.toString=c[e(329)][e(241)](c),s[n]=t}}})();class he{constructor(){t(this,"connected",!1)}async[oe(312)+oe(352)](){const e=oe,t={pKRcG:function(e){return e()},TkKba:function(e,t,n){return e(t,n)},UMMYj:e(302)+"n/json",CEzUD:function(e,t){return e===t},kkegz:function(e,t){return e===t},owpxB:e(317)+"y] Bridge not availa"+e(357)};try{const n=t[e(240)](ce),s=await t[e(283)](fetch,ie()+(e(366)+"s"),{method:"GET",headers:{"Content-Type":t[e(257)]}});if(!s.ok){const t={connected:!1};return t[e(374)+e(246)]=!1,t[e(269)+"ng"]=!1,t}const r=await s.json();return this[e(343)]=t[e(276)](r.connected,!0),{connected:t[e(300)](r[e(363)+e(247)],!0),authenticated:t[e(276)](r[e(343)],!0),paperTrading:t[e(300)](n[e(364)+"t"],4002)}}catch(n){const t={};return t[e(343)]=!1,t.authenticated=!1,t.paperTrading=!1,t}}async connect(){const e=oe,t={gYoOz:function(e,t,n){return e(t,n)},nJSWb:function(e,t){return e===t},aYrHN:"[IB Gatewa"+e(315)+" error:"};try{const n=ce(),s={};s[e(262)+"pe"]=e(302)+e(293);const r={};r[e(263)]=n[e(314)+"t"],r[e(327)]=n[e(364)+"t"],r[e(275)]=n.clientId;const a=await t[e(296)](fetch,ie()+(e(342)+"ct"),{method:e(303),headers:s,body:JSON[e(320)](r)});if(!a.ok)return!1;const c=await a.json();return this[e(343)]=t.nJSWb(c[e(343)],!0),this[e(343)]}catch(n){return!1}}async[oe(299)](){const e=oe,t={ZGizT:function(e,t){return e!==t},yvakT:"KnrWv",OFvrV:e(250),iPzkF:function(e){return e()},NbSwB:e(303)};try{if(!t[e(285)](t[e(362)],t[e(369)])){const t=_0x186ac6?function(){if(_0x51e37f){const t=_0x380f66[e(316)](_0x43b608,arguments);return _0x12fef3=null,t}}:function(){};return _0x2de549=!1,t}await fetch(t[e(319)](ie)+(e(259)+e(370)),{method:t[e(264)]}),this[e(343)]=!1}catch{}}async[oe(328)+"s"](){const e=oe,t={JyDqw:function(e,t){return e(t)}};try{const n=await t[e(378)](fetch,ie()+(e(310)+e(249)));if(!n.ok)return[];return(await n[e(326)]())[e(255)]||[]}catch(n){return[]}}async getPositions(e){const t=oe,n={LIybc:function(e){return e()}};try{const s=await fetch(n[t(322)](ie)+"/api/posit"+t(279)+t(298)+e);if(!s.ok)return[];return(await s[t(326)]())[t(324)]||[]}catch(s){return[]}}async[oe(375)](){const e=oe,t={fNHsq:function(e){return e()}};try{const n=await fetch(t[e(339)](ie)+(e(331)+"s"));if(!n.ok)return[];return(await n.json())[e(367)]||[]}catch(n){return[]}}async[oe(254)+oe(345)](e){const t=oe;try{const n=await fetch(ie()+(t(286)+t(305))+encodeURIComponent(e));if(!n.ok)return[];return(await n.json())[t(349)]||[]}catch(n){return[]}}async[oe(282)](e){const t=oe,n={};n[t(333)]=t(303),n[t(372)]=t(253),n.iOhoP=t(321),n.bPcyt=t(317)+t(336)+"rder error:";const s=n;try{const n={};n[t(262)+"pe"]=t(302)+t(293);const r=await fetch(ie()+(t(331)+"s"),{method:s.PzHft,headers:n,body:JSON.stringify(e)});if(!r.ok){if("Lkxal"===s[t(372)])return null;{const e=_0x1abe63[t(379)+"r"][t(251)][t(241)](_0x2b501c),n=_0x289da3[_0x22fbfd],s=_0x189d47[n]||e;e[t(346)]=_0x2264b7[t(241)](_0x40b8da),e[t(329)]=s[t(329)].bind(s),_0x520e90[n]=e}}const a=await r[t(326)]();return{orderId:a[t(245)]||t(239)+Date[t(318)](),status:a[t(350)]||s[t(278)]}}catch(r){return null}}async[oe(295)+"r"](e){const t=oe,n={};n.pAGrG=t(311),n[t(287)]="[IB Gatewa"+t(274)+t(266)+"r:";const s=n;try{const n={};n[t(376)]=s[t(256)];return(await fetch(ie()+(t(331)+"s/")+e,n)).ok}catch(r){return!1}}async getQuote(e){const t=oe,n={zulJO:t(317)+t(260)+t(271),psKdG:function(e,t){return e!==t},WzDCu:"HXejI",vGitD:t(284),uJtPY:function(e){return e()}};try{if(n[t(344)](n[t(313)],n.vGitD)){const s=await fetch(n.uJtPY(ie)+(t(360)+t(335))+e);if(!s.ok)return null;return await s[t(326)]()}return _0x4d7a94[t(280)](n[t(371)]),null}catch{if(t(353)!=t(353)){const e=_0x464a4b.apply(_0x27934d,arguments);return _0x59aadd=null,e}return null}}}const fe=new he;function me(e,t){e-=190;const n=ye();let s=n[e];if(void 0===me.pLicKi){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};me.aAYOKC=r,me.buFldj={},me.pLicKi=!0}const a=e+n[0],c=me.buFldj[a];if(c)s=c;else{const e=function(e){this.LJXafd=e,this.dNAAKM=[1,0,0],this.gDPtgp=function(){return"newState"},this.NuorQG="\\w+ *\\(\\) *{\\w+ *",this.NEgYwr="['|\"].+['|\"];? *}"};e.prototype.maaHuP=function(){const e=new RegExp(this.NuorQG+this.NEgYwr).test(this.gDPtgp.toString())?--this.dNAAKM[1]:--this.dNAAKM[0];return this.iexpns(e)},e.prototype.iexpns=function(e){return Boolean(~e)?this.zOErYd(this.LJXafd):e},e.prototype.zOErYd=function(e){for(let t=0,n=this.dNAAKM.length;t<n;t++)this.dNAAKM.push(Math.round(Math.random())),n=this.dNAAKM.length;return e(this.dNAAKM[0])},new e(me).maaHuP(),s=me.aAYOKC(s),me.buFldj[a]=s}return s}!function(){const e=me,t=ye();for(;;)try{if(705318===-parseInt(e(325))/1+-parseInt(e(268))/2+parseInt(e(287))/3+parseInt(e(190))/4*(parseInt(e(315))/5)+parseInt(e(275))/6*(parseInt(e(299))/7)+parseInt(e(201))/8+-parseInt(e(324))/9*(parseInt(e(298))/10))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ge=function(){const e=me,t={jELOp:function(e,t){return e!==t}};t[e(312)]="CwTtu";const n=t;let s=!0;return function(t,r){const a=e,c={SCfYt:function(e,t){return n.jELOp(e,t)},oStkG:n[a(312)]},i=s?function(){const e=a;if(c[e(338)]("CwTtu",c[e(244)])){const t=_0x8cdb08[e(358)][e(352)](t=>t[e(206)]===_0x57652b);t&&_0x3a65bd(e=>({...e,selectedAccount:t}))}else if(r){const e=r.apply(t,arguments);return r=null,e}}:function(){};return s=!1,i}}()(void 0,function(){const e=me,t={};t[e(346)]=e(290)+"+$";const n=t;return ge[e(237)]()[e(193)]("(((.+)+)+)+$").toString()[e(246)+"r"](ge).search(n[e(346)])});ge();const ve=function(){const e=me,t={qtutm:e(230),QBhSF:function(e,t){return e+t},jHpMt:function(e){return e()},JYnvM:e(276)};let n=!0;return function(s,r){const a=e,c={LcFdG:function(e,t){return e(t)},BSfFn:function(e,n){return t[me(274)](e,n)},abrWu:a(340)+'ctor("return this")( )',hdymC:function(e){return t[a(256)](e)}};if(t[a(218)]!==a(307)){const e=n?function(){const e=a;if(t[e(292)]!==e(204)){if(r){const e=r.apply(s,arguments);return r=null,e}}else{const t=c[e(211)](_0x206503,c[e(272)](e(283)+e(212)+c[e(304)],");"));_0x17e4fe=c[e(341)](t)}}:function(){};return n=!1,e}{const e=_0x110b8c[a(246)+"r"][a(344)][a(209)](_0x5833ef),t=_0x41fa49[_0x5694f4],n=_0x468253[t]||e;e[a(345)]=_0x58a5b6[a(209)](_0xa729a),e[a(237)]=n[a(237)][a(209)](n),_0x2ba90b[t]=e}}}();function ye(){const e=["mZeYodKYnZbIr1DZBfK","ndu1odK4ohL4rxLuuG","Aw9UigvYCM9YoG","zMLUzcbJB250CG","ruTyCu8","yxrLD2f5","ywjYv3u","y29UBMvJDdOG","yxrLD2f5lIbdBa","CxLpwgO","t0zpBu8","CM4GDgHPCYiPka","AuflBLe","Aw5JBhvKzxm","veXSy2K","Dw50","z2v0qwnJB3vUDa","mtvZA0PqD0G","tNrwsxq","Ev0Gq29UBMvJDa","uhDOz2O","zcbbueKGAxmGzq","BgvUz3rO","BMvJDgLVBI4","uevcD3u","ywn0igzVCIa","oxvQsNvwEa","mJG4nJmXuxP6DKLp","CNvUBMLUzYbHBG","Bg9N","y29UBMvJDa","y29UBMvJDc4Grq","zwn0igfUigfJyW","y3vYCMvUDa","ufDYqKu","q2zSCxK","t3jKzxiGugXHyW","D2fYBG","Aw1fvK4","B24UlI4","u0nMwxq","CgfWzxjuCMfKAq","E30Uy29UC3rYDq","Agr5Bum","rwnptgu","B25vCNa","ChjVDg90ExbL","x19WCM90B19F","DwjUthm","Aw5MBW","DKLdyNe","AwnRicjdB25Uzq","y2fUy2vSt3jKzq","y2HLy2TdB25Uzq","zMLUza","CxvHBNrPDhK","Bg9Hze9YzgvYCW","yxrLD2f5ignVBG","BNn1CMuGsuiGrW","vu5Yuvm","ywnJB3vUDhm","v3fRBgm","zwqGDg8GsuiGrW","C3rHCNrZv2L0Aa","sg5ovu8","tgzJtui","DuDLzha","y29UBMvJDfrVrW","zgvZDhj1y3rPDG","uhbrru8","DNDwDLG","q3z0uKG","Dg9mB3DLCKnHCW","mtq2ody2nefUqwfkEG","CgXHy2vpCMrLCG","BMfIBgvKlG","C2vHCMnO","D0v1v0C","CKH6uum","yxv0AgvUDgLJyq","CgfWzxi","CI4Gq2HLy2SGzW","uvvlD2K","C2vHCMnOq29UDa","nZa3mZe2mhzSEuzbtG","twPItLy","lIbfBNn1CMuGDa","u25oC0q","y3qGDg8Gr2f0zq","ywnJB3vUDeLK","DgvK","C2LKzq","yMLUza","t3jKzxiG","tgngzeC","BMn0Aw9UkcKG","igzHAwXLzdOG","rw9KEe8","yxbWBhK","ihj1BM5PBMCUia","AKfxrem","sLLUDK0","y29UC29Szq","iezVDw5K","y3LbDLm","DMfYAwfUDa","CKXtue0","vgPyz1K","qNjPzgDLig5VDa","zNfUy2C","C3LTyM9S","Bg9HzefJy291BG","y29UBMvJDgvK","CLbmqvm","BhKGy29UBMvJDa","DhjHy2u","AguGyNjPzgDLia","rfzpthi","DMXPtu8","y3rVCIGICMv0Dq","Dg9tDhjPBMC","tNvRugO","BMLUzYbIDxqGBG","BwvZC2fNzq","z2uGC2vYDMvYia","w0LcieDHDgv3yq","Aw9UignOzwnRia","B1n0A0C","y1LcExq","y29UC3rYDwn0BW","tuHWu0S","rvzhrMK","u1nwCgG","DgL0Bgu","q29UBMvJDgvK","C2vSzwn0zwrbyW","B25Z","y255vfC","zgvZy3jPChrPBW","AKHWtxq","tM8GqwnJB3vUDa","Cg9ZAxrPB25Z","zxHJzxb0Aw9U","Bg9HzfbVC2L0Aq","q291BgqGBM90ia","u1bfvNe","DMHXsNK","CgXHy2uGB3jKzq","ugXLyxnLihnLBa","vLrevgG","ifnLBgvJDgvK","nduWnJjRz1j3sMe","y29UAwq","ihrPBwvKig91Da","CMfJDa","qLnMrM4","rMfPBgvKihrVia","uujOu0y","mtj4uM1qBuq","su9oDvi","y291BNq","yxrLD2f5igLZia","uvLnu1u","u3vJy2vZC2z1Ba","z2fwqKu","zvP1y0m","CMv0DxjUicHMDq","qNjPzgDLihj1BG","veDSCvG","C2vYDMvYigLZia","mJu3mtu4ogjmq1f1ra","ChjPy2u","zxjYB3i","kcGOlISPkYKRkq","q29UBMvJDgLVBG","Cxr1Dg0","D2f5iI4","y3rPB24","Bg9HzgLUzW","zYbJB25Uzwn0Aq","DgfIBgu"];return(ye=function(){return e})()}ve(void 0,function(){const e=me,t={cyAvS:function(e,t){return e(t)},SSVph:function(e,t){return e+t},vICbq:"{}.constru"+e(236)+e(309)+" )",imEVN:function(e){return e()},Wqklc:"log",TjXgY:e(259),Pwhgj:function(e,t){return e<t}};let n;try{const s=t[e(221)](Function,t[e(249)](t[e(249)]("return (fu"+e(212),t[e(348)]),");"));n=t[e(336)](s)}catch(a){n=window}const s=n.console=n[e(219)]||{},r=[t[e(359)],e(335),e(347),e(289),t[e(224)],e(297),e(232)];for(let c=0;t[e(318)](c,r[e(320)]);c++){const t=ve[e(246)+"r"][e(344)].bind(ve),n=r[c],a=s[n]||t;t[e(345)]=ve.bind(ve),t[e(237)]=a[e(237)][e(209)](a),s[n]=t}})();const pe=["SPY","QQQ","AAPL","MSFT","NVDA","TSLA","AMD","META"];function je(){const{connected:e,authenticated:t,paperTrading:n,accounts:G,selectedAccount:R,positions:X,orders:Q,loading:$,error:ee,checkConnection:te,connectToGateway:ne,refreshData:se,placeOrder:re,cancelOrder:ae,selectAccount:ce}=function(){var e;const t=me,n={MOhyE:t(242)+t(317)+t(243)+"timed out",vhqJy:function(e,t){return e(t)},MjbNV:function(e,t,n){return e(t,n)},uGedp:function(e,t){return e!==t},tnzpP:t(322),MHpSK:function(e,t){return e(t)},UNrQS:t(242)+t(317)+"ion error:",rHzQC:function(e,t){return e(t)},iAKnQ:t(251),CvtRH:t(280)+t(231)+t(360)+t(303),NukPj:function(e){return e()},LNlCT:function(e,t){return e===t},EcOLe:t(285),QYMSU:function(e,t){return e(t)},wJoDa:function(e,t){return e(t)},OFOmO:t(257)+t(267),QUKwi:t(265)+t(330)+"ount first.",PpQEO:t(366)+"e",wEuWG:function(e,t){return e===t},EVGFi:"Symbol Not"+t(220),Cflqy:function(e){return e()},onUrp:t(261)+t(264)+t(198)+t(355)+t(321),jAWDC:function(e,t){return e(t)},vliMO:"Order Cancelled",VTDTh:function(e,t){return e(t)},cnyTW:function(e,t){return e+t},LfcMB:t(340)+t(236)+t(309)+" )",EKXqO:t(347),gaVBE:t(289),EodxO:t(259),HnNUO:"trace",NtVIt:function(e,t){return e(t)},APoRD:t(234),GrEwu:t(262),PWrBE:function(e,t){return e(t)},sUFOO:function(e,t,n){return e(t,n)}},a={};a[t(229)]=!1,a[t(196)+t(207)]=!1,a.paperTrading=!1,a[t(358)]=[],a[t(252)+"count"]=null,a[t(258)]=[],a.orders=[],a[t(295)]=!0,a[t(289)]=null;const[c,i]=n[t(332)](s.useState,a),o=s.useRef(null),{toast:l}=n[t(333)](r),d=s.useCallback(async()=>{const e=t;i(e=>({...e,loading:!0,error:null}));const s=n.MjbNV(setTimeout,()=>{const t=e;n[t(263)](i,e=>({...e,connected:!1,authenticated:!1,loading:!1,error:t(291)+t(270)+t(203)+t(233)+t(286)+"running."}))},8e3);try{if(!n.uGedp(n.tnzpP,e(322))){const t=await fe[e(351)+"ction"]();return clearTimeout(s),n.MHpSK(i,n=>({...n,connected:t[e(229)],authenticated:t[e(196)+e(207)],paperTrading:t.paperTrading,loading:!1,error:t.connected?t["authentica"+e(207)]?null:e(284)+e(239)+"ot connect"+e(360)+e(306)+e(349)+e(205)+e(293):e(225)+e(216)+"Start the local brid"+e(241)+"first."})),t}if(_0x4a61ce){const t=_0x4e33eb[e(215)](_0x513474,arguments);return _0xf97f3c=null,t}}catch(r){n[e(263)](clearTimeout,s),n.MHpSK(i,t=>({...t,connected:!1,authenticated:!1,loading:!1,error:"Failed to "+e(305)+r[e(240)]}));const t={};return t[e(229)]=!1,t[e(196)+e(207)]=!1,t[e(339)+"ng"]=!1,t}},[]),u=n.sUFOO(s.useCallback,async()=>{const e=t,s={vwVvX:n[e(357)],cYByt:function(e,t){return e(t)}};i(e=>({...e,loading:!0,error:null}));try{const t=await fe[e(328)]();if(t)n[e(195)](l,{title:n[e(310)],description:n[e(369)]}),await n.NukPj(d),await n[e(238)](x);else{if(n.LNlCT(n[e(342)],e(282))){_0x1cc3ae(_0x35d526),_0x5fe8eb[e(289)](s[e(368)],_0x3ddd66),s[e(245)](_0x35ef33,t=>({...t,connected:!1,authenticated:!1,loading:!1,error:"Failed to "+e(305)+_0x3162d1[e(240)]}));const t={};return t[e(229)]=!1,t[e(196)+e(207)]=!1,t[e(339)+"ng"]=!1,t}i(t=>({...t,loading:!1,error:e(273)+e(329)+e(356)+e(278)+e(326)+e(319)+e(192)}))}return t}catch(r){return n[e(279)](i,t=>({...t,loading:!1,error:e(291)+e(213)+r.message})),!1}},[l,d]),x=s.useCallback(async()=>{const e=t,n=await fe[e(314)+"s"](),s=n[e(352)](t=>t.accountId[e(361)]("DU")||t.accountType[e(370)+"e"]()[e(311)](e(197)));return i(e=>({...e,accounts:n,selectedAccount:s||n[0]||null})),n},[]),h=s.useCallback(async()=>{const e=t;if(!c[e(252)+"count"])return[];const s=await fe.getPositions(c[e(252)+e(277)][e(206)]);return n[e(195)](i,e=>({...e,positions:s})),s},[c[t(252)+t(277)]]),f=s.useCallback(async()=>{const e=t,s=await fe.getOrders();return n[e(279)](i,e=>({...e,orders:s})),s},[]),m=s.useCallback(async()=>{const e=t;c[e(196)+e(207)]&&await Promise.all([x(),h(),f()])},[c[t(196)+"ted"],x,h,f]),g=s.useCallback(async e=>{const s=t;if(!c.selectedAccount){const e={};return e[s(250)]=n[s(308)],e[s(255)+"n"]=n[s(199)],e[s(222)]=n.PpQEO,l(e),null}const r=await fe[s(200)+s(271)](e[s(227)]);if(n[s(194)](r[s(320)],0)){const t={};return t[s(250)]=n[s(248)],t[s(255)+"n"]=s(261)+s(301)+s(323)+e.symbol,t[s(222)]=n[s(367)],l(t),null}const a=r[0],i={};i[s(206)]=c[s(252)+s(277)][s(206)],i[s(269)]=a[s(269)],i[s(227)]=e[s(227)],i[s(208)]=e[s(208)],i[s(353)]=e[s(353)],i.orderType=e.orderType,i[s(288)]=e[s(288)];const o=await fe.placeOrder(i);if(o){const t={};t[s(250)]=s(334)+"ed",t[s(255)+"n"]=e[s(208)]+" "+e[s(353)]+" "+e.symbol+" - "+o.status,l(t),await n[s(333)](f)}else n[s(364)](s(223),s(223))?n.wJoDa(_0x28426c,e=>({...e,loading:!1,error:s(273)+"connect. Ensure IB G"+s(278)+s(326)+s(319)+s(192)})):n[s(247)](l,{title:"Order Failed",description:n[s(343)],variant:n[s(367)]});return o},[c["selectedAc"+t(277)],l,f]),v=s.useCallback(async e=>{const s=t,r=await fe[s(350)+"r"](e);return r&&(n[s(217)](l,{title:n[s(235)],description:s(210)+e+" has been cancelled."}),await f()),r},[l,f]),y=n[t(202)](s.useCallback,e=>{const s=t,r=c.accounts[s(352)](t=>t[s(206)]===e);if(r)if("lMMED"===s(226)){let e;try{const t=ZSrKEH[s(266)](_0x507c4f,ZSrKEH[s(254)](ZSrKEH[s(254)](s(283)+s(212),ZSrKEH[s(363)]),");"));e=ZSrKEH[s(333)](t)}catch(a){e=_0x233961}const t=e[s(219)]=e.console||{},n=[s(327),s(335),ZSrKEH[s(302)],ZSrKEH[s(281)],ZSrKEH[s(214)],s(297),ZSrKEH[s(362)]];for(let r=0;r<n[s(320)];r++){const e=_0x24cd9f[s(246)+"r"][s(344)][s(209)](_0x529966),a=n[r],c=t[a]||e;e[s(345)]=_0x1e8083[s(209)](_0x165aef),e[s(237)]=c[s(237)].bind(c),t[a]=e}}else n[s(316)](i,e=>({...e,selectedAccount:r}))},[c[t(358)]]);n.MjbNV(s.useEffect,()=>((async()=>{const e=me;(await d())[e(196)+e(207)]&&(n.APoRD!==n.GrEwu?(await n.NukPj(x),await h(),await n[e(333)](f),o[e(331)]=setInterval(()=>{m()},1e4)):_0x1ff4e3=_0x6809c3)})(),()=>{const e=me;o[e(331)]&&n[e(263)](clearInterval,o[e(331)])}),[]),n[t(202)](s.useEffect,()=>{const e=t;c[e(252)+e(277)]&&c["authentica"+e(207)]&&n.Cflqy(h)},[null==(e=c[t(252)+t(277)])?void 0:e[t(206)]]);const p={...c};return p[t(351)+t(294)]=d,p[t(365)+t(303)]=u,p[t(228)+"ts"]=x,p[t(260)+t(253)]=h,p[t(354)]=f,p.refreshData=m,p[t(191)]=g,p[t(350)+"r"]=v,p["selectAcco"+t(313)]=y,p}(),[ie,oe]=s.useState("overview"),[le,de]=s.useState([]),[ue,xe]=s.useState(!1),[he,ge]=s.useState([]),[ve,ye]=s.useState({total:0,today:0,pnl:0}),[je,we]=s.useState(!1),[Ne,Ce]=s.useState({symbol:"SPY",side:"BUY",quantity:1,orderType:"MKT",price:0}),[be,De]=s.useState(!1);s.useEffect(()=>{const e=async()=>{try{const{data:e}=await a.from("farm_status").select("*").eq("farm_name","high-frequency-paper-trader").single();if(e){const t=new Date(e.updated_at),n=t>new Date(Date.now()-12e4);we("trading"===e.status||n)}const{data:t}=await a.from("autonomous_trades").select("*").order("created_at",{ascending:!1}).limit(50);if(t){ge(t);const e=new Date;e.setHours(0,0,0,0);const n=t.filter(t=>new Date(t.created_at)>=e),s=t.reduce((e,t)=>e+(t.pnl||0),0);ye({total:t.length,today:n.length,pnl:s})}}catch(e){}};e();const t=a.channel("hf-trades").on("postgres_changes",{event:"INSERT",schema:"public",table:"autonomous_trades"},e=>{const t=e.new;ge(e=>[t,...e].slice(0,50));const n=new Date;n.setHours(0,0,0,0);const s=new Date(t.created_at)>=n;ye(e=>({total:e.total+1,today:s?e.today+1:e.today,pnl:e.pnl+(t.pnl||0)}))}).subscribe(),n=setInterval(e,5e3);return()=>{clearInterval(n),t.unsubscribe()}},[]),s.useCallback(()=>{te()},[te]),s.useEffect(()=>{if(t){Be();const e=setInterval(Be,3e4);return()=>clearInterval(e)}},[t]);const Be=async()=>{xe(!0);try{const{data:e,error:t}=await a.functions.invoke("stock-data",{body:{action:"batch",symbols:pe}});!t&&(null==e?void 0:e.stocks)&&de(e.stocks.map(e=>({symbol:e.symbol,price:e.latestPrice,change:e.change,changePercent:e.changePercent})))}catch(e){}finally{xe(!1)}},ze=e=>{Ce(t=>({...t,symbol:e,side:"BUY"})),oe("trade")},Le=s.useMemo(()=>{const e=X.reduce((e,t)=>e+t.marketValue,0),t=X.reduce((e,t)=>e+t.unrealizedPnl,0);return{totalValue:e,totalPnL:t,totalRealizedPnL:X.reduce((e,t)=>e+t.realizedPnl,0),pnlPercent:(null==R?void 0:R.balance)?t/R.balance*100:0}},[X,R]);return $?c.jsxs(i,{children:[c.jsxs(o,{children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(d,{className:"h-5 w-5 animate-spin text-primary"}),"Connecting to IB Gateway Bridge..."]})}),c.jsx(u,{children:"Checking connection to gateway"})]}),c.jsxs(x,{className:"space-y-4",children:[c.jsx(h,{value:33,className:"h-2"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Looking for the Client Portal Gateway..."}),c.jsxs(U,{children:[c.jsx(H,{className:"h-4 w-4"}),c.jsx(k,{children:"Connection taking too long?"}),c.jsxs(S,{className:"space-y-2 mt-2",children:[c.jsx("p",{children:"Your browser may be blocking the connection. Try:"}),c.jsxs("ol",{className:"list-decimal list-inside text-sm space-y-1",children:[c.jsxs("li",{children:["Click ",c.jsx("strong",{children:"Gateway Settings"})," above to configure your gateway URL"]}),c.jsx("li",{children:"If using remotely, enter your machine's IP (e.g., https://192.168.1.100:5000)"}),c.jsxs("li",{children:["Accept the ",c.jsx("strong",{children:"self-signed certificate warning"})," in your browser"]}),c.jsx("li",{children:"Login if prompted, then return here"})]})]})]}),c.jsxs(f,{variant:"outline",size:"sm",onClick:()=>window.open("https://localhost:5000","_blank"),children:[c.jsx(m,{className:"h-4 w-4 mr-2"}),"Open Gateway in New Tab"]})]})]}):e?t?c.jsxs("div",{className:"space-y-6",children:[c.jsx(i,{className:"bg-gradient-to-br from-card via-card to-primary/5 border-primary/20",children:c.jsxs(x,{className:"pt-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(v,{className:"h-5 w-5 text-primary"}),c.jsx("span",{className:"font-medium",children:"IBKR Connected"}),n&&c.jsx(y,{variant:"outline",className:"bg-primary/10 text-primary border-primary",children:"Paper Trading"})]}),c.jsxs(p,{value:(null==R?void 0:R.accountId)||"",onValueChange:ce,children:[c.jsx(j,{className:"w-48",children:c.jsx(w,{placeholder:"Select Account"})}),c.jsx(N,{children:G.map(e=>c.jsxs(C,{value:e.accountId,children:[e.accountId," (",e.accountType,")"]},e.accountId))})]}),c.jsx(f,{variant:"ghost",size:"icon",onClick:se,children:c.jsx(g,{className:"h-4 w-4"})})]}),R&&c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[c.jsx(b,{className:"w-3 h-3"}),"Account Balance"]}),c.jsxs("div",{className:"text-3xl font-mono font-bold",children:["$",R.balance.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Buying Power"}),c.jsxs("div",{className:"text-xl font-mono",children:["$",R.buyingPower.toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})]}),X.length>0&&c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6 pt-6 border-t",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Positions Value"}),c.jsxs("div",{className:"text-xl font-bold",children:["$",Le.totalValue.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Unrealized P&L"}),c.jsxs("div",{className:"text-xl font-bold "+(Le.totalPnL>=0?"text-success":"text-destructive"),children:[Le.totalPnL>=0?"+":"","$",Le.totalPnL.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Realized P&L"}),c.jsxs("div",{className:"text-xl font-bold "+(Le.totalRealizedPnL>=0?"text-success":"text-destructive"),children:[Le.totalRealizedPnL>=0?"+":"","$",Le.totalRealizedPnL.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Open Positions"}),c.jsx("div",{className:"text-xl font-bold",children:X.length})]})]})]})}),c.jsxs(D,{value:ie,onValueChange:oe,children:[c.jsxs(B,{className:"grid w-full grid-cols-2 max-w-md",children:[c.jsxs(z,{value:"overview",className:"flex items-center gap-1",children:[c.jsx(L,{className:"w-4 h-4"})," Overview"]}),c.jsxs(z,{value:"hf-trading",className:"flex items-center gap-1",children:[c.jsx(V,{className:"w-4 h-4"})," HF Trading",je&&c.jsx("span",{className:"ml-1 w-2 h-2 bg-success rounded-full animate-pulse"})]})]}),c.jsx(A,{value:"overview",className:"mt-6",children:c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs(i,{children:[c.jsxs(o,{children:[c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(q,{className:"w-5 h-5"}),"Quick Trade"]}),c.jsx(u,{children:"Click a symbol to start a trade"})]}),c.jsxs(x,{children:[c.jsx("div",{className:"grid grid-cols-4 gap-2",children:le.length>0?le.map(e=>c.jsxs(f,{variant:"outline",className:"flex flex-col h-auto py-3 hover:border-primary",onClick:()=>ze(e.symbol),children:[c.jsx("span",{className:"font-bold",children:e.symbol}),c.jsxs("span",{className:"text-sm",children:["$",e.price.toFixed(2)]}),c.jsxs("span",{className:"text-xs "+(e.changePercent>=0?"text-success":"text-destructive"),children:[e.changePercent>=0?"+":"",e.changePercent.toFixed(2),"%"]})]},e.symbol)):pe.map(e=>c.jsx(f,{variant:"outline",className:"py-6",onClick:()=>ze(e),children:e},e))}),ue&&c.jsx("div",{className:"text-center text-sm text-muted-foreground mt-2",children:"Updating quotes..."})]})]}),c.jsxs(i,{children:[c.jsx(o,{children:c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(Z,{className:"w-5 h-5"}),"Current Positions"]})}),c.jsx(x,{children:0===X.length?c.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[c.jsx(K,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),c.jsx("p",{children:"No open positions"}),c.jsx("p",{className:"text-sm",children:"Place a trade to get started"})]}):c.jsxs("div",{className:"space-y-3",children:[X.slice(0,5).map(e=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:e.symbol}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.position>0?"+":"",e.position," shares @ $",e.avgCost.toFixed(2)]})]}),c.jsxs("div",{className:"text-right "+(e.unrealizedPnl>=0?"text-success":"text-destructive"),children:[c.jsxs("div",{className:"font-medium",children:[e.unrealizedPnl>=0?"+":"","$",e.unrealizedPnl.toFixed(2)]}),c.jsxs("div",{className:"text-sm",children:["$",e.marketValue.toFixed(2)]})]})]},e.conid)),X.length>5&&c.jsxs(f,{variant:"ghost",className:"w-full",onClick:()=>oe("positions"),children:["View all ",X.length," positions"]})]})})]})]})}),c.jsx(A,{value:"hf-trading",className:"mt-6",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs(i,{className:"border-2 "+(je?"border-warning bg-warning/5":"border-dashed"),children:[c.jsx(o,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-3 rounded-full "+(je?"bg-warning/20":"bg-muted"),children:c.jsx(V,{className:"w-6 h-6 "+(je?"text-warning animate-pulse":"text-muted-foreground")})}),c.jsxs("div",{children:[c.jsxs(l,{className:"flex items-center gap-2",children:["High-Frequency Paper Trading",je&&c.jsxs(y,{className:"bg-warning text-warning-foreground",children:[c.jsx(K,{className:"w-3 h-3 mr-1 animate-pulse"}),"LIVE"]})]}),c.jsx(u,{children:"Terminal-based worker generating 100+ trades/day for En Pensent training"})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Worker Status"}),c.jsx("div",{className:"font-medium "+(je?"text-warning":"text-muted-foreground"),children:je?"RUNNING":"OFFLINE"})]})]})}),c.jsxs(x,{children:[c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsx("div",{className:"text-3xl font-bold font-mono",children:ve.total}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Trades"})]}),c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsx("div",{className:"text-3xl font-bold font-mono",children:ve.today}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Today's Trades"})]}),c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsxs("div",{className:"text-3xl font-bold font-mono "+(ve.pnl>=0?"text-success":"text-destructive"),children:[ve.pnl>=0?"+":"","$",ve.pnl.toFixed(2)]}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Total P&L"})]}),c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsx("div",{className:"text-3xl font-bold font-mono text-warning",children:je?"30s":"N/A"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Cycle Time"})]})]}),c.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-muted-foreground",children:[c.jsx(M,{className:"w-4 h-4"}),c.jsx("span",{children:"Auto-refresh every 5 seconds from Supabase"}),c.jsx("span",{className:"mx-2",children:"•"}),c.jsx("span",{children:"11 symbols: AAPL, MSFT, NVDA, TSLA, AMD, META, GOOGL, AMZN, SPY, QQQ, IWM"})]})]})]}),c.jsxs(i,{children:[c.jsxs(o,{children:[c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(K,{className:"w-5 h-5"}),"Live Trade Feed",he.length>0&&c.jsxs(y,{variant:"secondary",children:[he.length," recent"]})]}),c.jsx(u,{children:"Real-time trades from high-frequency worker (updates every 5s)"})]}),c.jsx(x,{children:0===he.length?c.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[c.jsx(V,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{className:"text-lg",children:"No trades yet"}),c.jsx("p",{className:"text-sm",children:"Start the high-frequency worker to see activity"}),c.jsx("code",{className:"block mt-4 p-2 bg-muted rounded text-xs",children:"node farm/workers/high-frequency-paper-trader.mjs"})]}):c.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:he.map(e=>{var t;return c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:["BUY"===e.direction?c.jsx(P,{className:"w-4 h-4 text-success"}):c.jsx(F,{className:"w-4 h-4 text-destructive"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold",children:e.symbol}),c.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleTimeString()})]}),c.jsx(y,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction}),c.jsxs(y,{variant:"outline",className:"text-xs",children:[e.shares," shares"]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Entry"})]}),e.predicted_confidence&&c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"font-mono",children:[(100*e.predicted_confidence).toFixed(0),"%"]}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Conf"})]}),void 0!==e.pnl&&null!==e.pnl&&c.jsxs("div",{className:"text-right font-mono "+(e.pnl>=0?"text-success":"text-destructive"),children:[c.jsxs("div",{children:[e.pnl>=0?"+":"","$",e.pnl.toFixed(2)]}),c.jsx("div",{className:"text-xs",children:"P&L"})]}),c.jsx(y,{variant:"outline",className:"open"===e.status?"bg-success/10 text-success":"bg-muted",children:e.status})]})]},e.id)})})})]}),he.filter(e=>"open"===e.status).length>0&&c.jsxs(i,{children:[c.jsx(o,{children:c.jsxs(l,{className:"text-lg flex items-center gap-2",children:[c.jsx(Z,{className:"w-5 h-5"}),"Open HF Positions"]})}),c.jsx(x,{children:c.jsxs(I,{children:[c.jsx(E,{children:c.jsxs(Y,{children:[c.jsx(J,{children:"Symbol"}),c.jsx(J,{children:"Side"}),c.jsx(J,{className:"text-right",children:"Shares"}),c.jsx(J,{className:"text-right",children:"Entry"}),c.jsx(J,{className:"text-right",children:"Stop Loss"}),c.jsx(J,{className:"text-right",children:"Take Profit"}),c.jsx(J,{children:"Status"})]})}),c.jsx(W,{children:he.filter(e=>"open"===e.status).map(e=>{var t,n,s;return c.jsxs(Y,{children:[c.jsx(_,{className:"font-bold",children:e.symbol}),c.jsx(_,{children:c.jsx(y,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction})}),c.jsx(_,{className:"text-right font-mono",children:e.shares}),c.jsxs(_,{className:"text-right font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),c.jsxs(_,{className:"text-right font-mono text-destructive",children:["$",(null==(n=e.stop_loss)?void 0:n.toFixed(2))||"N/A"]}),c.jsxs(_,{className:"text-right font-mono text-success",children:["$",(null==(s=e.take_profit)?void 0:s.toFixed(2))||"N/A"]}),c.jsx(_,{children:c.jsx(y,{variant:"outline",className:"bg-success/10 text-success border-success/30",children:"Open"})})]},e.id)})})]})})]})]})})]})]}):c.jsxs(i,{className:"border-warning/50",children:[c.jsx(o,{children:c.jsxs(l,{className:"flex items-center gap-2 text-warning",children:[c.jsx(T,{className:"h-5 w-5"}),"Gateway Running - Login Required"]})}),c.jsxs(x,{className:"space-y-4",children:[c.jsxs(U,{variant:"default",children:[c.jsx(H,{className:"h-4 w-4"}),c.jsx(S,{children:'Bridge is running but not connected to IB Gateway. Open IB Gateway desktop app, log in, then click "Connect to Gateway".'})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(f,{onClick:ne,className:"flex-1",children:[c.jsx(T,{className:"h-4 w-4 mr-2"}),"Connect to Gateway"]}),c.jsxs(f,{variant:"outline",onClick:te,children:[c.jsx(g,{className:"h-4 w-4 mr-2"}),"Check Status"]})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"IB Gateway must be running with API enabled (port 4002 for paper trading)."})]})]}):c.jsxs(i,{className:"border-destructive/50",children:[c.jsxs(o,{children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(l,{className:"flex items-center gap-2 text-destructive",children:[c.jsx(O,{className:"h-5 w-5"}),"IB Gateway Bridge Not Running"]})}),c.jsx(u,{children:ee||"Start the IBKR Client Portal Gateway to begin trading."})]}),c.jsxs(x,{className:"space-y-4",children:[c.jsxs(U,{children:[c.jsx(H,{className:"h-4 w-4"}),c.jsx(k,{children:"Quick Setup"}),c.jsx(S,{className:"space-y-2",children:c.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-2",children:[c.jsxs("li",{children:["Download the ",c.jsx("a",{href:"https://www.interactivebrokers.com/en/trading/ib-api.php",target:"_blank",rel:"noopener",className:"text-primary underline font-medium",children:"IBKR Client Portal Gateway"})]}),c.jsxs("li",{children:["Run ",c.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.sh"})," (Mac) or ",c.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.bat"})," (Windows)"]}),c.jsxs("li",{children:["Login at ",c.jsx("strong",{children:"https://localhost:5000"})," with IBKR credentials"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Using remote access?"})," Click Gateway Settings above and enter your machine's IP"]})]})})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(f,{onClick:te,className:"flex-1",children:[c.jsx(g,{className:"h-4 w-4 mr-2"}),"Retry Connection"]}),c.jsxs(f,{variant:"outline",onClick:()=>window.open("https://localhost:5000","_blank"),children:[c.jsx(m,{className:"h-4 w-4 mr-2"}),"Open Gateway"]})]})]})]})}const we=()=>c.jsxs("div",{className:"container mx-auto py-8 px-4",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[c.jsx(R,{className:"w-8 h-8 text-primary"}),c.jsxs("h1",{className:"text-4xl font-bold",children:[c.jsx("span",{className:"text-primary",children:"En Pensent™"})," Trading"]})]}),c.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Paper trading powered by Interactive Brokers. Start with simulated funds, graduate to real money when ready."})]}),c.jsx(G,{componentName:"IBKRTradingDashboard",children:c.jsx(je,{})}),c.jsx("p",{className:"text-center text-xs text-muted-foreground mt-8",children:"⚠️ Paper trading uses simulated funds. No real money is at risk. When ready, switch to a live IBKR account for real trading."})]});export{we as default};
