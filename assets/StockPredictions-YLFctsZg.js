var e=Object.defineProperty,t=(t,n,s)=>((t,n,s)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s)(t,"symbol"!=typeof n?n+"":n,s);import{aJ as n,r as s,eu as r,s as a,j as c,C as i,p as o,t as l,L as d,w as u,x,aq as h,B as m,aF as f,v as g,cR as v,y as j,b8 as y,b9 as p,ba as w,bb as N,bc as C,a8 as b,aB as B,aC as D,aD as z,b4 as G,aE as q,aY as M,bh as A,cb as I,ad as L,eB as U}from"./index-Cppn2aUX.js";import{A as P,a as S,b as k}from"./alert-BBlxQebh.js";import{T as K,a as H,b as W,c as J,d as T,e as Y}from"./table-CgBlA-EQ.js";import{C as O}from"./circle-alert-Df3Vw_Op.js";import{W as Z}from"./wifi-off-BmMb6BiQ.js";import{W as R}from"./wifi-nWnOCiBA.js";import{B as _}from"./briefcase-C1TSqUlG.js";import{T as E}from"./trending-down-BAdE-Alh.js";const V=n("Bolt",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]),Q=n("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),X=F;function F(e,t){e-=289;const n=ce();let s=n[e];if(void 0===F.YXqfIp){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};F.eJrNbM=r,F.udHqGO={},F.YXqfIp=!0}const a=e+n[0],c=F.udHqGO[a];if(c)s=c;else{const e=function(e){this.vJIBgD=e,this.IceoMO=[1,0,0],this.eOWShI=function(){return"newState"},this.ZuvTBK="\\w+ *\\(\\) *{\\w+ *",this.sHdSsw="['|\"].+['|\"];? *}"};e.prototype.CGShqq=function(){const e=new RegExp(this.ZuvTBK+this.sHdSsw).test(this.eOWShI.toString())?--this.IceoMO[1]:--this.IceoMO[0];return this.kRsVVm(e)},e.prototype.kRsVVm=function(e){return Boolean(~e)?this.WUDgtI(this.vJIBgD):e},e.prototype.WUDgtI=function(e){for(let t=0,n=this.IceoMO.length;t<n;t++)this.IceoMO.push(Math.round(Math.random())),n=this.IceoMO.length;return e(this.IceoMO[0])},new e(F).CGShqq(),s=F.eJrNbM(s),F.udHqGO[a]=s}return s}!function(){const e=F,t=ce();for(;;)try{if(648197===parseInt(e(295))/1+parseInt(e(296))/2+-parseInt(e(342))/3+-parseInt(e(325))/4+-parseInt(e(328))/5+-parseInt(e(320))/6+parseInt(e(289))/7*(parseInt(e(303))/8))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const $=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[F(335)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=F,t={};t[e(327)]=e(322)+"+$";const n=t;return $[e(321)]()[e(308)](e(322)+"+$").toString()[e(338)+"r"]($)[e(308)](n[e(327)])});$();const ee=function(){const e=F,t={};t[e(324)]="mabzP";const n=t;let s=!0;return function(t,r){const a=e;if(n[a(324)]!=n[a(324)]){const e=_0x517bfa[a(335)](_0x39b52a,arguments);return _0x1a12c0=null,e}{const e=s?function(){if(r){const e=r[a(335)](t,arguments);return r=null,e}}:function(){};return s=!1,e}}}();ee(void 0,function(){const e=F,t={qvGGr:function(e,t){return e+t},RXRVF:function(e,t){return e!==t},cuBnA:function(e,t){return e(t)},XbkLk:"{}.constru"+e(301)+e(291)+" )",FLdKi:e(339),Vhtde:e(326)},n=function(){const n=e,s={JpWue:function(e,n){return t.qvGGr(e,n)},Rhbnp:n(331)+n(336),zfKwp:n(304)+'ctor("retu'+n(291)+" )"};let r;try{if(!t[n(311)]("lqIkf",n(332))){let e;try{e=_0x50a125(s[n(334)](s[n(318)],s.zfKwp)+");")()}catch(a){e=_0x345c50}return e}r=t[n(337)](Function,t.qvGGr("return (fu"+n(336),t[n(309)])+");")()}catch(c){r=window}return r}(),s=n[e(297)]=n.console||{},r=[t[e(314)],e(329),e(299),e(290),t[e(312)],e(323),e(319)];for(let a=0;a<r[e(341)];a++){const t=ee[e(338)+"r"].prototype[e(307)](ee),n=r[a],c=s[n]||t;t.__proto__=ee[e(307)](ee),t[e(321)]=c[e(321)][e(307)](c),s[n]=t}})();const te=X(330)+X(294)+"l",ne=X(298)+X(293)+"0",se={};se.bridgeUrl=ne,se.gatewayHost=X(315),se[X(302)+"t"]=4002,se.clientId=1;const re=se;function ae(){const e=X,t={};t[e(292)]=function(e,t){return e===t},t[e(317)]="FyDCR";const n=t;if(n.alHtd(typeof window,e(300)))return re;const s=localStorage[e(340)](te);if(s){if(n[e(317)]!==e(313))return _0x514d7e;try{return{...re,...JSON[e(333)](s)}}catch{return re}}return re}function ce(){const e=["mJa4mJe4mfn2D3zIyW","D2fYBG","AwjFz2f0zxDHEq","CMv0DxjUicHMDq","zNHnrhy","CgfYC2u","sNbxDwu","yxbWBhK","BMn0Aw9UkcKG","y3vcBKe","y29UC3rYDwn0BW","Bg9N","z2v0sxrLBq","BgvUz3rO","mZu0mti5m3HjEKTmAa","mteYs0nOrgTy","zxjYB3i","CM4GDgHPCYiPka","ywXiDgq","ywXOB3n0oJqWma","x2jYAwrNzv91CG","ntCXmtCYzNHzCgXQ","mtu0mZe4nNDSt0TKtG","y29UC29Szq","Ahr0CdOVl2XVyW","Aw5MBW","Dw5KzwzPBMvK","y3rVCIGICMv0Dq","z2f0zxDHEvbVCG","odCWnJGWr2zXwgnX","E30Uy29UC3rYDq","CMvTB3zLsxrLBq","yNjPzgDLvxjS","yMLUza","C2vHCMnO","wgjRtgS","vuPLANC","uLHsvKy","vMH0zgu","rNLeq1i","rKXKs2K","mti3lJaUmc4X","C2v0sxrLBq","tefvsgu","uMHIBNa","DhjHy2u","mZeYmZK4nenqB3HxDG","Dg9tDhjPBMC","kcGOlISPkYKRkq","DgfIBgu","Exztv1O","mti3mZu4ogf3zfjYDG","zxHJzxb0Aw9U","BKrVtNi"];return(ce=function(){return e})()}function ie(){const e=X;return(t=ae,t())[e(306)];var t}function oe(e,t){e-=496;const n=xe();let s=n[e];if(void 0===oe.CpSDhq){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};oe.NMqcbU=r,oe.JTgPQL={},oe.CpSDhq=!0}const a=e+n[0],c=oe.JTgPQL[a];if(c)s=c;else{const e=function(e){this.jYhZPZ=e,this.AspUAQ=[1,0,0],this.ksyWuX=function(){return"newState"},this.ovphLT="\\w+ *\\(\\) *{\\w+ *",this.tQxrHs="['|\"].+['|\"];? *}"};e.prototype.DJAMRv=function(){const e=new RegExp(this.ovphLT+this.tQxrHs).test(this.ksyWuX.toString())?--this.AspUAQ[1]:--this.AspUAQ[0];return this.YTINqN(e)},e.prototype.YTINqN=function(e){return Boolean(~e)?this.ZJqcpY(this.jYhZPZ):e},e.prototype.ZJqcpY=function(e){for(let t=0,n=this.AspUAQ.length;t<n;t++)this.AspUAQ.push(Math.round(Math.random())),n=this.AspUAQ.length;return e(this.AspUAQ[0])},new e(oe).DJAMRv(),s=oe.NMqcbU(s),oe.JTgPQL[a]=s}return s}const le=oe;!function(){const e=oe,t=xe();for(;;)try{if(112617===-parseInt(e(563))/1*(parseInt(e(565))/2)+parseInt(e(502))/3+parseInt(e(507))/4*(-parseInt(e(519))/5)+parseInt(e(608))/6+-parseInt(e(603))/7*(-parseInt(e(613))/8)+parseInt(e(514))/9*(-parseInt(e(615))/10)+parseInt(e(554))/11*(parseInt(e(543))/12))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const de=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=oe,t={};t[e(578)]="(((.+)+)+)+$";const n=t;return de.toString().search(n[e(578)])[e(600)]().constructor(de)[e(521)](n[e(578)])});de();const ue=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[oe(567)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}();function xe(){const e=["svDxzKS","igvYCM9YoG","z2f0zxDHEuHVCW","ANnVBG","Aw5N","DgvK","mZq0mJe0uerhCKrH","BNrjzd0","l2fWAs9ZDgf0Dq","l2fWAs9ZzwfYyW","BwXbD3i","nJHrwMjJvMi","CNjVCJO","zgLZy29UBMvJDa","Ev0Gr2v0igfJyW","l2fWAs9WB3nPDa","AwiT","yNjPzgDLuNvUBG","mtq4ndfhDe14r24","yxv0AgvUDgLJyq","Ev0Gu2vHCMnOia","sLbeu20","B3i6","mJq5mdvhsgjjwei","D2fYBG","C2vHCMnO","tw9PCw4","BuXcu1G","BLbgzLa","C3bKzvi","C3niwg0","y29UBMvJDa","BwvZC2fNzq","y3rPB24","CMrLCIbLCNjVCG","r3HwwKi","y292wMG","A29kr2y","AfDxueu","y2HLy2TdB25Uzq","u1HxD3K","Aw9UCZ9Hy2nVDq","tLrVChO","Ev0Gr2v0ig9Yza","tLfmrgi","BMn0Aw9UkcKG","AxrPB25ZigvYCG","mtj3zNrpEwW","BvHXB3i","l2fWAs9KAxnJBW","Ag9ZDa","x19WCM90B19F","Ev0Gt3jKzxiGzG","y29UDhjHy3qGzq","DvbOvvm","tKzIsxG","y29UC29Szq","DuvZzhi","mtKZote3ouz3BhjQtG","q29UDgvUDc1uEq","AgvHzgvYCW","CNjtr0q","rMTjCxK","DgfIBgu","zfH6BxK","CMfJDa","l2fWAs9VCMrLCG","nta3nNfuqvDJyq","B3jKzxjZ","nZrIrNHgsgq","Ev0Gq29UBMvJDa","yxbWBhK","p2nVBMLKpq","Ev0Gr2v0ihbVCW","C2vHCMnOq29UDa","z2f0zxDHEvbVCG","swD3uLm","Ev0GqNjPzgDLia","B3vUDhmGzxjYBW","wM5OBxC","y29UC3rYDwn0BW","ywD0EfK","zKHbBeW","BgvUz3rO","z2v0t3jKzxjZ","ue9tva","uvfWBwq","B3jKzxjjza","Ad9ZEw1IB2W9","yMLUza","y2XPzw50swq","C3rYAw5NAwz5","Ev0Gq2fUy2vSia","revmrvrf","yxbWBgLJyxrPBW","z2v0ug9ZAxrPBW","w0LcieDHDgv3yq","CMv0DxjUicHMDq","vfH1wLC","z2v0uxvVDgu","wfnqruG","C3rHDhvZ","shnzy0C","y29UBMvJDgvK","Dg9tDhjPBMC","Ev0GugXHy2uGBW","C3vIBwL0DgvK","mZe0m2fjD3fMBW","y3rVCIGICMv0Dq","zxjYB3i","txroAhy","CgXHy2vpCMrLCG","mti1mtyWme5NzgD1ra","Bwv0Ag9K","z0f2DwW","BI9QC29U","Cg9ZAxrPB25Z","mtu0ngjxzNfUDW","zfvQEKq","mtiYmer3yKzyvG","zxjZigvYCM9YoG","Bg9N","CgfWzxjuCMfKAq","zxHJzxb0Aw9U","tuzjC1i"];return(xe=function(){return e})()}ue(void 0,function(){const e=oe,t={VNIAT:function(e,t){return e(t)},QmAGe:function(e,t){return e(t)},MtNhv:function(e){return e()},covZh:"info",HsYcG:e(605),uEsdr:e(619)},n=t[e(606)](function(){const n=e,s={Moiqn:function(e,n){return t.VNIAT(e,n)},QQpmd:function(e,t){return e+t},mLBSX:n(593)+"nction() ",spdeR:"{}.constru"+n(604)+'rn this")( )'};if(n(533)!==n(560)){let e;try{e=t.QmAGe(Function,n(593)+n(541)+"{}.constru"+n(604)+'rn this")( ));')()}catch(r){e=window}return e}_0x25c161=s[n(522)](_0x3e6178,s[n(582)](s[n(523)],s[n(525)])+");")()}),s=n[e(552)]=n[e(552)]||{},r=[e(617),e(520),t[e(532)],t[e(598)],t[e(553)],e(559),"trace"];for(let a=0;a<r[e(579)];a++){const t=ue[e(576)+"r"].prototype.bind(ue),n=r[a],c=s[n]||t;t[e(547)]=ue[e(585)](ue),t.toString=c[e(600)][e(585)](c),s[n]=t}})();class he{constructor(){t(this,"connected",!1)}async[le(535)+le(529)](){const e=le,t={mlAwr:function(e,t){return e!==t},JuAnh:e(540),WRbdS:"FxGqq",Znhmw:function(e){return e()},IgwRS:function(e,t){return e===t},TXuZW:function(e,t){return e===t},sFVeg:function(e,t){return e===t},dUjzD:e(496)};try{if(t[e(506)](t.JuAnh,t.WRbdS)){const n=t[e(575)](ae),s={};s["Content-Type"]=e(590)+e(611);const r={};r[e(609)]="GET",r[e(556)]=s;const a=await fetch(t[e(575)](ie)+(e(504)+"s"),r);if(!a.ok){const t={};return t[e(599)]=!1,t["authentica"+e(501)]=!1,t[e(618)+"ng"]=!1,t}const c=await a[e(499)]();return this.connected=t[e(572)](c.connected,!0),{connected:!0===c[e(513)+e(500)],authenticated:t.IgwRS(c[e(599)],!0),paperTrading:t[e(594)](n[e(571)+"t"],4002)}}{const t={};return t[e(599)]=!1,t[e(515)+e(501)]=!1,t[e(618)+"ng"]=!1,t}}catch(n){if(t.sFVeg(t[e(614)],e(496))){const t={};return t[e(599)]=!1,t[e(515)+e(501)]=!1,t[e(618)+"ng"]=!1,t}return _0x1d7f17[e(605)]("[IB Gatewa"+e(510)+"ounts error:",_0x5018c8),[]}}async[le(527)](){const e=le,t={gTdes:function(e){return e()},agtxY:function(e,t,n){return e(t,n)},FkIqy:"applicatio"+e(611),nzWCM:function(e,t){return e===t}};try{const n=t.gTdes(ae),s={};s[e(546)]=n[e(498)+"t"],s.port=n.gatewayPort,s[e(586)]=n[e(586)];const r=await t[e(577)](fetch,ie()+"/api/connect",{method:e(581),headers:{"Content-Type":t[e(558)]},body:JSON[e(587)](s)});if(!r.ok)return!1;const a=await r.json();return this.connected=t.nzWCM(a[e(599)],!0),this[e(599)]}catch(n){return!1}}async[le(509)](){const e=le,t={SXWwy:"POST"},n=t;try{const t={};t[e(609)]=n[e(536)],await fetch(ie()+(e(545)+"nnect"),t),this[e(599)]=!1}catch{}}async getAccounts(){const e=le,t={};t[e(538)]=e(592)+e(510)+e(574)+"r:";try{const e=await fetch(ie()+"/api/accounts");if(!e.ok)return[];return(await e.json()).accounts||[]}catch(n){return[]}}async[le(591)+"ns"](e){const t=le,n={JPDSm:function(e,t){return e(t)},GxVZB:t(551),zTKBK:"[IB Gatewa"+t(569)+t(542)+t(518)};try{const s=await n[t(517)](fetch,ie()+(t(511)+t(537)+t(503))+e);if(!s.ok)return[];return(await s[t(499)]())[t(612)]||[]}catch(s){return"NFbIx"!==n[t(531)]?null:[]}}async[le(580)](){const e=le,t={GehCq:e(557),gAvul:function(e,t){return e(t)},nPFfP:function(e){return e()}};try{if(t.GehCq==t.GehCq){const n=await t[e(610)](fetch,t[e(524)](ie)+(e(562)+"s"));if(!n.ok)return[];return(await n.json())[e(564)]||[]}return _0x3dce28.error(e(592)+e(569)+e(542)+e(518),_0x3f3ac3),[]}catch(n){return[]}}async[le(570)+le(561)](e){const t=le,n={mXqor:function(e,t){return e(t)}};try{const s=await n[t(544)](fetch,ie()+(t(505)+t(584))+encodeURIComponent(e));if(!s.ok)return[];return(await s.json()).contracts||[]}catch(s){return[]}}async[le(607)](e){const t=le,n={};n.MFIsR=t(602),n.vtDdQ=t(592)+t(601)+t(530)+":";const s=n;try{const n={};n[t(555)+"pe"]="applicatio"+t(611);const r=await fetch(ie()+(t(562)+"s"),{method:"POST",headers:n,body:JSON[t(587)](e)});if(!r.ok)return null;const a=await r[t(499)]();return{orderId:a[t(583)]||t(512)+Date.now(),status:a[t(597)]||s[t(620)]}}catch(r){return null}}async cancelOrder(e){const t=le,n={};n[t(526)]=function(e,t){return e===t},n[t(596)]="hWWPE",n[t(550)]=t(592)+t(588)+"order error:";const s=n;try{const n={};n[t(609)]=t(589);return(await fetch(ie()+(t(562)+"s/")+e,n)).ok}catch(r){if(s[t(526)](t(534),s[t(596)]))return!1;{const e=_0x410b7f?function(){if(_0x4bf68d){const e=_0x59ef87[t(567)](_0x1e901a,arguments);return _0x52e4d2=null,e}}:function(){};return _0x274471=!1,e}}}async[le(595)](e){const t=le,n=function(e){return e()};try{const s=await fetch(n(ie)+"/api/quote"+t(568)+e);if(!s.ok)return null;return await s[t(499)]()}catch{return null}}}const me=new he;!function(){const e=je,t=ve();for(;;)try{if(837314===-parseInt(e(536))/1*(parseInt(e(664))/2)+parseInt(e(537))/3+parseInt(e(541))/4+parseInt(e(605))/5+parseInt(e(553))/6*(-parseInt(e(595))/7)+parseInt(e(673))/8+-parseInt(e(563))/9*(parseInt(e(573))/10))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const fe=function(){const e=je,t={};t[e(548)]=function(e,t){return e!==t},t[e(639)]=e(543),t[e(677)]=function(e,t){return e===t};const n=t;let s=!0;return function(t,r){const a=e,c={hzHEb:function(e,t){return n[je(548)](e,t)},zHQMT:n[a(639)]};if(n.uLdfl(a(656),"pYOtW")){const e=s?function(){const e=a;if(r){if(c[e(584)](c.zHQMT,c[e(679)]))return _0x39ddeb.toString()[e(503)]("(((.+)+)+)+$")[e(608)]().constructor(_0x2b35b5).search(e(562)+"+$");{const e=r.apply(t,arguments);return r=null,e}}}:function(){};return s=!1,e}if(_0x533c11){const e=_0x19115e[a(525)](_0xdf9f73,arguments);return _0x122301=null,e}}}()(void 0,function(){const e=je,t={};t[e(572)]="(((.+)+)+)+$";const n=t;return fe[e(608)]()[e(503)](e(562)+"+$")[e(608)]()[e(585)+"r"](fe)[e(503)](n[e(572)])});fe();const ge=function(){const e=je,t={};t[e(551)]=function(e,t){return e===t},t.soaQo=e(625);const n=t;let s=!0;return function(e,t){const r=s?function(){const s=je;if(t){if(n[s(551)](n[s(637)],n[s(637)])){const n=t[s(525)](e,arguments);return t=null,n}{const e=_0x199909[s(525)](_0x3448ee,arguments);return _0x327e66=null,e}}}:function(){};return s=!1,r}}();function ve(){const e=["Ev0Gq29UBMvJDa","AguGyNjPzgDLia","yxrLD2f5lIbdBa","y3rPB24","igHHCYbIzwvUia","DgfIBgu","rM9Jufi","yMLUza","tuXlteO","AhPirwi","y29UC3rYDwn0BW","y3vYCMvUDa","BMLUzYbIDxqGBG","D2f5iI4","zwn0igfUigfJyW","y29UBMvJDc4Grq","CMfJDa","Bg9N","vvrYC1e","ifnLBgvJDgvK","mteXndK4mwfkBxrrsa","sKntywW","ihrPBwvKig91Da","DgDXsNe","C2nHtxO","sgPdAhe","B3jKzxjZ","DxnOt1u","uKL6CNi","A3zTrKK","odmZnJm2nvDhEunLAq","Bg9Hze9YzgvYCW","Bg9HzefJy291BG","Dg9tDhjPBMC","iezVDw5K","yxrLD2f5igLZia","igzHAwXLzdOG","CMv0DxjUicHMDq","ChjPy2u","y3rVCIGICMv0Dq","DgLTzwqGB3v0","zxHJzxb0Aw9U","lIbfBNn1CMuGDa","Bg9HzgLUzW","t3jKzxiG","B24UlI4","DxLPwfe","z2v0qwnJB3vUDa","w0LcieDHDgv3yq","u3vJy2vZC2z1Ba","D1r1tvq","q291BgqGBM90ia","ChjVDg90ExbL","Aw5JBhvKzxm","yxrLD2f5ignVBG","BMn0Aw9UkcKG","v3bNEMO","CMHXDLe","CNvUBMLUzYbHBG","x19WCM90B19F","tM8GqwnJB3vUDa","zwXSzwq","C29Huw8","uKnAwgi","BNDHyMO","C2LKzq","DhjHy2u","Aw5MBW","y2fUy2vSt3jKzq","yxrLD2f5","CgfWzxi","zMLYC3qU","rMfPBgvKihrVia","BwvZC2fNzq","zYbJB25Uzwn0Aq","t3jKzxiGq2fUyW","zwqGDg8GsuiGrW","ywXS","CxvHBNrPDhK","CMH1EwS","y29UAwq","CfLpDfC","ywnJB3vUDeLK","ywnJB3vUDfr5Ca","Ev0Gu3rHDhvZoG","zgvZDhj1y3rPDG","Cg9ZAxrPB25Z","BwPqrva","y29UBMvJDgvK","mZe0mJu1ngP2qu5psG","Ev0Gq2HLy2TPBG","Dw50","DMfYAwfUDa","zKnAyva","whL1ENi","C2D3vwW","wK9zqvm","z2v0t3jKzxjZ","ntG2mte1mK51qLPRzq","q29UBMvJDgLVBG","AwnRicjdB25Uzq","z2v0ug9ZAxrPBW","DuXKzMW","zMLUza","EKHrtvq","C3LTyM9S","rgLkELu","y29UC29Szq","y291BNq","zcbbueKGAxmGzq","C3rHCNrZv2L0Aa","CgfWzxjuCMfKAq","Aw9UigvYCM9YoG","zKXgDLO","ze5JyLu","ywn0igzVCIa","C2vHCMnO","y29UBMvJDa","BMvJDgLVBI4","y3qGDg8Gr2f0zq","t3jKzxiGrMfPBa","v2j5DK4","t0DNr0O","A3fjrLG","u3LTyM9Sie5VDa","qM9xELa","E30Uy29UC3rYDq","zgvZy3jPChrPBW","BMfIBgvKlG","BgvUz3rO","CgXHy2vpCMrLCG","yxv0AgvUDgLJyq","DgL0Bgu","B3vUDcbMAxjZDa","twDpug4","zMLUzcbJB250CG","C2vSzwn0qwnJBW","vwnyrgG","yxbWBhK","B3frCM4","qNjPzgDLihj1BG","Dxj3Aeu","C3rHDhvZ","D2fYBG","C29Iwgy","y2fUy2vSBgvKlG","z2uGC2vYDMvYia","CNvUBMLUzY4","s2X4vwS","mxDuyxPxuW","mZCXotC2mfHttgrNrq","u3rHCNqGDgHLia","sfPTuKG","DgvK","nJuWmdrsD3fyuLi","BxvNrM8","AKvfzfy","B3qGy29UBMvJDa","svvLCe4","B3jKzxjuExbL","qvn2AM8","DNfyuxG","C2vSzwn0zwrbyW","ywnJB3vUDhm","DLbRD20","y29UBMvJDdOG","mtj5yurHz1C","q29UBMvJDgvK","Bg9JywWGyNjPza","BhKGy29UBMvJDa","t3byyLa","Aw9UignOzwnRia","Eu5Jwxy","Bxz2rwe","CI4Gq2HLy2SGzW","kcGOlISPkYKRkq","mtu3nZqZzvHjCxrU","ugXLyxnLihnLBa","Bg9HzfbVC2L0Aq","y2HLy2TdB25Uzq","vNnnwKy","qNjPzgDLig5VDa","Dg9mB3DLCKnHCW","BNn1CMuGsuiGrW","zxjYB3i","CuvuAfK","ntmWEfzStNnx","y29UBMvJDfrVrW"];return(ve=function(){return e})()}function je(e,t){e-=495;const n=ve();let s=n[e];if(void 0===je.kQguMa){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};je.qRPzGq=r,je.rnicjD={},je.kQguMa=!0}const a=e+n[0],c=je.rnicjD[a];if(c)s=c;else{const e=function(e){this.XLuSQI=e,this.nsRQJY=[1,0,0],this.TYAjNi=function(){return"newState"},this.GNmXga="\\w+ *\\(\\) *{\\w+ *",this.ipmXUM="['|\"].+['|\"];? *}"};e.prototype.QZwteD=function(){const e=new RegExp(this.GNmXga+this.ipmXUM).test(this.TYAjNi.toString())?--this.nsRQJY[1]:--this.nsRQJY[0];return this.YCzahx(e)},e.prototype.YCzahx=function(e){return Boolean(~e)?this.dswBNs(this.XLuSQI):e},e.prototype.dswBNs=function(e){for(let t=0,n=this.nsRQJY.length;t<n;t++)this.nsRQJY.push(Math.round(Math.random())),n=this.nsRQJY.length;return e(this.nsRQJY[0])},new e(je).QZwteD(),s=je.qRPzGq(s),je.rnicjD[a]=s}return s}ge(void 0,function(){const e=je,t={ZOYAS:function(e,t){return e(t)},rhuyk:"Symbol Not"+e(609),WbyvN:"destructive",OGgGJ:e(632),iIeKi:function(e,t){return e(t)},kqIFX:e(592),mugFo:e(616)};let n;try{if("mXxjl"===t[e(509)])return t[e(671)](_0x554dfa,{title:t[e(654)],description:e(626)+e(522)+e(502)+_0x415b6a[e(680)],variant:t[e(508)]}),null;n=t.iIeKi(Function,e(612)+e(630)+(e(513)+e(614)+'rn this")( ));'))()}catch(a){n=window}const s=n[e(682)]=n[e(682)]||{},r=[t[e(510)],e(530),e(642),e(571),t[e(542)],e(580),e(641)];for(let c=0;c<r[e(516)];c++){const t=ge.constructor[e(627)][e(582)](ge),n=r[c],a=s[n]||t;t[e(634)]=ge[e(582)](ge),t[e(608)]=a[e(608)].bind(a),s[n]=t}})();const ye=["SPY","QQQ","AAPL","MSFT","NVDA","TSLA","AMD","META"];function pe(){const{connected:e,authenticated:t,paperTrading:n,accounts:U,selectedAccount:Q,positions:X,orders:F,loading:$,error:ee,checkConnection:te,connectToGateway:ne,refreshData:se,placeOrder:re,cancelOrder:ae,selectAccount:ce}=function(){var e;const t=je,n={BoWzP:t(623)+t(575)+t(558)+t(615),UTrsQ:function(e,t){return e(t)},HjChq:t(623)+t(665)+t(649)+t(620),fLFvZ:function(e,t,n){return e(t,n)},mvvEa:t(526),ASvjo:function(e){return e()},tgqJq:function(e,t){return e(t)},RIzrr:function(e,t){return e!==t},TGGMS:"nBkpA",urwhE:function(e){return e()},scaMz:function(e){return e()},RCZXb:function(e,t){return e!==t},fwQUi:t(501),JCSal:t(635)+t(594),MLKLJ:t(564)+"ect an acc"+t(520)+".",HZmRH:t(660)+"e",KlxUk:"Order Placed",Wpgzj:function(e){return e()},uyiXQ:t(507)+"ed",OpXbP:function(e,t){return e!==t},Xyuzr:t(521),yNcYv:function(e,t){return e(t)},IUepN:function(e,t){return e(t)},NBhdC:function(e,t,n){return e(t,n)},fCZaP:function(e,t,n){return e(t,n)},ushOU:function(e,t,n){return e(t,n)},OccMQ:function(e,t,n){return e(t,n)},UcXDh:function(e,t,n){return e(t,n)}},a={};a[t(663)]=!1,a["authentica"+t(540)]=!1,a.paperTrading=!1,a[t(550)]=[],a[t(549)+t(495)]=null,a[t(661)]=[],a[t(601)]=[],a[t(618)]=!0,a[t(571)]=null;const[c,i]=s.useState(a),o=n[t(545)](s.useRef,null),{toast:l}=r(),d=n[t(500)](s.useCallback,async()=>{const e=t;i(e=>({...e,loading:!0,error:null}));const s=n[e(500)](setTimeout,()=>{const t=e;n.UTrsQ(i,e=>({...e,connected:!1,authenticated:!1,loading:!1,error:t(674)+t(597)+t(617)+t(576)+"server is "+t(534)}))},8e3);try{const t=await me[e(566)+e(578)]();return clearTimeout(s),n[e(593)](i,n=>({...n,connected:t[e(663)],authenticated:t[e(518)+e(540)],paperTrading:t[e(498)+"ng"],loading:!1,error:t.connected?t[e(518)+e(540)]?null:e(527)+e(587)+e(544)+e(651)+e(577)+e(675)+e(506)+e(588):e(568)+" running. "+e(538)+e(555)+e(533)+e(646)})),t}catch(r){if(n[e(560)]!==e(662)){clearTimeout(s),i(t=>({...t,connected:!1,authenticated:!1,loading:!1,error:e(647)+e(552)+r[e(648)]}));const t={};return t[e(663)]=!1,t[e(518)+e(540)]=!1,t[e(498)+"ng"]=!1,t}if(_0x467623){const e=_0x236cb5.apply(_0x281de6,arguments);return _0x3e5296=null,e}}},[]),u=s.useCallback(async()=>{const e=t;i(e=>({...e,loading:!0,error:null}));try{const t=await me[e(504)]();if(t){const t={};t.title=e(554),t[e(514)+"n"]=e(624)+e(556)+e(651)+e(644),l(t),await n[e(547)](d),await x()}else n[e(593)](i,t=>({...t,loading:!1,error:"Failed to connect. E"+e(570)+e(610)+e(633)+"d API is e"+e(515)}));return t}catch(s){return i(t=>({...t,loading:!1,error:"Connection"+e(611)+s[e(648)]})),!1}},[l,d]),x=n.NBhdC(s.useCallback,async()=>{const e=t,s=await me[e(622)+"s"](),r=s[e(678)](t=>t[e(657)][e(497)]("DU")||t[e(658)+"e"][e(569)+"e"]()[e(628)](e(645)));return n[e(598)](i,e=>({...e,accounts:s,selectedAccount:r||s[0]||null})),s},[]),h=n[t(668)](s.useCallback,async()=>{const e=t;if(n.RIzrr("nBkpA",n.TGGMS)){const t={};return t[e(519)]=e(635)+" Selected",t[e(514)+"n"]="Please sel"+e(589)+e(520)+".",t[e(667)]=e(660)+"e",n[e(598)](_0xc0bf78,t),null}{if(!c.selectedAccount)return[];const t=await me[e(676)+"ns"](c[e(549)+e(495)].accountId);return i(e=>({...e,positions:t})),t}},[c[t(549)+"count"]]),m=n[t(602)](s.useCallback,async()=>{const e=t;if(!n[e(603)]("sgwUl",e(670))){const t=await me[e(672)]();return i(e=>({...e,orders:t})),t}{const t=_0x46dace[e(550)][e(678)](t=>t[e(657)]===_0x47cb3b);t&&_0x348f2b(e=>({...e,selectedAccount:t}))}},[]),f=s.useCallback(async()=>{const e=t;c[e(518)+e(540)]&&await Promise[e(652)]([n[e(528)](x),h(),m()])},[c[t(518)+t(540)],x,h,m]),g=s.useCallback(async e=>{const s=t,r={VsMZF:function(e){return n[je(599)](e)}};if(!n[s(638)](s(501),n.fwQUi)){if(!c[s(549)+s(495)]){const e={};return e[s(519)]=n[s(596)],e[s(514)+"n"]=n[s(583)],e[s(667)]=n.HZmRH,l(e),null}const t=await me["searchCont"+s(591)](e[s(680)]);if(0===t.length){const t={};return t[s(519)]=s(511)+s(609),t[s(514)+"n"]=s(626)+"find contr"+s(502)+e.symbol,t[s(667)]=n[s(539)],l(t),null}const r=t[0],a={};a.accountId=c[s(549)+s(495)][s(657)],a[s(655)]=r[s(655)],a[s(680)]=e[s(680)],a[s(640)]=e[s(640)],a[s(653)]=e.quantity,a.orderType=e[s(546)],a[s(613)]=e.price;const i=await me.placeOrder(a);if(i){const t={};t[s(519)]=n[s(535)],t[s(514)+"n"]=e[s(640)]+" "+e.quantity+" "+e[s(680)]+" - "+i[s(529)],l(t),await n[s(631)](m)}else{if(s(681)!=s(681)){const e=_0xbf2006[s(525)](_0x3ced90,arguments);return _0x552e12=null,e}{const e={};e[s(519)]=n[s(621)],e[s(514)+"n"]=s(626)+"place orde"+s(561)+s(629)+s(505),e[s(667)]=s(660)+"e",l(e)}}return i}_0x1b0906[s(549)+s(495)]&&_0x29330a[s(518)+s(540)]&&r[s(567)](_0x4a68be)},[c[t(549)+t(495)],l,m]),v=n.OccMQ(s.useCallback,async e=>{const n=t,s=await me[n(643)+"r"](e);if(s){const t={};t[n(519)]=n(650)+n(636),t[n(514)+"n"]=n(619)+e+(n(579)+n(532)),l(t),await m()}return s},[l,m]),j=s.useCallback(e=>{const s=t,r=c[s(550)].find(t=>t.accountId===e);r&&(n[s(557)](s(604),n[s(669)])?n.tgqJq(i,e=>({...e,selectedAccount:r})):{FocPR:function(e,t){return e(t)}}[s(581)](_0x4df7d4,e=>({...e,loading:!1,error:s(647)+s(590)+s(570)+"ateway is running an"+s(496)+s(515)})))},[c[t(550)]]);n[t(524)](s.useEffect,()=>{const e=t,s={sobXf:function(e){return e()},nTmCv:function(e,t,n){return e(t,n)}};return n[e(631)](async()=>{const e=je;(await s[e(531)](d))["authentica"+e(540)]&&(await x(),await s[e(531)](h),await m(),o[e(586)]=s.nTmCv(setInterval,()=>{f()},1e4))}),()=>{const t=e;o.current&&n[t(559)](clearInterval,o.current)}},[]),n[t(500)](s.useEffect,()=>{const e=t;c.selectedAccount&&c[e(518)+"ted"]&&n[e(547)](h)},[null==(e=c[t(549)+t(495)])?void 0:e[t(657)]]);const y={...c};return y[t(566)+t(578)]=d,y[t(574)+t(644)]=u,y[t(607)+"ts"]=x,y[t(565)+"ons"]=h,y[t(606)]=m,y.refreshData=f,y[t(517)]=g,y[t(643)+"r"]=v,y[t(523)+t(666)]=j,y}(),[ie,oe]=s.useState("overview"),[le,de]=s.useState([]),[ue,xe]=s.useState(!1),[he,fe]=s.useState([]),[ge,ve]=s.useState({total:0,today:0,pnl:0}),[pe,we]=s.useState(!1),[Ne,Ce]=s.useState({symbol:"SPY",side:"BUY",quantity:1,orderType:"MKT",price:0}),[be,Be]=s.useState(!1);s.useEffect(()=>{const e=async()=>{try{const{data:e}=await a.from("farm_status").select("*").eq("farm_name","high-frequency-paper-trader").single();if(e){const t=new Date(e.updated_at),n=t>new Date(Date.now()-12e4);we("trading"===e.status||n)}const{data:t}=await a.from("autonomous_trades").select("*").order("created_at",{ascending:!1}).limit(50);if(t){fe(t);const e=new Date;e.setHours(0,0,0,0);const n=t.filter(t=>new Date(t.created_at)>=e),s=t.reduce((e,t)=>e+(t.pnl||0),0);ve({total:t.length,today:n.length,pnl:s})}}catch(e){}};e();const t=a.channel("hf-trades").on("postgres_changes",{event:"INSERT",schema:"public",table:"autonomous_trades"},e=>{const t=e.new;fe(e=>[t,...e].slice(0,50));const n=new Date;n.setHours(0,0,0,0);const s=new Date(t.created_at)>=n;ve(e=>({total:e.total+1,today:s?e.today+1:e.today,pnl:e.pnl+(t.pnl||0)}))}).subscribe(),n=setInterval(e,5e3);return()=>{clearInterval(n),t.unsubscribe()}},[]),s.useCallback(()=>{te()},[te]),s.useEffect(()=>{if(t){De();const e=setInterval(De,3e4);return()=>clearInterval(e)}},[t]);const De=async()=>{xe(!0);try{const{data:e,error:t}=await a.functions.invoke("stock-data",{body:{action:"batch",symbols:ye}});!t&&(null==e?void 0:e.stocks)&&de(e.stocks.map(e=>({symbol:e.symbol,price:e.latestPrice,change:e.change,changePercent:e.changePercent})))}catch(e){}finally{xe(!1)}},ze=e=>{Ce(t=>({...t,symbol:e,side:"BUY"})),oe("trade")},Ge=s.useMemo(()=>{const e=X.reduce((e,t)=>e+t.marketValue,0),t=X.reduce((e,t)=>e+t.unrealizedPnl,0);return{totalValue:e,totalPnL:t,totalRealizedPnL:X.reduce((e,t)=>e+t.realizedPnl,0),pnlPercent:(null==Q?void 0:Q.balance)?t/Q.balance*100:0}},[X,Q]);return $?c.jsxs(i,{children:[c.jsxs(o,{children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(d,{className:"h-5 w-5 animate-spin text-primary"}),"Connecting to IB Gateway Bridge..."]})}),c.jsx(u,{children:"Checking connection to gateway"})]}),c.jsxs(x,{className:"space-y-4",children:[c.jsx(h,{value:33,className:"h-2"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Looking for the Client Portal Gateway..."}),c.jsxs(P,{children:[c.jsx(O,{className:"h-4 w-4"}),c.jsx(S,{children:"Connection taking too long?"}),c.jsxs(k,{className:"space-y-2 mt-2",children:[c.jsx("p",{children:"Your browser may be blocking the connection. Try:"}),c.jsxs("ol",{className:"list-decimal list-inside text-sm space-y-1",children:[c.jsxs("li",{children:["Click ",c.jsx("strong",{children:"Gateway Settings"})," above to configure your gateway URL"]}),c.jsx("li",{children:"If using remotely, enter your machine's IP (e.g., https://192.168.1.100:5000)"}),c.jsxs("li",{children:["Accept the ",c.jsx("strong",{children:"self-signed certificate warning"})," in your browser"]}),c.jsx("li",{children:"Login if prompted, then return here"})]})]})]}),c.jsxs(m,{variant:"outline",size:"sm",onClick:()=>window.open("https://localhost:5000","_blank"),children:[c.jsx(f,{className:"h-4 w-4 mr-2"}),"Open Gateway in New Tab"]})]})]}):e?t?c.jsxs("div",{className:"space-y-6",children:[c.jsx(i,{className:"bg-gradient-to-br from-card via-card to-primary/5 border-primary/20",children:c.jsxs(x,{className:"pt-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(v,{className:"h-5 w-5 text-primary"}),c.jsx("span",{className:"font-medium",children:"IBKR Connected"}),n&&c.jsx(j,{variant:"outline",className:"bg-primary/10 text-primary border-primary",children:"Paper Trading"})]}),c.jsxs(y,{value:(null==Q?void 0:Q.accountId)||"",onValueChange:ce,children:[c.jsx(p,{className:"w-48",children:c.jsx(w,{placeholder:"Select Account"})}),c.jsx(N,{children:U.map(e=>c.jsxs(C,{value:e.accountId,children:[e.accountId," (",e.accountType,")"]},e.accountId))})]}),c.jsx(m,{variant:"ghost",size:"icon",onClick:se,children:c.jsx(g,{className:"h-4 w-4"})})]}),Q&&c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[c.jsx(b,{className:"w-3 h-3"}),"Account Balance"]}),c.jsxs("div",{className:"text-3xl font-mono font-bold",children:["$",Q.balance.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Buying Power"}),c.jsxs("div",{className:"text-xl font-mono",children:["$",Q.buyingPower.toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})]}),X.length>0&&c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6 pt-6 border-t",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Positions Value"}),c.jsxs("div",{className:"text-xl font-bold",children:["$",Ge.totalValue.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Unrealized P&L"}),c.jsxs("div",{className:"text-xl font-bold "+(Ge.totalPnL>=0?"text-success":"text-destructive"),children:[Ge.totalPnL>=0?"+":"","$",Ge.totalPnL.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Realized P&L"}),c.jsxs("div",{className:"text-xl font-bold "+(Ge.totalRealizedPnL>=0?"text-success":"text-destructive"),children:[Ge.totalRealizedPnL>=0?"+":"","$",Ge.totalRealizedPnL.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Open Positions"}),c.jsx("div",{className:"text-xl font-bold",children:X.length})]})]})]})}),c.jsxs(B,{value:ie,onValueChange:oe,children:[c.jsxs(D,{className:"grid w-full grid-cols-2 max-w-md",children:[c.jsxs(z,{value:"overview",className:"flex items-center gap-1",children:[c.jsx(G,{className:"w-4 h-4"})," Overview"]}),c.jsxs(z,{value:"hf-trading",className:"flex items-center gap-1",children:[c.jsx(V,{className:"w-4 h-4"})," HF Trading",pe&&c.jsx("span",{className:"ml-1 w-2 h-2 bg-success rounded-full animate-pulse"})]})]}),c.jsx(q,{value:"overview",className:"mt-6",children:c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs(i,{children:[c.jsxs(o,{children:[c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(M,{className:"w-5 h-5"}),"Quick Trade"]}),c.jsx(u,{children:"Click a symbol to start a trade"})]}),c.jsxs(x,{children:[c.jsx("div",{className:"grid grid-cols-4 gap-2",children:le.length>0?le.map(e=>c.jsxs(m,{variant:"outline",className:"flex flex-col h-auto py-3 hover:border-primary",onClick:()=>ze(e.symbol),children:[c.jsx("span",{className:"font-bold",children:e.symbol}),c.jsxs("span",{className:"text-sm",children:["$",e.price.toFixed(2)]}),c.jsxs("span",{className:"text-xs "+(e.changePercent>=0?"text-success":"text-destructive"),children:[e.changePercent>=0?"+":"",e.changePercent.toFixed(2),"%"]})]},e.symbol)):ye.map(e=>c.jsx(m,{variant:"outline",className:"py-6",onClick:()=>ze(e),children:e},e))}),ue&&c.jsx("div",{className:"text-center text-sm text-muted-foreground mt-2",children:"Updating quotes..."})]})]}),c.jsxs(i,{children:[c.jsx(o,{children:c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(_,{className:"w-5 h-5"}),"Current Positions"]})}),c.jsx(x,{children:0===X.length?c.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[c.jsx(A,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),c.jsx("p",{children:"No open positions"}),c.jsx("p",{className:"text-sm",children:"Place a trade to get started"})]}):c.jsxs("div",{className:"space-y-3",children:[X.slice(0,5).map(e=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:e.symbol}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.position>0?"+":"",e.position," shares @ $",e.avgCost.toFixed(2)]})]}),c.jsxs("div",{className:"text-right "+(e.unrealizedPnl>=0?"text-success":"text-destructive"),children:[c.jsxs("div",{className:"font-medium",children:[e.unrealizedPnl>=0?"+":"","$",e.unrealizedPnl.toFixed(2)]}),c.jsxs("div",{className:"text-sm",children:["$",e.marketValue.toFixed(2)]})]})]},e.conid)),X.length>5&&c.jsxs(m,{variant:"ghost",className:"w-full",onClick:()=>oe("positions"),children:["View all ",X.length," positions"]})]})})]})]})}),c.jsx(q,{value:"hf-trading",className:"mt-6",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs(i,{className:"border-2 "+(pe?"border-warning bg-warning/5":"border-dashed"),children:[c.jsx(o,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-3 rounded-full "+(pe?"bg-warning/20":"bg-muted"),children:c.jsx(V,{className:"w-6 h-6 "+(pe?"text-warning animate-pulse":"text-muted-foreground")})}),c.jsxs("div",{children:[c.jsxs(l,{className:"flex items-center gap-2",children:["High-Frequency Paper Trading",pe&&c.jsxs(j,{className:"bg-warning text-warning-foreground",children:[c.jsx(A,{className:"w-3 h-3 mr-1 animate-pulse"}),"LIVE"]})]}),c.jsx(u,{children:"Terminal-based worker generating 100+ trades/day for En Pensent training"})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Worker Status"}),c.jsx("div",{className:"font-medium "+(pe?"text-warning":"text-muted-foreground"),children:pe?"RUNNING":"OFFLINE"})]})]})}),c.jsxs(x,{children:[c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.total}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Trades"})]}),c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.today}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Today's Trades"})]}),c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsxs("div",{className:"text-3xl font-bold font-mono "+(ge.pnl>=0?"text-success":"text-destructive"),children:[ge.pnl>=0?"+":"","$",ge.pnl.toFixed(2)]}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Total P&L"})]}),c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsx("div",{className:"text-3xl font-bold font-mono text-warning",children:pe?"30s":"N/A"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Cycle Time"})]})]}),c.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-muted-foreground",children:[c.jsx(I,{className:"w-4 h-4"}),c.jsx("span",{children:"Auto-refresh every 5 seconds from Supabase"}),c.jsx("span",{className:"mx-2",children:"•"}),c.jsx("span",{children:"11 symbols: AAPL, MSFT, NVDA, TSLA, AMD, META, GOOGL, AMZN, SPY, QQQ, IWM"})]})]})]}),c.jsxs(i,{children:[c.jsxs(o,{children:[c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(A,{className:"w-5 h-5"}),"Live Trade Feed",he.length>0&&c.jsxs(j,{variant:"secondary",children:[he.length," recent"]})]}),c.jsx(u,{children:"Real-time trades from high-frequency worker (updates every 5s)"})]}),c.jsx(x,{children:0===he.length?c.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[c.jsx(V,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{className:"text-lg",children:"No trades yet"}),c.jsx("p",{className:"text-sm",children:"Start the high-frequency worker to see activity"}),c.jsx("code",{className:"block mt-4 p-2 bg-muted rounded text-xs",children:"node farm/workers/high-frequency-paper-trader.mjs"})]}):c.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:he.map(e=>{var t;return c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:["BUY"===e.direction?c.jsx(L,{className:"w-4 h-4 text-success"}):c.jsx(E,{className:"w-4 h-4 text-destructive"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold",children:e.symbol}),c.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleTimeString()})]}),c.jsx(j,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction}),c.jsxs(j,{variant:"outline",className:"text-xs",children:[e.shares," shares"]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Entry"})]}),e.predicted_confidence&&c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"font-mono",children:[(100*e.predicted_confidence).toFixed(0),"%"]}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Conf"})]}),void 0!==e.pnl&&null!==e.pnl&&c.jsxs("div",{className:"text-right font-mono "+(e.pnl>=0?"text-success":"text-destructive"),children:[c.jsxs("div",{children:[e.pnl>=0?"+":"","$",e.pnl.toFixed(2)]}),c.jsx("div",{className:"text-xs",children:"P&L"})]}),c.jsx(j,{variant:"outline",className:"open"===e.status?"bg-success/10 text-success":"bg-muted",children:e.status})]})]},e.id)})})})]}),he.filter(e=>"open"===e.status).length>0&&c.jsxs(i,{children:[c.jsx(o,{children:c.jsxs(l,{className:"text-lg flex items-center gap-2",children:[c.jsx(_,{className:"w-5 h-5"}),"Open HF Positions"]})}),c.jsx(x,{children:c.jsxs(K,{children:[c.jsx(H,{children:c.jsxs(W,{children:[c.jsx(J,{children:"Symbol"}),c.jsx(J,{children:"Side"}),c.jsx(J,{className:"text-right",children:"Shares"}),c.jsx(J,{className:"text-right",children:"Entry"}),c.jsx(J,{className:"text-right",children:"Stop Loss"}),c.jsx(J,{className:"text-right",children:"Take Profit"}),c.jsx(J,{children:"Status"})]})}),c.jsx(T,{children:he.filter(e=>"open"===e.status).map(e=>{var t,n,s;return c.jsxs(W,{children:[c.jsx(Y,{className:"font-bold",children:e.symbol}),c.jsx(Y,{children:c.jsx(j,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction})}),c.jsx(Y,{className:"text-right font-mono",children:e.shares}),c.jsxs(Y,{className:"text-right font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),c.jsxs(Y,{className:"text-right font-mono text-destructive",children:["$",(null==(n=e.stop_loss)?void 0:n.toFixed(2))||"N/A"]}),c.jsxs(Y,{className:"text-right font-mono text-success",children:["$",(null==(s=e.take_profit)?void 0:s.toFixed(2))||"N/A"]}),c.jsx(Y,{children:c.jsx(j,{variant:"outline",className:"bg-success/10 text-success border-success/30",children:"Open"})})]},e.id)})})]})})]})]})})]})]}):c.jsxs(i,{className:"border-warning/50",children:[c.jsx(o,{children:c.jsxs(l,{className:"flex items-center gap-2 text-warning",children:[c.jsx(R,{className:"h-5 w-5"}),"Gateway Running - Login Required"]})}),c.jsxs(x,{className:"space-y-4",children:[c.jsxs(P,{variant:"default",children:[c.jsx(O,{className:"h-4 w-4"}),c.jsx(k,{children:'Bridge is running but not connected to IB Gateway. Open IB Gateway desktop app, log in, then click "Connect to Gateway".'})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(m,{onClick:ne,className:"flex-1",children:[c.jsx(R,{className:"h-4 w-4 mr-2"}),"Connect to Gateway"]}),c.jsxs(m,{variant:"outline",onClick:te,children:[c.jsx(g,{className:"h-4 w-4 mr-2"}),"Check Status"]})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"IB Gateway must be running with API enabled (port 4002 for paper trading)."})]})]}):c.jsxs(i,{className:"border-destructive/50",children:[c.jsxs(o,{children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(l,{className:"flex items-center gap-2 text-destructive",children:[c.jsx(Z,{className:"h-5 w-5"}),"IB Gateway Bridge Not Running"]})}),c.jsx(u,{children:ee||"Start the IBKR Client Portal Gateway to begin trading."})]}),c.jsxs(x,{className:"space-y-4",children:[c.jsxs(P,{children:[c.jsx(O,{className:"h-4 w-4"}),c.jsx(S,{children:"Quick Setup"}),c.jsx(k,{className:"space-y-2",children:c.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-2",children:[c.jsxs("li",{children:["Download the ",c.jsx("a",{href:"https://www.interactivebrokers.com/en/trading/ib-api.php",target:"_blank",rel:"noopener",className:"text-primary underline font-medium",children:"IBKR Client Portal Gateway"})]}),c.jsxs("li",{children:["Run ",c.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.sh"})," (Mac) or ",c.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.bat"})," (Windows)"]}),c.jsxs("li",{children:["Login at ",c.jsx("strong",{children:"https://localhost:5000"})," with IBKR credentials"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Using remote access?"})," Click Gateway Settings above and enter your machine's IP"]})]})})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(m,{onClick:te,className:"flex-1",children:[c.jsx(g,{className:"h-4 w-4 mr-2"}),"Retry Connection"]}),c.jsxs(m,{variant:"outline",onClick:()=>window.open("https://localhost:5000","_blank"),children:[c.jsx(f,{className:"h-4 w-4 mr-2"}),"Open Gateway"]})]})]})]})}const we=()=>c.jsxs("div",{className:"container mx-auto py-8 px-4",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[c.jsx(Q,{className:"w-8 h-8 text-primary"}),c.jsxs("h1",{className:"text-4xl font-bold",children:[c.jsx("span",{className:"text-primary",children:"En Pensent™"})," Trading"]})]}),c.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Paper trading powered by Interactive Brokers. Start with simulated funds, graduate to real money when ready."})]}),c.jsx(U,{componentName:"IBKRTradingDashboard",children:c.jsx(pe,{})}),c.jsx("p",{className:"text-center text-xs text-muted-foreground mt-8",children:"⚠️ Paper trading uses simulated funds. No real money is at risk. When ready, switch to a live IBKR account for real trading."})]});export{we as default};
