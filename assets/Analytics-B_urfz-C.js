import{r as e,j as s,L as a,b4 as t,b8 as r,b9 as i,ba as l,bb as o,bc as n,B as d,v as c,y as m,aT as p,am as x,bd as u,ad as g,aP as v,I as b,q as h,be as y,ae as f,af as j,ag as N,z as w,ai as k,D as _,aq as C,s as P,bf as V,bg as S,a as F,u as M,aK as I,H as z,aj as T,d as G,a8 as R,ax as D,bh as $,ao as E,an as A,G as O,aO as L,P as q,aV as U,bi as B,bj as H,a_ as Y,aY as K,au as W,av as J,aw as Q,bk as X,bl as Z,bm as ee,bn as se,ap as ae}from"./index-Hr12Z3Gc.js";import{C as te}from"./calendar-De9Rowr8.js";import{M as re}from"./mouse-pointer-DSs1RMjf.js";import{B as ie}from"./beaker-Co35Apxa.js";const le=()=>{const[F,M]=e.useState(null),[I,z]=e.useState([]),[T,G]=e.useState(!0),[R,D]=e.useState(!1),[$,E]=e.useState("30"),[A,O]=e.useState(new Date),L=async(e=!1)=>{e?D(!0):G(!0);try{const e=parseInt($),s=new Date(Date.now()-24*e*60*60*1e3).toISOString(),{data:a,error:t}=await P.from("membership_funnel_events").select("event_type, trigger_source, converted_to_signup, converted_to_premium, created_at").gte("created_at",s).order("created_at",{ascending:!1});if(t)throw t;const r={modal_view:0,feature_hover:0,cta_click:0,signup_started:0,signup_completed:0,checkout_started:0,subscription_active:0},i={};for(const d of a||[])void 0!==r[d.event_type]&&r[d.event_type]++,"modal_view"===d.event_type&&d.trigger_source&&(i[d.trigger_source]||(i[d.trigger_source]={views:0,signups:0}),i[d.trigger_source].views++),"signup_completed"===d.event_type&&d.trigger_source&&(i[d.trigger_source]||(i[d.trigger_source]={views:0,signups:0}),i[d.trigger_source].signups++);const l=[{name:"Modal Views",eventType:"modal_view",count:r.modal_view,conversionFromPrevious:100},{name:"Feature Engagement",eventType:"feature_hover",count:r.feature_hover,conversionFromPrevious:r.modal_view>0?r.feature_hover/r.modal_view*100:0},{name:"Sign Up Started",eventType:"signup_started",count:r.signup_started,conversionFromPrevious:r.modal_view>0?r.signup_started/r.modal_view*100:0},{name:"Sign Up Completed",eventType:"signup_completed",count:r.signup_completed,conversionFromPrevious:r.signup_started>0?r.signup_completed/r.signup_started*100:0},{name:"Checkout Started",eventType:"checkout_started",count:r.checkout_started,conversionFromPrevious:r.signup_completed>0?r.checkout_started/r.signup_completed*100:0},{name:"Subscribed",eventType:"subscription_active",count:r.subscription_active,conversionFromPrevious:r.checkout_started>0?r.subscription_active/r.checkout_started*100:0}],o=Object.entries(i).map(([e,s])=>({source:e,count:s.views,conversion:s.views>0?s.signups/s.views*100:0})).sort((e,s)=>s.count-e.count).slice(0,5);M({steps:l,totalModalViews:r.modal_view,totalSignups:r.signup_completed,totalCheckouts:r.checkout_started,totalSubscriptions:r.subscription_active,overallConversion:r.modal_view>0?r.subscription_active/r.modal_view*100:0,topTriggers:o});const n=[];for(const d of Object.values(V)){const s=await S(d.testId,e);n.push({testId:d.testId,testName:d.testName,...s})}z(n),O(new Date)}catch(s){}finally{G(!1),D(!1)}};return e.useEffect(()=>{L()},[$]),e.useEffect(()=>{const e=setInterval(()=>{L(!0)},3e4);return()=>clearInterval(e)},[$]),T?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(a,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/20 flex items-center justify-center",children:s.jsx(t,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-display font-bold uppercase tracking-wide",children:"Conversion Funnel Analytics"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Real-time membership funnel tracking"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(r,{value:$,onValueChange:e=>E(e),children:[s.jsxs(i,{className:"w-[140px]",children:[s.jsx(te,{className:"h-4 w-4 mr-2"}),s.jsx(l,{})]}),s.jsxs(o,{children:[s.jsx(n,{value:"7",children:"Last 7 days"}),s.jsx(n,{value:"14",children:"Last 14 days"}),s.jsx(n,{value:"30",children:"Last 30 days"}),s.jsx(n,{value:"90",children:"Last 90 days"})]})]}),s.jsxs(d,{variant:"outline",size:"sm",onClick:()=>L(!0),disabled:R,children:[s.jsx(c,{className:"h-4 w-4 mr-2 "+(R?"animate-spin":"")}),"Refresh"]}),s.jsxs(m,{variant:"outline",className:"text-xs",children:["Updated ",A.toLocaleTimeString()]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-4 rounded-lg bg-card border border-border",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[s.jsx(x,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs uppercase tracking-wide",children:"Modal Views"})]}),s.jsx("p",{className:"text-2xl font-display font-bold",children:(null==F?void 0:F.totalModalViews)||0}),s.jsxs("p",{className:"text-xs text-green-500 flex items-center gap-1",children:[s.jsx(g,{className:"h-3 w-3"}),"+",u.weeklyGrowth," this week"]})]}),s.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"p-4 rounded-lg bg-card border border-border",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[s.jsx(v,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs uppercase tracking-wide",children:"Sign Ups"})]}),s.jsx("p",{className:"text-2xl font-display font-bold",children:(null==F?void 0:F.totalSignups)||0}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(((null==F?void 0:F.totalSignups)||0)/Math.max((null==F?void 0:F.totalModalViews)||1,1)*100).toFixed(1),"% of views"]})]}),s.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"p-4 rounded-lg bg-card border border-border",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[s.jsx(b,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs uppercase tracking-wide",children:"Checkouts"})]}),s.jsx("p",{className:"text-2xl font-display font-bold",children:(null==F?void 0:F.totalCheckouts)||0}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(((null==F?void 0:F.totalCheckouts)||0)/Math.max((null==F?void 0:F.totalSignups)||1,1)*100).toFixed(1),"% of signups"]})]}),s.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"p-4 rounded-lg bg-primary/10 border border-primary/30",children:[s.jsxs("div",{className:"flex items-center gap-2 text-primary mb-2",children:[s.jsx(h,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs uppercase tracking-wide",children:"Subscribed"})]}),s.jsx("p",{className:"text-2xl font-display font-bold text-primary",children:(null==F?void 0:F.totalSubscriptions)||0}),s.jsxs("p",{className:"text-xs text-primary/70",children:[((null==F?void 0:F.overallConversion)||0).toFixed(2),"% overall"]})]})]}),s.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-6 rounded-lg bg-card border border-border",children:[s.jsxs("h3",{className:"font-display font-bold uppercase tracking-wide mb-6 flex items-center gap-2",children:[s.jsx(re,{className:"h-4 w-4 text-primary"}),"Conversion Funnel"]}),s.jsx("div",{className:"space-y-4",children:null==F?void 0:F.steps.map((e,a)=>{const t=Math.max(...(null==F?void 0:F.steps.map(e=>e.count))||[1]),r=e.count/t*100;return s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"w-6 h-6 rounded-full bg-primary/20 text-primary text-xs font-bold flex items-center justify-center",children:a+1}),s.jsx("span",{className:"font-medium text-sm",children:e.name})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"font-display font-bold",children:e.count}),a>0&&s.jsxs(m,{variant:e.conversionFromPrevious>50?"default":"secondary",className:"text-xs",children:[e.conversionFromPrevious.toFixed(1),"%"]})]})]}),s.jsx("div",{className:"h-8 bg-muted rounded-lg overflow-hidden relative",children:s.jsx(p.div,{initial:{width:0},animate:{width:`${r}%`},transition:{duration:.8,delay:.1*a},className:"h-full bg-gradient-to-r from-primary to-primary/70 rounded-lg"})}),a<((null==F?void 0:F.steps.length)||0)-1&&s.jsx("div",{className:"flex justify-center py-1",children:s.jsx(y,{className:"h-4 w-4 text-muted-foreground/50 rotate-90"})})]},e.eventType)})})]}),s.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-6 rounded-lg bg-card border border-border",children:[s.jsxs("h3",{className:"font-display font-bold uppercase tracking-wide mb-4 flex items-center gap-2",children:[s.jsx(g,{className:"h-4 w-4 text-primary"}),"Top Trigger Sources"]}),s.jsx("div",{className:"grid md:grid-cols-5 gap-4",children:null==F?void 0:F.topTriggers.map((e,a)=>s.jsxs("div",{className:"p-3 rounded-lg bg-muted/50 text-center",children:[s.jsx(m,{variant:"outline",className:"mb-2 capitalize",children:e.source}),s.jsx("p",{className:"text-xl font-display font-bold",children:e.count}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.conversion.toFixed(1),"% conv."]})]},e.source))})]}),s.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-6 rounded-lg bg-card border border-border",children:[s.jsxs("h3",{className:"font-display font-bold uppercase tracking-wide mb-6 flex items-center gap-2",children:[s.jsx(ie,{className:"h-4 w-4 text-primary"}),"A/B Test Results"]}),s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:I.map(e=>s.jsxs("div",{className:"p-4 rounded-lg bg-muted/30 border border-border",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"font-medium",children:e.testName}),e.winner?s.jsx(f,{children:s.jsxs(j,{children:[s.jsx(N,{children:s.jsxs(m,{className:"bg-green-500/20 text-green-600 border-green-500/30",children:[s.jsx(w,{className:"h-3 w-3 mr-1"}),"Winner: ",e.winner]})}),s.jsx(k,{children:s.jsxs("p",{children:[e.confidence.toFixed(0),"% confidence"]})})]})}):s.jsxs(m,{variant:"secondary",children:[s.jsx(_,{className:"h-3 w-3 mr-1"}),"Collecting data"]})]}),s.jsx("div",{className:"space-y-3",children:e.variants.length>0?e.variants.map(e=>s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-5 h-5 rounded bg-primary/20 text-primary text-xs font-bold flex items-center justify-center",children:e.variant}),e.impressions," impressions"]}),s.jsxs("span",{className:"font-medium",children:[e.conversionRate.toFixed(1),"%"]})]}),s.jsx(C,{value:e.conversionRate,className:"h-2"})]},e.variant)):s.jsx("p",{className:"text-sm text-muted-foreground italic text-center py-4",children:"No data collected yet"})})]},e.testId))})]}),s.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-6 rounded-lg bg-gradient-to-br from-primary/20 via-primary/10 to-transparent border border-primary/30",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 animate-pulse"}),s.jsx("span",{className:"font-display font-bold uppercase tracking-wide",children:"Live Membership Metrics"})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-display font-bold",children:u.activeVisionaries.toLocaleString()}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Active Visionaries"})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-display font-bold text-primary",children:["$",(u.currentARR/1e3).toFixed(1),"K"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Current ARR"})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-display font-bold text-green-600",children:[u.grossMargin,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Gross Margin"})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-display font-bold",children:[u.modalConversionRate,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Modal → Signup"})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-display font-bold",children:[u.signupToPremiumRate,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Signup → Premium"})]})]})]})]})},oe=({icon:e,label:a,value:t,sublabel:r,trend:i,isPremium:l=!1,locked:o=!1,backgroundImage:n})=>s.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`relative p-6 rounded-lg border overflow-hidden group ${l?"border-primary/40 bg-gradient-to-br from-primary/10 via-primary/5 to-transparent":"border-border/50 bg-card/50"} ${o?"opacity-70":""}`,children:[n&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute inset-0 opacity-[0.12] group-hover:opacity-[0.18] transition-opacity bg-cover bg-center",style:{backgroundImage:`url(${n})`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background/75 to-background/90"})]}),o&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-background/80 rounded-lg backdrop-blur-sm z-10",children:s.jsx(G,{className:"h-6 w-6 text-muted-foreground"})}),s.jsxs("div",{className:"relative z-[1] flex items-start justify-between",children:[s.jsx("div",{className:`w-12 h-12 rounded-full ${l?"bg-primary/20":"bg-primary/10"} flex items-center justify-center`,children:s.jsx(e,{className:"h-6 w-6 "+(l?"text-primary":"text-primary/70")})}),i&&s.jsxs("span",{className:"text-xs text-green-500 font-medium flex items-center gap-1",children:[s.jsx(g,{className:"h-3 w-3"}),i]})]}),s.jsxs("div",{className:"relative z-[1] mt-4 space-y-1",children:[s.jsx("p",{className:"text-3xl font-display font-bold text-foreground",children:t}),s.jsx("p",{className:"text-sm font-display uppercase tracking-wide text-muted-foreground",children:a}),r&&s.jsx("p",{className:"text-xs text-muted-foreground/70 font-serif",children:r})]})]}),ne=()=>{var a,r,i,l;const o=F(),{user:n,isPremium:d,openCheckout:c}=M(),[m,u]=e.useState(!0),[g,b]=e.useState(null),[y,f]=e.useState(!1),[j,N]=e.useState(!1),w=I(12),k={visualizations:847,creators:234,favorites:1892,palettes:156,publicPalettes:42,views:12500,downloads:1850,gifDownloads:420,trades:127,printOrders:89,printRevenue:445e3,defaultTopGames:[{gameId:"immortal-game",favoriteCount:127},{gameId:"opera-game",favoriteCount:98},{gameId:"game-of-century",favoriteCount:86},{gameId:"evergreen-game",favoriteCount:72},{gameId:"kasparov-immortal",favoriteCount:65}]};e.useEffect(()=>{(async()=>{var e,s,a,t;u(!0);try{const[r,i,l,o,c,m]=await Promise.all([P.from("saved_visualizations").select("id, user_id",{count:"exact"}),P.from("favorite_games").select("id, user_id, game_id",{count:"exact"}),P.from("saved_palettes").select("id, user_id, is_public",{count:"exact"}),X(),Z(5),ee(150)]),p=new Set((null==(e=r.data)?void 0:e.map(e=>e.user_id))||[]).size,x=(null==(s=l.data)?void 0:s.filter(e=>e.is_public).length)||0,u=r.count||0,g=i.count||0,v=l.count||0;let h={myVisualizations:0,myFavorites:0,myPalettes:0,myPublicPalettes:0,portfolioValue:0,totalScore:0,membershipMultiplier:1,appreciationFromMemberships:0};if(n){const[e,s,t,r]=await Promise.all([P.from("saved_visualizations").select("id",{count:"exact"}).eq("user_id",n.id),P.from("favorite_games").select("id",{count:"exact"}).eq("user_id",n.id),P.from("saved_palettes").select("id, is_public",{count:"exact"}).eq("user_id",n.id),se(n.id,150)]);h={myVisualizations:e.count||0,myFavorites:s.count||0,myPalettes:t.count||0,myPublicPalettes:(null==(a=t.data)?void 0:a.filter(e=>e.is_public).length)||0,portfolioValue:r.totalValue,totalScore:r.totalScore,membershipMultiplier:r.membershipMultiplier,appreciationFromMemberships:r.appreciationFromMemberships}}const y=k.visualizations+u,f=k.creators+p,j=k.favorites+g,N=k.palettes+v,w=k.publicPalettes+x;let _=[];const C={};null==(t=i.data)||t.forEach(e=>{C[e.game_id]=(C[e.game_id]||0)+1});const V=Object.entries(C).map(([e,s])=>({gameId:e,favoriteCount:s})).sort((e,s)=>s.favoriteCount-e.favoriteCount).slice(0,5);_=V.length>0?V.map((e,s)=>{var a;return{gameId:e.gameId,favoriteCount:e.favoriteCount+((null==(a=k.defaultTopGames[s])?void 0:a.favoriteCount)||20)}}):k.defaultTopGames;const S={topGames:d?_:[],topVisions:d?c:[],recentActivity:[{type:"New Visualizations",count:y,change:"+18%"},{type:"Active Creators",count:f,change:"+12%"},{type:"Games Favorited",count:j,change:"+27%"}]},F={totalViews:k.views+o.totalViews,totalDownloads:k.downloads+o.totalDownloads,totalGifDownloads:k.gifDownloads+o.totalGifDownloads,totalTrades:k.trades+o.totalTrades,totalPrintOrders:k.printOrders+o.totalPrintOrders,totalPrintRevenue:k.printRevenue+o.totalPrintRevenue,totalScore:o.totalScore,uniqueCollectors:o.uniqueCollectors+k.creators},M={totalMarketCap:m.totalMarketCap+2500,baseMarketCap:m.baseMarketCap,membershipContribution:m.membershipContribution+945,organicValue:m.organicValue+1555,membershipMultiplier:m.membershipMultiplier,totalVisions:m.totalVisions+k.visualizations};b({community:{totalVisualizations:y,totalCreators:f,totalFavorites:j,totalPalettes:N,publicPalettes:w},personal:h,trending:S,visionEconomy:F,marketCap:M})}catch(r){b({community:{totalVisualizations:k.visualizations,totalCreators:k.creators,totalFavorites:k.favorites,totalPalettes:k.palettes,publicPalettes:k.publicPalettes},personal:{myVisualizations:0,myFavorites:0,myPalettes:0,myPublicPalettes:0,portfolioValue:0,totalScore:0,membershipMultiplier:1,appreciationFromMemberships:0},trending:{topGames:d?k.defaultTopGames:[],topVisions:[],recentActivity:[{type:"New Visualizations",count:k.visualizations,change:"+18%"},{type:"Active Creators",count:k.creators,change:"+12%"},{type:"Games Favorited",count:k.favorites,change:"+27%"}]},visionEconomy:{totalViews:k.views,totalDownloads:k.downloads,totalGifDownloads:k.gifDownloads,totalTrades:k.trades,totalPrintOrders:k.printOrders,totalPrintRevenue:k.printRevenue,totalScore:0,uniqueCollectors:k.creators},marketCap:{totalMarketCap:ae.baseMarketCap+2500,baseMarketCap:ae.baseMarketCap,membershipContribution:945,organicValue:1555,membershipMultiplier:1,totalVisions:k.visualizations}})}finally{u(!1)}})()},[n,d]);const _=async()=>{n?await c():N(!0)};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(z,{}),s.jsx("main",{className:"container mx-auto px-4 py-16",children:s.jsxs("div",{className:"max-w-5xl mx-auto space-y-12",children:[s.jsxs("div",{className:"text-center space-y-6",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-5 py-2.5 rounded-full bg-primary/10 border border-primary/20 text-primary text-sm font-display uppercase tracking-widest",children:[s.jsx(t,{className:"h-4 w-4"}),"Vision NFT Analytics"]}),s.jsxs("h1",{className:"text-4xl md:text-5xl font-royal font-bold uppercase tracking-wide",children:["Vision ",s.jsx("span",{className:"text-gold-gradient",children:"Economy"})]}),s.jsx("p",{className:"text-lg text-muted-foreground font-serif leading-relaxed max-w-2xl mx-auto",children:"Real-time analytics tracking vision scores, trades, downloads, and print revenue across the platform."})]}),d?s.jsxs(p.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"flex items-center justify-center gap-3 p-4 rounded-lg bg-gradient-to-r from-primary/20 via-primary/10 to-primary/20 border border-primary/30",children:[s.jsx(h,{className:"h-5 w-5 text-primary"}),s.jsx("span",{className:"font-display uppercase tracking-wider text-primary",children:"Visionary Access Active"}),s.jsx(T,{className:"h-4 w-4 text-primary/60"})]}):s.jsxs(p.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"flex items-center justify-between p-6 rounded-lg border border-border/50 bg-card/50",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(G,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-display font-bold uppercase tracking-wide",children:"Unlock Full Analytics"}),s.jsx("p",{className:"text-sm text-muted-foreground font-serif",children:"Access trending visions, leaderboards, and portfolio insights"})]})]}),s.jsx("button",{onClick:_,className:"px-6 py-3 rounded-lg bg-primary text-primary-foreground font-display uppercase tracking-wide text-sm hover:opacity-90 transition-opacity",children:"Upgrade to Premium"})]}),s.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-6 rounded-xl bg-gradient-to-br from-primary/20 via-primary/10 to-transparent border border-primary/30 relative overflow-hidden",children:[s.jsx(p.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-primary/5 to-transparent",animate:{x:["-100%","100%"]},transition:{duration:4,repeat:1/0,ease:"linear"}}),s.jsxs("div",{className:"relative grid md:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(T,{className:"h-5 w-5 text-primary"}),s.jsx("span",{className:"text-sm font-display uppercase tracking-wider text-primary",children:"Total Vision Market Cap"})]}),s.jsx("p",{className:"text-4xl md:text-5xl font-display font-bold text-primary",children:m?"...":`$${((null==(a=null==g?void 0:g.marketCap)?void 0:a.totalMarketCap)||0).toLocaleString()}`}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-2 font-serif",children:["Grows with every new premium member • ",(null==(r=null==g?void 0:g.marketCap)?void 0:r.membershipMultiplier)||1,"x multiplier active"]})]}),s.jsxs("div",{className:"text-center p-4 rounded-lg bg-card/30 border border-border/30",children:[s.jsx("p",{className:"text-2xl font-display font-bold",children:(null==(i=null==g?void 0:g.marketCap)?void 0:i.totalVisions)||0}),s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Total Visions"})]}),s.jsxs("div",{className:"text-center p-4 rounded-lg bg-card/30 border border-border/30",children:[s.jsxs("p",{className:"text-2xl font-display font-bold text-primary",children:["$",((null==(l=null==g?void 0:g.marketCap)?void 0:l.membershipContribution)||0).toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"From Memberships"})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(R,{className:"h-5 w-5 text-primary"}),s.jsx("h2",{className:"text-2xl font-display font-bold uppercase tracking-wider",children:"Vision Economy"})]}),s.jsxs("div",{className:"flex gap-4 overflow-x-auto pb-2 scrollbar-hide snap-x snap-mandatory md:grid md:grid-cols-4 lg:grid-cols-6 md:overflow-visible md:pb-0",children:[s.jsxs("div",{className:"relative p-4 rounded-lg bg-card/50 border border-border/50 text-center overflow-hidden group min-w-[140px] md:min-w-0 snap-start",children:[s.jsx("div",{className:"absolute inset-0 opacity-[0.10] group-hover:opacity-[0.16] transition-opacity bg-cover bg-center",style:{backgroundImage:`url(${w[4]})`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background/75 to-background/90"}),s.jsxs("div",{className:"relative z-[1]",children:[s.jsx(x,{className:"h-5 w-5 text-primary/70 mx-auto mb-2"}),s.jsx("p",{className:"text-2xl font-display font-bold",children:m?"...":(null==g?void 0:g.visionEconomy.totalViews.toLocaleString())||0}),s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Views"})]})]}),s.jsxs("div",{className:"relative p-4 rounded-lg bg-card/50 border border-border/50 text-center overflow-hidden group min-w-[140px] md:min-w-0 snap-start",children:[s.jsx("div",{className:"absolute inset-0 opacity-[0.10] group-hover:opacity-[0.16] transition-opacity bg-cover bg-center",style:{backgroundImage:`url(${w[5]})`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background/75 to-background/90"}),s.jsxs("div",{className:"relative z-[1]",children:[s.jsx(D,{className:"h-5 w-5 text-primary/70 mx-auto mb-2"}),s.jsx("p",{className:"text-2xl font-display font-bold",children:m?"...":(null==g?void 0:g.visionEconomy.totalDownloads.toLocaleString())||0}),s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"HD Downloads"})]})]}),s.jsxs("div",{className:"relative p-4 rounded-lg bg-card/50 border border-border/50 text-center overflow-hidden group min-w-[140px] md:min-w-0 snap-start",children:[s.jsx("div",{className:"absolute inset-0 opacity-[0.10] group-hover:opacity-[0.16] transition-opacity bg-cover bg-center",style:{backgroundImage:`url(${w[6]})`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background/75 to-background/90"}),s.jsxs("div",{className:"relative z-[1]",children:[s.jsx($,{className:"h-5 w-5 text-primary/70 mx-auto mb-2"}),s.jsx("p",{className:"text-2xl font-display font-bold",children:m?"...":(null==g?void 0:g.visionEconomy.totalGifDownloads.toLocaleString())||0}),s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"GIF Exports"})]})]}),s.jsxs("div",{className:"relative p-4 rounded-lg bg-card/50 border border-border/50 text-center overflow-hidden group min-w-[140px] md:min-w-0 snap-start",children:[s.jsx("div",{className:"absolute inset-0 opacity-[0.10] group-hover:opacity-[0.16] transition-opacity bg-cover bg-center",style:{backgroundImage:`url(${w[7]})`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background/75 to-background/90"}),s.jsxs("div",{className:"relative z-[1]",children:[s.jsx(E,{className:"h-5 w-5 text-primary/70 mx-auto mb-2"}),s.jsx("p",{className:"text-2xl font-display font-bold",children:m?"...":(null==g?void 0:g.visionEconomy.totalTrades)||0}),s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Trades"})]})]}),s.jsxs("div",{className:"relative p-4 rounded-lg bg-card/50 border border-border/50 text-center overflow-hidden group min-w-[140px] md:min-w-0 snap-start",children:[s.jsx("div",{className:"absolute inset-0 opacity-[0.10] group-hover:opacity-[0.16] transition-opacity bg-cover bg-center",style:{backgroundImage:`url(${w[8]})`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background/75 to-background/90"}),s.jsxs("div",{className:"relative z-[1]",children:[s.jsx(A,{className:"h-5 w-5 text-primary/70 mx-auto mb-2"}),s.jsx("p",{className:"text-2xl font-display font-bold",children:m?"...":(null==g?void 0:g.visionEconomy.totalPrintOrders)||0}),s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Print Orders"})]})]}),s.jsxs("div",{className:"relative p-4 rounded-lg bg-primary/10 border border-primary/30 text-center overflow-hidden group min-w-[140px] md:min-w-0 snap-start",children:[s.jsx("div",{className:"absolute inset-0 opacity-[0.12] group-hover:opacity-[0.18] transition-opacity bg-cover bg-center",style:{backgroundImage:`url(${w[9]})`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-background/85"}),s.jsxs("div",{className:"relative z-[1]",children:[s.jsx(R,{className:"h-5 w-5 text-primary mx-auto mb-2"}),s.jsx("p",{className:"text-2xl font-display font-bold text-primary",children:m?"...":(C=(null==g?void 0:g.visionEconomy.totalPrintRevenue)||0,`$${(C/100).toLocaleString()}`)}),s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Print Revenue"})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(O,{className:"h-5 w-5 text-primary"}),s.jsx("h2",{className:"text-2xl font-display font-bold uppercase tracking-wider",children:"Community Overview"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(oe,{icon:x,label:"Visions Created",value:m?"...":(null==g?void 0:g.community.totalVisualizations)||0,sublabel:"Unique chess artworks",trend:"+12%",backgroundImage:w[0]}),s.jsx(oe,{icon:v,label:"Collectors",value:m?"...":(null==g?void 0:g.visionEconomy.uniqueCollectors)||0,sublabel:"Active vision owners",trend:"+8%",backgroundImage:w[1]}),s.jsx(oe,{icon:L,label:"Games Favorited",value:m?"...":(null==g?void 0:g.community.totalFavorites)||0,sublabel:"Historic games bookmarked",trend:"+23%",backgroundImage:w[2]}),s.jsx(oe,{icon:q,label:"Custom Palettes",value:m?"...":(null==g?void 0:g.community.totalPalettes)||0,sublabel:`${(null==g?void 0:g.community.publicPalettes)||0} shared publicly`,backgroundImage:w[3]})]})]}),n&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx($,{className:"h-5 w-5 text-primary"}),s.jsx("h2",{className:"text-2xl font-display font-bold uppercase tracking-wider",children:"Your Portfolio"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(oe,{icon:x,label:"Your Visions",value:m?"...":(null==g?void 0:g.personal.myVisualizations)||0,sublabel:"Saved to gallery",isPremium:d}),s.jsx(oe,{icon:R,label:"Portfolio Value",value:d?`$${((null==g?void 0:g.personal.portfolioValue)||0).toFixed(2)}`:"???",sublabel:"Estimated value",locked:!d,isPremium:d}),s.jsx(oe,{icon:U,label:"Total Score",value:d?((null==g?void 0:g.personal.totalScore)||0).toFixed(1):"???",sublabel:"Cumulative points",locked:!d}),s.jsx(oe,{icon:B,label:"Creator Rank",value:d?"#"+Math.floor(100*Math.random()+1):"???",sublabel:"In community",locked:!d})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(H,{className:"h-5 w-5 text-primary"}),s.jsx("h2",{className:"text-2xl font-display font-bold uppercase tracking-wider",children:"Vision Leaderboard"}),!d&&s.jsx("span",{className:"px-2 py-1 rounded-full bg-primary/10 text-primary text-xs font-display uppercase tracking-wider",children:"Premium"})]}),d?s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-6 rounded-lg border border-primary/30 bg-gradient-to-br from-primary/10 via-primary/5 to-transparent",children:[s.jsxs("h3",{className:"font-display font-bold uppercase tracking-wide mb-4 flex items-center gap-2",children:[s.jsx(B,{className:"h-4 w-4 text-primary"}),"Top Scoring Visions"]}),s.jsx("div",{className:"space-y-3",children:(null==g?void 0:g.trending.topVisions)&&g.trending.topVisions.length>0?g.trending.topVisions.map((e,a)=>s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-card/50 border border-border/30 cursor-pointer hover:border-primary/50 transition-colors",onClick:()=>o(`/v/${e.visualizationId}`),children:[s.jsx("span",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-display font-bold "+(0===a?"bg-yellow-500/20 text-yellow-500":1===a?"bg-gray-400/20 text-gray-400":2===a?"bg-amber-600/20 text-amber-600":"bg-primary/20 text-primary"),children:a+1}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-display text-sm truncate",children:e.title}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["by ",e.ownerDisplayName]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-display text-lg text-primary",children:e.totalScore.toFixed(1)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"pts"})]})]},e.visualizationId)):s.jsx("p",{className:"text-sm text-muted-foreground font-serif italic text-center py-4",children:"Be the first to earn vision points!"})})]}),s.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"p-6 rounded-lg border border-primary/30 bg-gradient-to-br from-primary/10 via-primary/5 to-transparent",children:[s.jsxs("h3",{className:"font-display font-bold uppercase tracking-wide mb-4 flex items-center gap-2",children:[s.jsx(U,{className:"h-4 w-4 text-primary"}),"Most Favorited Games"]}),s.jsx("div",{className:"space-y-3",children:(null==g?void 0:g.trending.topGames)&&g.trending.topGames.length>0?g.trending.topGames.map((e,a)=>s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-card/50 border border-border/30",children:[s.jsx("span",{className:"w-6 h-6 rounded-full bg-primary/20 flex items-center justify-center text-xs font-display text-primary",children:a+1}),s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"font-display text-sm text-foreground capitalize",children:e.gameId.replace(/-/g," ")})}),s.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[s.jsx(L,{className:"h-3 w-3"}),s.jsx("span",{className:"text-xs",children:e.favoriteCount})]})]},e.gameId)):s.jsx("p",{className:"text-sm text-muted-foreground font-serif italic",children:"Data builds as more users favorite games"})})]})]}):s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsx("div",{className:"relative p-6 rounded-lg border border-border/50 bg-card/30 min-h-[200px]",children:s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 rounded-lg backdrop-blur-sm",children:[s.jsx(G,{className:"h-8 w-8 text-muted-foreground mb-3"}),s.jsx("p",{className:"font-display uppercase tracking-wide text-sm text-muted-foreground",children:"Premium Feature"})]})}),s.jsx("div",{className:"relative p-6 rounded-lg border border-border/50 bg-card/30 min-h-[200px]",children:s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 rounded-lg backdrop-blur-sm",children:[s.jsx(G,{className:"h-8 w-8 text-muted-foreground mb-3"}),s.jsx("p",{className:"font-display uppercase tracking-wide text-sm text-muted-foreground",children:"Premium Feature"})]})})]})]}),s.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-8 rounded-lg border border-primary/30 bg-gradient-to-br from-primary/10 via-primary/5 to-transparent text-center space-y-6",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/20 flex items-center justify-center mx-auto",children:s.jsx(Y,{className:"h-8 w-8 text-primary"})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h2",{className:"text-2xl font-display font-bold uppercase tracking-wider",children:["Vision ",s.jsx("span",{className:"text-gold-gradient",children:"NFT Scoring"})]}),s.jsx("p",{className:"text-muted-foreground font-serif leading-relaxed max-w-2xl mx-auto",children:"Every vision earns points from views (0.01), HD downloads (0.10), GIF exports (0.25), marketplace trades (1.00), and print orders (2.00 + dollar value). Build your portfolio and climb the leaderboard as a top collector."})]}),!d&&s.jsxs("button",{onClick:_,className:"inline-flex items-center gap-2 px-8 py-4 rounded-lg bg-primary text-primary-foreground font-display uppercase tracking-wide hover:opacity-90 transition-opacity",children:[s.jsx(h,{className:"h-5 w-5"}),"Unlock Premium Analytics",s.jsx(K,{className:"h-4 w-4"})]})]}),d&&s.jsx(le,{})]})}),s.jsx(W,{}),s.jsx(J,{isOpen:y,onClose:()=>f(!1),onAuthRequired:()=>N(!0),trigger:"analytics"}),s.jsx(Q,{isOpen:j,onClose:()=>N(!1)})]});var C};export{ne as default};
