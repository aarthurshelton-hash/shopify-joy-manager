var e,t=Object.defineProperty,n=(e,n,s)=>((e,n,s)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s)(e,"symbol"!=typeof n?n+"":n,s);import{aJ as s,r,eu as a,s as c,j as i,C as o,p as l,t as d,L as u,w as x,x as h,aq as m,B as f,aF as g,v as j,cR as v,y,b8 as p,b9 as w,ba as N,bb as C,bc as b,a8 as D,aB as B,aC as z,aD as L,b4 as G,aE as q,aY as M,bh as A,cb as I,ad as P,eB as U}from"./index-SRT_aHEt.js";import{A as K,a as k,b as S}from"./alert-Ch3yMqIo.js";import{T as W,a as E,b as Y,c as H,d as _,e as V}from"./table-DcnhMFF5.js";import{C as T}from"./circle-alert-8Tep4bfD.js";import{W as J}from"./wifi-off-DHujZV3i.js";import{W as O}from"./wifi-BoTpW-Uo.js";import{B as Z}from"./briefcase-DTUwIX57.js";import{T as F}from"./trending-down-D_mzkq_U.js";const X=s("Bolt",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]),R=s("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),Q=ie;!function(){const e=ie,t=ae();for(;;)try{if(830602===-parseInt(e(391))/1+-parseInt(e(383))/2*(parseInt(e(356))/3)+-parseInt(e(362))/4+parseInt(e(374))/5*(-parseInt(e(378))/6)+parseInt(e(367))/7*(-parseInt(e(384))/8)+-parseInt(e(388))/9*(parseInt(e(376))/10)+-parseInt(e(352))/11*(-parseInt(e(386))/12))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const $=function(){const e=ie,t={};t[e(392)]=e(364);const n=t;let s=!0;return function(t,r){const a=e,c={};c[a(351)]=function(e,t){return e!==t},c[a(390)]=n[a(392)];const i=c,o=s?function(){const e=a;if(i[e(351)](e(364),i.fDERP))return{..._0x3d8136,..._0x56d74a[e(350)](_0xc17bb9)};if(r){const e=r.apply(t,arguments);return r=null,e}}:function(){};return s=!1,o}}()(void 0,function(){const e=ie,t={};t[e(395)]=e(385)+"+$";const n=t;return $.toString()[e(358)](e(385)+"+$")[e(354)]()[e(393)+"r"]($)[e(358)](n.lGPVH)});$();const ee=function(){const e={};e[ie(379)]="rSACn";const t=e;let n=!0;return function(e,s){if("mzKLR"!==t.oVFLa){const t=n?function(){if(s){const t=s[ie(349)](e,arguments);return s=null,t}}:function(){};return n=!1,t}_0xf9c042=_0x59a354}}();ee(void 0,function(){const e=ie,t={ohWVv:function(e,t){return e(t)},JDmTb:function(e,t){return e+t},AwPUU:e(394)+'ctor("retu'+e(348)+" )",PeEwf:e(372),zDKqN:e(359),ZpOaI:e(401)};let n;try{n=t.ohWVv(Function,t[e(377)](e(396)+e(371),t.AwPUU)+");")()}catch(a){n=window}const s=n[e(398)]=n[e(398)]||{},r=["log",t[e(375)],t[e(400)],e(357),t[e(369)],e(355),e(389)];for(let c=0;c<r.length;c++){const t=ee[e(393)+"r"][e(360)][e(366)](ee),n=r[c],a=s[n]||t;t[e(368)]=ee[e(366)](ee),t[e(354)]=a[e(354)][e(366)](a),s[n]=t}})();const te="ib_gateway"+Q(387)+"l",ne=Q(380)+Q(363)+"0",se={};se.bridgeUrl=ne,se[Q(397)+"t"]=Q(361),se[Q(399)+"t"]=4002,se[Q(365)]=1;const re=se;function ae(){const e=["z2f0zxDHEuHVCW","y29UC29Szq","z2f0zxDHEvbVCG","EKrlCu4","zxHJzxb0Aw9U","CMvTB3zLsxrLBq","yNjPzgDLvxjS","CM4GDgHPCYiPka","yxbWBhK","CgfYC2u","suPor00","ntG2nty2mMjfBMPQvG","z2v0sxrLBq","Dg9tDhjPBMC","DgfIBgu","nJu5neDtAerszq","zxjYB3i","C2vHCMnO","Aw5MBW","ChjVDg90ExbL","mti3lJaUmc4X","ntK5odGXmKDZzu1IqG","ywXOB3n0oJqWma","zvjwuM0","y2XPzw50swq","yMLUza","mtmZCxHNExrb","x19WCM90B19F","wNbpyuK","Dw5KzwzPBMvK","BMn0Aw9UkcKG","D2fYBG","EenvvgW","ntq4mZe3mgvLq2PqCa","ugvfD2y","otbewxjzsMC","sKrTvgi","nK50sgXlBG","B1zgtge","Ahr0CdOVl2XVyW","qw9lBvm","C2v0sxrLBq","nda0A25oEwfc","ndC2otiWrLHku3jo","kcGOlISPkYKRkq","mtu2reTTzNbL","x2jYAwrNzv91CG","nZi5mZa2D1fOrKjU","DhjHy2u","zKrfuLa","mte5otiYmej4qujJza","Dwz4CxG","y29UC3rYDwn0BW","E30Uy29UC3rYDq","BeDqvKG","CMv0DxjUicHMDq"];return(ae=function(){return e})()}function ce(){const e=Q,t={};t[e(373)]=e(370);if(typeof window===t.xCUTl)return re;const n=localStorage[e(353)](te);if(n)try{return{...re,...JSON.parse(n)}}catch{return re}return re}function ie(e,t){e-=346;const n=ae();let s=n[e];if(void 0===ie.UcRJYz){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};ie.CixkxE=r,ie.XpAcOx={},ie.UcRJYz=!0}const a=e+n[0],c=ie.XpAcOx[a];if(c)s=c;else{const e=function(e){this.xVtMIF=e,this.UYxLgE=[1,0,0],this.jKdSao=function(){return"newState"},this.ErPiVe="\\w+ *\\(\\) *{\\w+ *",this.PUQnpp="['|\"].+['|\"];? *}"};e.prototype.zqNLoa=function(){const e=new RegExp(this.ErPiVe+this.PUQnpp).test(this.jKdSao.toString())?--this.UYxLgE[1]:--this.UYxLgE[0];return this.hscgKs(e)},e.prototype.hscgKs=function(e){return Boolean(~e)?this.yLvokG(this.xVtMIF):e},e.prototype.yLvokG=function(e){for(let t=0,n=this.UYxLgE.length;t<n;t++)this.UYxLgE.push(Math.round(Math.random())),n=this.UYxLgE.length;return e(this.UYxLgE[0])},new e(ie).zqNLoa(),s=ie.CixkxE(s),ie.XpAcOx[a]=s}return s}function oe(){const e=Q;return ce()[e(347)]}function le(e,t){e-=429;const n=ue();let s=n[e];if(void 0===le.VJDWjt){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};le.ydqbMt=r,le.ErEwaG={},le.VJDWjt=!0}const a=e+n[0],c=le.ErEwaG[a];if(c)s=c;else{const e=function(e){this.qyMYTX=e,this.CwmjXk=[1,0,0],this.phPrUl=function(){return"newState"},this.mFrOHP="\\w+ *\\(\\) *{\\w+ *",this.nOcoUI="['|\"].+['|\"];? *}"};e.prototype.nBAwVa=function(){const e=new RegExp(this.mFrOHP+this.nOcoUI).test(this.phPrUl.toString())?--this.CwmjXk[1]:--this.CwmjXk[0];return this.yRLhmX(e)},e.prototype.yRLhmX=function(e){return Boolean(~e)?this.mmWLVX(this.qyMYTX):e},e.prototype.mmWLVX=function(e){for(let t=0,n=this.CwmjXk.length;t<n;t++)this.CwmjXk.push(Math.round(Math.random())),n=this.CwmjXk.length;return e(this.CwmjXk[0])},new e(le).nBAwVa(),s=le.ydqbMt(s),le.ErEwaG[a]=s}return s}const de=le;function ue(){const e=["CgfWzxjuCMfKAq","l2fWAs9ZDgf0Dq","CMv0DxjUicHMDq","BM90igf2ywLSyq","y29UC29Szq","mtKWmtDpwKv4suq","yxbWBhK","ueHZugO","tMDesvu","D2T0DNy","revmrvrf","BMz2r2W","l2fWAs9KAxnJBW","q29UDgvUDc1uEq","C2vHCMnOq29UDa","C3rYAw5NAwz5","r0vu","mtCZmJu0oeDNAu5vra","yxbWBgLJyxrPBW","DgvK","CeTlq3u","CNjVCJO","sK1tD0i","w0LcieDHDgv3yq","p2nVBMLKpq","y3rVCIGICMv0Dq","yNjPzgDLuNvUBG","mtK1nZu0zvrAuNzl","whPes1a","yMLUza","l2fWAs9VCMrLCG","BMn0Aw9UkcKG","ruDms3m","z2f0zxDHEuHVCW","BNrjzd0","tfzyzeq","u1j5wxa","DhjHy2u","zxjZigvYCM9YoG","r1PMtKC","mZy1mte3mePWsMvrtq","Ev0Gr2v0ihbVCW","BM93","igvYCM9YoG","Dg9tDhjPBMC","vg12svC","CMfJDa","r3fsCwm","nxDVy0n6Cq","vvzXtvC","z2v0t3jKzxjZ","Aw5N","tgPbCMC","yxv0AgvUDgLJyq","ndHpCuzRBeu","ndiYnJeXqujzzLjY","y29UC3rYDwn0BW","rLz4qvC","CefktNq","A3Pgr0q","Bg9N","zwXbreG","AK1NAuO","v3zbDNu","D05AsNq","y3fOrfG","B3jKzxiGzxjYBW","s3PgtLu","Ev0Gt3jKzxiGzG","l2fWAs9ZzwfYyW","B0vmrNi","ndm5ofrQzMXdEa","DvzmrNi","BgXSC0S","tMPkAe0","C3DPwvC","Ev0Gr2v0ig9Yza","Ev0GugXHy2uGBW","BI9QC29U","y2fUy2vSt3jKzq","Ad9ZEw1IB2W9","zM1Qq2m","Cg9ZAxrPB25Z","BNrZ","tvfnAM4","ntG0Eejzu2Hc","B3jKzxjZ","AxrPB25ZigvYCG","Eej5vKy","z2fNzLi","C3rHDhvZ","Ev0Gu2vHCMnOia","l2fWAs9Hy2nVDq","l2fWAs9JB25Uzq","z2f0zxDHEvbVCG","B3jKzxjjza","y2XPzw50swq","CM4GDgHPCYiPka","Cg9YDa","r0j1r0m","EerZCxG","ANnVBG","zxHJzxb0Aw9U","BwvZC2fNzq","mJy0wgTwvKTf","ntuWmLnStw91CW","D2fYBG","shvXD2O","CgXHy2vpCMrLCG","mtfxAvDxCg8","sNf1tgK","wLDkEey","Aw5MBW","u1riv0u","zxjYB3i","l2fWAs9WB3nPDa","C3vIBwL0DgvK","ywLSzwq","Bwv0Ag9K","C2vHCMnO","CMrLCIbLCNjVCG","x19WCM90B19F","zfDoB0W","l2fWAs9XDw90zq","CK1fuKu","uurQC0G","mJC2BennBNjn","BM5Ly3q","qurbAMi","B3i6","tMj6D1O","t2DsD2K","ue9tva","DgfIBgu","y29UBMvJDgvK","rgLxrLe","rwjpB2W","Ev0Gq2fUy2vSia","sfHOvuy","ChjVDg90ExbL","yMXLoG","BgvUz3rO"];return(ue=function(){return e})()}!function(){const e=le,t=ue();for(;;)try{if(184377===-parseInt(e(457))/1*(parseInt(e(440))/2)+-parseInt(e(491))/3*(parseInt(e(512))/4)+-parseInt(e(434))/5*(-parseInt(e(545))/6)+-parseInt(e(441))/7+-parseInt(e(471))/8*(-parseInt(e(533))/9)+parseInt(e(568))/10*(parseInt(e(495))/11)+-parseInt(e(490))/12*(parseInt(e(555))/13))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const xe=function(){const e=le,t={};t[e(524)]=e(551)+"y] Bridge "+e(531)+e(526),t[e(563)]=function(e,t){return e===t},t[e(539)]=e(450);const n=t;let s=!0;return function(t,r){const a=e,c={swiYW:n[a(524)],xDsqx:function(e,t){return n.LVXdD(e,t)},upDnC:n.nfvGl},i=s?function(){const e=a,n={};n.uVLFr=c[e(461)];const s=n;if(r){if(c[e(486)](c.upDnC,e(535))){_0x4fb8da[e(446)](s[e(458)],_0x5df7c5[e(489)]);const t={};return t[e(520)]=!1,t[e(439)+e(547)]=!1,t[e(528)+"ng"]=!1,t}{const e=r.apply(t,arguments);return r=null,e}}}:function(){};return s=!1,i}}()(void 0,function(){const e=le,t={};t[e(445)]="(((.+)+)+)+$";const n=t;return xe[e(430)]()[e(505)](n[e(445)]).toString()[e(442)+"r"](xe)[e(505)](n[e(445)])});xe();const he=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[le(534)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}();he(void 0,function(){const e=le,t={XzDKP:function(e,t){return e+t},GqRqc:e(530)+"nction() ",rMERE:function(e){return e()},EGLKs:"error",MuYmY:e(488),DNVRd:e(519),NbzwZ:function(e,t){return e<t}};let n;try{const s=Function(t[e(556)](t[e(433)],"{}.constru"+e(553)+'rn this")( )')+");");n=t[e(510)](s)}catch(a){n=window}const s=n[e(532)]=n[e(532)]||{},r=[e(446),e(492),e(498),t[e(560)],t.MuYmY,t.DNVRd,e(565)];for(let c=0;t[e(516)](c,r[e(527)]);c++){const t=he[e(442)+"r"][e(525)].bind(he),n=r[c],a=s[n]||t;t[e(507)]=he[e(557)](he),t[e(430)]=a[e(430)][e(557)](a),s[n]=t}})();class me{constructor(){n(this,e,!1)}async checkConnection(){const e=de,t={pAJNt:function(e){return e()},GlpzH:e(544),JquLi:function(e,t){return e===t}};try{const n=t[e(444)](ce),s={};s[e(541)+"pe"]=e(546)+"n/json";const r=await fetch(t[e(444)](oe)+(e(529)+"s"),{method:t.GlpzH,headers:s});if(!r.ok){const t={};return t[e(520)]=!1,t["authentica"+e(547)]=!1,t[e(528)+"ng"]=!1,t}const a=await r[e(487)]();this[e(520)]=t[e(496)](a.connected,!0);const c={};return c[e(520)]=!0===a[e(554)+e(437)],c[e(439)+e(547)]=!0===a.connected,c[e(528)+"ng"]=4002===n[e(480)+"t"],c}catch(n){const t={};return t[e(520)]=!1,t[e(439)+e(547)]=!1,t[e(528)+"ng"]=!1,t}}async connect(){const e=de,t={FVxAW:function(e){return e()},SMKof:function(e,t,n){return e(t,n)},pKKCu:function(e){return e()},EbOol:e(518),TmvIW:function(e,t){return e===t}};try{const n=t[e(443)](ce),s={};s[e(541)+"pe"]=e(546)+e(464);const r={};r.host=n[e(561)+"t"],r[e(484)]=n.gatewayPort,r[e(482)]=n[e(482)];const a=await t.SMKof(fetch,t[e(548)](oe)+(e(479)+"ct"),{method:t[e(522)],headers:s,body:JSON[e(543)](r)});if(!a.ok)return!1;const c=await a.json();return this[e(520)]=t[e(431)](c[e(520)],!0),this.connected}catch(n){return!1}}async disconnect(){const e=de,t={MQMjn:function(e){return e()}};try{const n={};n[e(504)]=e(518),await fetch(t[e(470)](oe)+(e(540)+e(513)),n),this[e(520)]=!1}catch{}}async getAccounts(){const e=de,t={wmpNI:e(530)+e(559),GBuGC:function(e){return e()},RaWpN:e(492),lllsK:e(500),OVDpI:"trace",Huqwj:e(551)+e(462)+e(566),WvAvu:e(517),NjJhM:function(e){return e()},TylAr:function(e,t){return e===t},STHWE:e(448),gagfR:e(551)+"y] Get accounts error:"};try{if(e(537)!==t[e(449)]){const n=await fetch(t[e(460)](oe)+(e(478)+e(469)));if(!n.ok)return[];return(await n[e(487)]()).accounts||[]}{let t;try{const n=_0x574652(LXcLpN.wmpNI+"{}.constru"+e(553)+e(483)+" ));");t=LXcLpN[e(485)](n)}catch(n){t=_0x4c8043}const s=t[e(532)]=t[e(532)]||{},r=["log",LXcLpN.RaWpN,e(498),LXcLpN[e(459)],e(488),e(519),LXcLpN.OVDpI];for(let n=0;n<r[e(527)];n++){const t=_0x19a6dc[e(442)+"r"][e(525)][e(557)](_0x571c02),a=r[n],c=s[a]||t;t[e(507)]=_0x473ecc.bind(_0x57635a),t[e(430)]=c[e(430)][e(557)](c),s[a]=t}}}catch(s){return t.TylAr(e(474),t[e(499)])?(_0x408fe8[e(500)](t[e(493)],_0x4b0936),[]):[]}}async getPositions(e){const t=de,n={UgjTI:function(e,t){return e===t},UVqMW:t(456),fmjCc:function(e){return e()}};try{if(n.UgjTI(n.UVqMW,n[t(435)])){const s=await fetch(n[t(467)](oe)+(t(501)+"ions?accou")+t(562)+e);if(!s.ok)return[];return(await s.json())[t(468)]||[]}{const e=_0x2d4f5e.constructor[t(525)].bind(_0x486b64),n=_0x1f6128[_0xf055d3],s=_0x292ab6[n]||e;e[t(507)]=_0x19919d[t(557)](_0x3ed47e),e[t(430)]=s[t(430)][t(557)](s),_0x3f4f15[n]=e}}catch(s){return[]}}async[(e=de(520),de(436))](){const e=de,t={elADH:function(e){return e()}};try{if(e(453)===e(521)){const t=_0x39d6f3?function(){if(_0x39bbc2){const t=_0xd46e66[e(534)](_0x3e5138,arguments);return _0x22cef6=null,t}}:function(){};return _0x2b0262=!1,t}{const n=await fetch(t[e(447)](oe)+(e(558)+"s"));if(!n.ok)return[];return(await n[e(487)]())[e(472)]||[]}}catch(n){return[]}}async[de(542)+de(432)](e){const t=de,n={LjArg:"[IB Gatewa"+t(523)+t(452)+"r:",lqXKA:function(e,t){return e===t},ZWJxF:t(451),XCHCW:function(e,t){return e(t)},GZfNG:function(e){return e()},qSGKn:function(e,t){return e!==t},NgDIU:t(551)+t(477)+"contract e"+t(549)};try{if(n.lqXKA(t(451),n[t(497)])){const s=await n.XCHCW(fetch,n[t(567)](oe)+(t(455)+t(466))+encodeURIComponent(e));if(!s.ok)return[];return(await s[t(487)]()).contracts||[]}if(_0x4a15c1){const e=_0x4ca15f[t(534)](_0x24b029,arguments);return _0x4ef604=null,e}}catch(s){return n.qSGKn(t(508),t(514))?[]:(_0x395607[t(500)](n[t(438)],_0x235254),!1)}}async[de(494)](e){const t=de,n={};n[t(511)]=t(546)+t(464);const s=n;try{const n={};n[t(541)+"pe"]=s[t(511)];const r=await fetch(oe()+"/api/orders",{method:t(518),headers:n,body:JSON[t(543)](e)});if(!r.ok)return null;const a=await r.json();return{orderId:a[t(481)]||"ib-"+Date[t(570)](),status:a[t(476)]||t(502)}}catch(r){return null}}async[de(465)+"r"](e){const t=de;try{const n={};n.method=t(538);return(await fetch(oe()+(t(558)+"s/")+e,n)).ok}catch(n){return!1}}async getQuote(e){const t=de,n={SRyYp:function(e){return e()}};try{const s=await fetch(n[t(564)](oe)+(t(509)+t(552))+e);if(!s.ok)return null;return await s[t(487)]()}catch{if("JMSwB"!==t(550)){const e=_0x5e9f05?function(){if(_0x5d99e1){const e=_0x37ee93[t(534)](_0x4c7fbd,arguments);return _0x6aa098=null,e}}:function(){};return _0x4e5800=!1,e}return null}}}const fe=new me;!function(){const e=ve,t=ye();for(;;)try{if(149383===-parseInt(e(442))/1+parseInt(e(462))/2+-parseInt(e(475))/3+parseInt(e(584))/4*(parseInt(e(595))/5)+parseInt(e(461))/6*(parseInt(e(471))/7)+parseInt(e(567))/8+parseInt(e(433))/9*(-parseInt(e(437))/10))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ge=function(){const e={DwVJP:function(e,t){return e(t)},nvFWk:function(e,t){return e===t},sjzuj:"xTWOa"};let t=!0;return function(n,s){const r=t?function(){const t=ve,r={vmDjQ:function(t,n){return e[ve(484)](t,n)}};if(e[t(497)](t(589),e[t(566)])){if(s){const e=s[t(452)](n,arguments);return s=null,e}}else _0x148ee6[t(523)](t(439)+t(558)+t(488)+t(554)),r[t(509)](_0x19b201,e=>({...e,connected:!1,authenticated:!1,loading:!1,error:t(477)+" timed out"+t(449)+t(609)+"server is running."}))}:function(){};return t=!1,r}}()(void 0,function(){const e=ve,t={};t[e(570)]=e(522)+"+$";const n=t;return ge[e(504)]()[e(571)]("(((.+)+)+)+$").toString()[e(550)+"r"](ge)[e(571)](n.hYlhF)});ge();const je=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,s}}();function ve(e,t){e-=433;const n=ye();let s=n[e];if(void 0===ve.IvTiZH){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};ve.wphIVW=r,ve.cIqleZ={},ve.IvTiZH=!0}const a=e+n[0],c=ve.cIqleZ[a];if(c)s=c;else{const e=function(e){this.oByVxd=e,this.NmnIqw=[1,0,0],this.tQSJhA=function(){return"newState"},this.ygbWYr="\\w+ *\\(\\) *{\\w+ *",this.jFKDVJ="['|\"].+['|\"];? *}"};e.prototype.ewbpYB=function(){const e=new RegExp(this.ygbWYr+this.jFKDVJ).test(this.tQSJhA.toString())?--this.NmnIqw[1]:--this.NmnIqw[0];return this.CWzmAe(e)},e.prototype.CWzmAe=function(e){return Boolean(~e)?this.aRhFeg(this.oByVxd):e},e.prototype.aRhFeg=function(e){for(let t=0,n=this.NmnIqw.length;t<n;t++)this.NmnIqw.push(Math.round(Math.random())),n=this.NmnIqw.length;return e(this.NmnIqw[0])},new e(ve).ewbpYB(),s=ve.wphIVW(s),ve.cIqleZ[a]=s}return s}function ye(){const e=["uuD4y0W","CI4Gq2HLy2SGzW","ntqXnZG0D0r6vhvm","DgfIBgu","r2n2Dfy","BhKGy29UBMvJDa","wNvYA2u","Efrxt2e","DMjPsvy","DgvK","E30Uy29UC3rYDq","Dhnsr0y","ywnJB3vUDeLK","nxrNqLvyCa","zwXSzwq","y29UC29Szq","z2v0t3jKzxjZ","uw5tBLu","y2fUy2vSBgvKlG","y3rPB24","zYbJB25Uzwn0Aq","r1PfEha","yxv0AgvUDgLJyq","CNvUBMLUzYbHBG","ywnJB3vUDfr5Ca","AgfZzuy","z2v0ug9ZAxrPBW","AguGyNjPzgDLia","Bg9HzefJy291BG","t3jKzxiG","Cg9ZAxrPB25Z","igzHAwXLzdOG","BLn0v1K","z2uGC2vYDMvYia","nda4mtaWnwHusxj5BG","t3jKzxiGugXHyW","DKrIu3a","EerZCxq","mtbsCK1Krfe","zMLUza","w0LcieDHDgv3yq","u3LTyM9Sie5VDa","tM8GqwnJB3vUDa","mtmWmtbgq01bEuu","vejyANm","Dw50","Aw5JBhvKzxm","ywnJB3vUDhm","EuTuCei","zKD4uNe","lIbfBNn1CMuGDa","qNjPzgDLig5VDa","vxDUuvm","yxbWBhK","CMfJDa","zwqGDg8GsuiGrW","rKvsEvG","y29UBMvJDc4Grq","y291BNq","DgL0Bgu","Dg1lwKS","ihrPBwvKig91Da","mtqZnty3nhHuExHlDq","ntK2ndy2sLj6sMvx","Bg9HzfbVC2L0Aq","whrPCKi","C2LKzq","D2DQELa","qxDrB20","r3vrBvy","zcbbueKGAxmGzq","tg56swe","n3ngAerhzW","ChjPy2u","EKDduKq","Ev0Gu3rHDhvZoG","nJeYodC2wfzPzMnm","B25Z","q29UBMvJDgLVBG","y29UBMvJDa","C2vYDMvYigLZia","q29UBMvJDgvK","B3jKzxjuExbL","Ev0Gq2HLy2TPBG","C3rHCNrZv2L0Aa","rhDwsLa","B3qGy29UBMvJDa","ug9yBuq","BgvUz3rO","Aw9UignOzwnRia","y29UBMvJDfrVrW","BMfIBgvKlG","t3jKzxiGrMfPBa","v2z6wgW","BNn1CMuGsuiGrW","BwvZC2fNzq","vxHkwu4","BMvJDgLVBI4","BNzgv2S","zxHJzxb0Aw9U","u3rHCNqGDgHLia","u0XbuMe","CMv0DxjUicHMDq","y3rVCIGICMv0Dq","vhvAr3q","Dg9tDhjPBMC","Eu9SyLm","B24UlI4","zgvZDhj1y3rPDG","y0Hmz0K","DM1eALe","q291BgqGBM90ia","D2D1v3m","ywXS","DMfYAwfUDa","CxvHBNrPDhK","z0L2Eeu","zM1ZEvC","EenTCeK","y29UBMvJDgvK","B3jKzxjZ","Aw5MBW","y29UAwq","kcGOlISPkYKRkq","D2fYBG","Bg9Hze9YzgvYCW","yxrLD2f5ignVBG","x19WCM90B19F","AhHHufq","C056r28","y2fUy2vSt3jKzq","CNfmuw8","AKzRB1u","yMLUza","ihj1BM5PBMCUia","t2jWBgq","y29UBMvJDdOG","C3rHDhvZ","zMLUzcbJB250CG","BMn0Aw9UkcKG","y3vYCMvUDa","C3LTyM9S","rNvcq3u","CMvMCMvZAerHDa","C2vHCMnOq29UDa","zxjYB3i","BgzMzwy","CgfWzxjuCMfKAq","yxrLD2f5","C2vSzwn0zwrbyW","C2vSzwn0qwnJBW","y29UC3rYDwn0BW","zgvZy3jPChrPBW","CgXHy2vpCMrLCG","D2f5iI4","DgLTzwqGB3v0","igHHCYbIzwvUia","ywn0igzVCIa","zK1pz2O","Ev0Gq29UBMvJDa","Bg9N","sfrRtKq","t3bgzuC","y2HLy2TdB25Uzq","Aw9UigvYCM9YoG","ic0G","yxrLD2f5igLZia","C2P6DwO","mte3nZm3nNLVD3ncAq","wxvQrwG","Cw5usKy","AfLSAey","C2vHCMnO","quPhAeO","rMfPBgvKihrVia","CNvUBMLUzY4","iezVDw5K","zgDbAhC","t0zMEeC","u3vJy2vZC2z1Ba","CM4GDgHPCYiPka","zwn0igfUigfJyW","Bg9JywWGyNjPza"];return(ye=function(){return e})()}je(void 0,function(){const e=ve,t={sNzGo:function(e,t){return e+t},FERyX:function(e){return e()},YBHXu:e(523),FuBCu:e(520),PoXmD:e(544),yKTpB:e(498),TuZGt:"trace"};let n;try{const s=Function(t[e(528)](e(501)+e(538),e(592)+e(502)+'rn this")( )')+");");n=t[e(455)](s)}catch(a){n=window}const s=n[e(597)]=n.console||{},r=["log",t.YBHXu,t[e(541)],t[e(486)],t[e(447)],e(585),t[e(503)]];for(let c=0;c<r[e(487)];c++){const t=je[e(550)+"r"].prototype[e(532)](je),n=r[c],a=s[n]||t;t[e(526)]=je.bind(je),t.toString=a[e(504)][e(532)](a),s[n]=t}})();const pe=["SPY","QQQ","AAPL","MSFT","NVDA","TSLA","AMD","META"];function we(){const{connected:e,authenticated:t,paperTrading:n,accounts:s,selectedAccount:U,positions:R,orders:Q,loading:$,error:ee,checkConnection:te,connectToGateway:ne,refreshData:se,placeOrder:re,cancelOrder:ae,selectAccount:ce}=function(){var e;const t=ve,n={YujEh:t(501)+t(538),QGxcL:function(e){return e()},tsRGF:"[IB Gatewa"+t(558)+t(488)+"timed out",fMOgj:function(e,t){return e(t)},yOlbS:t(560),cHLgI:t(439)+t(474),FPAwg:function(e,t){return e(t)},Uhysy:function(e,t){return e!==t},GZExp:t(492),nStWY:function(e,t){return e(t)},QnSnU:t(480),LnzIa:t(578)+t(587)+t(454)+"ateway",fmsyW:function(e,t){return e!==t},dgAhw:t(467),TBXjs:"DAaHK",AJGhJ:function(e,t){return e(t)},zGCRD:function(e,t){return e(t)},lffef:"vDbSp",rqLQo:function(e,t){return e(t)},xDsqt:function(e){return e()},NmGlx:t(441)+" Selected",OpFeG:function(e,t){return e===t},haseF:function(e){return e()},zJdrI:t(586),GuQmV:t(491)+"ed",LngqK:"Could not place orde"+t(583)+t(525)+t(496),hxaPT:t(507)+"e",tmKZK:function(e){return e()},UxJYN:t(531),LbKWK:t(448),gIvxE:function(e){return e()},Obpld:function(e,t,n){return e(t,n)},wgjzP:function(e,t,n){return e(t,n)},vbiIV:function(e,t,n){return e(t,n)},OFfxG:function(e,t,n){return e(t,n)},UwnQS:function(e,t,n){return e(t,n)}},s={};s[t(518)]=!1,s[t(604)+t(591)]=!1,s[t(546)+"ng"]=!1,s[t(446)]=[],s[t(548)+t(457)]=null,s[t(612)]=[],s[t(519)]=[],s.loading=!0,s[t(544)]=null;const[c,i]=n[t(530)](r.useState,s),o=r.useRef(null),{toast:l}=n[t(515)](a),d=r.useCallback(async()=>{const e=t;n[e(593)],n[e(557)](i,e=>({...e,loading:!0,error:null}));const s=setTimeout(()=>{const t=e;i(e=>({...e,connected:!1,authenticated:!1,loading:!1,error:"Connection"+t(460)+t(449)+"he bridge "+t(479)+t(574)}))},8e3);try{if("HTkND"===n[e(505)]){const t=await fe[e(562)+e(601)]();return clearTimeout(s),n.FPAwg(i,n=>({...n,connected:t[e(518)],authenticated:t[e(604)+e(591)],paperTrading:t.paperTrading,loading:!1,error:t.connected?t[e(604)+e(591)]?null:"Bridge running but n"+e(485)+e(454)+'ateway. Click "Connect to Gate'+e(553):e(450)+e(533)+e(499)+e(581)+e(615)+"first."})),t}{const t=_0x40e12a(iQzEtE[e(568)]+"{}.constru"+e(502)+e(579)+" ));");_0x29988e=iQzEtE[e(582)](t)}}catch(r){if(n.Uhysy(e(464),n[e(603)])){clearTimeout(s),i(t=>({...t,connected:!1,authenticated:!1,loading:!1,error:e(573)+e(535)+r[e(494)]}));const t={};return t[e(518)]=!1,t[e(604)+e(591)]=!1,t[e(546)+"ng"]=!1,t}_0x18bf8f(e=>({...e,selectedAccount:_0x55a1ae}))}},[]),u=n[t(534)](r.useCallback,async()=>{const e=t;i(e=>({...e,loading:!0,error:null}));try{const t=await fe[e(478)]();if(t){const t={};t[e(458)]=n[e(599)],t[e(551)+"n"]=n[e(470)],l(t),await d(),await n[e(582)](x)}else n.FPAwg(i,t=>({...t,loading:!1,error:e(573)+e(456)+e(493)+"ateway is "+e(605)+e(469)+"nabled."}));return t}catch(s){if(n[e(516)](n[e(576)],n[e(443)]))return n[e(614)](i,t=>({...t,loading:!1,error:e(477)+e(613)+s[e(494)]})),!1;n[e(614)](_0x5d9e95,t=>({...t,loading:!1,error:e(573)+e(456)+e(493)+e(565)+"running an"+e(469)+e(490)}))}},[l,d]),x=n[t(534)](r.useCallback,async()=>{const e=t,s=await fe.getAccounts(),r=s.find(t=>t[e(594)][e(483)]("DU")||t[e(606)+"e"].toLowerCase()[e(445)]("paper"));return n[e(572)](i,e=>({...e,accounts:s,selectedAccount:r||s[0]||null})),s},[]),h=n[t(466)](r.useCallback,async()=>{const e=t,s=function(e,t){return n[ve(473)](e,t)};if(e(435)===n[e(545)]){if(!c[e(548)+e(457)])return[];const t=await fe[e(608)+"ns"](c[e(548)+e(457)][e(594)]);return n[e(614)](i,e=>({...e,positions:t})),t}return s(_0x4edb8e,t=>({...t,loading:!1,error:e(477)+e(613)+_0x34edf9.message})),!1},[c[t(548)+"count"]]),m=n[t(590)](r.useCallback,async()=>{const e=t,s=await fe[e(598)]();return n[e(530)](i,e=>({...e,orders:s})),s},[]),f=r.useCallback(async()=>{const e=t;c[e(604)+e(591)]&&await Promise[e(512)]([x(),h(),n.xDsqt(m)])},[c[t(604)+t(591)],x,h,m]),g=n[t(534)](r.useCallback,async e=>{const s=t;if(!c[s(548)+s(457)])return n[s(557)](l,{title:n.NmGlx,description:"Please sel"+s(580)+"ount first.",variant:s(507)+"e"}),null;const r=await fe[s(543)+s(453)](e[s(540)]);if(n[s(561)](r[s(487)],0)){const t={};return t.title=s(440)+s(575),t[s(551)+"n"]=s(510)+s(537)+s(556)+e.symbol,t[s(513)]=s(507)+"e",n[s(614)](l,t),null}const a=r[0],i={};i[s(594)]=c[s(548)+s(457)][s(594)],i[s(521)]=a[s(521)],i[s(540)]=e[s(540)],i[s(465)]=e[s(465)],i[s(514)]=e[s(514)],i[s(481)]=e[s(481)],i[s(472)]=e[s(472)];const o=await fe[s(552)](i);if(o){const t={};t[s(458)]=s(434)+"ed",t[s(551)+"n"]=e[s(465)]+" "+e[s(514)]+" "+e.symbol+s(564)+o[s(536)],l(t),await n[s(607)](m)}else if("GcvtV"!==n.zJdrI){if(_0x3bd6e0){const e=_0x2202ef[s(452)](_0x2c73bb,arguments);return _0x125532=null,e}}else{const e={};e[s(458)]=n[s(468)],e[s(551)+"n"]=n.LngqK,e[s(513)]=n[s(527)],l(e)}return o},[c.selectedAccount,l,m]),j=n[t(577)](r.useCallback,async e=>{const n=t,s=await fe[n(529)+"r"](e);if(s){const t={};t[n(458)]="Order Canc"+n(596),t[n(551)+"n"]=n(611)+e+(n(555)+n(600)),l(t),await m()}return s},[l,m]),v=r.useCallback(e=>{const n=t,s=c.accounts[n(438)](t=>t.accountId===e);s&&i(e=>({...e,selectedAccount:s}))},[c[t(446)]]);n[t(451)](r.useEffect,()=>{const e=t,s={qnTJF:function(e,t){return e!==t},tStrG:function(e){return e()}};if(n[e(495)]!==n.LbKWK){const t=async()=>{const t=e;"SLARa"===t(500)?(await n.xDsqt(d))[t(604)+t(591)]&&(await x(),await n[t(459)](h),await m(),o[t(539)]=setInterval(()=>{const e=t,n={xCmpI:e(439)+e(558)+e(563),Zurke:function(e,t){return e(t)}};if(!s[e(569)]("bPyXD",e(511))){_0x4df4f1(_0x116d78),_0x4914fa.error(n[e(517)],_0x57dd04),n[e(588)](_0x5d0606,t=>({...t,connected:!1,authenticated:!1,loading:!1,error:"Failed to "+e(535)+_0x1d7506[e(494)]}));const t={};return t[e(518)]=!1,t[e(604)+e(591)]=!1,t[e(546)+"ng"]=!1,t}f()},1e4)):s.tStrG(_0x107ef6)};return n[e(436)](t),()=>{o.current&&clearInterval(o.current)}}{const t=_0x50810c[e(446)][e(438)](t=>t[e(594)]===_0x5d5b07);t&&n[e(614)](_0x2c6b5d,e=>({...e,selectedAccount:t}))}},[]),r.useEffect(()=>{const e=t;c[e(548)+e(457)]&&c[e(604)+e(591)]&&h()},[null==(e=c[t(548)+t(457)])?void 0:e.accountId]);const y={...c};return y["checkConne"+t(601)]=d,y[t(489)+t(547)]=u,y[t(610)+"ts"]=x,y[t(463)+t(476)]=h,y[t(524)]=m,y[t(542)+"a"]=f,y[t(552)]=g,y[t(529)+"r"]=j,y[t(549)+t(444)]=v,y}(),[ie,oe]=r.useState("overview"),[le,de]=r.useState([]),[ue,xe]=r.useState(!1),[he,me]=r.useState([]),[ge,je]=r.useState({total:0,today:0,pnl:0}),[ye,we]=r.useState(!1),[Ne,Ce]=r.useState({symbol:"SPY",side:"BUY",quantity:1,orderType:"MKT",price:0}),[be,De]=r.useState(!1);r.useEffect(()=>{const e=async()=>{try{const{data:e}=await c.from("farm_status").select("*").eq("farm_name","high-frequency-paper-trader").single();if(e){const t=new Date(e.updated_at),n=t>new Date(Date.now()-12e4);we("trading"===e.status||n)}const{data:t}=await c.from("autonomous_trades").select("*").order("created_at",{ascending:!1}).limit(50);if(t){me(t);const e=new Date;e.setHours(0,0,0,0);const n=t.filter(t=>new Date(t.created_at)>=e),s=t.reduce((e,t)=>e+(t.pnl||0),0);je({total:t.length,today:n.length,pnl:s})}}catch(e){}};e();const t=c.channel("hf-trades").on("postgres_changes",{event:"INSERT",schema:"public",table:"autonomous_trades"},e=>{const t=e.new;me(e=>[t,...e].slice(0,50));const n=new Date;n.setHours(0,0,0,0);const s=new Date(t.created_at)>=n;je(e=>({total:e.total+1,today:s?e.today+1:e.today,pnl:e.pnl+(t.pnl||0)}))}).subscribe(),n=setInterval(e,5e3);return()=>{clearInterval(n),t.unsubscribe()}},[]),r.useCallback(()=>{te()},[te]),r.useEffect(()=>{if(t){Be();const e=setInterval(Be,3e4);return()=>clearInterval(e)}},[t]);const Be=async()=>{xe(!0);try{const{data:e,error:t}=await c.functions.invoke("stock-data",{body:{action:"batch",symbols:pe}});!t&&(null==e?void 0:e.stocks)&&de(e.stocks.map(e=>({symbol:e.symbol,price:e.latestPrice,change:e.change,changePercent:e.changePercent})))}catch(e){}finally{xe(!1)}},ze=e=>{Ce(t=>({...t,symbol:e,side:"BUY"})),oe("trade")},Le=r.useMemo(()=>{const e=R.reduce((e,t)=>e+t.marketValue,0),t=R.reduce((e,t)=>e+t.unrealizedPnl,0);return{totalValue:e,totalPnL:t,totalRealizedPnL:R.reduce((e,t)=>e+t.realizedPnl,0),pnlPercent:(null==U?void 0:U.balance)?t/U.balance*100:0}},[R,U]);return $?i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(u,{className:"h-5 w-5 animate-spin text-primary"}),"Connecting to IB Gateway Bridge..."]})}),i.jsx(x,{children:"Checking connection to gateway"})]}),i.jsxs(h,{className:"space-y-4",children:[i.jsx(m,{value:33,className:"h-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Looking for the Client Portal Gateway..."}),i.jsxs(K,{children:[i.jsx(T,{className:"h-4 w-4"}),i.jsx(k,{children:"Connection taking too long?"}),i.jsxs(S,{className:"space-y-2 mt-2",children:[i.jsx("p",{children:"Your browser may be blocking the connection. Try:"}),i.jsxs("ol",{className:"list-decimal list-inside text-sm space-y-1",children:[i.jsxs("li",{children:["Click ",i.jsx("strong",{children:"Gateway Settings"})," above to configure your gateway URL"]}),i.jsx("li",{children:"If using remotely, enter your machine's IP (e.g., https://192.168.1.100:5000)"}),i.jsxs("li",{children:["Accept the ",i.jsx("strong",{children:"self-signed certificate warning"})," in your browser"]}),i.jsx("li",{children:"Login if prompted, then return here"})]})]})]}),i.jsxs(f,{variant:"outline",size:"sm",onClick:()=>window.open("https://localhost:5000","_blank"),children:[i.jsx(g,{className:"h-4 w-4 mr-2"}),"Open Gateway in New Tab"]})]})]}):e?t?i.jsxs("div",{className:"space-y-6",children:[i.jsx(o,{className:"bg-gradient-to-br from-card via-card to-primary/5 border-primary/20",children:i.jsxs(h,{className:"pt-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(v,{className:"h-5 w-5 text-primary"}),i.jsx("span",{className:"font-medium",children:"IBKR Connected"}),n&&i.jsx(y,{variant:"outline",className:"bg-primary/10 text-primary border-primary",children:"Paper Trading"})]}),i.jsxs(p,{value:(null==U?void 0:U.accountId)||"",onValueChange:ce,children:[i.jsx(w,{className:"w-48",children:i.jsx(N,{placeholder:"Select Account"})}),i.jsx(C,{children:s.map(e=>i.jsxs(b,{value:e.accountId,children:[e.accountId," (",e.accountType,")"]},e.accountId))})]}),i.jsx(f,{variant:"ghost",size:"icon",onClick:se,children:i.jsx(j,{className:"h-4 w-4"})})]}),U&&i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[i.jsx(D,{className:"w-3 h-3"}),"Account Balance"]}),i.jsxs("div",{className:"text-3xl font-mono font-bold",children:["$",U.balance.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Buying Power"}),i.jsxs("div",{className:"text-xl font-mono",children:["$",U.buyingPower.toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})]}),R.length>0&&i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6 pt-6 border-t",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Positions Value"}),i.jsxs("div",{className:"text-xl font-bold",children:["$",Le.totalValue.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Unrealized P&L"}),i.jsxs("div",{className:"text-xl font-bold "+(Le.totalPnL>=0?"text-success":"text-destructive"),children:[Le.totalPnL>=0?"+":"","$",Le.totalPnL.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Realized P&L"}),i.jsxs("div",{className:"text-xl font-bold "+(Le.totalRealizedPnL>=0?"text-success":"text-destructive"),children:[Le.totalRealizedPnL>=0?"+":"","$",Le.totalRealizedPnL.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Open Positions"}),i.jsx("div",{className:"text-xl font-bold",children:R.length})]})]})]})}),i.jsxs(B,{value:ie,onValueChange:oe,children:[i.jsxs(z,{className:"grid w-full grid-cols-2 max-w-md",children:[i.jsxs(L,{value:"overview",className:"flex items-center gap-1",children:[i.jsx(G,{className:"w-4 h-4"})," Overview"]}),i.jsxs(L,{value:"hf-trading",className:"flex items-center gap-1",children:[i.jsx(X,{className:"w-4 h-4"})," HF Trading",ye&&i.jsx("span",{className:"ml-1 w-2 h-2 bg-success rounded-full animate-pulse"})]})]}),i.jsx(q,{value:"overview",className:"mt-6",children:i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(M,{className:"w-5 h-5"}),"Quick Trade"]}),i.jsx(x,{children:"Click a symbol to start a trade"})]}),i.jsxs(h,{children:[i.jsx("div",{className:"grid grid-cols-4 gap-2",children:le.length>0?le.map(e=>i.jsxs(f,{variant:"outline",className:"flex flex-col h-auto py-3 hover:border-primary",onClick:()=>ze(e.symbol),children:[i.jsx("span",{className:"font-bold",children:e.symbol}),i.jsxs("span",{className:"text-sm",children:["$",e.price.toFixed(2)]}),i.jsxs("span",{className:"text-xs "+(e.changePercent>=0?"text-success":"text-destructive"),children:[e.changePercent>=0?"+":"",e.changePercent.toFixed(2),"%"]})]},e.symbol)):pe.map(e=>i.jsx(f,{variant:"outline",className:"py-6",onClick:()=>ze(e),children:e},e))}),ue&&i.jsx("div",{className:"text-center text-sm text-muted-foreground mt-2",children:"Updating quotes..."})]})]}),i.jsxs(o,{children:[i.jsx(l,{children:i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(Z,{className:"w-5 h-5"}),"Current Positions"]})}),i.jsx(h,{children:0===R.length?i.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[i.jsx(A,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No open positions"}),i.jsx("p",{className:"text-sm",children:"Place a trade to get started"})]}):i.jsxs("div",{className:"space-y-3",children:[R.slice(0,5).map(e=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:e.symbol}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.position>0?"+":"",e.position," shares @ $",e.avgCost.toFixed(2)]})]}),i.jsxs("div",{className:"text-right "+(e.unrealizedPnl>=0?"text-success":"text-destructive"),children:[i.jsxs("div",{className:"font-medium",children:[e.unrealizedPnl>=0?"+":"","$",e.unrealizedPnl.toFixed(2)]}),i.jsxs("div",{className:"text-sm",children:["$",e.marketValue.toFixed(2)]})]})]},e.conid)),R.length>5&&i.jsxs(f,{variant:"ghost",className:"w-full",onClick:()=>oe("positions"),children:["View all ",R.length," positions"]})]})})]})]})}),i.jsx(q,{value:"hf-trading",className:"mt-6",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs(o,{className:"border-2 "+(ye?"border-warning bg-warning/5":"border-dashed"),children:[i.jsx(l,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 rounded-full "+(ye?"bg-warning/20":"bg-muted"),children:i.jsx(X,{className:"w-6 h-6 "+(ye?"text-warning animate-pulse":"text-muted-foreground")})}),i.jsxs("div",{children:[i.jsxs(d,{className:"flex items-center gap-2",children:["High-Frequency Paper Trading",ye&&i.jsxs(y,{className:"bg-warning text-warning-foreground",children:[i.jsx(A,{className:"w-3 h-3 mr-1 animate-pulse"}),"LIVE"]})]}),i.jsx(x,{children:"Terminal-based worker generating 100+ trades/day for En Pensent training"})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Worker Status"}),i.jsx("div",{className:"font-medium "+(ye?"text-warning":"text-muted-foreground"),children:ye?"RUNNING":"OFFLINE"})]})]})}),i.jsxs(h,{children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.total}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Trades"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.today}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Today's Trades"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"text-3xl font-bold font-mono "+(ge.pnl>=0?"text-success":"text-destructive"),children:[ge.pnl>=0?"+":"","$",ge.pnl.toFixed(2)]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total P&L"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono text-warning",children:ye?"30s":"N/A"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Cycle Time"})]})]}),i.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(I,{className:"w-4 h-4"}),i.jsx("span",{children:"Auto-refresh every 5 seconds from Supabase"}),i.jsx("span",{className:"mx-2",children:"•"}),i.jsx("span",{children:"11 symbols: AAPL, MSFT, NVDA, TSLA, AMD, META, GOOGL, AMZN, SPY, QQQ, IWM"})]})]})]}),i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(A,{className:"w-5 h-5"}),"Live Trade Feed",he.length>0&&i.jsxs(y,{variant:"secondary",children:[he.length," recent"]})]}),i.jsx(x,{children:"Real-time trades from high-frequency worker (updates every 5s)"})]}),i.jsx(h,{children:0===he.length?i.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[i.jsx(X,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{className:"text-lg",children:"No trades yet"}),i.jsx("p",{className:"text-sm",children:"Start the high-frequency worker to see activity"}),i.jsx("code",{className:"block mt-4 p-2 bg-muted rounded text-xs",children:"node farm/workers/high-frequency-paper-trader.mjs"})]}):i.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:he.map(e=>{var t;return i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:["BUY"===e.direction?i.jsx(P,{className:"w-4 h-4 text-success"}):i.jsx(F,{className:"w-4 h-4 text-destructive"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold",children:e.symbol}),i.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleTimeString()})]}),i.jsx(y,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction}),i.jsxs(y,{variant:"outline",className:"text-xs",children:[e.shares," shares"]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Entry"})]}),e.predicted_confidence&&i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-mono",children:[(100*e.predicted_confidence).toFixed(0),"%"]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Conf"})]}),void 0!==e.pnl&&null!==e.pnl&&i.jsxs("div",{className:"text-right font-mono "+(e.pnl>=0?"text-success":"text-destructive"),children:[i.jsxs("div",{children:[e.pnl>=0?"+":"","$",e.pnl.toFixed(2)]}),i.jsx("div",{className:"text-xs",children:"P&L"})]}),i.jsx(y,{variant:"outline",className:"open"===e.status?"bg-success/10 text-success":"bg-muted",children:e.status})]})]},e.id)})})})]}),he.filter(e=>"open"===e.status).length>0&&i.jsxs(o,{children:[i.jsx(l,{children:i.jsxs(d,{className:"text-lg flex items-center gap-2",children:[i.jsx(Z,{className:"w-5 h-5"}),"Open HF Positions"]})}),i.jsx(h,{children:i.jsxs(W,{children:[i.jsx(E,{children:i.jsxs(Y,{children:[i.jsx(H,{children:"Symbol"}),i.jsx(H,{children:"Side"}),i.jsx(H,{className:"text-right",children:"Shares"}),i.jsx(H,{className:"text-right",children:"Entry"}),i.jsx(H,{className:"text-right",children:"Stop Loss"}),i.jsx(H,{className:"text-right",children:"Take Profit"}),i.jsx(H,{children:"Status"})]})}),i.jsx(_,{children:he.filter(e=>"open"===e.status).map(e=>{var t,n,s;return i.jsxs(Y,{children:[i.jsx(V,{className:"font-bold",children:e.symbol}),i.jsx(V,{children:i.jsx(y,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction})}),i.jsx(V,{className:"text-right font-mono",children:e.shares}),i.jsxs(V,{className:"text-right font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),i.jsxs(V,{className:"text-right font-mono text-destructive",children:["$",(null==(n=e.stop_loss)?void 0:n.toFixed(2))||"N/A"]}),i.jsxs(V,{className:"text-right font-mono text-success",children:["$",(null==(s=e.take_profit)?void 0:s.toFixed(2))||"N/A"]}),i.jsx(V,{children:i.jsx(y,{variant:"outline",className:"bg-success/10 text-success border-success/30",children:"Open"})})]},e.id)})})]})})]})]})})]})]}):i.jsxs(o,{className:"border-warning/50",children:[i.jsx(l,{children:i.jsxs(d,{className:"flex items-center gap-2 text-warning",children:[i.jsx(O,{className:"h-5 w-5"}),"Gateway Running - Login Required"]})}),i.jsxs(h,{className:"space-y-4",children:[i.jsxs(K,{variant:"default",children:[i.jsx(T,{className:"h-4 w-4"}),i.jsx(S,{children:'Bridge is running but not connected to IB Gateway. Open IB Gateway desktop app, log in, then click "Connect to Gateway".'})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(f,{onClick:ne,className:"flex-1",children:[i.jsx(O,{className:"h-4 w-4 mr-2"}),"Connect to Gateway"]}),i.jsxs(f,{variant:"outline",onClick:te,children:[i.jsx(j,{className:"h-4 w-4 mr-2"}),"Check Status"]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"IB Gateway must be running with API enabled (port 4002 for paper trading)."})]})]}):i.jsxs(o,{className:"border-destructive/50",children:[i.jsxs(l,{children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs(d,{className:"flex items-center gap-2 text-destructive",children:[i.jsx(J,{className:"h-5 w-5"}),"IB Gateway Bridge Not Running"]})}),i.jsx(x,{children:ee||"Start the IBKR Client Portal Gateway to begin trading."})]}),i.jsxs(h,{className:"space-y-4",children:[i.jsxs(K,{children:[i.jsx(T,{className:"h-4 w-4"}),i.jsx(k,{children:"Quick Setup"}),i.jsx(S,{className:"space-y-2",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-2",children:[i.jsxs("li",{children:["Download the ",i.jsx("a",{href:"https://www.interactivebrokers.com/en/trading/ib-api.php",target:"_blank",rel:"noopener",className:"text-primary underline font-medium",children:"IBKR Client Portal Gateway"})]}),i.jsxs("li",{children:["Run ",i.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.sh"})," (Mac) or ",i.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.bat"})," (Windows)"]}),i.jsxs("li",{children:["Login at ",i.jsx("strong",{children:"https://localhost:5000"})," with IBKR credentials"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Using remote access?"})," Click Gateway Settings above and enter your machine's IP"]})]})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(f,{onClick:te,className:"flex-1",children:[i.jsx(j,{className:"h-4 w-4 mr-2"}),"Retry Connection"]}),i.jsxs(f,{variant:"outline",onClick:()=>window.open("https://localhost:5000","_blank"),children:[i.jsx(g,{className:"h-4 w-4 mr-2"}),"Open Gateway"]})]})]})]})}const Ne=()=>i.jsxs("div",{className:"container mx-auto py-8 px-4",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[i.jsx(R,{className:"w-8 h-8 text-primary"}),i.jsxs("h1",{className:"text-4xl font-bold",children:[i.jsx("span",{className:"text-primary",children:"En Pensent™"})," Trading"]})]}),i.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Paper trading powered by Interactive Brokers. Start with simulated funds, graduate to real money when ready."})]}),i.jsx(U,{componentName:"IBKRTradingDashboard",children:i.jsx(we,{})}),i.jsx("p",{className:"text-center text-xs text-muted-foreground mt-8",children:"⚠️ Paper trading uses simulated funds. No real money is at risk. When ready, switch to a live IBKR account for real trading."})]});export{Ne as default};
