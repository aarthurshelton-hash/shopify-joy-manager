var e,t=Object.defineProperty,n=(e,n,s)=>((e,n,s)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s)(e,"symbol"!=typeof n?n+"":n,s);import{aJ as s,r,eu as a,s as c,j as i,C as o,p as l,t as d,L as u,w as x,x as h,aq as m,B as f,aF as g,v,cR as y,y as j,b8 as p,b9 as w,ba as N,bb as C,bc as b,a8 as B,aB as D,aC as z,aD as A,b4 as L,aE as q,aY as I,bh as M,cb as G,ad as P,eB as U}from"./index-BsQTe2MU.js";import{A as K,a as S,b as Y}from"./alert-BRdf4mcw.js";import{T as k,a as H,b as W,c as E,d as J,e as O}from"./table-BT3Fbok6.js";import{C as Z}from"./circle-alert-CXxFeNjG.js";import{W as T}from"./wifi-off-C24vyeTF.js";import{W as _}from"./wifi-D9OddVYW.js";import{B as V}from"./briefcase-C7blaSwt.js";import{T as R}from"./trending-down-CfbAuP8e.js";const F=s("Bolt",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]),Q=s("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),X=ae;function $(){const e=["mtaYnZn0zKHZALu","AwjFz2f0zxDHEq","nJeZntaXmMvIsgXOvG","z2f0zxDHEuHVCW","yLv2AxC","mtyZmZe1mMH3revisq","y2XPzw50swq","y29UC29Szq","mti4mZy0mtj5z1vcuLa","Dg9tDhjPBMC","CffIEey","rNbOBwS","y29UC3rYDwn0BW","wff2CM8","mJqXnZbTuM1RDxm","BMn0Aw9UkcKG","vurizgu","C2vHCMnO","m0jKB3LVqq","ywXOB3n0oJqWma","odiYotjhEK5et3u","mJjey0f5ueC","zxHJzxb0Aw9U","ChjVDg90ExbL","vwTTvxa","mtfMvLvZB3O","x2jYAwrNzv91CG","C2v0sxrLBq","C2rXAuu","yMLUza","r056wK0","x19WCM90B19F","uhPyA0G","vuTQAKC","y3rVCIGICMv0Dq","D2fYBG","nJi2mtG0mhrPrxPzqW","kcGOlISPkYKRkq","mZC2wM9uvuX1","CgfYC2u","ode2tuXcsKHK","r3bsEg8","yNjPzgDLvxjS","BgvUz3rO","CMv0DxjUicHMDq","E30Uy29UC3rYDq","Bg9N","z2v0sxrLBq","CM4GDgHPCYiPka","zxjYB3i","tfPjwKG","yxbWBhK","zwnms08","s1zwBg8","mti3lJaUmc4X"];return($=function(){return e})()}!function(){const e=ae,t=$();for(;;)try{if(388032===-parseInt(e(509))/1*(-parseInt(e(475))/2)+parseInt(e(472))/3*(parseInt(e(514))/4)+parseInt(e(468))/5*(parseInt(e(494))/6)+parseInt(e(474))/7*(-parseInt(e(492))/8)+-parseInt(e(511))/9+-parseInt(e(490))/10+parseInt(e(479))/11*(parseInt(e(517))/12))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ee=function(){const e=ae,t={Fphmk:function(e,t){return e(t)},UKjjG:function(e,t){return e===t},PsmAN:e(495)};let n=!0;return function(s,r){const a=e;if(t[a(487)](a(495),t.PsmAN)){const e=n?function(){if(r){const e=r[a(505)](s,arguments);return r=null,e}}:function(){};return n=!1,e}_0x3ff08b=t[a(520)](_0x50f2b1,a(498)+a(469)+(a(499)+'ctor("retu')+a(502)+" ));")()}}()(void 0,function(){const e=ae,t={};t[e(482)]=e(491)+"+$";const n=t;return ee[e(518)]()[e(471)](n[e(482)])[e(518)]()[e(466)+"r"](ee).search(e(491)+"+$")});ee();const te=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[ae(505)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}();te(void 0,function(){const e=ae,t={ecLKO:function(e,t){return e+t},GNzZM:function(e,t){return e+t},UDHde:e(498)+e(469),UEJyZ:"{}.constru"+e(488)+e(502)+" )",UkmUp:function(e){return e()},pJCnN:e(489),PzXkH:"info",XQvro:e(476),pQbxF:"table",KVVlo:"trace"},n=t[e(478)](function(){const n=e;let s;try{s=Function(t[n(506)](t[n(484)](t[n(470)],t.UEJyZ),");"))()}catch(r){s=window}return s}),s=n[e(516)]=n[e(516)]||{},r=[e(500),t.pJCnN,t[e(486)],e(503),t[e(467)],t[e(519)],t[e(507)]];for(let a=0;a<r[e(497)];a++){const t=te[e(466)+"r"][e(477)][e(483)](te),n=r[a],c=s[n]||t;t[e(485)]=te[e(483)](te),t.toString=c[e(518)][e(483)](c),s[n]=t}})();const ne=X(510)+X(480)+"l",se="http://loc"+X(473)+"0",re={};function ae(e,t){e-=466;const n=$();let s=n[e];if(void 0===ae.jVUwKG){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};ae.HYxWzw=r,ae.WNiCda={},ae.jVUwKG=!0}const a=e+n[0],c=ae.WNiCda[a];if(c)s=c;else{const e=function(e){this.LOIYMn=e,this.KbiwAO=[1,0,0],this.NOcTWu=function(){return"newState"},this.gAHLAY="\\w+ *\\(\\) *{\\w+ *",this.afdRUt="['|\"].+['|\"];? *}"};e.prototype.cEsxYz=function(){const e=new RegExp(this.gAHLAY+this.afdRUt).test(this.NOcTWu.toString())?--this.KbiwAO[1]:--this.KbiwAO[0];return this.ILijQD(e)},e.prototype.ILijQD=function(e){return Boolean(~e)?this.LnJhev(this.LOIYMn):e},e.prototype.LnJhev=function(e){for(let t=0,n=this.KbiwAO.length;t<n;t++)this.KbiwAO.push(Math.round(Math.random())),n=this.KbiwAO.length;return e(this.KbiwAO[0])},new e(ae).cEsxYz(),s=ae.HYxWzw(s),ae.WNiCda[a]=s}return s}re[X(496)]=se,re[X(512)+"t"]=X(508),re.gatewayPort=4002,re[X(515)]=1;const ce=re;function ie(){const e=X;if("undefined"==typeof window)return ce;const t=localStorage[e(501)](ne);if(t)try{return{...ce,...JSON[e(493)](t)}}catch{return ce}return ce}function oe(){const e=X;return{LZIZH:function(e){return e()}}[e(504)](ie)[e(496)]}const le=de;function de(e,t){e-=237;const n=ue();let s=n[e];if(void 0===de.alfNme){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};de.NkINGq=r,de.DiYghe={},de.alfNme=!0}const a=e+n[0],c=de.DiYghe[a];if(c)s=c;else{const e=function(e){this.byXatI=e,this.TJYmRx=[1,0,0],this.kULPri=function(){return"newState"},this.AobGYX="\\w+ *\\(\\) *{\\w+ *",this.LrWSDO="['|\"].+['|\"];? *}"};e.prototype.eCaUsi=function(){const e=new RegExp(this.AobGYX+this.LrWSDO).test(this.kULPri.toString())?--this.TJYmRx[1]:--this.TJYmRx[0];return this.RWuDhr(e)},e.prototype.RWuDhr=function(e){return Boolean(~e)?this.Kcittd(this.byXatI):e},e.prototype.Kcittd=function(e){for(let t=0,n=this.TJYmRx.length;t<n;t++)this.TJYmRx.push(Math.round(Math.random())),n=this.TJYmRx.length;return e(this.TJYmRx[0])},new e(de).eCaUsi(),s=de.NkINGq(s),de.DiYghe[a]=s}return s}function ue(){const e=["z2f0zxDHEvbVCG","y29UDhjHy3qGzq","B3vUDhmGzxjYBW","DgfIBgu","B3jKzxjjza","kcGOlISPkYKRkq","yxbWBhK","y2HLy2TdB25Uzq","z2v0t3jKzxjZ","Aw5N","rgPdsMW","z0TRq2y","yMXLoG","y29UC29Szq","vffqvMK","Ev0Gr2v0ihbVCW","BNrZ","x19WCM90B19F","CgfWzxjuCMfKAq","E30Uy29UC3rYDq","y29UBMvJDgvK","z2f0zxDHEuHVCW","CM4GDgHPCYiPka","BM90igf2ywLSyq","qvzKvfO","BI9QC29U","BM93","l2fWAs9VCMrLCG","yNjPzgDLuNvUBG","y2XPzw50swq","mJmZnZCWr0vszK9p","Ev0Gq2fUy2vSia","rNDXCeK","C3vIBwL0DgvK","Dg9tDhjPBMC","DhjHy2u","C2vHCMnOq29UDa","y29UDhjHy3rZ","rLjru2S","Aw9UCZ9Hy2nVDq","l2fWAs9ZDgf0Dq","y3rPB24","z2v0ug9ZAxrPBW","s0DZvhi","zg1YC00","revmrvrf","ywLSzwq","ue9tva","Cg9YDa","ChjVDg90ExbL","q29UDgvUDc1uEq","y1fnBKm","B3i6","BM5Ly3q","C3rYAw5NAwz5","sMr3Dhq","AgvHzgvYCW","l2fWAs9ZzwfYyW","re94zey","quXdqNG","y2fUy2vSt3jKzq","zxHJzxb0Aw9U","C2vHCMnO","Cg9ZAxrPB25Z","yxv0AgvUDgLJyq","w0LcieDHDgv3yq","BMn0Aw9UkcKG","s3Drwuq","vvHwC2C","Bg9N","BwvZC2fNzq","Ev0Gr2v0ig9Yza","r0vu","rLjpqui","l2fWAs9JB25Uzq","CMfJDa","l2fWAs9XDw90zq","yujNsuu","AxLnEM4","CgXHy2vpCMrLCG","C3rHDhvZ","CMv0DxjUicHMDq","y3rVCIGICMv0Dq","zgLZy29UBMvJDa","zgfys1K","yxbWBgLJyxrPBW","nMXiDKflsW","qvLYDgi","y29UC3rYDwn0BW","Ad9ZEw1IB2W9","AuXjvLu","nZq0nZa1nK10DMj2sq","z3nrwvu","CLLovuC","AuPryKG","igvYCM9YoG","mtqZndi3ourHyK1PBG","p2nVBMLKpq","oteZmtm2t2H6DuDc","mte2nJa4nxnjuhLZzG","Ev0GqNjPzgDLia","ovb0zLrdwa","wfneuee","l2fWAs9WB3nPDa","Ev0Gq29UBMvJDa","z2v0qwnJB3vUDa","l2fWAs9KAxnJBW","B3jKzxjZ","DgvK","l2fWAs9Hy2nVDq","D1DxEg8","uu1xy2u","zvLkuMO","ndmZmdq0AvHZr3nx","ANnVBG","uKHQrMi","zxjYB3i","zxjZigvYCM9YoG","BNrjzd0","AxrPB25ZigvYCG","mZiYodqYvxj5ve5t","Ev0Gr2v0igfJyW","wffQAg0","Aw5MBW","D2fYBG","Ev0Gt3jKzxiGzG","ru9eAuu","yMLUza"];return(ue=function(){return e})()}!function(){const e=de,t=ue();for(;;)try{if(246480===-parseInt(e(345))/1+parseInt(e(307))/2*(-parseInt(e(273))/3)+-parseInt(e(285))/4+parseInt(e(286))/5+parseInt(e(300))/6+-parseInt(e(283))/7+parseInt(e(278))/8*(parseInt(e(288))/9))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const xe=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[de(321)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=de,t={};t.iJQbH=e(320)+"+$";const n=t;return xe[e(349)]()[e(249)](e(320)+"+$")[e(349)]()[e(275)+"r"](xe).search(n[e(281)])});xe();const he=function(){const e=de,t={};t.AYrtb=e(252)+e(330)+e(306)+e(239);const n=t;let s=!0;return function(t,r){const a=e,c={};c.FRQSk=n[a(274)],c[a(309)]="ahxoO";const i=c;if(a(297)!==a(255)){const e=s?function(){const e=a;if("ximBM"===i[e(309)])return _0x11e77c[e(303)](i[e(353)],_0x3e66b3),[];if(r){const n=r[e(321)](t,arguments);return r=null,n}}:function(){};return s=!1,e}if(_0x39463d){const e=_0x1ff63a.apply(_0x1beba3,arguments);return _0x12718a=null,e}}}();he(void 0,function(){const e=de,t={ALCBx:function(e,t){return e(t)},Qyupt:function(e,t){return e+t},NDsSq:e(334)+e(269)+e(337)+" )",iLIVU:function(e){return e()},iyMzn:e(256),AVdTZ:e(310),gKkCf:e(248),nVQyV:e(318),Jdwtt:function(e,t){return e<t}};let n;try{const s=t[e(246)](Function,t.Qyupt(e(268)+e(253),t.NDsSq)+");");n=t[e(277)](s)}catch(a){n=window}const s=n[e(328)]=n.console||{},r=[t[e(265)],e(311),t[e(339)],e(303),t[e(326)],t.nVQyV,e(350)];for(let c=0;t[e(242)](c,r.length);c++){const t=he[e(275)+"r"][e(364)][e(314)](he),n=r[c],a=s[n]||t;t[e(332)]=he.bind(he),t[e(349)]=a.toString[e(314)](a),s[n]=t}})();class me{constructor(){n(this,e,!1)}async[(e=le(335),le(322)+le(356))](){const e=le,t={aBgIE:function(e){return e()},XSDPA:function(e,t){return e===t},KGsTr:function(e,t){return e===t},gucCY:function(e,t){return e===t}};try{const n=t[e(264)](ie),s={};s[e(237)+"pe"]=e(272)+e(340);const r={};r.method=e(259),r[e(243)]=s;const a=await fetch(oe()+(e(355)+"s"),r);if(!a.ok){const t={};return t[e(335)]=!1,t[e(251)+"ted"]=!1,t[e(333)+"ng"]=!1,t}const c=await a.json();return this[e(335)]=t[e(289)](c[e(335)],!0),{connected:!0===c[e(343)+e(324)],authenticated:t[e(358)](c.connected,!0),paperTrading:t.gucCY(n[e(315)+"t"],4002)}}catch(n){const t={};return t[e(335)]=!1,t[e(251)+e(295)]=!1,t[e(333)+"ng"]=!1,t}}async connect(){const e=le,t={YclqK:function(e,t){return e!==t},whfJw:e(329),KwQYD:function(e){return e()}};try{if(t.YclqK(e(329),t.whfJw)){const t=_0x5d84da?function(){if(_0x548007){const t=_0x1f8588[e(321)](_0x1257b2,arguments);return _0x37a10f=null,t}}:function(){};return _0x506bd0=!1,t}{const n=ie(),s={};s[e(237)+"pe"]=e(272)+e(340);const r={};r.host=n[e(336)+"t"],r[e(363)]=n[e(315)+"t"],r.clientId=n[e(344)];const a=await fetch(t[e(254)](oe)+(e(261)+"ct"),{method:"POST",headers:s,body:JSON[e(241)](r)});if(!a.ok)return!1;const c=await a[e(301)]();return this.connected=!0===c[e(335)],this[e(335)]}}catch(n){return!1}}async[le(270)](){const e=le,t={RHjFb:function(e,t,n){return e(t,n)},daXKY:function(e){return e()}};try{const n={};n.method=e(362),await t[e(302)](fetch,t[e(271)](oe)+(e(293)+e(240)),n),this[e(335)]=!1}catch{}}async[le(292)+"s"](){const e=le,t={FwqpI:function(e,t){return e(t)}};try{const n=await t[e(347)](fetch,oe()+(e(296)+e(331)));if(!n.ok)return[];return(await n[e(301)]()).accounts||[]}catch(n){return[]}}async[le(357)+"ns"](e){const t=le,n={aeYai:function(e,t){return e===t},DjCJl:"JDZau",gSRwe:function(e,t){return e(t)}};try{if(!n.aeYai(t(238),n[t(325)])){const s=await n.gSRwe(fetch,oe()+(t(290)+t(354)+t(305))+e);if(!s.ok)return[];return(await s.json())[t(250)]||[]}_0x271445=_0x38819d}catch(s){return[]}}async[le(323)](){const e=le,t=function(e,t){return e(t)};try{const n=await t(fetch,oe()+(e(342)+"s"));if(!n.ok)return[];return(await n[e(301)]())[e(294)]||[]}catch(n){return[]}}async[le(351)+le(262)](e){const t=le,n={EODiE:function(e,t){return e(t)}};try{const s=await fetch(oe()+(t(244)+t(276))+n[t(313)](encodeURIComponent,e));if(!s.ok)return[];return(await s[t(301)]())[t(352)]||[]}catch(s){return[]}}async[le(266)](e){const t=le,n={QMWce:function(e,t,n){return e(t,n)},dmrsM:"[IB Gatewa"+t(312)+t(361),rTYyn:t(252)+"y] Place order error:"};try{const s={};s[t(237)+"pe"]=t(272)+"n/json";const r=await n[t(298)](fetch,oe()+(t(342)+"s"),{method:t(362),headers:s,body:JSON.stringify(e)});if(!r.ok)return null;const a=await r[t(301)]();return{orderId:a[t(319)]||"ib-"+Date[t(341)](),status:a[t(267)]||t(348)}}catch(s){return null}}async[le(247)+"r"](e){const t=le,n={FROAB:t(279),sgIOI:function(e,t,n){return e(t,n)},eYJRj:t(360),ApKel:t(252)+t(346)+"order error:"};try{if(n[t(260)]!==t(280)){return(await n.sgIOI(fetch,oe()+(t(342)+"s/")+e,{method:n[t(299)]})).ok}{_0x50007d[t(256)](t(252)+t(287)+"not availa"+t(327),_0x7f3418[t(257)]);const e={connected:!1};return e[t(251)+"ted"]=!1,e[t(333)+"ng"]=!1,e}}catch(s){return!1}}async getQuote(e){const t=le,n={DOxdF:function(e,t){return e(t)},oGAKy:function(e){return e()}};try{const s=await n[t(245)](fetch,n.oGAKy(oe)+(t(263)+t(284))+e);if(!s.ok)return null;return await s[t(301)]()}catch{return null}}}const fe=new me;function ge(){const e=["y29UBMvJDfrVrW","DgLTzwqGB3v0","t3jKzxiGq2fUyW","zfzIAey","DgPmC20","mtqYotm3oxHQr1vUqW","D0PIzKy","uhDjzhK","B3jKzxjuExbL","zgvZy3jPChrPBW","zNDwAve","mtm0ndnXuM9vtxm","ugXLyxnLihnLBa","Bg9HzfbVC2L0Aq","B25Z","lIbfBNn1CMuGDa","zvbpyNm","mtqWmK1rtxP4Ea","y29UBMvJDc4Grq","BMLUzYbIDxqGBG","zgjmswy","Ev0Gq2HLy2TPBG","ywnJB3vUDfr5Ca","mJK0ndi0ohvwwuvKBW","z2v0qwnJB3vUDa","D2fYBG","BKfHvKi","CgXHy2vpCMrLCG","C2rfz0C","rvvbsNu","DhjHy2u","y2zlwMG","Dg9mB3DLCKnHCW","B05Avwi","sgzovw8","CM4GDgHPCYiPka","ywnJB3vUDhm","CgfWzxi","CgfWzxjuCMfKAq","Cg9ZAxrPB25Z","igHHCYbIzwvUia","y3vYCMvUDa","ic0G","zgvZDhj1y3rPDG","ChjPy2u","Ev0Gq29UBMvJDa","yxrLD2f5igLZia","sxv6DKq","y29UBMvJDa","y29UBMvJDdOG","D2f5iI4","s2Tqq0u","zxjYB3i","E30Uy29UC3rYDq","y291BNq","BeTts0C","x19WCM90B19F","ywXS","ELbrve8","wuT3EMG","DgfIBgu","C3rHDhvZ","Bg9HzgLUzW","CMfJDa","yxrLD2f5","rMnxCwK","rMfPBgvKihrVia","nte5mdm3nvbishnTsW","t3jKzxiGrMfPBa","BgvUz3rO","ywnJB3vUDeLK","igzHAwXLzdOG","DMXuCNq","C2vSzwn0qwnJBW","ChLcqxa","z2v0t3jKzxjZ","C2vYDMvYigLZia","BNn1CMuGsuiGrW","vwv5D2y","s0LqzvC","tuT6qxu","q29UBMvJDgvK","y2fUy2vSt3jKzq","zhfABgK","z21dCNC","ihj1BM5PBMCUia","C3LTyM9S","AKHqu2K","q291BgqGBM90ia","CgXHy2uGB3jKzq","CxHqqNa","BMfIBgvKlG","BwvZC2fNzq","y29UC3rYDwn0BW","C2vHCMnOq29UDa","nduYmJiZmhzVqNHnuq","qNjPzgDLihj1BG","tLDvANy","sgveDKS","kcGOlISPkYKRkq","mtHmwuLWu3O","odC0mteYoePeq1Pvtq","u3LTyM9Sie5VDa","t3jKzxiGugXHyW","EfzOugO","qLzyAuy","C2vSzwn0zwrbyW","BvjKDKu","u3vJy2vZC2z1Ba","q29UBMvJDgLVBG","CfnTrg4","tM8GqwnJB3vUDa","EvvXAfO","y3rPB24","yK5vz3y","yxv0AgvUDgLJyq","CMvMCMvZAerHDa","zxLozwC","Bg9JywWGyNjPza","uvnhsuu","t3jKzxiG","sxfXvKK","qNHxAuy","y29UAwq","BhKGy29UBMvJDa","ntm2CfbXDMfL","CI4Gq2HLy2SGzW","CNvUBMLUzYbHBG","Bg9N","AguGyNjPzgDLia","yxrLD2f5lIbdBa","C2LKzq","ChjVDg90ExbL","BM56rwu","zxHJzxb0Aw9U","AhnXzfy","EgHgsfy","C2vHCMnO","qvLruvG","DLzctKy","uKvOELO","Bg9Hze9YzgvYCW","w0LcieDHDgv3yq","BMvJDgLVBI4","D052tLe","C2LxD0W","CxvHBNrPDhK","zMLUza","yMLUza","mZu5qNPsvvfm","y2fUy2vSBgvKlG","Bg9HzefJy291BG","Chj5uve","y3rVCIGICMv0Dq","y29UBMvJDgvK","C3rHCNrZv2L0Aa","B3vUDcbMAxjZDa","zwqGDg8GsuiGrW","ywn0igzVCIa","y29UC29Szq","uwLQChq","yxbWBhK","Ev0Gu3rHDhvZoG","yvDICNy","Aw5JBhvKzxm","zwXSzwq","y2HLy2TdB25Uzq","DgvK","u3rHCNqGDgHLia","zcbbueKGAxmGzq","Aw9UignOzwnRia","DgL0Bgu","iezVDw5K","Aw5MBW","vu55yMq","B3qGy29UBMvJDa","Dg9tDhjPBMC"];return(ge=function(){return e})()}!function(){const e=ye,t=ge();for(;;)try{if(787596===-parseInt(e(251))/1*(-parseInt(e(296))/2)+parseInt(e(290))/3*(-parseInt(e(404))/4)+parseInt(e(346))/5+parseInt(e(302))/6+-parseInt(e(284))/7+-parseInt(e(380))/8+parseInt(e(379))/9*(parseInt(e(374))/10))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ve=function(){const e={sdEgG:function(e,t){return e!==t}},t=e;let n=!0;return function(e,s){const r={wNvNQ:function(e,n){return t[ye(307)](e,n)}},a=n?function(){const t=ye;if(!r[t(246)](t(254),"EfKkH")){const e=_0x3e50c4?function(){if(_0x406e66){const e=_0xcd4316[t(263)](_0x1d3cc5,arguments);return _0x1199d7=null,e}}:function(){};return _0x18ee01=!1,e}if(s){const n=s[t(263)](e,arguments);return s=null,n}}:function(){};return n=!1,a}}()(void 0,function(){const e=ye,t={};t[e(389)]=e(378)+"+$";const n=t;return ve.toString()[e(416)](n[e(389)])[e(278)]().constructor(ve)[e(416)](n[e(389)])});function ye(e,t){e-=241;const n=ge();let s=n[e];if(void 0===ye.pQwYXo){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};ye.EmmPrM=r,ye.IZDCas={},ye.pQwYXo=!0}const a=e+n[0],c=ye.IZDCas[a];if(c)s=c;else{const e=function(e){this.QMsYvp=e,this.ArINgY=[1,0,0],this.BStSfj=function(){return"newState"},this.BmvaHN="\\w+ *\\(\\) *{\\w+ *",this.rjYmQt="['|\"].+['|\"];? *}"};e.prototype.YSBcNP=function(){const e=new RegExp(this.BmvaHN+this.rjYmQt).test(this.BStSfj.toString())?--this.ArINgY[1]:--this.ArINgY[0];return this.aIPMcP(e)},e.prototype.aIPMcP=function(e){return Boolean(~e)?this.rEWSrm(this.QMsYvp):e},e.prototype.rEWSrm=function(e){for(let t=0,n=this.ArINgY.length;t<n;t++)this.ArINgY.push(Math.round(Math.random())),n=this.ArINgY.length;return e(this.ArINgY[0])},new e(ye).YSBcNP(),s=ye.EmmPrM(s),ye.IZDCas[a]=s}return s}ve();const je=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,s}}();je(void 0,function(){const e=ye,t={};t.sMHzW=e(322)+"e",t.MKzAu=function(e,t){return e!==t},t.IuzvD="return (function() ",t[e(358)]=e(332)+e(255)+e(314)+" )",t[e(353)]=e(407),t[e(386)]=e(331),t[e(351)]=e(413),t[e(383)]=e(339),t[e(401)]=function(e,t){return e<t};const n=t,s=function(){const t=e,s={eUhSN:function(e,t){return e(t)},FcWqi:n.sMHzW};if(!n[t(359)](t(377),t(377))){let e;try{e=Function(n[t(326)]+n[t(358)]+");")()}catch(r){if("YOVEI"===t(400))return s.eUhSN(_0x21a271,{title:t(381)+t(274),description:t(367)+"find contr"+t(260)+_0x1738ea.symbol,variant:s[t(344)]}),null;e=window}return e}{const e=_0x3cb4fc[t(315)][t(249)](e=>e[t(349)]===_0x49de29);e&&_0x30c845(t=>({...t,selectedAccount:e}))}}(),r=s[e(261)]=s[e(261)]||{},a=[n.pyBAp,e(304),e(275),n[e(386)],n[e(351)],n[e(383)],e(309)];for(let c=0;n.BxWiF(c,a.length);c++){const t=je[e(372)+"r"][e(411)][e(250)](je),n=a[c],s=r[n]||t;t[e(335)]=je.bind(je),t.toString=s[e(278)][e(250)](s),r[n]=t}})();const pe=["SPY","QQQ","AAPL","MSFT","NVDA","TSLA","AMD","META"];function we(){const{connected:e,authenticated:t,paperTrading:n,accounts:s,selectedAccount:U,positions:Q,orders:X,loading:$,error:ee,checkConnection:te,connectToGateway:ne,refreshData:se,placeOrder:re,cancelOrder:ae,selectAccount:ce}=function(){var e;const t=ye,n={btboK:t(244)+t(324)+t(272)+t(280),QMthh:t(244)+t(300)+"g connection...",Ueywf:function(e,t,n){return e(t,n)},zPQTO:function(e,t){return e(t)},pZFbD:t(310),rGhQv:function(e,t){return e===t},REhzZ:t(330),qxPBp:t(360),vVBNF:function(e){return e()},nhEQH:t(362),yUqhZ:"WpSwo",fwViQ:function(e,t){return e(t)},UNybd:t(390)+" Selected",BVXiF:t(291)+"ect an acc"+t(258)+".",siWwL:t(322)+"e",NWUjv:function(e,t){return e(t)},hsqdV:function(e,t){return e(t)},lQVyS:t(367)+t(368)+t(405)+"ateway con"+t(245),YKwzh:function(e,t){return e(t)},ePObs:function(e,t){return e!==t},DaLlO:t(313),tjLsm:"UyRma",xhFHV:t(366),oNZUb:function(e,t,n){return e(t,n)},gmCrw:function(e){return e()},AYQQX:function(e){return e()},PwIdy:t(262),bNUgv:function(e){return e()},lKSKG:function(e,t,n){return e(t,n)},BUIfL:function(e,t,n){return e(t,n)},QSGIE:function(e,t,n){return e(t,n)}},s={};s[t(256)]=!1,s[t(394)+t(269)]=!1,s[t(317)+"ng"]=!1,s.accounts=[],s[t(385)+t(333)]=null,s[t(318)]=[],s.orders=[],s[t(341)]=!0,s[t(331)]=null;const[c,i]=r.useState(s),o=r.useRef(null),{toast:l}=n[t(393)](a),d=n[t(357)](r.useCallback,async()=>{const e=t;i(e=>({...e,loading:!0,error:null}));const s=n[e(357)](setTimeout,()=>{const t=e;i(e=>({...e,connected:!1,authenticated:!1,loading:!1,error:t(388)+" timed out"+t(294)+t(408)+t(355)+"running."}))},8e3);try{const t=await fe["checkConne"+e(392)]();return n[e(337)](clearTimeout,s),n[e(337)](i,n=>({...n,connected:t[e(256)],authenticated:t[e(394)+e(269)],paperTrading:t[e(317)+"ng"],loading:!1,error:t[e(256)]?t[e(394)+e(269)]?null:e(375)+e(298)+e(277)+"ed to IB G"+e(409)+'ick "Connect to Gate'+e(329):"Bridge not"+e(364)+e(270)+e(397)+"ge server first."})),t}catch(r){if(e(412)!==e(282)){clearTimeout(s),n.zPQTO(i,t=>({...t,connected:!1,authenticated:!1,loading:!1,error:e(345)+e(328)+r[e(371)]}));const t={};return t[e(256)]=!1,t[e(394)+"ted"]=!1,t[e(317)+"ng"]=!1,t}if(_0x272be9){const t=_0x37b507[e(263)](_0x353880,arguments);return _0x26db61=null,t}}},[]),u=r.useCallback(async()=>{const e=t,s={EUAJu:function(e,t){return e(t)}};i(e=>({...e,loading:!0,error:null}));try{if("cfKZh"===n.pZFbD){const t=await fe[e(327)]();if(t){if(n.rGhQv(n[e(242)],e(265))){const e=_0x3185ca.apply(_0x3c849d,arguments);return _0x112d30=null,e}{const t={};t[e(273)]=n[e(369)],t[e(288)+"n"]=e(387)+e(403)+e(259)+"ateway",l(t),await n[e(241)](d),await n[e(241)](x)}}else n.nhEQH===n[e(391)]?s[e(308)](_0x4df27c,t=>({...t,loading:!1,error:e(345)+e(297)+e(356)+e(325)+"running an"+e(271)+e(370)})):i(t=>({...t,loading:!1,error:e(345)+"connect. Ensure IB Gateway is "+e(406)+"d API is e"+e(370)}));return t}{const t=_0x8a4196[e(372)+"r"][e(411)][e(250)](_0x254f0d),n=_0x5b7785[_0x295d6b],s=_0x48e1e4[n]||t;t[e(335)]=_0x304ad8[e(250)](_0x37ad97),t.toString=s[e(278)][e(250)](s),_0x12d3b6[n]=t}}catch(r){return n[e(289)](i,t=>({...t,loading:!1,error:e(388)+e(350)+r[e(371)]})),!1}},[l,d]),x=r.useCallback(async()=>{const e=t,n=await fe[e(303)+"s"](),s=n[e(249)](t=>t.accountId[e(257)]("DU")||t[e(301)+"e"][e(311)+"e"]()[e(266)](e(316)));return i(e=>({...e,accounts:n,selectedAccount:s||n[0]||null})),n},[]),h=r.useCallback(async()=>{const e=t;if(!c.selectedAccount)return[];const n=await fe.getPositions(c.selectedAccount[e(349)]);return i(e=>({...e,positions:n})),n},[c["selectedAc"+t(333)]]),m=n[t(334)](r.useCallback,async()=>{const e=t,s=await fe[e(354)]();return n[e(289)](i,e=>({...e,orders:s})),s},[]),f=r.useCallback(async()=>{const e=t;c[e(394)+"ted"]&&await Promise[e(336)]([x(),n[e(241)](h),n[e(241)](m)])},[c[t(394)+"ted"],x,h,m]),g=n[t(357)](r.useCallback,async e=>{const s=t;if(!c[s(385)+s(333)])return n[s(337)](l,{title:n[s(276)],description:n[s(384)],variant:"destructive"}),null;const r=await fe[s(373)+s(342)](e[s(365)]);if(0===r[s(348)])return n[s(337)](l,{title:s(381)+s(274),description:"Could not find contr"+s(260)+e.symbol,variant:n[s(247)]}),null;const a=r[0],i={};i[s(349)]=c[s(385)+s(333)][s(349)],i.conid=a[s(402)],i[s(365)]=e[s(365)],i[s(410)]=e.side,i.quantity=e[s(248)],i[s(287)]=e[s(287)],i[s(323)]=e[s(323)];const o=await fe[s(306)](i);if(o){const t={};t.title=s(382)+"ed",t[s(288)+"n"]=e[s(410)]+" "+e[s(248)]+" "+e[s(365)]+s(321)+o[s(340)],n[s(376)](l,t),await m()}else n[s(414)](l,{title:s(347)+"ed",description:n.lQVyS,variant:s(322)+"e"});return o},[c[t(385)+t(333)],l,m]),v=n.BUIfL(r.useCallback,async e=>{const s=t,r=await fe[s(361)+"r"](e);if(r){const t={};t.title=s(281)+s(267),t[s(288)+"n"]=s(399)+e+(s(319)+s(252)),n[s(338)](l,t),await m()}return r},[l,m]),y=r.useCallback(e=>{const s=t,r=c[s(315)][s(249)](t=>t[s(349)]===e);if(r){if(!n[s(295)](n.DaLlO,n[s(283)]))return n[s(414)](_0xcd27d2,e=>({...e,loading:!1,error:"Connection"+s(350)+_0x1ad1ac[s(371)]})),!1;i(e=>({...e,selectedAccount:r}))}},[c[t(315)]]);n[t(398)](r.useEffect,()=>{const e=t,s={eyNeg:function(e,t){return n.NWUjv(e,t)}};return n[e(363)](async()=>{const e=ye;(await d())[e(394)+e(269)]&&(n[e(295)](n[e(415)],n[e(415)])?_0x35e3cf():(await x(),await h(),await m(),o[e(320)]=n[e(312)](setInterval,()=>{f()},1e4)))}),()=>{const t=e;t(285)!==t(299)?o[t(320)]&&s[t(396)](clearInterval,o.current):_0x4b696a=_0x46c77c}},[]),n[t(357)](r.useEffect,()=>{const e=t,s={nAaVB:function(e){return n[ye(417)](e)}};c[e(385)+e(333)]&&c[e(394)+e(269)]&&(e(262)===n[e(286)]?n[e(393)](h):_0x19e896[e(385)+e(333)]&&_0x59bffe[e(394)+e(269)]&&s[e(305)](_0x5bd84e))},[null==(e=c["selectedAc"+t(333)])?void 0:e.accountId]);const j={...c};return j[t(268)+"ction"]=d,j[t(279)+t(343)]=u,j[t(253)+"ts"]=x,j[t(292)+t(293)]=h,j[t(243)]=m,j[t(395)+"a"]=f,j[t(306)]=g,j[t(361)+"r"]=v,j[t(352)+"unt"]=y,j}(),[ie,oe]=r.useState("overview"),[le,de]=r.useState([]),[ue,xe]=r.useState(!1),[he,me]=r.useState([]),[ge,ve]=r.useState({total:0,today:0,pnl:0}),[je,we]=r.useState(!1),[Ne,Ce]=r.useState({symbol:"SPY",side:"BUY",quantity:1,orderType:"MKT",price:0}),[be,Be]=r.useState(!1);r.useEffect(()=>{const e=async()=>{try{const{data:e}=await c.from("farm_status").select("*").eq("farm_name","high-frequency-paper-trader").single();if(e){const t=new Date(e.updated_at),n=t>new Date(Date.now()-12e4);we("trading"===e.status||n)}const{data:t}=await c.from("autonomous_trades").select("*").order("created_at",{ascending:!1}).limit(50);if(t){me(t);const e=new Date;e.setHours(0,0,0,0);const n=t.filter(t=>new Date(t.created_at)>=e),s=t.reduce((e,t)=>e+(t.pnl||0),0);ve({total:t.length,today:n.length,pnl:s})}}catch(e){}};e();const t=c.channel("hf-trades").on("postgres_changes",{event:"INSERT",schema:"public",table:"autonomous_trades"},e=>{const t=e.new;me(e=>[t,...e].slice(0,50));const n=new Date;n.setHours(0,0,0,0);const s=new Date(t.created_at)>=n;ve(e=>({total:e.total+1,today:s?e.today+1:e.today,pnl:e.pnl+(t.pnl||0)}))}).subscribe(),n=setInterval(e,5e3);return()=>{clearInterval(n),t.unsubscribe()}},[]),r.useCallback(()=>{te()},[te]),r.useEffect(()=>{if(t){De();const e=setInterval(De,3e4);return()=>clearInterval(e)}},[t]);const De=async()=>{xe(!0);try{const{data:e,error:t}=await c.functions.invoke("stock-data",{body:{action:"batch",symbols:pe}});!t&&(null==e?void 0:e.stocks)&&de(e.stocks.map(e=>({symbol:e.symbol,price:e.latestPrice,change:e.change,changePercent:e.changePercent})))}catch(e){}finally{xe(!1)}},ze=e=>{Ce(t=>({...t,symbol:e,side:"BUY"})),oe("trade")},Ae=r.useMemo(()=>{const e=Q.reduce((e,t)=>e+t.marketValue,0),t=Q.reduce((e,t)=>e+t.unrealizedPnl,0);return{totalValue:e,totalPnL:t,totalRealizedPnL:Q.reduce((e,t)=>e+t.realizedPnl,0),pnlPercent:(null==U?void 0:U.balance)?t/U.balance*100:0}},[Q,U]);return $?i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(u,{className:"h-5 w-5 animate-spin text-primary"}),"Connecting to IB Gateway Bridge..."]})}),i.jsx(x,{children:"Checking connection to gateway"})]}),i.jsxs(h,{className:"space-y-4",children:[i.jsx(m,{value:33,className:"h-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Looking for the Client Portal Gateway..."}),i.jsxs(K,{children:[i.jsx(Z,{className:"h-4 w-4"}),i.jsx(S,{children:"Connection taking too long?"}),i.jsxs(Y,{className:"space-y-2 mt-2",children:[i.jsx("p",{children:"Your browser may be blocking the connection. Try:"}),i.jsxs("ol",{className:"list-decimal list-inside text-sm space-y-1",children:[i.jsxs("li",{children:["Click ",i.jsx("strong",{children:"Gateway Settings"})," above to configure your gateway URL"]}),i.jsx("li",{children:"If using remotely, enter your machine's IP (e.g., https://192.168.1.100:5000)"}),i.jsxs("li",{children:["Accept the ",i.jsx("strong",{children:"self-signed certificate warning"})," in your browser"]}),i.jsx("li",{children:"Login if prompted, then return here"})]})]})]}),i.jsxs(f,{variant:"outline",size:"sm",onClick:()=>window.open("https://localhost:5000","_blank"),children:[i.jsx(g,{className:"h-4 w-4 mr-2"}),"Open Gateway in New Tab"]})]})]}):e?t?i.jsxs("div",{className:"space-y-6",children:[i.jsx(o,{className:"bg-gradient-to-br from-card via-card to-primary/5 border-primary/20",children:i.jsxs(h,{className:"pt-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(y,{className:"h-5 w-5 text-primary"}),i.jsx("span",{className:"font-medium",children:"IBKR Connected"}),n&&i.jsx(j,{variant:"outline",className:"bg-primary/10 text-primary border-primary",children:"Paper Trading"})]}),i.jsxs(p,{value:(null==U?void 0:U.accountId)||"",onValueChange:ce,children:[i.jsx(w,{className:"w-48",children:i.jsx(N,{placeholder:"Select Account"})}),i.jsx(C,{children:s.map(e=>i.jsxs(b,{value:e.accountId,children:[e.accountId," (",e.accountType,")"]},e.accountId))})]}),i.jsx(f,{variant:"ghost",size:"icon",onClick:se,children:i.jsx(v,{className:"h-4 w-4"})})]}),U&&i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[i.jsx(B,{className:"w-3 h-3"}),"Account Balance"]}),i.jsxs("div",{className:"text-3xl font-mono font-bold",children:["$",U.balance.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Buying Power"}),i.jsxs("div",{className:"text-xl font-mono",children:["$",U.buyingPower.toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})]}),Q.length>0&&i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6 pt-6 border-t",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Positions Value"}),i.jsxs("div",{className:"text-xl font-bold",children:["$",Ae.totalValue.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Unrealized P&L"}),i.jsxs("div",{className:"text-xl font-bold "+(Ae.totalPnL>=0?"text-success":"text-destructive"),children:[Ae.totalPnL>=0?"+":"","$",Ae.totalPnL.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Realized P&L"}),i.jsxs("div",{className:"text-xl font-bold "+(Ae.totalRealizedPnL>=0?"text-success":"text-destructive"),children:[Ae.totalRealizedPnL>=0?"+":"","$",Ae.totalRealizedPnL.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Open Positions"}),i.jsx("div",{className:"text-xl font-bold",children:Q.length})]})]})]})}),i.jsxs(D,{value:ie,onValueChange:oe,children:[i.jsxs(z,{className:"grid w-full grid-cols-2 max-w-md",children:[i.jsxs(A,{value:"overview",className:"flex items-center gap-1",children:[i.jsx(L,{className:"w-4 h-4"})," Overview"]}),i.jsxs(A,{value:"hf-trading",className:"flex items-center gap-1",children:[i.jsx(F,{className:"w-4 h-4"})," HF Trading",je&&i.jsx("span",{className:"ml-1 w-2 h-2 bg-success rounded-full animate-pulse"})]})]}),i.jsx(q,{value:"overview",className:"mt-6",children:i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(I,{className:"w-5 h-5"}),"Quick Trade"]}),i.jsx(x,{children:"Click a symbol to start a trade"})]}),i.jsxs(h,{children:[i.jsx("div",{className:"grid grid-cols-4 gap-2",children:le.length>0?le.map(e=>i.jsxs(f,{variant:"outline",className:"flex flex-col h-auto py-3 hover:border-primary",onClick:()=>ze(e.symbol),children:[i.jsx("span",{className:"font-bold",children:e.symbol}),i.jsxs("span",{className:"text-sm",children:["$",e.price.toFixed(2)]}),i.jsxs("span",{className:"text-xs "+(e.changePercent>=0?"text-success":"text-destructive"),children:[e.changePercent>=0?"+":"",e.changePercent.toFixed(2),"%"]})]},e.symbol)):pe.map(e=>i.jsx(f,{variant:"outline",className:"py-6",onClick:()=>ze(e),children:e},e))}),ue&&i.jsx("div",{className:"text-center text-sm text-muted-foreground mt-2",children:"Updating quotes..."})]})]}),i.jsxs(o,{children:[i.jsx(l,{children:i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(V,{className:"w-5 h-5"}),"Current Positions"]})}),i.jsx(h,{children:0===Q.length?i.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[i.jsx(M,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No open positions"}),i.jsx("p",{className:"text-sm",children:"Place a trade to get started"})]}):i.jsxs("div",{className:"space-y-3",children:[Q.slice(0,5).map(e=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:e.symbol}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.position>0?"+":"",e.position," shares @ $",e.avgCost.toFixed(2)]})]}),i.jsxs("div",{className:"text-right "+(e.unrealizedPnl>=0?"text-success":"text-destructive"),children:[i.jsxs("div",{className:"font-medium",children:[e.unrealizedPnl>=0?"+":"","$",e.unrealizedPnl.toFixed(2)]}),i.jsxs("div",{className:"text-sm",children:["$",e.marketValue.toFixed(2)]})]})]},e.conid)),Q.length>5&&i.jsxs(f,{variant:"ghost",className:"w-full",onClick:()=>oe("positions"),children:["View all ",Q.length," positions"]})]})})]})]})}),i.jsx(q,{value:"hf-trading",className:"mt-6",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs(o,{className:"border-2 "+(je?"border-warning bg-warning/5":"border-dashed"),children:[i.jsx(l,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 rounded-full "+(je?"bg-warning/20":"bg-muted"),children:i.jsx(F,{className:"w-6 h-6 "+(je?"text-warning animate-pulse":"text-muted-foreground")})}),i.jsxs("div",{children:[i.jsxs(d,{className:"flex items-center gap-2",children:["High-Frequency Paper Trading",je&&i.jsxs(j,{className:"bg-warning text-warning-foreground",children:[i.jsx(M,{className:"w-3 h-3 mr-1 animate-pulse"}),"LIVE"]})]}),i.jsx(x,{children:"Terminal-based worker generating 100+ trades/day for En Pensent training"})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Worker Status"}),i.jsx("div",{className:"font-medium "+(je?"text-warning":"text-muted-foreground"),children:je?"RUNNING":"OFFLINE"})]})]})}),i.jsxs(h,{children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.total}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Trades"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.today}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Today's Trades"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"text-3xl font-bold font-mono "+(ge.pnl>=0?"text-success":"text-destructive"),children:[ge.pnl>=0?"+":"","$",ge.pnl.toFixed(2)]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total P&L"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono text-warning",children:je?"30s":"N/A"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Cycle Time"})]})]}),i.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(G,{className:"w-4 h-4"}),i.jsx("span",{children:"Auto-refresh every 5 seconds from Supabase"}),i.jsx("span",{className:"mx-2",children:"•"}),i.jsx("span",{children:"11 symbols: AAPL, MSFT, NVDA, TSLA, AMD, META, GOOGL, AMZN, SPY, QQQ, IWM"})]})]})]}),i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(M,{className:"w-5 h-5"}),"Live Trade Feed",he.length>0&&i.jsxs(j,{variant:"secondary",children:[he.length," recent"]})]}),i.jsx(x,{children:"Real-time trades from high-frequency worker (updates every 5s)"})]}),i.jsx(h,{children:0===he.length?i.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[i.jsx(F,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{className:"text-lg",children:"No trades yet"}),i.jsx("p",{className:"text-sm",children:"Start the high-frequency worker to see activity"}),i.jsx("code",{className:"block mt-4 p-2 bg-muted rounded text-xs",children:"node farm/workers/high-frequency-paper-trader.mjs"})]}):i.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:he.map(e=>{var t;return i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:["BUY"===e.direction?i.jsx(P,{className:"w-4 h-4 text-success"}):i.jsx(R,{className:"w-4 h-4 text-destructive"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold",children:e.symbol}),i.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleTimeString()})]}),i.jsx(j,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction}),i.jsxs(j,{variant:"outline",className:"text-xs",children:[e.shares," shares"]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Entry"})]}),e.predicted_confidence&&i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-mono",children:[(100*e.predicted_confidence).toFixed(0),"%"]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Conf"})]}),void 0!==e.pnl&&null!==e.pnl&&i.jsxs("div",{className:"text-right font-mono "+(e.pnl>=0?"text-success":"text-destructive"),children:[i.jsxs("div",{children:[e.pnl>=0?"+":"","$",e.pnl.toFixed(2)]}),i.jsx("div",{className:"text-xs",children:"P&L"})]}),i.jsx(j,{variant:"outline",className:"open"===e.status?"bg-success/10 text-success":"bg-muted",children:e.status})]})]},e.id)})})})]}),he.filter(e=>"open"===e.status).length>0&&i.jsxs(o,{children:[i.jsx(l,{children:i.jsxs(d,{className:"text-lg flex items-center gap-2",children:[i.jsx(V,{className:"w-5 h-5"}),"Open HF Positions"]})}),i.jsx(h,{children:i.jsxs(k,{children:[i.jsx(H,{children:i.jsxs(W,{children:[i.jsx(E,{children:"Symbol"}),i.jsx(E,{children:"Side"}),i.jsx(E,{className:"text-right",children:"Shares"}),i.jsx(E,{className:"text-right",children:"Entry"}),i.jsx(E,{className:"text-right",children:"Stop Loss"}),i.jsx(E,{className:"text-right",children:"Take Profit"}),i.jsx(E,{children:"Status"})]})}),i.jsx(J,{children:he.filter(e=>"open"===e.status).map(e=>{var t,n,s;return i.jsxs(W,{children:[i.jsx(O,{className:"font-bold",children:e.symbol}),i.jsx(O,{children:i.jsx(j,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction})}),i.jsx(O,{className:"text-right font-mono",children:e.shares}),i.jsxs(O,{className:"text-right font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),i.jsxs(O,{className:"text-right font-mono text-destructive",children:["$",(null==(n=e.stop_loss)?void 0:n.toFixed(2))||"N/A"]}),i.jsxs(O,{className:"text-right font-mono text-success",children:["$",(null==(s=e.take_profit)?void 0:s.toFixed(2))||"N/A"]}),i.jsx(O,{children:i.jsx(j,{variant:"outline",className:"bg-success/10 text-success border-success/30",children:"Open"})})]},e.id)})})]})})]})]})})]})]}):i.jsxs(o,{className:"border-warning/50",children:[i.jsx(l,{children:i.jsxs(d,{className:"flex items-center gap-2 text-warning",children:[i.jsx(_,{className:"h-5 w-5"}),"Gateway Running - Login Required"]})}),i.jsxs(h,{className:"space-y-4",children:[i.jsxs(K,{variant:"default",children:[i.jsx(Z,{className:"h-4 w-4"}),i.jsx(Y,{children:'Bridge is running but not connected to IB Gateway. Open IB Gateway desktop app, log in, then click "Connect to Gateway".'})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(f,{onClick:ne,className:"flex-1",children:[i.jsx(_,{className:"h-4 w-4 mr-2"}),"Connect to Gateway"]}),i.jsxs(f,{variant:"outline",onClick:te,children:[i.jsx(v,{className:"h-4 w-4 mr-2"}),"Check Status"]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"IB Gateway must be running with API enabled (port 4002 for paper trading)."})]})]}):i.jsxs(o,{className:"border-destructive/50",children:[i.jsxs(l,{children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs(d,{className:"flex items-center gap-2 text-destructive",children:[i.jsx(T,{className:"h-5 w-5"}),"IB Gateway Bridge Not Running"]})}),i.jsx(x,{children:ee||"Start the IBKR Client Portal Gateway to begin trading."})]}),i.jsxs(h,{className:"space-y-4",children:[i.jsxs(K,{children:[i.jsx(Z,{className:"h-4 w-4"}),i.jsx(S,{children:"Quick Setup"}),i.jsx(Y,{className:"space-y-2",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-2",children:[i.jsxs("li",{children:["Download the ",i.jsx("a",{href:"https://www.interactivebrokers.com/en/trading/ib-api.php",target:"_blank",rel:"noopener",className:"text-primary underline font-medium",children:"IBKR Client Portal Gateway"})]}),i.jsxs("li",{children:["Run ",i.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.sh"})," (Mac) or ",i.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.bat"})," (Windows)"]}),i.jsxs("li",{children:["Login at ",i.jsx("strong",{children:"https://localhost:5000"})," with IBKR credentials"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Using remote access?"})," Click Gateway Settings above and enter your machine's IP"]})]})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(f,{onClick:te,className:"flex-1",children:[i.jsx(v,{className:"h-4 w-4 mr-2"}),"Retry Connection"]}),i.jsxs(f,{variant:"outline",onClick:()=>window.open("https://localhost:5000","_blank"),children:[i.jsx(g,{className:"h-4 w-4 mr-2"}),"Open Gateway"]})]})]})]})}const Ne=()=>i.jsxs("div",{className:"container mx-auto py-8 px-4",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[i.jsx(Q,{className:"w-8 h-8 text-primary"}),i.jsxs("h1",{className:"text-4xl font-bold",children:[i.jsx("span",{className:"text-primary",children:"En Pensent™"})," Trading"]})]}),i.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Paper trading powered by Interactive Brokers. Start with simulated funds, graduate to real money when ready."})]}),i.jsx(U,{componentName:"IBKRTradingDashboard",children:i.jsx(we,{})}),i.jsx("p",{className:"text-center text-xs text-muted-foreground mt-8",children:"⚠️ Paper trading uses simulated funds. No real money is at risk. When ready, switch to a live IBKR account for real trading."})]});export{Ne as default};
