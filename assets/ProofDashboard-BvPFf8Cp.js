import{aJ as e,fi as t,fj as n,s,r,eC as a,fd as i,j as c,C as o,x as l,bh as d,aT as u,e7 as x,ad as m,aj as h,bi as f,p as g,t as y,aY as p,w as j,dt as v,aZ as b,y as N,fk as w,F as D,bC as C,aq as z,E as M}from"./index-D6g_YXgr.js";import{C as A}from"./calendar-B4SC_2T8.js";const B=e("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);function L(e,s){const r=function(e){const t={},n=e.split(q.dateTimeDelimiter);let s;if(n.length>2)return t;/:/.test(n[0])?s=n[0]:(t.date=n[0],s=n[1],q.timeZoneDelimiter.test(t.date)&&(t.date=e.split(q.timeZoneDelimiter)[0],s=e.substr(t.date.length,e.length)));if(s){const e=q.timezone.exec(s);e?(t.time=s.replace(e[1],""),t.timezone=e[1]):t.time=s}return t}(e);let a;if(r.date){const e=function(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),s=e.match(n);if(!s)return{year:NaN,restDateString:""};const r=s[1]?parseInt(s[1]):null,a=s[2]?parseInt(s[2]):null;return{year:null===a?r:100*a,restDateString:e.slice((s[1]||s[2]).length)}}(r.date,2);a=function(e,t){if(null===t)return new Date(NaN);const n=e.match(W);if(!n)return new Date(NaN);const s=!!n[4],r=T(n[1]),a=T(n[2])-1,i=T(n[3]),c=T(n[4]),o=T(n[5])-1;if(s)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,c,o)?function(e,t,n){const s=new Date(0);s.setUTCFullYear(e,0,4);const r=s.getUTCDay()||7,a=7*(t-1)+n+1-r;return s.setUTCDate(s.getUTCDate()+a),s}(t,c,o):new Date(NaN);{const e=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(H[t]||(U(e)?29:28))}(t,a,i)&&function(e,t){return t>=1&&t<=(U(e)?366:365)}(t,r)?(e.setUTCFullYear(t,a,Math.max(r,i)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let c,o=0;if(r.time&&(o=function(e){const s=e.match(k);if(!s)return NaN;const r=S(s[1]),a=S(s[2]),i=S(s[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(r,a,i))return NaN;return r*t+a*n+1e3*i}(r.time),isNaN(o)))return new Date(NaN);if(!r.timezone){const e=new Date(i+o),t=new Date(0);return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t}return c=function(e){if("Z"===e)return 0;const s=e.match(G);if(!s)return 0;const r="+"===s[1]?-1:1,a=parseInt(s[2]),i=s[3]&&parseInt(s[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,i))return NaN;return r*(a*t+i*n)}(r.timezone),isNaN(c)?new Date(NaN):new Date(i+o+c)}const q={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},W=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,k=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,G=/^([+-])(\d{2})(?::?(\d{2}))?$/;function T(e){return e?parseInt(e):1}function S(e){return e&&parseFloat(e.replace(",","."))||0}const H=[31,null,31,30,31,30,31,31,30,31,30,31];function U(e){return e%400==0||e%4==0&&e%100!=0}!function(){const e=Y,t=K();for(;;)try{if(736481===parseInt(e(454))/1+parseInt(e(581))/2+parseInt(e(547))/3+-parseInt(e(466))/4*(parseInt(e(523))/5)+parseInt(e(495))/6+-parseInt(e(461))/7+-parseInt(e(525))/8)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const E=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=Y,t={};t[e(500)]=e(489)+"+$";const n=t;return E[e(478)]()[e(508)](n[e(500)])[e(478)]()[e(533)+"r"](E)[e(508)](e(489)+"+$")});E();const P=function(){const e=Y,t={};t[e(437)]=function(e,t){return e!==t},t[e(601)]=e(635),t[e(636)]="VXxTv";const n=t;let s=!0;return function(t,r){const a=e;if(n.DxTNd(n[a(601)],n[a(636)])){const e=s?function(){if(r){const e=r[a(612)](t,arguments);return r=null,e}}:function(){};return s=!1,e}{const e=_0x5ed5d7[a(533)+"r"][a(555)].bind(_0x24f123),t=_0x99b5a0[_0x1c77b9],n=_0x5ad1c9[t]||e;e[a(559)]=_0x364e65[a(574)](_0x40d7c8),e[a(478)]=n[a(478)][a(574)](n),_0x593b29[t]=e}}}();function I(e,t){const n=Y,s={gognU:"Bullet/Blitz",SgfOc:function(e,t){return e&&t},ZEgaQ:n(541),vqCHE:function(e,t){return e/t},bdtxR:n(626)+n(634),pQchr:n(517),hVzxw:n(603),irvCm:n(476)+n(470)+"d",lfLZT:n(611),ewVsw:n(472),IUIGR:n(542)+"400",zkOCA:n(545),jqkGG:n(562)+n(579),FEaxs:n(563),eLDhK:"text-green"+n(605),Kjmeu:function(e,t){return e(t)},yDzyV:n(443)+"00",Xidrs:n(434),AWqkY:function(e,t){return e<=t}};if(s[n(543)](!e,t)){if(n(501)!==s[n(490)]){const e=t[n(518)](/\((\d{3,4})\)/g);if(e&&e[n(411)]>=1){const t=e[n(477)](e=>parseInt(e[n(609)](/[()]/g,""))),r=s[n(420)](t[n(564)]((e,t)=>e+t,0),t.length);if(r>=2800){const e={};return e[n(551)]=n(414)+"tz",e[n(557)]=s[n(407)],e[n(491)]="‚ö°",e}if(r>=2500){if(s[n(584)]!==s[n(554)]){const e={};return e[n(551)]=n(516),e[n(557)]=n(542)+n(600),e.icon="üéØ",e}return _0x32781f.toString()[n(508)](n(489)+"+$")[n(478)]()[n(533)+"r"](_0xe4e867).search("(((.+)+)+)+$")}}const r={};return r[n(551)]="Rated",r[n(557)]=s.irvCm,r[n(491)]="‚ôüÔ∏è",r}{const e={};return e[n(551)]=s[n(538)],e[n(557)]=n(626)+n(634),e[n(491)]="‚ö°",e}}if(!e){const e={};return e[n(551)]="Unknown",e[n(557)]=s[n(429)],e[n(491)]="üéØ",e}const r=e[n(576)+"e"]()[n(457)]();switch(r){case s[n(565)]:case"ultrabullet":case n(595)+"t":const t={};return t.label=n(497),t.color=n(443)+"00",t[n(491)]="‚ö°",t;case s[n(630)]:const a={};return a[n(551)]="Blitz",a[n(557)]=n(626)+n(634),a[n(491)]="üî•",a;case n(474):const i={};return i[n(551)]=n(428),i[n(557)]=s[n(550)],i.icon="‚è±Ô∏è",i;case s[n(433)]:case s.jqkGG:case"standard":const c={};return c[n(551)]=s[n(441)],c[n(557)]=s[n(568)],c[n(491)]="‚ôüÔ∏è",c;default:if(/^\d+\+?\d*$/.test(r)){const e=s[n(496)](parseInt,r[n(572)]("+")[0]),t={};if(t[n(551)]="Bullet",t[n(557)]=s[n(515)],t[n(491)]="‚ö°",e<=2)return t;const a={};if(a[n(551)]=s[n(623)],a[n(557)]="text-orang"+n(634),a.icon="üî•",e<=5)return a;if(s[n(423)](e,15))return{label:n(428),color:s.IUIGR,icon:"‚è±Ô∏è"};const i={};return i[n(551)]=s[n(441)],i[n(557)]=n(473)+n(605),i.icon="‚ôüÔ∏è",i}const o={};return o[n(551)]=e,o[n(557)]=n(476)+"-foreground",o[n(491)]="üéØ",o}}function K(){const e=["wLDAtg0","Awn0Aw9U","D2LUCW","AxnOx2nVCNjLyW","D2fYBG","zxr5Cgu","wgLKCNm","Awn0Aw9Ux2f0Da","CgzxEve","Dgv4Dc1VCMfUzW","ywn0DwfSuMvZDq","EwHowwG","ihDHCYbJB3jYzq","zxDwC3C","wLPeze0","zxjUihDHCYbTAq","DgHYB3vNAhm6","zs00mda","EuTdD1u","wwztsLe","C2XLywrPBMC","r0G6ifn0B2nRzG","D2HPDgvFzwXV","Dg90ywW","zMLfCuK","yMr0Efi","zxHJzxb0Aw9U","y291BNq","y3bqqNG","BgvUz3rO","AhLICMLKx2fYyW","C3rVy2TMAxnOrq","qNvSBgv0l0jSAq","CMvLBwvUDcbJyq","y3qGAgvYztSGAa","DgfIBgu","Bevvrhe","DwX0","DNfdseu","yMXHy2TfBg8","tKfHuvq","qvDXA1K","vuX5ve0","zxHHy3q","AvHLrM8","E30Uy29UC3rYDq","uMfWAwq","Axj2q20","qLjfquTusfjpvq","AhLICMLKq29UzG","y2T2vum","EMTpq0e","qMXPDhO","zMLSDgvY","zK5iuuG","rhHutMq","txDhvM4","zxjYB3i","C3rVy2TMAxnOua","rKvHEhm","zgLJDgLVBG","Dgv4Dc1YzwqTna","r3b3sNq","zMvU","y3rVCIGICMv0Dq","Agv0ExbL","C2vSzwn0","z2fTzv9Uyw1L","AhLICMLKx2nVCG","C2LNBMLMAwnHBG","r0nzDK8","Dg9gAxHLza","nZqXmZeWt2nHALvx","AgvHza","rxjYB3iGzMv0yW","DhjPBq","EwjYAwqGCgf0Da","zxzHBa","CM4GDgHPCYiPka","mZuWmdi1mMDvsezzzW","suDRswe","r1ruCLy","rK5kzMS","z2fTzurHDgu","ngT4AfjRCW","AgLUzYbICMvHAW","EsbJB3jYzwn0Ba","AvPoz1q","lwzVCMvNCM91BG","y2HLC3nFChjLza","yMXPDhO","Dgv4Dc1NCMvLBG","CMfWAwq","qw1ZBu8","Dgv4Dc1TDxrLza","BwfW","Dg9tDhjPBMC","BwnkAMq","igv2ywX1yxrPBW","DgLTzunVBNrYBW","B3jKzxi","wKzUBhm","DMfS","yNjLywT0AhjVDq","t0LlqKG","yNHiB08","qxP3vvK","kcGOlISPkYKRkq","wKvNyve","AwnVBG","CYb0ywn0AwnHBa","A3rYsfO","BM90","mtq2nZa4nfzLuKfeAW","s2PTzxu","qNvSBgv0","zM9YrwfJAa","ugjvCgS","y2PWA1a","v0Xjt1K","Bw92zu51BwjLCG","ihbYzwnPC2LVBG","DwrL","ChjLzgLJDgLVBG","zNjVBq","B1HTDNC","C2vHCMnO","y29UC29Szq","C1LkDve","AhLICMLKq29YCG","yxnJzw5KAw5N","DMvQCK0","qM90AcbZExn0zq","Eur6Evy","uMf0zwq","zMjZrfC","Bwf0y2G","igj1Dcb0AguG","D1Dht1G","tMDvENG","Dg9JA2zPC2GNCW","mteYndeWnw5et096uW","BvH3CNq","odK5ntm2mhPhweHNuW","w3y3lJi2lurjuW","ywfxEum","BMvX","D1fmwvm","BhbRCw4","C3rVy2TMAxnOxW","zw50CMLLCW","y29UC3rYDwn0BW","DLjRtgu","BM90ywjSzq","zMLKzw5Jzq","ug1ny00","z29NBLu","CMv0DxjUicHMDq","zwT5C1i","yvrkteC","Dgv4Dc1IBhvLlq","u2DMt2m","CM53wgy","y2XHC3nPy2fS","Dw5RBM93BG","mtu1ody0n2PZDvzjrG","DhjHy2u","C29YDa","svvjr1i","BgfIzwW","u3rVy2TMAxnOjW","AwrLBMnL","Afz6EhC","ChjVDg90ExbL","CgDU","y29SB3i","AhLICMLKqxjJAa","x19WCM90B19F","BgLTAxq","B3zLCNjVzguGuW","y29YCMvZCg9Uza","q2XHC3nPy2fS","CMvKDwnL","BgzmwLq","yNjPzf9JB3jYzq","zwn0","zuXeAeS","s09QzKK","swD1ANO","vfbwz0W","C3bSAxq","AgLUzYbKAxnHzW","yMLUza","ugnIBg4","Dg9mB3DLCKnHCW","y3jLyxrLzef0","zw1WDhm","zw5Jzq","ywXS","mJe2mdC3mePruujZvW","y3jLyxrLzf9HDa","C1f6wNy","CffJAhi","Bw92zv9UDw1Izq","qvbitfy","ywn0DwfSx3jLCW","AhLICMLKx3bYzq","zsbZyw1LihbYzq","r1jItfq","igfUywX5C2LZia","A0znBw8","y3qSihn0B2nRzG","DgLTzv9JB250CG","AhLWzxjIDwXSzq","zxzHBe1Hz25PDa","CMvJDa","rhfVs04","C3rVy2TMAxnOqW","ndaW","ww9Kswu","y29YCMvJDa","qM5Qy08","shLICMLKj3mG","ltqWma","ifn0yxrZoG","DuHdwMm","B3jYzwn0","CMvWBgfJzq","s2LUBe8","yNvSBgv0","yxbWBhK","AhLICMLKx2nVBG","BMn0Aw9UkcKG","rwX4qu0","ywjZ"];return(K=function(){return e})()}function Y(e,t){e-=403;const n=K();let s=n[e];if(void 0===Y.zzvQbV){var r=function(e){let t="",n="",s=t+r;for(let r,a,i=0,c=0;a=e.charAt(c++);~a&&(r=i%4?64*r+a:a,i++%4)?t+=s.charCodeAt(c+10)-10!=0?String.fromCharCode(255&r>>(-2*i&6)):i:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};Y.cadsTL=r,Y.aGtVZD={},Y.zzvQbV=!0}const a=e+n[0],i=Y.aGtVZD[a];if(i)s=i;else{const e=function(e){this.fslMEB=e,this.avBsfa=[1,0,0],this.TsnWVv=function(){return"newState"},this.Zsfijz="\\w+ *\\(\\) *{\\w+ *",this.sEUFbP="['|\"].+['|\"];? *}"};e.prototype.ykLjPH=function(){const e=new RegExp(this.Zsfijz+this.sEUFbP).test(this.TsnWVv.toString())?--this.avBsfa[1]:--this.avBsfa[0];return this.ivbutN(e)},e.prototype.ivbutN=function(e){return Boolean(~e)?this.MtdqXt(this.fslMEB):e},e.prototype.MtdqXt=function(e){for(let t=0,n=this.avBsfa.length;t<n;t++)this.avBsfa.push(Math.round(Math.random())),n=this.avBsfa.length;return e(this.avBsfa[0])},new e(Y).ykLjPH(),s=Y.cadsTL(s),Y.aGtVZD[a]=s}return s}async function V(e=20){const t=Y,n={};n[t(452)]=function(e,t){return e>t},n[t(507)]=t(485)+"gh",n[t(592)]="hybrid_cor"+t(597),n.OWPlA=t(531)+"prediction",n[t(410)]=t(546);const r=n,a={};a[t(512)]=!1;const{data:i,error:c}=await s.from(t(471)+t(624)+t(578)).select("*").eq(r[t(592)],!0).eq(t(531)+t(602),!1)[t(528)](r.OWPlA,r[t(410)])[t(482)](t(582),a)[t(560)](e);return c?[]:(i||[])[t(477)](e=>{const n=t,s=function(e){const t=Y,n={};n[t(422)]=t(516),n[t(486)]=t(476)+t(470)+"d";const s=n;if(!e)return null;const r=e[t(518)](/\[Date\s+"(\d{4}\.\d{2}\.\d{2})"\]/);if(r){if(t(436)!==t(444))return r[1].replace(/\./g,"-");{const e=_0x5436a.match(/\((\d{3,4})\)/g);if(e&&e[t(411)]>=1){const n=e[t(477)](e=>_0xd705cb(e[t(609)](/[()]/g,""))),r=n[t(564)]((e,t)=>e+t,0)/n[t(411)];if(r>=2800){const e={};return e.label=t(414)+"tz",e[t(557)]=t(626)+t(634),e[t(491)]="‚ö°",e}if(r>=2500){const e={};return e[t(551)]=s[t(422)],e[t(557)]="text-blue-400",e.icon="üéØ",e}}const n={};return n[t(551)]=t(516),n.color=s[t(486)],n[t(491)]="‚ôüÔ∏è",n}}return null}(e.pgn);return{id:e.id,fen:e[n(445)],gameName:e[n(449)],moveNumber:e.move_number,stockfishEval:e[n(531)+n(459)]||0,stockfishPrediction:e[n(531)+n(505)],hybridPrediction:e["hybrid_pre"+n(442)],actualResult:e[n(587)+n(419)],hybridCorrect:e["hybrid_cor"+n(597)],stockfishCorrect:e[n(531)+n(602)],hybridArchetype:e.hybrid_archetype,hybridConfidence:e[n(613)+n(536)],createdAt:e.created_at,significance:r[n(452)](Math[n(616)](e[n(531)+"eval"]||0),200)?r[n(507)]:n(535),evalMagnitude:Math.abs(e[n(531)+n(459)]||0),timeControl:e[n(594)+"ol"],whiteElo:e.white_elo,blackElo:e.black_elo,pgn:e[n(556)],gameDate:s}})}async function R(){const e=Y,t={aaWyC:function(e,t){return e>=t}};t[e(406)]=e(546),t[e(469)]=e(475),t[e(483)]=e(471)+e(624)+e(578),t[e(424)]=e(450)+"rect",t.GRbLT=e(531)+e(602),t.iXeFo=e(531)+"prediction",t[e(628)]=e(531)+e(459),t.UxdPo=function(e,t){return e>t},t[e(530)]=function(e,t){return e/t},t.vRkLe=e(526)+"AGREEMENT]"+e(606),t[e(487)]=function(e,t){return e>t},t.MwGVn=function(e,t){return e*t},t.ekysR=function(e,t){return e/t},t[e(571)]=function(e,t){return e||t};const n=t,r={};r[e(409)]=e(425),r[e(455)]=!0;const a={};a[e(409)]=e(425),a.head=!0;const[{count:i},{count:c}]=await Promise[e(580)]([s[e(506)](n[e(483)])[e(448)]("*",r).eq(n[e(424)],!0).eq(n.GRbLT,!1),s[e(506)](e(471)+"iction_attempts").select("*",a).eq(e(531)+"correct",!0).eq(e(450)+e(597),!1)]),{data:o}=await s[e(506)](n[e(483)]).select(e(412)+"hetype, hy"+e(566)+e(593)+e(620)+"t")[e(528)](e(588)+"diction",n[e(426)]).limit(1e3),{data:l}=await s[e(506)](n.ZFnls).select(e(531)+e(459)).eq(n.ULyTM,!0).eq(n[e(590)],!1)[e(494)](n[e(628)],"is",null)[e(560)](1e3),d=(l||[]).map(t=>Math.abs(t["stockfish_"+e(459)]||0))[e(435)](e=>e>0),u=n.UxdPo(d[e(411)],0)?n[e(530)](d.reduce((e,t)=>e+t,0),d[e(411)]):0,x={};(o||[])[e(498)](t=>{const s=e,r={vejrM:function(e,t){return e/t},ElxAM:function(e,t){return n[Y(527)](e,t)},Efbsq:"text-blue-"+s(600)},a=t["hybrid_arc"+s(447)]||n[s(406)];if(!x[a]){const e={};e[s(405)]=0,e[s(619)]=0,x[a]=e}if(x[a].total++,t[s(450)+s(597)])if("AmsmO"!==n.iZNgT){const e=_0x452100[s(477)](e=>_0x522d46(e[s(609)](/[()]/g,""))),t=r[s(513)](e[s(564)]((e,t)=>e+t,0),e[s(411)]);if(r[s(615)](t,2800)){const e={};return e.label=s(414)+"tz",e.color=s(626)+s(634),e[s(491)]="‚ö°",e}if(t>=2500){const e={};return e[s(551)]=s(516),e[s(557)]=r.Efbsq,e[s(491)]="üéØ",e}}else x[a][s(619)]++});const m=Object[e(532)](x)[e(477)](([t,n])=>({archetype:t,count:n[e(405)],winRate:n[e(405)]>0?n[e(619)]/n[e(405)]*100:0}))[e(549)]((t,n)=>n[e(409)]-t[e(409)]).slice(0,5);return{totalDisagreements:(i||0)+(c||0),hybridWinsDisagreements:i||0,stockfishWinsDisagreements:n[e(571)](c,0),breakthroughCases:i||0,averageStockfishConfidenceWhenWrong:u,topArchetypesInDisagreements:m}}function Z(e){const t=Y,n={};n[t(464)]=t(546),n[t(488)]=function(e,t){return e>t},n.NgUzx=function(e,t){return e===t},n[t(575)]=function(e,t){return e>t},n[t(479)]=function(e,t){return e>=t};const s=n;if(s[t(488)](Math[t(616)](e),1e4)){if(!s[t(521)](t(544),t(607)))return s[t(575)](e,0)?"M+":"M-";{const e=_0x48b207[t(412)+t(447)]||s[t(464)];if(!_0x506f28[e]){const n={};n[t(405)]=0,n[t(619)]=0,_0x43100a[e]=n}_0xd0a525[e][t(405)]++,_0x2cfdd2.hybrid_correct&&_0x2f7cb7[e][t(619)]++}}const r=e/100;return s[t(479)](r,0)?"+"+r[t(453)](1):r[t(453)](1)}function _(e){const t=Y,n={};n[t(631)]=function(e,t){return e>t},n[t(537)]="pattern",n.wQLYS=t(514)+"ms made th"+t(589)+t(442);const s=n;return e[t(511)+t(567)]&&!e[t(599)+t(608)]?s[t(631)](e[t(596)+t(504)],200)?t(430)+t(403)+"ish saw "+Z(e[t(413)+"val"])+t(519)+(e["hybridArch"+t(622)]||s.PmMcM)+" trajector"+t(468)+"y predicted "+e[t(627)+"lt"]:t(604)+(e["hybridArch"+t(622)]||s.PmMcM)+(t(591)+"correctly ")+t(561)+t(522)+" "+Z(e[t(413)+t(484)])+t(480)+"n":e[t(599)+t(608)]&&!e[t(511)+t(567)]?t(552)+t(492)+" precision"+t(629)+t(416)+t(458)+t(632)+"sleading":s[t(529)]}function O(){const[e,t]=r.useState(null),[n,s]=r.useState([]),[q,W]=r.useState(null),[k,G]=r.useState(!0),{chessStats:T,updateCount:S}=a(),H=r.useCallback(async()=>{const[e,n,r]=await Promise.all([R(),V(10),i()]);t(e),s(n),W(r),G(!1)},[]);if(r.useEffect(()=>{H()},[H]),r.useEffect(()=>{S>0&&H()},[S,H]),k)return c.jsx(o,{className:"bg-card/50 backdrop-blur border-primary/20",children:c.jsxs(l,{className:"p-8 text-center",children:[c.jsx(d,{className:"w-8 h-8 mx-auto animate-pulse text-primary"}),c.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading proof data..."})]})});const U=q?q.overallHybridAccuracy-q.overallStockfishAccuracy:0,E=e&&e.totalDisagreements>0?e.hybridWinsDisagreements/e.totalDisagreements*100:0;return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:c.jsx(o,{className:"bg-gradient-to-br from-primary/10 to-primary/5 border-primary/30",children:c.jsx(l,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-primary/20 rounded-lg",children:c.jsx(x,{className:"w-5 h-5 text-primary"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-muted-foreground",children:"Games Analyzed"}),c.jsx("p",{className:"text-2xl font-bold",children:(null==q?void 0:q.totalGamesAnalyzed)||0})]})]})})})}),c.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:c.jsx(o,{className:"border "+(U>0?"border-green-500/30 bg-green-500/5":"border-destructive/30 bg-destructive/5"),children:c.jsx(l,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 rounded-lg "+(U>0?"bg-green-500/20":"bg-destructive/20"),children:c.jsx(m,{className:"w-5 h-5 "+(U>0?"text-green-500":"text-destructive")})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-muted-foreground",children:"Hybrid Advantage"}),c.jsxs("p",{className:"text-2xl font-bold",children:[U>=0?"+":"",U.toFixed(1),"%"]})]})]})})})}),c.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:c.jsx(o,{className:"bg-gradient-to-br from-yellow-500/10 to-orange-500/5 border-yellow-500/30",children:c.jsx(l,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-yellow-500/20 rounded-lg",children:c.jsx(h,{className:"w-5 h-5 text-yellow-500"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-muted-foreground",children:"Breakthrough Cases"}),c.jsx("p",{className:"text-2xl font-bold",children:(null==e?void 0:e.breakthroughCases)||0})]})]})})})}),c.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:c.jsx(o,{className:"bg-gradient-to-br from-purple-500/10 to-pink-500/5 border-purple-500/30",children:c.jsx(l,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:c.jsx(f,{className:"w-5 h-5 text-purple-500"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-muted-foreground",children:"Disagreement Win Rate"}),c.jsxs("p",{className:"text-2xl font-bold",children:[E.toFixed(0),"%"]})]})]})})})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(o,{className:"bg-card/80 backdrop-blur border-primary/20",children:[c.jsxs(g,{children:[c.jsxs(y,{className:"flex items-center gap-2",children:[c.jsx(p,{className:"w-5 h-5 text-yellow-500"}),"Breakthrough Cases"]}),c.jsx(j,{children:"Where En Pensent was RIGHT and Stockfish was WRONG"})]}),c.jsx(l,{children:c.jsx(v,{className:"h-[400px] pr-4",children:0===n.length?c.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[c.jsx(b,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"No breakthrough cases recorded yet."}),c.jsx("p",{className:"text-sm",children:"Run benchmarks to collect evidence."})]}):c.jsx("div",{className:"space-y-4",children:n.map((e,t)=>{const n=I(e.timeControl,e.gameName),s=e.createdAt?L(e.createdAt):null,r=e.gameDate?L(e.gameDate):null;return c.jsxs(u.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"p-4 bg-gradient-to-r from-green-500/10 to-transparent rounded-lg border border-green-500/20",children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c.jsx(N,{variant:"outline",className:"bg-green-500/20 text-green-400 border-green-500/30",children:"breakthrough"===e.significance?"üåü BREAKTHROUGH":"‚úì Notable"}),c.jsxs(N,{variant:"outline",className:`${n.color} border-current/30 bg-current/10`,children:[n.icon," ",n.label]}),(e.whiteElo||e.blackElo)&&c.jsxs(N,{variant:"outline",className:"text-muted-foreground",children:["~",Math.round(((e.whiteElo||0)+(e.blackElo||0))/2)," ELO"]})]}),c.jsx("p",{className:"text-sm font-medium mt-1",children:e.gameName})]}),c.jsxs("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:["Move ",e.moveNumber]})]}),c.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground mb-3 flex-wrap",children:[r&&w(r)&&c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(A,{className:"w-3 h-3"}),c.jsxs("span",{children:["Played: ",D(r,"MMM d, yyyy")]})]}),s&&w(s)&&c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(B,{className:"w-3 h-3 text-primary"}),c.jsxs("span",{className:"text-primary",children:["Analyzed: ",D(s,"MMM d, yyyy h:mm a")]})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[c.jsxs("div",{className:"text-center p-2 bg-destructive/10 rounded",children:[c.jsx("p",{className:"text-muted-foreground",children:"Stockfish"}),c.jsx("p",{className:"font-mono font-bold text-destructive",children:Z(e.stockfishEval)}),c.jsxs("p",{className:"text-destructive",children:["‚Üí ",e.stockfishPrediction]})]}),c.jsxs("div",{className:"text-center p-2 bg-green-500/10 rounded",children:[c.jsx("p",{className:"text-muted-foreground",children:"Hybrid"}),c.jsx("p",{className:"font-bold text-green-400",children:e.hybridArchetype}),c.jsxs("p",{className:"text-green-400",children:["‚Üí ",e.hybridPrediction]})]}),c.jsxs("div",{className:"text-center p-2 bg-primary/10 rounded",children:[c.jsx("p",{className:"text-muted-foreground",children:"Actual"}),c.jsx("p",{className:"font-bold text-primary",children:e.actualResult}),c.jsx("p",{className:"text-primary",children:"‚úì Hybrid correct"})]})]}),c.jsx("p",{className:"text-xs text-muted-foreground mt-3 italic",children:_(e)})]},e.id)})})})})]}),c.jsxs(o,{className:"bg-card/80 backdrop-blur border-primary/20",children:[c.jsxs(g,{children:[c.jsxs(y,{className:"flex items-center gap-2",children:[c.jsx(C,{className:"w-5 h-5 text-orange-500"}),"Disagreement Analysis"]}),c.jsx(j,{children:"When Hybrid and Stockfish predict different outcomes"})]}),c.jsxs(l,{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[c.jsx("span",{children:"Hybrid wins disagreements"}),c.jsxs("span",{className:"font-bold text-green-400",children:[(null==e?void 0:e.hybridWinsDisagreements)||0," / ",(null==e?void 0:e.totalDisagreements)||0]})]}),c.jsx(z,{value:E,className:"h-3 bg-destructive/20"}),c.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[c.jsxs("span",{children:["Stockfish: ",(null==e?void 0:e.stockfishWinsDisagreements)||0]}),c.jsxs("span",{children:["Hybrid: ",(null==e?void 0:e.hybridWinsDisagreements)||0]})]})]}),c.jsx(M,{}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium mb-2",children:"Avg Stockfish Confidence When Wrong"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"text-3xl font-bold font-mono",children:Z((null==e?void 0:e.averageStockfishConfidenceWhenWrong)||0)}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"When hybrid beats Stockfish, Stockfish was typically this confident in the wrong direction"})]})]}),c.jsx(M,{}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium mb-3",children:"Top Archetypes in Disagreements"}),c.jsxs("div",{className:"space-y-2",children:[((null==e?void 0:e.topArchetypesInDisagreements)||[]).map((e,t)=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-xs text-muted-foreground",children:["#",t+1]}),c.jsx(N,{variant:"outline",children:e.archetype})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.count," cases"]}),c.jsxs("span",{className:"text-sm font-bold "+(e.winRate>50?"text-green-400":"text-destructive"),children:[e.winRate.toFixed(0),"%"]})]})]},e.archetype)),(!(null==e?void 0:e.topArchetypesInDisagreements)||0===e.topArchetypesInDisagreements.length)&&c.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Run benchmarks to collect archetype data"})]})]}),c.jsx(M,{}),c.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg border border-primary/20",children:[c.jsxs("h4",{className:"text-sm font-medium mb-2 flex items-center gap-2",children:[c.jsx(x,{className:"w-4 h-4 text-primary"}),"Key Insight"]}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["When En Pensent and Stockfish disagree, the hybrid system wins"," ",c.jsxs("span",{className:"text-primary font-bold",children:[E.toFixed(0),"%"]})," of the time. This proves that Color Flow pattern recognition adds genuine value beyond pure tactical calculation."]})]})]})]})]}),c.jsx(o,{className:"bg-gradient-to-r from-primary/10 via-purple-500/10 to-pink-500/10 border-primary/30",children:c.jsxs(l,{className:"p-6 text-center",children:[c.jsx("h3",{className:"text-xl font-bold mb-2",children:"The Evidence"}),c.jsxs("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:["Over ",c.jsx("span",{className:"text-primary font-bold",children:(null==q?void 0:q.totalGamesAnalyzed)||0})," real grandmaster games, En Pensent's hybrid prediction system achieves"," ",c.jsxs("span",{className:"text-primary font-bold",children:[((null==q?void 0:q.overallHybridAccuracy)||0).toFixed(1),"%"]})," accuracy vs Stockfish 17 NNUE's"," ",c.jsxs("span",{className:"text-muted-foreground",children:[((null==q?void 0:q.overallStockfishAccuracy)||0).toFixed(1),"%"]}),". In disagreements, pattern recognition wins"," ",c.jsxs("span",{className:"text-green-400 font-bold",children:[E.toFixed(0),"%"]})," of the time."]})]})})]})}P(void 0,function(){const e=Y,t={DqoKN:function(e,t){return e(t)},sYJuQ:function(e,t){return e+t},SoGBb:e(539)+e(614),PbUpk:e(427)+e(446)+e(460)+" )",KinlO:"log",KOjfI:e(439),pfWyQ:e(417),PzsQz:function(e,t){return e<t}};let n;try{n=t[e(598)](Function,t[e(510)](t.SoGBb+t[e(499)],");"))()}catch(a){n=window}const s=n[e(509)]=n[e(509)]||{},r=[t[e(610)],e(621),"info",t[e(569)],e(408),t[e(625)],e(548)];for(let i=0;t.PzsQz(i,r.length);i++){const t=P[e(533)+"r"].prototype[e(574)](P),n=r[i],a=s[n]||t;t[e(559)]=P.bind(P),t[e(478)]=a.toString.bind(a),s[n]=t}})();export{O as P,B as T,I as f};
