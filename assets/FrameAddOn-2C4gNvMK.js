const e='import React, { useState, useMemo } from \'react\';\nimport { motion, AnimatePresence } from \'framer-motion\';\nimport { Frame, Check, Truck, Info, Gift } from \'lucide-react\';\nimport { Button } from \'@/components/ui/button\';\nimport { Card, CardContent } from \'@/components/ui/card\';\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \'@/components/ui/tooltip\';\nimport {\n  FRAME_STYLES,\n  getFramePricesForSize,\n  getBaseFramePrice,\n  FRAME_SHIPPING_COST,\n  FREE_SHIPPING_THRESHOLD,\n  type FrameStyle,\n} from \'@/lib/shop/framePricing\';\n\nexport interface FrameOption {\n  id: string;\n  name: string;\n  color: string;\n  colorHex: string;\n  price: number;\n  description: string;\n}\n\ninterface FrameAddOnProps {\n  selectedSize: string;\n  onFrameSelect: (frame: FrameOption | null) => void;\n  selectedFrame: FrameOption | null;\n  framedItemCount: number;\n}\n\nexport const FrameAddOn: React.FC<FrameAddOnProps> = ({\n  selectedSize,\n  onFrameSelect,\n  selectedFrame,\n  framedItemCount,\n}) => {\n  // Calculate dynamic prices based on selected size\n  const frameOptions = useMemo(() => {\n    return getFramePricesForSize(selectedSize);\n  }, [selectedSize]);\n\n  const basePrice = useMemo(() => {\n    return getBaseFramePrice(selectedSize);\n  }, [selectedSize]);\n  const [isExpanded, setIsExpanded] = useState(false);\n  \n  // Calculate if free shipping applies\n  const qualifiesForFreeShipping = framedItemCount >= FREE_SHIPPING_THRESHOLD;\n  const itemsUntilFreeShipping = FREE_SHIPPING_THRESHOLD - framedItemCount;\n\n  return (\n    <Card className="overflow-hidden">\n      <CardContent className="p-4 space-y-4">\n        {/* Header */}\n        <div className="flex items-center justify-between">\n          <div className="flex items-center gap-2">\n            <Frame className="h-5 w-5 text-primary" />\n            <span className="font-medium">Add Matching Frame</span>\n          </div>\n          <TooltipProvider>\n            <Tooltip>\n              <TooltipTrigger asChild>\n                <button className="p-1 rounded-full hover:bg-accent/50 transition-colors">\n                  <Info className="h-4 w-4 text-muted-foreground" />\n                </button>\n              </TooltipTrigger>\n              <TooltipContent className="max-w-xs">\n                <p className="text-sm">Premium wooden frames, ready to hang. Perfectly sized for your print.</p>\n                <p className="text-xs text-muted-foreground mt-1">\n                  Frames add {!qualifiesForFreeShipping ? `$${FRAME_SHIPPING_COST} shipping` : \'FREE shipping\'} (heavier package).\n                </p>\n              </TooltipContent>\n            </Tooltip>\n          </TooltipProvider>\n        </div>\n\n        {/* Frame selection toggle */}\n        <div className="flex gap-2">\n          <Button\n            variant={selectedFrame === null ? "default" : "outline"}\n            size="sm"\n            onClick={() => onFrameSelect(null)}\n            className="flex-1"\n          >\n            No Frame\n          </Button>\n          <Button\n            variant={selectedFrame !== null ? "default" : "outline"}\n            size="sm"\n            onClick={() => {\n              if (selectedFrame === null && frameOptions.length > 0) {\n                onFrameSelect(frameOptions[0]);\n              }\n              setIsExpanded(true);\n            }}\n            className="flex-1 gap-2"\n          >\n            <Frame className="h-3 w-3" />\n            Add Frame +${basePrice.toFixed(2)}\n          </Button>\n        </div>\n\n        {/* Frame options - expandable */}\n        <AnimatePresence>\n          {(selectedFrame !== null || isExpanded) && (\n            <motion.div\n              initial={{ height: 0, opacity: 0 }}\n              animate={{ height: \'auto\', opacity: 1 }}\n              exit={{ height: 0, opacity: 0 }}\n              transition={{ duration: 0.2 }}\n              className="overflow-hidden"\n            >\n              <div className="space-y-3 pt-2">\n                <div className="flex items-center justify-between">\n                  <p className="text-xs text-muted-foreground">Choose your frame style:</p>\n                  <p className="text-[10px] text-muted-foreground/70">Prices vary by size</p>\n                </div>\n                \n                <div className="grid grid-cols-5 gap-2">\n                  {frameOptions.map((frame) => {\n                    const isSelected = selectedFrame?.id === frame.id;\n                    const priceDiff = frame.price - basePrice;\n                    \n                    return (\n                      <TooltipProvider key={frame.id}>\n                        <Tooltip>\n                          <TooltipTrigger asChild>\n                            <button\n                              onClick={() => onFrameSelect(frame)}\n                              className={`\n                                relative p-2 rounded-lg border-2 transition-all duration-200 flex flex-col items-center gap-1\n                                ${isSelected \n                                  ? \'border-primary bg-primary/5 shadow-md\' \n                                  : \'border-border hover:border-primary/50 hover:bg-muted/50\'\n                                }\n                              `}\n                            >\n                              {/* Frame preview */}\n                              <div \n                                className="w-8 h-8 rounded border-2 shadow-inner"\n                                style={{ \n                                  borderColor: frame.colorHex,\n                                  backgroundColor: frame.id === \'white\' ? \'#fafafa\' : \'transparent\',\n                                }}\n                              >\n                                <div className="w-full h-full rounded-sm bg-gradient-to-br from-muted/50 to-muted" />\n                              </div>\n                              \n                              <span className="text-[10px] font-medium text-center leading-tight">\n                                {frame.color}\n                              </span>\n                              \n                              {priceDiff > 0.5 && (\n                                <span className="text-[8px] text-primary">+${priceDiff.toFixed(0)}</span>\n                              )}\n                              \n                              {isSelected && (\n                                <motion.div\n                                  initial={{ scale: 0 }}\n                                  animate={{ scale: 1 }}\n                                  className="absolute -top-1 -right-1 w-4 h-4 rounded-full bg-primary flex items-center justify-center"\n                                >\n                                  <Check className="h-2.5 w-2.5 text-primary-foreground" />\n                                </motion.div>\n                              )}\n                            </button>\n                          </TooltipTrigger>\n                          <TooltipContent>\n                            <p className="font-medium">{frame.name}</p>\n                            <p className="text-xs text-muted-foreground">{frame.description}</p>\n                            <p className="text-xs font-bold mt-1">+${frame.price.toFixed(2)}</p>\n                          </TooltipContent>\n                        </Tooltip>\n                      </TooltipProvider>\n                    );\n                  })}\n                </div>\n\n                {/* Shipping info for frames */}\n                <div className={`flex items-center gap-2 p-2 rounded-lg text-xs ${\n                  qualifiesForFreeShipping \n                    ? \'bg-green-500/10 border border-green-500/20 text-green-600 dark:text-green-400\' \n                    : \'bg-amber-500/10 border border-amber-500/20 text-amber-600 dark:text-amber-400\'\n                }`}>\n                  {qualifiesForFreeShipping ? (\n                    <>\n                      <Gift className="h-4 w-4" />\n                      <span>\n                        <span className="font-bold">FREE frame shipping!</span> You have {framedItemCount}+ framed prints.\n                      </span>\n                    </>\n                  ) : (\n                    <>\n                      <Truck className="h-4 w-4" />\n                      <span>\n                        Frames add <span className="font-bold">${FRAME_SHIPPING_COST}</span> shipping.\n                        {itemsUntilFreeShipping > 0 && (\n                          <> Add <span className="font-bold">{itemsUntilFreeShipping} more</span> framed print{itemsUntilFreeShipping > 1 ? \'s\' : \'\'} for FREE shipping!</>\n                        )}\n                      </span>\n                    </>\n                  )}\n                </div>\n\n                {/* Price summary */}\n                {selectedFrame && (\n                  <div className="flex items-center justify-between pt-2 border-t">\n                    <span className="text-sm text-muted-foreground">Frame add-on ({selectedSize}):</span>\n                    <span className="font-bold text-primary">+${selectedFrame.price.toFixed(2)}</span>\n                  </div>\n                )}\n              </div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </CardContent>\n    </Card>\n  );\n};\n\n// Re-export from pricing module for backward compatibility\nexport { FRAME_STYLES as FRAME_OPTIONS_EXPORT } from \'@/lib/shop/framePricing\';\nexport { FRAME_SHIPPING_COST as FRAME_SHIPPING_COST_EXPORT, FREE_SHIPPING_THRESHOLD as FREE_SHIPPING_THRESHOLD_EXPORT } from \'@/lib/shop/framePricing\';\n\nexport default FrameAddOn;\n';export{e as default};
