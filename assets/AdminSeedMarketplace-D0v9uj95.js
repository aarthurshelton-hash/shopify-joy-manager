import{d6 as e,d7 as t,cp as n,a as s,u as r,r as a,J as i,o,s as c,aH as l,aa as u,cM as d,j as m,L as x,C as f,x as h,D as p,B as g,A as v,p as w,t as j,cN as y,bC as b,S as C,a6 as z,P as N,y as M,bG as L,T as D,aq as _,z as B,cU as E,aj as q,aT as G,ca as A,b as k,d8 as P}from"./index-DodN4URN.js";!function(){const e=I,t=W();for(;;)try{if(853580===parseInt(e(353))/1+-parseInt(e(223))/2*(-parseInt(e(284))/3)+-parseInt(e(367))/4+parseInt(e(255))/5*(parseInt(e(339))/6)+parseInt(e(355))/7*(-parseInt(e(234))/8)+-parseInt(e(298))/9+-parseInt(e(322))/10*(-parseInt(e(214))/11))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const S=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=I;return S[e(354)]().search(e(221)+"+$")[e(354)]()[e(362)+"r"](S)[e(276)]("(((.+)+)+)+$")});S();const T=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[I(280)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}();function W(){const e=["whrvt1i","r0POAMy","y3jLyxrLrwXLBq","qMj2yxa","yM9YzgvY","BMn0Aw9UkcKG","iI8+","zfbbu3C","D3CUDZmUB3jNlW","z2v0q29UDgv4Da","s21ZExK","q0Xnv24","mJaWmc9ZDMCIia","uM9Tyw4NlcbuAq","rfbnA3O","zxbStwC","mtfJwvPlCfi","BNmTC2vYAwy","BwvHC3vYzvrLEa","zw5Wzw5Zzw50lG","yMvNAw5qyxrO","EKn4uuu","Dg9eyxrHvvjm","kcGOlISPkYKRkq","zgrLCxa","mJaYDK1Pthn5","C3vIC3rYAw5N","x19WCM90B19F","i2e4yti5zq","ru4Guevou0vova","Aw1Hz2uVC3zNkW","iIb2Awv3qM94pq","zuXvzwO","su91t0e","CgvUC2vUDc5JBW","wfzXDxK","mZjhDxHRC3u","mhWXFdj8nhWZ","y3jVC3npCMLNAq","ntaWideYChGGjW","C2f2zq","tKDOEwq","quPIC0q","CM91BMrszwn0","EvDKB2q","zxzLBNq","C3jJ","zw9Yz2LHlcbZzq","wgPnu2C","u214CxK","AgLUz1f1ywXPDa","y3rVCIGICMv0Dq","Bw9Yyw50jYWGrW","ChjHweC","ChvZAa","D2LKDgG9iG","v1Hxufi","mJvQBgvcuMW","rwHgALy","ve9NB2K","CMvHzhK","E30Uy29UC3rYDq","BgvUz3rO","zhrOpsi","wgvArNO","yMXHy2S","Bw94rei","D2LKDgG","y29SB3i","y1v5qvq","zw50","Aw5JBhvKzxm","uwrTrxG","yuDZy1G","Bvrmyw0","iIb5psiWiIb3Aq","DgXgzhi","uvfdAM8","C2vHCMnO","wxzbuhK","BfvOC3e","vgLTzxmGtMv3ia","yxbWBhK","wLPnC0y","yMLUza","Aw1Hz2vtBw9VDa","mJeXnZfvzwXNqxq","AgLUz0vUywjSzq","Dg9vChbLCKnHCW","i2u3ztvLna","uNH6yvi","s3frwMe","y29T","twfKzxu","4PMuievoifbftLnf","DwjKyxe","vvDrCLO","ihzZia","CMv2B2TLt2jQzq","q3rptwi","mte0nZG3nZfMqvn3qxq","Bg9HzcbtvKC","DLHZBeu","Bg9N","DK51rue","icdIGkiGia","zgfYAW","iIb5psi","y2XPCa","CfH1tgS","vNf0CMG","CMzZqvO","AK5KsLa","DMLZAxrZ","zMLSBfn0EwXL","phjLy3qGEd0I","zgf0zq","BwLU","DhjHy2u","DhjHBNnWyxjLBG","zhn5wLC","lI4U","Cwf0t2m","CM4GDgHPCYiPka","mJm4nZi4otbxs0fmuKC","tLfdwMe","idiWChGGj0nVCG","rK5MC1e","BLnzEei","rfDWwgK","zhjHD0LTywDL","pZ8/pY4/pY4/pW","wKLICwK","y29UC29Szq","sw50zxiNlcbZyq","vgLMyLi","y3jLyxrLt2jQzq","Dgv4DefSAwDU","i2zHzMfMoq","y2vUDgvY","uLzwv0e","odiZntG0B050AKrg","D2fYBG","BwvZlcbZzxjPzG","sMvmq2m","iIbOzwLNAhq9iG","Eg1So2nOyxjZzq","z1jPt0i","zufWrKe","C2nHBgu","iZfbmueXqq","BgPPswS","C3rYB2TL","Aw5MBW","v2vxrK0","mJmZmZyWBMfby0T5","Dg9tDhjPBMC","mtyXmJeZnu1xvKLXEG","iZq0ndaZyW","C3rYB2TLu3r5Ba","sKHstfi","D2HPDgu","yNPbC08","ue5nEgC","y29UC3rYDwn0BW","r3LOqKm","uM9Tyw4NlcbZzq","BgvMDa","rMfPBgvKihrVia","mZG3odaYogDts0HqAG","iZbbmeeWqq","zM9UDa","mc45nsK","AM9PBG","v2HPDgu","r2z5vfG","Bgf5zxjtAxPL","y2fUDMfZ","ChjVDg90ExbL","zxjYB3i","Bw92zxm","z2zptgm","DgfIBgu","BgTZqvG","Bw92zvrV","pc9ZDMC+","CMv0DxjUicHMDq","quj0uKi","BwLKzgXL","CMvZDg9Yzq","BLzkqKW","CMDIysGYntuSia","q2LUEMvSjYWGjW","CfrgvNy","C3bSAxq","DhLWzq","iIbMAwXSpsi","AgLNAa","B1PgCMG","B25SB2fK","iZi5mJuYna","CKfMvgO","y3rvuKW","ndaWideXChGGjW","mJu1lcaYntuSia","zM9UDhm","CMLM","Bhv3q3K","tLqG4PMA","zvnYvvi","iIb3Awr0Ad0I","iZC4nZe2yW","zxHJzxb0Aw9U","vKDuCLq","A2TRy0C","AxrHBgLJiduWma","tMnXwwK","CMvKDwnL","CxjJB2rL","Dd11DgyToa","tNLSCxG","phn2zYb4BwXUCW","EhPQAMm","zgTvzLu","B25LCNjVCG","AgvPz2H0","CgLLy2u","zMLSBfrLEhq","zMLSBfjLy3q","wunWChK","vw5RBM93BG"];return(W=function(){return e})()}T(void 0,function(){const e=I,t={DPMkz:function(e){return e()},eplMg:function(e,t){return e(t)},rfsAZ:function(e,t){return e+t},NGhyd:e(384)+e(434),lUhsq:e(259)+e(249)+e(321)+" )",JHRLR:function(e,t){return e!==t},kkkcG:e(307),RdVqj:e(340),vNuEA:e(351),eLUej:e(410),mTLam:e(380),nVJBL:function(e,t){return e<t}};let n;try{const s=t[e(213)](Function,t[e(309)](t[e(239)],t[e(278)])+");");n=t[e(212)](s)}catch(a){t[e(358)](t[e(412)],e(293))?n=window:(_0x18020f[e(328)](_0x50fbf1,_0x52f349,_0x175490,_0x3efcfe,_0x5f5d53),t[e(212)](_0x29e496))}const s=n[e(331)]=n.console||{},r=[e(301),t.RdVqj,t[e(302)],e(377),t[e(230)],t[e(272)],e(316)];for(let i=0;t[e(388)](i,r[e(260)]);i++){const t=T[e(362)+"r"][e(376)][e(282)](T),n=r[i],a=s[n]||t;t[e(225)]=T.bind(T),t[e(354)]=a.toString.bind(a),s[n]=t}})();async function K(){const e=I;document[e(403)]&&document[e(403)][e(258)]&&await document[e(403)][e(258)],await new Promise(e=>setTimeout(e,150))}function I(e,t){e-=209;const n=W();let s=n[e];if(void 0===I.zxjezD){var r=function(e){let t="",n="",s=t+r;for(let r,a,i=0,o=0;a=e.charAt(o++);~a&&(r=i%4?64*r+a:a,i++%4)?t+=s.charCodeAt(o+10)-10!=0?String.fromCharCode(255&r>>(-2*i&6)):i:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};I.rrjYpK=r,I.EorOEz={},I.zxjezD=!0}const a=e+n[0],i=I.EorOEz[a];if(i)s=i;else{const e=function(e){this.SWTJpM=e,this.GRPfuT=[1,0,0],this.PzfutK=function(){return"newState"},this.bkLHgb="\\w+ *\\(\\) *{\\w+ *",this.YMwbDU="['|\"].+['|\"];? *}"};e.prototype.ywjYJY=function(){const e=new RegExp(this.bkLHgb+this.YMwbDU).test(this.PzfutK.toString())?--this.GRPfuT[1]:--this.GRPfuT[0];return this.jTFXNI(e)},e.prototype.jTFXNI=function(e){return Boolean(~e)?this.ksuinL(this.SWTJpM):e},e.prototype.ksuinL=function(e){for(let t=0,n=this.GRPfuT.length;t<n;t++)this.GRPfuT.push(Math.round(Math.random())),n=this.GRPfuT.length;return e(this.GRPfuT[0])},new e(I).ywjYJY(),s=I.rrjYpK(s),I.EorOEz[a]=s}return s}async function O(e,t,n){const s=I,r={};r[s(327)]=s(366)+"load SVG";const a=r;return new Promise((r,i)=>{const o=s,c={GJhjf:function(e,t){return e*t},dqrZS:function(e,t){return e(t)}},l=new Image,u={};u[o(393)]=o(228)+o(344)+o(417);const d=new Blob([e],u),m=URL[o(334)+"ctURL"](d);l[o(397)]=()=>{const e=o,s=document["createElem"+e(268)](e(375));s[e(265)]=c[e(430)](t,5),s.height=5*n;const a=s.getContext("2d");a[e(347)](5,5),a.drawImage(l,0,0,t,n),URL["revokeObje"+e(400)](m),c.dqrZS(r,s)},l[o(422)]=()=>{const e=o;URL[e(296)+e(400)](m),i(new Error(a[e(327)]))},l[o(244)]=m})}async function U(e){const t=I,n={};n[t(349)]="https://en"+t(232)+"m",n.JiwhL=t(348),n[t(281)]=t(317)+"t";const s=n;return(await import(t(416))).default[t(220)](s[t(349)],{width:200,margin:1,color:{dark:e?"#FAFAFA":s.JiwhL,light:s[t(281)]},errorCorrectionLevel:"M"})}async function Z(){return new Promise((e,t)=>{const s=I,r=new Image;r[s(236)+"n"]="anonymous",r[s(397)]=()=>e(r),r[s(422)]=t,r.src=n})}async function Y(n,s,r={}){const a=I,i={VEJXN:function(e){return e()},VGTrT:function(e,t){return e*t},luwCy:function(e,t,n,s){return e(t,n,s)},dsyZW:function(e,t){return e+t},MLnlk:function(e,t){return e+t},xzjjc:a(375),UWQrZ:a(395),WeWFM:a(368),UndjA:"#FDFCFB",GyhBC:function(e,t){return e+t},GfyTX:a(398),hrRpu:a(336),Madeu:a(226),ENIkg:a(409),ddeqp:function(e,t){return e/t},vXslE:function(e,t){return e+t},JvOPn:a(372),XtUOR:"Black",praXG:a(413)+a(324)+a(250)+a(245)+"rif",eSrUR:"600 24px 'Cinzel', '"+a(279)+a(364)+a(404),lksAX:a(365),Nylqx:a(428),pvoXG:a(413)+" 18px 'Cor"+a(250)+"eorgia, se"+a(404),cUyAT:function(e,t){return e||t},PNMxg:a(237)+a(332)+a(215),VKFnj:"400 10px 'Times New "+a(211)+a(341),gRiOB:function(e,t){return e>t},txdvz:a(319),NcqYi:function(e,t){return e-t},IOuOA:function(e,t){return e>=t},jNdJP:"500 11px '"+a(332)+a(215),LGVEd:a(337),tlFdr:a(292)+a(406),nSYxB:function(e,t){return e+t},RxzaR:function(e,t){return e-t},QdmEx:function(e,t){return e/t},YvAPy:function(e,t){return e+t},EhFjV:function(e,t){return e-t},TOgoi:a(389)+a(402)+a(370),QQCjo:function(e,t){return e+t},TDNEj:function(e,t){return e/t},oZFrh:function(e,t){return e/t},wJofX:"alphabetic",KqQZa:a(227),bzAsO:a(217)+a(290),kkesq:function(e,t){return e+t},aGscX:function(e,t){return e-t},zCxQE:function(e,t){return e+t},NQCZa:function(e,t){return e/t}};await i.VEJXN(K);const{boardSize:o=600,darkMode:c=!1,withWatermark:l=!1,title:u}=r,d=function(n,s){const r=I,a={dVMkz:function(e){return e()},WXWPR:r(366)+r(299),dPASw:r(228)+"xml;charset=utf-8",YCppy:"canvas",dkUfU:function(e,t){return e*t},gfOLc:function(e,t){return e+t},Kmsyy:function(e,t){return e<t},CLMWn:r(338),NYzOV:function(e,t){return e<t},XVquy:r(308),TsLnH:function(e,t){return e*t},moxDB:function(e,t){return e===t},popjD:function(e,t){return e*t},CtOMb:function(e,t){return e!==t},GWAtQ:function(e,t,n){return e(t,n)},pTFVv:function(e,t){return e-t},rAfTj:function(e,t){return e/t},qatOc:function(e,t){return e-t}},i=s/8,o=a.dkUfU(s,.02),c=a.gfOLc(s,2*o);let l=r(419)+'="http://w'+r(437)+r(210)+r(253)+c+r(343)+c+r(229)+'"0 0 '+c+" "+c+'">';l+='<rect x="0'+r(273)+r(261)+c+r(343)+c+r(394)+e[r(433)]+'"/>';for(let u=0;a.Kmsyy(u,8);u++){if(a[r(209)]!=a[r(209)]){const e={yWdod:"Failed to load SVG"};return new _0x1deb52((t,n)=>{const s=r,i={XeZFz:a[s(427)],ZIbqi:function(e,t){return e(t)}},o=new _0x339107,c={};c[s(393)]="image/svg+"+s(344)+s(417);const l=new _0x1f8f4b([_0x104774],c),u=_0x54dc05[s(334)+s(400)](l);o[s(397)]=()=>{const e=s,n=_0x1c0b97[e(431)+e(268)](i[e(262)]);n[e(265)]=_0x1f70ba*_0x20a9bc,n[e(423)]=_0x2d7a88*_0x1b6e5e;const r=n.getContext("2d");r[e(347)](_0x1f1969,_0x163164),r[e(328)](o,0,0,_0x2bdec9,_0x2f1770),_0x26a348[e(296)+"ctURL"](u),i[e(330)](t,n)},o[s(422)]=()=>{const t=s;_0x5e5aac["revokeObje"+t(400)](u),n(new _0x3ec863(e[t(242)]))},o[s(244)]=u})}{const s=7-u;for(let c=0;a.NYzOV(c,8);c++)if(r(247)===a[r(233)])_0x119b3b[r(397)]=()=>{_0x45812c[r(328)](_0x50b3b2,_0x254e20,_0x327898,_0x27803d,_0x185412),a.dVMkz(_0x366b6f)},_0x2645b4.onerror=()=>_0x44e2bb(),_0x13a2f3[r(244)]=_0x40fed1;else{const d=n[s][c],m=d.isLight?e.light:e[r(304)],x=o+a[r(421)](c,i),f=a[r(379)](o,a.TsLnH(u,i));if(l+=r(313)+x+r(305)+f+r(408)+i+r(343)+i+r(394)+m+r(435),d[r(311)][r(260)]>0){if(!a[r(264)](r(385),r(385))){const e=_0x3f1b7c.apply(_0x27f084,arguments);return _0x2f0056=null,e}{const e=a.popjD(i,.08),n=[];for(const i of d[r(311)])if(a[r(297)](r(342),r(246))){const e=a.GWAtQ(t,i[r(424)],i[r(266)]);!n[r(269)](e)&&n[r(252)](e)}else{const e=new _0x3993e0,t={};t[r(393)]=a[r(436)];const n=new _0x549adf([_0x50770c],t),s=_0x4a1363.createObjectURL(n);e.onload=()=>{const t=r,n=_0x430a1e["createElem"+t(268)]("canvas");n.width=_0x638332*_0x2202c8,n[t(423)]=_0xe1c446*_0x5de89c;const a=n.getContext("2d");a[t(347)](_0xa79090,_0x3b14e6),a[t(328)](e,0,0,_0x11a610,_0x52ea09),_0x54c426[t(296)+t(400)](s),_0x5697f6(n)},e[r(422)]=()=>{const e=r;_0x34726a.revokeObjectURL(s),_0x395609(new _0x1e055c(a[e(254)]))},e.src=s}const s=Math[r(315)](n.length,6),o=[];let c=a[r(391)](i,2*e);const u=a[r(399)](.7*c,s);for(let t=0;a[r(439)](t,s);t++){const e={};if(e.color=n[t],e[r(374)]=c,o[r(252)](e),c-=u,a.NYzOV(c,.1*i))break}for(const t of o){const e=a[r(320)](i,t.layerSize)/2;l+=r(313)+(x+e)+r(305)+(f+e)+'" width="'+t[r(374)]+r(343)+t[r(374)]+'" fill="'+t[r(266)]+r(435)}}}}}}return l+=r(383),l}(n,o),m=o+2*i[a(411)](o,.02),x=await i[a(405)](O,d,m,m),f=60,h=i.dsyZW(m,i[a(411)](f,2)),p=i.MLnlk(m+220+60,i.VGTrT(f,2)),g=document["createElem"+a(268)](i[a(420)]);g[a(265)]=5*h,g[a(423)]=5*p;const v=g[a(438)]("2d");v[a(347)](5,5),v[a(283)+a(285)+"d"]=!0,v[a(283)+a(248)+"y"]=i[a(294)],v[a(312)]=c?i[a(352)]:i.UndjA,v[a(426)](0,0,h,p),v.drawImage(x,0,0,x[a(265)],x[a(423)],f,f,m,m);const w=i.dsyZW(i[a(363)](f,m),28);v[a(357)+"e"]=c?i[a(373)]:a(287),v.lineWidth=1,v[a(218)](),v[a(382)](f,w),v.lineTo(h-f,w),v.stroke();const j=c?i.hrRpu:i[a(373)],y=c?i[a(291)]:"#78716c",b=c?i.ENIkg:a(226),C=c?a(409):i[a(291)],z=i[a(222)](h,2);let N=i[a(300)](w,55);const M=s[a(359)]||i.JvOPn,L=s[a(263)]||i[a(429)];v.textBaseline=a(386),v[a(369)]="600 24px '"+a(390)+a(279)+"Roman', serif";const D=v.measureText(M)[a(265)],_=v[a(216)+"t"](L)[a(265)];v[a(369)]=i[a(251)];const B=a(295),E=v[a(216)+"t"](B)[a(265)],q=z-(i[a(300)](D,E)+_)/2;if(v.font=i[a(407)],v.fillStyle=j,v.textAlign=i[a(381)],v.fillText(M,q,N),v[a(369)]=i[a(251)],v[a(312)]=C,v[a(425)](B,q+D,N),v[a(369)]="600 24px '"+a(390)+a(279)+a(364)+a(404),v[a(312)]=j,v[a(425)](L,q+D+E,N),N+=36,s[a(243)]&&s[a(243)]!==i[a(418)]){const e=a(235)[a(392)]("|");let t=0;for(;;){switch(e[t++]){case"0":v[a(312)]=y;continue;case"1":v[a(369)]=i.pvoXG;continue;case"2":v[a(335)]="center";continue;case"3":N+=32;continue;case"4":v[a(425)](s[a(243)],z,N);continue}break}}const G=u,A=s[a(314)]||"";if(i[a(267)](G,A)){v[a(312)]=b,v.font=i[a(361)],v.textAlign=a(337);let e="";G?(e=G[a(286)+"e"](),A&&(e+=a(303)+A)):e=A;const t=2,n=e[a(392)]("");let s=z-(n[a(415)]((e,t)=>e+v[a(216)+"t"](t)[a(265)],0)+(n[a(260)]-1)*t)/2;for(const r of n)v[a(335)]=i[a(381)],v[a(425)](r,s,N),s+=v[a(216)+"t"](r)[a(265)]+t;N+=28}if(s[a(378)]&&s[a(378)][a(260)]>0){v[a(312)]=b,v[a(369)]=i.VKFnj,v.textAlign=a(337);const e=s[a(378)][a(371)](" "),t=i[a(345)](e.length,400)?e[a(224)](0,400)+i.txdvz:e,n=i[a(414)](h,120)-40,r=t[a(392)](" ");let o="",c=N;const l=15,u=4;let d=0;for(const s of r){const e=i[a(318)](i.vXslE(o,o?" ":""),s);if(v[a(216)+"t"](e)[a(265)]>n&&o){if(v[a(425)](o,z,c),o=s,c+=l,d++,i[a(231)](d,u))break}else o=e}o&&d<u&&v.fillText(o,z,c)}const k=i[a(414)](p,f)-20;v[a(312)]=b,v.font=i[a(310)],v.textAlign=i.LGVEd;const P=i[a(274)][a(392)](""),S=P[a(415)]((e,t)=>e+v[a(216)+"t"](t)[a(265)],0),T=i[a(326)](S,4*(P[a(260)]-1));let W=i[a(288)](z,i[a(270)](T,2));for(const e of P)v.textAlign=i.lksAX,v.fillText(e,W,k),W+=i[a(277)](v.measureText(e)[a(265)],4);if(l){const[e,t]=await Promise.all([U(!1),Z()]),n=220,s=65,r=i.RxzaR(i[a(256)](f+m,n),12),o=f+m-s-12;v[a(312)]=i[a(257)],v[a(218)](),v[a(241)](r,o,n,s,6),v.fill(),v[a(357)+"e"]=a(287),v.lineWidth=1,v[a(350)]();const c=48,l=i[a(275)](r,12),u=o+i.TDNEj(s-c,2);v[a(238)](),v.beginPath(),v.arc(i.GyhBC(l,i[a(270)](c,2)),u+c/2,i[a(396)](c,2),0,2*Math.PI),v[a(306)](),v.drawImage(t,l,u,c,c),v[a(387)]();const d=i[a(300)](l,c)+10;v[a(335)]=a(365),v.textBaseline=i.wJofX,v.fillStyle=a(356),v.font="600 13px 'Inter', sa"+a(215),v[a(425)](i[a(289)],d,o+28),v.fillStyle=a(409),v.font=a(401)+a(332)+a(215),v[a(425)](i[a(360)],d,i.kkesq(o,46));const x=50,h=i[a(271)](i[a(219)](r,n),x)-10,p=i[a(275)](o,i[a(323)](s-x,2)),g=new Image;await new Promise(t=>{const n=a;g[n(397)]=()=>{v.drawImage(g,h,p,x,x),t()},g[n(422)]=()=>t(),g[n(244)]=e})}return g}const H=A.filter(e=>"custom"!==e.id);const R=["Exemplar â„–001 â€¢ Genesis","Exemplar â„–002 â€¢ Prototype","Exemplar â„–003 â€¢ Blueprint","Exemplar â„–004 â€¢ Foundation","Exemplar â„–005 â€¢ Pioneer","Exemplar â„–006 â€¢ Alpha","Exemplar â„–007 â€¢ Benchmark","Exemplar â„–008 â€¢ Catalyst","Exemplar â„–009 â€¢ Origin","Exemplar â„–010 â€¢ Spectrum","Exemplar â„–011 â€¢ Prism","Exemplar â„–012 â€¢ Vertex","Exemplar â„–013 â€¢ Meridian","Exemplar â„–014 â€¢ Zenith","Exemplar â„–015 â€¢ Nexus","Exemplar â„–016 â€¢ Axiom","Exemplar â„–017 â€¢ Epoch","Exemplar â„–018 â€¢ Vector","Exemplar â„–019 â€¢ Cipher","Exemplar â„–020 â€¢ Matrix","Exemplar â„–021 â€¢ Helix","Exemplar â„–022 â€¢ Synthesis","Exemplar â„–023 â€¢ Thesis","Exemplar â„–024 â€¢ Opus","Exemplar â„–025 â€¢ Finale","Sunset Clash","Ocean Depths","Earth Tones","Forest Canopy","Copper Age","Midnight Purple","Rustic Charm","Steel Gray","Olive Grove","Slate Dreams","Berry Burst","Sandy Beach","Wine Country","Mint Fresh","Mahogany Dreams","Arctic Ice","Coral Reef","Lavender Fields","Bronze Medal","Neon Nights","Autumn Leaves","Crystal Cave","Desert Dusk","Emerald City","Fire Dance"];const V=()=>{const e=s(),{user:t,isLoading:n}=r(),[S,T]=a.useState(null),[W,K]=a.useState(!1),[I,O]=a.useState(0),[U,Z]=a.useState(""),[V,X]=a.useState([]),[F,J]=a.useState(50),[$,Q]=a.useState(!0),[ee,te]=a.useState(!1),[ne,se]=a.useState(null);a.useEffect(()=>{n||(async()=>{if(!t)return void T(!1);const{data:e}=await c.rpc("has_role",{_user_id:t.id,_role:"admin"});T(!0===e)})()},[t,n]);const re=a.useCallback(async(e,n,s,r,a=!0)=>{try{const m=i(e.pgn),x=a?H[Math.floor(Math.random()*H.length)]:H[s%H.length],f=function(e,t){const n=A.find(e=>e.id===t)||A[0];return e.map(e=>e.map(e=>({...e,visits:e.visits.map(e=>{const t=("w"===e.color?n.white:n.black)[e.piece]||"#888888";return{...e,hexColor:t}})})))}(m.board,x.id);o(x.id);const h=await Y(f,m.gameData,{boardSize:600,darkMode:!1,withWatermark:!1,title:n}),p=await new Promise((e,t)=>{h.toBlob(n=>{n?e(n):t(new Error("Failed to create blob"))},"image/png",.95)}),g=Date.now(),v=`${t.id}/${g}-${n.replace(/[^a-z0-9]/gi,"-").toLowerCase()}.png`,{error:w}=await c.storage.from("visualizations").upload(v,p,{contentType:"image/png",upsert:!1});if(w)throw w;const{data:j}=c.storage.from("visualizations").getPublicUrl(v),y=l(e.pgn),b={white:m.gameData.white,black:m.gameData.black,event:m.gameData.event,date:m.gameData.date,result:m.gameData.result,pgn:m.gameData.pgn,moves:m.gameData.moves,board:f,totalMoves:m.totalMoves,visualizationState:{paletteId:x.id,paletteName:x.name,isOfficialPalette:!0,darkMode:!1,currentMove:1/0,isExemplar:r,exemplarNumber:r?s+1:void 0,gameHash:y}},{data:C,error:z}=await c.from("saved_visualizations").insert({user_id:t.id,title:n,pgn:e.pgn,game_data:b,image_path:j.publicUrl}).select().single();if(z)throw z;const N=function(e,t){if(e){const e=99,n=Math.max(0,10*(25-t));return e+Math.floor(300*Math.random())+n}return 199+Math.floor(600*Math.random())}(r,s),{data:M,error:L}=await u(C.id,N);if(L)throw L;const D=function(e,t){const n=e?1.5:1,s=e?Math.max(0,.1*(25-t)):0;return{viewCount:Math.floor((15*Math.random()+3)*n+5*s),hdDownloads:Math.floor(3*Math.random()*n),gifDownloads:Math.floor(2*Math.random()*n),tradeCount:e?Math.floor(2*Math.random()):0}}(r,s);for(let e=0;e<D.viewCount;e++)await c.rpc("record_vision_interaction",{p_visualization_id:C.id,p_user_id:t.id,p_interaction_type:"view"}),await new Promise(e=>setTimeout(e,50));const _=d(e.pgn),B=a?"premium":"genesis";return{title:n,success:!0,visualizationId:C.id,listingId:null==M?void 0:M.id,isExemplar:r,paletteId:x.id,paletteName:x.name,gameHash:y,tier:B,openingName:null==_?void 0:_.fullName}}catch(m){return{title:n,success:!1,error:m.message,isExemplar:r}}},[t]),ae=V.filter(e=>e.success).length,ie=V.filter(e=>!e.success).length;return V.filter(e=>e.success&&e.isExemplar).length,n||null===S?m.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:m.jsx(x,{className:"h-8 w-8 animate-spin text-primary"})}):t&&S?m.jsx("div",{className:"min-h-screen bg-background p-8",children:m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsxs(g,{variant:"ghost",onClick:()=>e("/marketplace"),className:"mb-6",children:[m.jsx(v,{className:"h-4 w-4 mr-2"}),"Return to Marketplace"]}),m.jsxs(f,{children:[m.jsx(w,{children:m.jsxs(j,{className:"flex items-center gap-3",children:[m.jsx(y,{className:"h-6 w-6 text-primary"}),"Seed Marketplace with Visions"]})}),m.jsxs(h,{className:"space-y-6",children:[m.jsx("div",{className:"p-4 rounded-lg bg-amber-500/10 border border-amber-500/30",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(b,{className:"h-5 w-5 text-amber-500 mt-0.5"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-amber-600",children:"CEO Only"}),m.jsxs("p",{className:"text-sm text-muted-foreground",children:["Generates ",F," visions: ",Math.min(25,F)," Exemplar editions (numbered testers from our humble beginnings) + ",Math.max(0,F-25)," creative community visions. Exemplars: $0.99-$4.99, Creative: $1.99-$7.99."]})]})]})}),m.jsxs("div",{className:"flex items-center justify-between gap-4",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("label",{className:"text-sm text-muted-foreground",children:"Number of visions:"}),m.jsxs("select",{value:F,onChange:e=>J(Number(e.target.value)),disabled:W,className:"bg-muted border border-border rounded px-3 py-2",children:[m.jsx("option",{value:5,children:"5 (test)"}),m.jsx("option",{value:10,children:"10"}),m.jsx("option",{value:25,children:"25"}),m.jsx("option",{value:50,children:"50"})]})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(C,{id:"use-official-palettes",checked:$,onCheckedChange:Q,disabled:W}),m.jsxs(z,{htmlFor:"use-official-palettes",className:"flex items-center gap-2",children:[m.jsx(N,{className:"h-4 w-4 text-primary"}),m.jsx("span",{className:"text-sm",children:"Official Palettes"})]})]}),$&&m.jsxs(M,{variant:"secondary",className:"text-xs",children:[H.length," palettes"]})]})]}),m.jsx(g,{onClick:async()=>{if(!t)return void k.error("You must be logged in as the CEO account");K(!0),X([]),O(0);const e=[],n=P.slice(0,Math.min(F,P.length)),s=[];for(let t=0;t<F;t++){const e=t%n.length,r=t<25,a=R[t]||`Vision ${t+1}`;s.push({game:n[e],title:a,isExemplar:r})}for(let t=0;t<s.length;t++){const{game:n,title:r,isExemplar:a}=s[t];Z(`${a?"ðŸ†":"ðŸŽ¨"} ${r} (${t+1}/${s.length})`);const i=await re(n,r,t,a,$);e.push(i),X([...e]),O((t+1)/s.length*100),await new Promise(e=>setTimeout(e,300))}K(!1);const r=e.filter(e=>e.success).length,a=e.filter(e=>!e.success).length,i=e.filter(e=>e.success&&e.isExemplar).length;r>0?k.success(`Created ${r} visions`,{description:`${i} Exemplars, ${r-i} Creative${a>0?` (${a} failed)`:""}`}):k.error("Failed to create any visions")},disabled:W||!t,className:"w-full",size:"lg",children:W?m.jsxs(m.Fragment,{children:[m.jsx(x,{className:"h-5 w-5 mr-2 animate-spin"}),"Generating..."]}):m.jsxs(m.Fragment,{children:[m.jsx(L,{className:"h-5 w-5 mr-2"}),"Start Seeding"]})}),m.jsxs("div",{className:"border-t border-border pt-6 mt-6",children:[m.jsx("div",{className:"p-4 rounded-lg bg-destructive/10 border border-destructive/30 mb-4",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(D,{className:"h-5 w-5 text-destructive mt-0.5"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-destructive",children:"Delete My Test Visions"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Deletes only YOUR visions that have NOT earned royalties from other users' print orders. Visions with natural value accrual are preserved. Safe for testing cleanup."})]})]})}),m.jsx(g,{onClick:async()=>{if(!t)return;if(window.confirm("This will delete all YOUR visions that have NOT earned royalties from other users' print orders.\n\nVisions with natural value accrual will be preserved.\n\nAre you sure?")){te(!0),se(null);try{const{data:e,error:n}=await c.from("saved_visualizations").select("id").eq("user_id",t.id);if(n)throw n;if(!e||0===e.length)return k.info("No visions to delete"),void te(!1);const s=e.map(e=>e.id),{data:r,error:a}=await c.from("vision_scores").select("visualization_id, royalty_cents_earned, royalty_orders_count").in("visualization_id",s);if(a)throw a;const i=new Set((r||[]).filter(e=>e.royalty_cents_earned>0||e.royalty_orders_count>0).map(e=>e.visualization_id)),o=s.filter(e=>!i.has(e)),l=s.filter(e=>i.has(e));if(0===o.length)return k.info("All your visions have accrued natural value - none deleted"),se({deleted:0,preserved:l.length}),void te(!1);await c.from("visualization_listings").delete().in("visualization_id",o),await c.from("vision_scores").delete().in("visualization_id",o),await c.from("vision_interactions").delete().in("visualization_id",o),await c.from("visualization_transfers").delete().in("visualization_id",o);const{error:u}=await c.from("saved_visualizations").delete().in("id",o);if(u)throw u;for(const d of e.filter(e=>o.includes(e.id)))await c.storage.from("visualizations").remove([`${t.id}/`]);se({deleted:o.length,preserved:l.length}),k.success(`Deleted ${o.length} test visions`,{description:l.length>0?`${l.length} visions with natural value preserved`:void 0})}catch(e){k.error("Failed to delete visions",{description:e.message})}finally{te(!1)}}},disabled:ee||W||!t,variant:"destructive",className:"w-full",size:"lg",children:ee?m.jsxs(m.Fragment,{children:[m.jsx(x,{className:"h-5 w-5 mr-2 animate-spin"}),"Deleting Test Visions..."]}):m.jsxs(m.Fragment,{children:[m.jsx(D,{className:"h-5 w-5 mr-2"}),"Delete My Test Visions"]})}),ne&&m.jsx("div",{className:"mt-4 p-3 rounded-lg bg-muted text-sm",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("span",{className:"text-destructive",children:["ðŸ—‘ ",ne.deleted," deleted"]}),ne.preserved>0&&m.jsxs("span",{className:"text-green-500",children:["âœ“ ",ne.preserved," preserved (has value)"]})]})})]}),W&&m.jsxs("div",{className:"space-y-2",children:[m.jsx(_,{value:I,className:"h-2"}),m.jsx("p",{className:"text-sm text-muted-foreground text-center",children:U})]}),V.length>0&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center gap-4 text-sm flex-wrap",children:[m.jsxs("span",{className:"flex items-center gap-1 text-green-500",children:[m.jsx(B,{className:"h-4 w-4"}),ae," successful"]}),m.jsxs("span",{className:"flex items-center gap-1 text-purple-500",children:[m.jsx(E,{className:"h-4 w-4"}),V.filter(e=>e.success&&"premium"===e.tier).length," Premium"]}),m.jsxs("span",{className:"flex items-center gap-1 text-blue-500",children:[m.jsx(q,{className:"h-4 w-4"}),V.filter(e=>e.success&&"genesis"===e.tier).length," Genesis"]}),ie>0&&m.jsxs("span",{className:"flex items-center gap-1 text-red-500",children:[m.jsx(p,{className:"h-4 w-4"}),ie," failed"]})]}),m.jsx("div",{className:"max-h-64 overflow-y-auto space-y-1 border border-border rounded-lg p-2",children:V.map((e,t)=>m.jsxs(G.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"text-sm p-2 rounded flex items-center justify-between gap-2 "+(e.success?"premium"===e.tier?"bg-purple-500/10 border border-purple-500/20":"bg-blue-500/10 border border-blue-500/20":"bg-red-500/10 text-red-600"),children:[m.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[e.success?"premium"===e.tier?m.jsx(E,{className:"h-4 w-4 text-purple-500 flex-shrink-0"}):m.jsx(q,{className:"h-4 w-4 text-blue-500 flex-shrink-0"}):m.jsx(p,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),m.jsx("span",{className:"truncate",children:e.title}),e.openingName&&m.jsx(M,{variant:"secondary",className:"text-[9px] hidden sm:inline-flex",children:e.openingName}),e.error&&m.jsxs("span",{className:"text-xs opacity-70",children:["(",e.error,")"]})]}),e.success&&m.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[m.jsxs(M,{variant:"outline",className:"text-[10px] "+("premium"===e.tier?"border-purple-500/50":"border-blue-500/50"),children:[m.jsx(N,{className:"h-2.5 w-2.5 mr-1"}),e.paletteName]}),e.gameHash&&m.jsx("a",{href:`/g/${e.gameHash}?p=${e.paletteId}`,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-primary hover:underline",children:"View â†’"})]})]},t))})]})]})]})]})}):m.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:m.jsx(f,{className:"max-w-md",children:m.jsxs(h,{className:"pt-6 text-center",children:[m.jsx(p,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),m.jsx("h2",{className:"text-xl font-bold mb-2",children:"Access Denied"}),m.jsx("p",{className:"text-muted-foreground mb-4",children:"You need admin privileges to access this page."}),m.jsx(g,{onClick:()=>e("/"),children:"Go Home"})]})})})};export{V as default};
