const n="/**\n * Forensic Adapter - Evidence Analysis & Investigation Patterns\n * \n * Crime scene reconstruction, evidentiary standards, deduction chains,\n * forensic science reliability, and investigative temporal dynamics.\n * \n * For Alec Arthur Shelton - The Artist\n * Forensics is the reconstruction of truth from scattered fragments.\n */\n\nimport type { DomainAdapter, UniversalSignal, DomainSignature } from '../types';\n\n// FORENSIC DISCIPLINES\nconst FORENSIC_FIELDS = {\n  dna: {\n    reliability: 'High',\n    applications: ['Identification', 'Exclusion', 'Kinship'],\n    evolution: 'STR analysis → Rapid DNA → Phenotyping'\n  },\n  \n  fingerprints: {\n    reliability: 'High',\n    uniqueness: 'Individual, persistent',\n    technology: 'AFIS, latent print enhancement'\n  },\n  \n  ballistics: {\n    reliability: 'Medium-High',\n    applications: ['Weapon identification', 'Trajectory analysis'],\n    database: 'NIBIN for cartridge casings'\n  },\n  \n  toxicology: {\n    reliability: 'High',\n    applications: ['Drugs', 'Poison', 'Alcohol'],\n    methods: ['Blood', 'Hair', 'Tissue analysis']\n  },\n  \n  digital: {\n    reliability: 'High (when properly handled)',\n    applications: ['Recovery', 'Network analysis', 'Timeline reconstruction'],\n    challenge: 'Encryption, cloud, rapidly evolving'\n  },\n  \n  questionedDocuments: {\n    reliability: 'Medium',\n    applications: ['Handwriting', 'Forgery detection', 'Ink analysis'],\n    controversy: 'Some methods lack scientific validation'\n  },\n  \n  biteMarks: {\n    reliability: 'Low (discredited by many)',\n    status: 'Admissibility increasingly challenged'\n  }\n};\n\n// INVESTIGATION PATTERNS\nconst INVESTIGATION_STAGES = {\n  initialResponse: {\n    activities: ['Secure scene', 'Preserve evidence', 'Witness identification'],\n    critical: 'First 48 hours'\n  },\n  \n  documentation: {\n    activities: ['Photography', 'Sketching', 'Notes', 'Video'],\n    principle: 'Objective recording'\n  },\n  \n  collection: {\n    activities: ['Evidence packaging', 'Chain of custody', 'Labeling'],\n    contamination: 'Primary concern'\n  },\n  \n  analysis: {\n    activities: ['Laboratory testing', 'Database queries', 'Pattern recognition'],\n    timeline: 'Days to months'\n  },\n  \n  reconstruction: {\n    activities: ['Hypothesis formation', 'Testing', 'Scenario building'],\n    goal: 'Most probable sequence'\n  }\n};\n\n// EVIDENTIARY STANDARDS\nconst EVIDENCE_STANDARDS = {\n  daubert: {\n    criteria: ['Testable', 'Peer review', 'Known error rate', 'Standards', 'Acceptance'],\n    impact: 'Increased scrutiny of forensic methods'\n  },\n  \n  frye: {\n    standard: 'General acceptance in scientific community',\n    jurisdiction: 'Some states still use'\n  },\n  \n  reliabilityIssues: {\n    cognitiveBias: 'Confirmation, contextual',\n    analystSubjectivity: 'Pattern comparison methods',\n    lackOfGroundTruth: 'No objective standard for comparison'\n  }\n};\n\n// DEDUCTION PATTERNS\nconst DEDUCTION_METHODS = {\n  abductive: {\n    description: 'Inference to best explanation',\n    use: 'Generating hypotheses',\n    risk: 'Confirmation bias'\n  },\n  \n  inductive: {\n    description: 'Pattern to generalization',\n    use: 'Establishing MO, linking cases',\n    strength: 'Depends on sample size'\n  },\n  \n  deductive: {\n    description: 'General to specific',\n    use: 'Testing hypotheses',\n    power: 'Conclusive if premises true'\n  }\n};\n\n// CRIME SCENE TYPES\nconst SCENE_PATTERNS = {\n  primary: {\n    definition: 'Where offense occurred',\n    evidence: 'Most probative',\n    contamination: 'Highest risk'\n  },\n  \n  secondary: {\n    definition: 'Related to offense',\n    examples: ['Dump sites', 'Getaway vehicles', 'Stash locations'],\n    value: 'Corroborative, leads'\n  }\n};\n\ninterface ForensicEvent {\n  timestamp: number;\n  evidenceQuality: number; // 0-10\n  chainOfCustodyIntegrity: number; // 0-1\n  analyticalCertainty: number; // 0-1\n  investigationProgress: number; // 0-1\n  witnessReliability: number; // 0-1\n  timelineClarity: number; // 0-1\n  suspectCooperation: number; // 0-1\n  mediaPressure: number; // 0-10\n}\n\nclass ForensicAdapter implements DomainAdapter<ForensicEvent> {\n  domain = 'security' as const;\n  name = 'Forensic Analysis & Investigation';\n  isActive = false;\n  lastUpdate = 0;\n  \n  private signalBuffer: UniversalSignal[] = [];\n  private readonly BUFFER_SIZE = 2000;\n  \n  async initialize(): Promise<void> {\n    this.isActive = true;\n    this.lastUpdate = Date.now();\n    console.log('[ForensicAdapter] Initialized - Investigation patterns active');\n  }\n  \n  processRawData(event: ForensicEvent): UniversalSignal {\n    const { timestamp, evidenceQuality, chainOfCustodyIntegrity, analyticalCertainty, investigationProgress } = event;\n    \n    // Frequency encodes investigation clarity\n    const frequency = investigationProgress;\n    \n    // Intensity = case complexity\n    const intensity = (10 - evidenceQuality) / 10 * (1 - analyticalCertainty) * (1 - chainOfCustodyIntegrity);\n    \n    // Phase encodes confidence level\n    const phase = (evidenceQuality / 10 + analyticalCertainty) / 2 * Math.PI;\n    \n    const harmonics = [\n      evidenceQuality / 10,\n      chainOfCustodyIntegrity,\n      analyticalCertainty,\n      investigationProgress,\n      event.witnessReliability,\n      event.timelineClarity\n    ];\n    \n    const signal: UniversalSignal = {\n      domain: 'security',\n      timestamp,\n      intensity,\n      frequency,\n      phase,\n      harmonics,\n      rawData: [evidenceQuality, chainOfCustodyIntegrity, analyticalCertainty, investigationProgress]\n    };\n    \n    this.signalBuffer.push(signal);\n    if (this.signalBuffer.length > this.BUFFER_SIZE) {\n      this.signalBuffer.shift();\n    }\n    \n    this.lastUpdate = timestamp;\n    return signal;\n  }\n  \n  extractSignature(signals: UniversalSignal[]): DomainSignature {\n    if (signals.length === 0) {\n      return this.getDefaultSignature();\n    }\n    \n    const recent = signals.slice(-100);\n    \n    const avgEvidence = recent.reduce((sum, s) => sum + s.rawData[0], 0) / recent.length;\n    const avgChain = recent.reduce((sum, s) => sum + s.rawData[1], 0) / recent.length;\n    const avgCertainty = recent.reduce((sum, s) => sum + s.rawData[2], 0) / recent.length;\n    const avgProgress = recent.reduce((sum, s) => sum + s.rawData[3], 0) / recent.length;\n    \n    const quadrantProfile = {\n      aggressive: avgEvidence < 5 ? 0.7 : 0.3,\n      defensive: avgChain > 0.9 ? 0.7 : 0.2,\n      tactical: avgCertainty < 0.5 ? 0.6 : 0.3,\n      strategic: avgProgress > 0.7 ? 0.8 : 0.3\n    };\n    \n    const temporalFlow = {\n      early: avgProgress < 0.3 ? 0.9 : 0.1,\n      mid: avgProgress >= 0.3 && avgProgress < 0.7 ? 0.7 : 0.2,\n      late: avgProgress >= 0.7 ? 0.8 : 0.2\n    };\n    \n    return {\n      domain: 'security',\n      quadrantProfile,\n      temporalFlow,\n      intensity: (10 - avgEvidence) / 10,\n      momentum: avgProgress > 0.5 ? 1 : -1,\n      volatility: 1 - avgCertainty,\n      dominantFrequency: avgProgress,\n      harmonicResonance: avgChain,\n      phaseAlignment: avgCertainty,\n      extractedAt: Date.now()\n    };\n  }\n  \n  private getDefaultSignature(): DomainSignature {\n    return {\n      domain: 'security',\n      quadrantProfile: { aggressive: 0.4, defensive: 0.3, tactical: 0.2, strategic: 0.1 },\n      temporalFlow: { early: 0.8, mid: 0.15, late: 0.05 },\n      intensity: 0.6,\n      momentum: -1,\n      volatility: 0.5,\n      dominantFrequency: 0.3,\n      harmonicResonance: 0.8,\n      phaseAlignment: 0.4,\n      extractedAt: Date.now()\n    };\n  }\n}\n\nexport const forensicAdapter = new ForensicAdapter();\nexport { FORENSIC_FIELDS, INVESTIGATION_STAGES, EVIDENCE_STANDARDS, DEDUCTION_METHODS, SCENE_PATTERNS };\nexport type { ForensicEvent };\n";export{n as default};
