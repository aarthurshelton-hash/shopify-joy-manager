const e='/**\n * Style Profile Panel\n * \n * Displays player style analysis based on time control performance,\n * mapping to trading style equivalents and market fit scoring.\n */\n\nimport React, { useState, useEffect } from \'react\';\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \'@/components/ui/card\';\nimport { Badge } from \'@/components/ui/badge\';\nimport { Progress } from \'@/components/ui/progress\';\nimport { ScrollArea } from \'@/components/ui/scroll-area\';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \'@/components/ui/tabs\';\nimport { motion } from \'framer-motion\';\nimport { \n  Timer, \n  Zap, \n  Brain, \n  TrendingUp, \n  AlertTriangle,\n  Target,\n  Activity,\n  Clock,\n  Flame,\n  Shield,\n  LineChart\n} from \'lucide-react\';\nimport {\n  type StyleProfile,\n  type TimeControlElo,\n  type TimeControlStyleMapping,\n  TIME_CONTROL_MAPPINGS,\n  analyzeTimeControlProfile,\n  formatStyleProfile,\n  calculateMarketFit,\n} from \'@/lib/pensent-core/domains/chess/timeControlStyleProfiler\';\n\ninterface StyleProfilePanelProps {\n  // Optional external data - if not provided, uses demo data\n  playerElos?: TimeControlElo[];\n  marketConditions?: {\n    volatility: number;\n    momentum: number;\n    trendStrength: number;\n    timeframeMinutes: number;\n  };\n}\n\n// Demo data for display\nconst DEMO_PLAYER_ELOS: TimeControlElo[] = [\n  { category: \'ultrabullet\', elo: 2750, gamesPlayed: 2728, winRate: 0.62, blunderRate: 0.08 },\n  { category: \'bullet\', elo: 3223, gamesPlayed: 29349, winRate: 0.71, blunderRate: 0.04 },\n  { category: \'blitz\', elo: 2790, gamesPlayed: 2408, winRate: 0.65, blunderRate: 0.05 },\n  { category: \'rapid\', elo: 2554, gamesPlayed: 43, winRate: 0.58, blunderRate: 0.06 },\n  { category: \'classical\', elo: 2400, gamesPlayed: 0, winRate: 0, blunderRate: 0.03 },\n];\n\nconst DEMO_MARKET_CONDITIONS = {\n  volatility: 0.65,\n  momentum: 0.3,\n  trendStrength: 0.5,\n  timeframeMinutes: 15,\n};\n\nexport function StyleProfilePanel({ \n  playerElos = DEMO_PLAYER_ELOS,\n  marketConditions = DEMO_MARKET_CONDITIONS \n}: StyleProfilePanelProps) {\n  const [profile, setProfile] = useState<StyleProfile | null>(null);\n  const [marketFit, setMarketFit] = useState<ReturnType<typeof calculateMarketFit> | null>(null);\n\n  useEffect(() => {\n    const analyzedProfile = analyzeTimeControlProfile(playerElos);\n    setProfile(analyzedProfile);\n    \n    const fit = calculateMarketFit(analyzedProfile, marketConditions);\n    setMarketFit(fit);\n  }, [playerElos, marketConditions]);\n\n  if (!profile) {\n    return (\n      <Card className="bg-card/80 backdrop-blur border-primary/20">\n        <CardContent className="p-6 text-center text-muted-foreground">\n          Loading style analysis...\n        </CardContent>\n      </Card>\n    );\n  }\n\n  const formatted = formatStyleProfile(profile);\n  const dominantMapping = TIME_CONTROL_MAPPINGS.find(m => m.timeControl === profile.dominantStyle);\n\n  return (\n    <Card className="bg-card/80 backdrop-blur border-primary/20">\n      <CardHeader className="pb-3">\n        <CardTitle className="flex items-center gap-2">\n          <Brain className="w-5 h-5 text-primary" />\n          Time Control Style Profiler\n        </CardTitle>\n        <CardDescription>\n          Chess time controls reveal trading DNA\n        </CardDescription>\n      </CardHeader>\n      <CardContent className="space-y-6">\n        <Tabs defaultValue="profile" className="w-full">\n          <TabsList className="grid w-full grid-cols-3">\n            <TabsTrigger value="profile" className="gap-1">\n              <Timer className="w-3 h-3" />\n              Profile\n            </TabsTrigger>\n            <TabsTrigger value="mapping" className="gap-1">\n              <LineChart className="w-3 h-3" />\n              Trading Map\n            </TabsTrigger>\n            <TabsTrigger value="fit" className="gap-1">\n              <Target className="w-3 h-3" />\n              Market Fit\n            </TabsTrigger>\n          </TabsList>\n\n          {/* Profile Tab */}\n          <TabsContent value="profile" className="space-y-4 mt-4">\n            {/* ELO by Time Control */}\n            <div className="space-y-2">\n              <h4 className="text-sm font-medium flex items-center gap-2">\n                <Clock className="w-4 h-4 text-muted-foreground" />\n                ELO by Time Control\n              </h4>\n              <div className="space-y-2">\n                {playerElos.filter(e => e.gamesPlayed > 0).map((elo) => (\n                  <motion.div\n                    key={elo.category}\n                    initial={{ opacity: 0, x: -20 }}\n                    animate={{ opacity: 1, x: 0 }}\n                    className="flex items-center gap-3"\n                  >\n                    <span className="text-xs text-muted-foreground w-20 capitalize">\n                      {elo.category}\n                    </span>\n                    <Progress \n                      value={((elo.elo - 2000) / 1500) * 100} \n                      className="h-2 flex-1"\n                    />\n                    <span className={`text-sm font-mono font-bold ${\n                      elo.category === profile.dominantStyle ? \'text-green-400\' :\n                      elo.category === profile.weakestStyle ? \'text-red-400\' :\n                      \'text-foreground\'\n                    }`}>\n                      {elo.elo}\n                    </span>\n                    <span className="text-xs text-muted-foreground">\n                      ({elo.gamesPlayed.toLocaleString()})\n                    </span>\n                  </motion.div>\n                ))}\n              </div>\n            </div>\n\n            {/* Key Insight */}\n            <div className="p-3 bg-primary/10 rounded-lg border border-primary/20">\n              <div className="flex items-start gap-2">\n                <Zap className="w-4 h-4 text-primary mt-0.5" />\n                <div>\n                  <p className="text-sm font-medium">Key Insight</p>\n                  <p className="text-xs text-muted-foreground">\n                    ELO variance of <span className="text-primary font-bold">{profile.eloVariance.toFixed(0)} pts</span> indicates \n                    a <span className="text-primary">{profile.eloVariance > 200 ? \'specialized\' : profile.eloVariance > 100 ? \'somewhat specialized\' : \'balanced\'}</span> cognitive style.\n                    Max gap: {profile.maxEloDelta.toFixed(0)} pts between {profile.dominantStyle} and {profile.weakestStyle}.\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            {/* Cognitive Fingerprint */}\n            <div className="space-y-3">\n              <h4 className="text-sm font-medium">Cognitive Fingerprint</h4>\n              <div className="grid grid-cols-2 gap-3">\n                <MetricCard\n                  icon={<Flame className="w-4 h-4 text-orange-400" />}\n                  label="Intuition"\n                  value={profile.intuitionScore}\n                  color="orange"\n                />\n                <MetricCard\n                  icon={<Brain className="w-4 h-4 text-blue-400" />}\n                  label="Calculation"\n                  value={profile.calculationScore}\n                  color="blue"\n                />\n                <MetricCard\n                  icon={<Shield className="w-4 h-4 text-green-400" />}\n                  label="Pressure Resistance"\n                  value={profile.pressureResistance}\n                  color="green"\n                />\n                <MetricCard\n                  icon={<Activity className="w-4 h-4 text-purple-400" />}\n                  label="Consistency"\n                  value={profile.consistencyScore}\n                  color="purple"\n                />\n              </div>\n            </div>\n          </TabsContent>\n\n          {/* Trading Mapping Tab */}\n          <TabsContent value="mapping" className="space-y-4 mt-4">\n            {dominantMapping && (\n              <div className="p-4 bg-gradient-to-br from-primary/10 to-purple-500/10 rounded-lg border border-primary/20">\n                <div className="flex items-center justify-between mb-3">\n                  <Badge variant="default" className="text-sm">\n                    {dominantMapping.tradingStyle.replace(\'_\', \' \').toUpperCase()}\n                  </Badge>\n                  <Badge variant="outline" className="capitalize">\n                    {profile.riskTolerance} Risk\n                  </Badge>\n                </div>\n                <p className="text-sm text-muted-foreground mb-2">\n                  {dominantMapping.cognitiveProfile}\n                </p>\n                <p className="text-xs text-primary">\n                  Optimal: {profile.optimalMarketConditions.timeframe}\n                </p>\n              </div>\n            )}\n\n            {/* Time Control → Trading Style Grid */}\n            <ScrollArea className="h-48">\n              <div className="space-y-2">\n                {TIME_CONTROL_MAPPINGS.map((mapping) => (\n                  <div \n                    key={mapping.timeControl}\n                    className={`p-2 rounded border ${\n                      mapping.timeControl === profile.dominantStyle \n                        ? \'border-primary bg-primary/10\' \n                        : \'border-border/50\'\n                    }`}\n                  >\n                    <div className="flex items-center justify-between">\n                      <span className="text-sm font-medium capitalize">\n                        {mapping.timeControl}\n                      </span>\n                      <span className="text-xs text-muted-foreground">\n                        → {mapping.tradingStyle.replace(\'_\', \' \')}\n                      </span>\n                    </div>\n                    <p className="text-xs text-muted-foreground">\n                      {mapping.decisionWindow} • {mapping.marketEquivalent}\n                    </p>\n                  </div>\n                ))}\n              </div>\n            </ScrollArea>\n\n            {/* Strengths & Weaknesses */}\n            {dominantMapping && (\n              <div className="grid grid-cols-2 gap-3">\n                <div className="p-2 bg-green-500/10 rounded border border-green-500/20">\n                  <p className="text-xs font-medium text-green-400 mb-1">Strengths</p>\n                  <ul className="text-xs text-muted-foreground space-y-0.5">\n                    {dominantMapping.strengthIndicators.slice(0, 2).map((s, i) => (\n                      <li key={i}>• {s}</li>\n                    ))}\n                  </ul>\n                </div>\n                <div className="p-2 bg-red-500/10 rounded border border-red-500/20">\n                  <p className="text-xs font-medium text-red-400 mb-1">Weaknesses</p>\n                  <ul className="text-xs text-muted-foreground space-y-0.5">\n                    {dominantMapping.weaknessIndicators.slice(0, 2).map((w, i) => (\n                      <li key={i}>• {w}</li>\n                    ))}\n                  </ul>\n                </div>\n              </div>\n            )}\n          </TabsContent>\n\n          {/* Market Fit Tab */}\n          <TabsContent value="fit" className="space-y-4 mt-4">\n            {marketFit && (\n              <>\n                {/* Fit Score */}\n                <div className="text-center py-4">\n                  <div className={`text-5xl font-bold ${\n                    marketFit.fitScore > 0.7 ? \'text-green-400\' :\n                    marketFit.fitScore > 0.5 ? \'text-yellow-400\' :\n                    marketFit.fitScore > 0.3 ? \'text-orange-400\' :\n                    \'text-red-400\'\n                  }`}>\n                    {(marketFit.fitScore * 100).toFixed(0)}%\n                  </div>\n                  <p className="text-sm text-muted-foreground">Market Fit Score</p>\n                  <p className="text-xs text-primary mt-1">{marketFit.recommendation}</p>\n                </div>\n\n                {/* Current Market Conditions */}\n                <div className="p-3 bg-muted/30 rounded-lg">\n                  <h4 className="text-xs font-medium mb-2 text-muted-foreground">Current Market</h4>\n                  <div className="grid grid-cols-2 gap-2 text-xs">\n                    <div>Volatility: <span className="text-primary">{(marketConditions.volatility * 100).toFixed(0)}%</span></div>\n                    <div>Momentum: <span className="text-primary">{marketConditions.momentum > 0 ? \'+\' : \'\'}{(marketConditions.momentum * 100).toFixed(0)}%</span></div>\n                    <div>Trend: <span className="text-primary">{(marketConditions.trendStrength * 100).toFixed(0)}%</span></div>\n                    <div>Timeframe: <span className="text-primary">{marketConditions.timeframeMinutes}m</span></div>\n                  </div>\n                </div>\n\n                {/* Warnings */}\n                {marketFit.warnings.length > 0 && (\n                  <div className="space-y-2">\n                    {marketFit.warnings.map((warning, i) => (\n                      <div key={i} className="flex items-start gap-2 p-2 bg-yellow-500/10 rounded border border-yellow-500/20">\n                        <AlertTriangle className="w-4 h-4 text-yellow-500 mt-0.5 shrink-0" />\n                        <span className="text-xs text-yellow-200">{warning}</span>\n                      </div>\n                    ))}\n                  </div>\n                )}\n\n                {/* Prediction Probabilities */}\n                <div className="grid grid-cols-2 gap-3">\n                  <div className="p-2 bg-muted/30 rounded text-center">\n                    <p className="text-2xl font-bold text-primary">\n                      {(profile.panicSellProbability * 100).toFixed(0)}%\n                    </p>\n                    <p className="text-xs text-muted-foreground">Panic Sell Risk</p>\n                  </div>\n                  <div className="p-2 bg-muted/30 rounded text-center">\n                    <p className="text-2xl font-bold text-primary">\n                      {(profile.reversalProbability * 100).toFixed(0)}%\n                    </p>\n                    <p className="text-xs text-muted-foreground">Position Reversal</p>\n                  </div>\n                </div>\n              </>\n            )}\n          </TabsContent>\n        </Tabs>\n      </CardContent>\n    </Card>\n  );\n}\n\nfunction MetricCard({ \n  icon, \n  label, \n  value, \n  color \n}: { \n  icon: React.ReactNode; \n  label: string; \n  value: number; \n  color: string;\n}) {\n  return (\n    <div className="p-2 bg-muted/30 rounded-lg">\n      <div className="flex items-center gap-2 mb-1">\n        {icon}\n        <span className="text-xs text-muted-foreground">{label}</span>\n      </div>\n      <div className="flex items-center gap-2">\n        <Progress \n          value={value * 100} \n          className="h-1.5 flex-1"\n        />\n        <span className="text-sm font-bold">{(value * 100).toFixed(0)}%</span>\n      </div>\n    </div>\n  );\n}\n\nexport default StyleProfilePanel;\n';export{e as default};
