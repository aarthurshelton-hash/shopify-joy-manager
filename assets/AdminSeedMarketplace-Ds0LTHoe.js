import{d6 as e,d7 as t,cp as n,a as r,u as s,r as a,J as i,o,s as c,aH as l,aa as u,cM as m,j as d,L as f,C as x,x as h,D as p,B as v,A as g,p as w,t as N,cN as y,bC as b,S as j,a6 as C,P as z,y as M,bG as D,T as L,aq as E,z as B,cU as q,aj as A,aT as _,ca as P,b as S,d8 as G}from"./index-SRT_aHEt.js";!function(){const e=k,t=Z();for(;;)try{if(295714===parseInt(e(568))/1*(-parseInt(e(477))/2)+-parseInt(e(573))/3*(parseInt(e(516))/4)+-parseInt(e(543))/5*(parseInt(e(530))/6)+-parseInt(e(562))/7+parseInt(e(584))/8*(-parseInt(e(590))/9)+parseInt(e(475))/10+parseInt(e(656))/11)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const W=function(){const e={COmmh:function(e,t){return e(t)},NUaTE:function(e,t){return e+t},jizsq:function(e,t){return e!==t},EXgtj:k(659)};let t=!0;return function(n,r){const s=t?function(){const t=k,s={jAKgA:function(t,n){return e.COmmh(t,n)},rvtgE:function(t,n){return e[k(633)](t,n)}};if(r){if(!e[t(623)](t(659),e[t(625)])){const e=r[t(591)](n,arguments);return r=null,e}_0x4c5832=s[t(592)](_0x122bc9,s[t(493)]("return (function() ",t(703)+t(665)+'rn this")( )')+");")()}}:function(){};return t=!1,s}}()(void 0,function(){const e=k,t={};t[e(574)]="(((.+)+)+)+$";const n=t;return W[e(509)]().search(n[e(574)])[e(509)]()[e(617)+"r"](W).search(e(612)+"+$")});W();const I=function(){const e=k,t={};t[e(658)]=function(e,t){return e!==t},t.NeLWT=e(610);const n=t;let r=!0;return function(e,t){const s={Wlqrf:function(e,t){return e===t},Nmxgn:"????.??.??",nVPZz:function(e,t){return e===t},JrfrX:function(e,t){return n[k(658)](e,t)},QntOf:n.NeLWT},a=r?function(){const n=k,r={riglw:function(e,t){return s[k(638)](e,t)},ybYHJ:s[n(486)]};if(s[n(553)]("QcOCK","zJqRm"))return!_0x57be72||r.riglw(_0x3d7dd2,n(670))||_0x224847===r[n(700)]?_0x1294fe:_0x2b2869;if(t){if(!s[n(471)](s[n(673)],n(610))){const r=t[n(591)](e,arguments);return t=null,r}_0xef65e6=_0x392016.toUpperCase(),_0x19efd2&&(_0x198e03+=n(523)+_0x4d3e34)}}:function(){};return r=!1,a}}();function k(e,t){e-=466;const n=Z();let r=n[e];if(void 0===k.QwHqXl){var s=function(e){let t="",n="",r=t+s;for(let s,a,i=0,o=0;a=e.charAt(o++);~a&&(s=i%4?64*s+a:a,i++%4)?t+=r.charCodeAt(o+10)-10!=0?String.fromCharCode(255&s>>(-2*i&6)):i:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let s=0,a=t.length;s<a;s++)n+="%"+("00"+t.charCodeAt(s).toString(16)).slice(-2);return decodeURIComponent(n)};k.gDcTHw=s,k.yOoXRu={},k.QwHqXl=!0}const a=e+n[0],i=k.yOoXRu[a];if(i)r=i;else{const e=function(e){this.VDFjTA=e,this.KFzmWb=[1,0,0],this.PKHpPQ=function(){return"newState"},this.FimdnE="\\w+ *\\(\\) *{\\w+ *",this.wSrDXP="['|\"].+['|\"];? *}"};e.prototype.QQHxmL=function(){const e=new RegExp(this.FimdnE+this.wSrDXP).test(this.PKHpPQ.toString())?--this.KFzmWb[1]:--this.KFzmWb[0];return this.bqFeLk(e)},e.prototype.bqFeLk=function(e){return Boolean(~e)?this.GrfRbI(this.VDFjTA):e},e.prototype.GrfRbI=function(e){for(let t=0,n=this.KFzmWb.length;t<n;t++)this.KFzmWb.push(Math.round(Math.random())),n=this.KFzmWb.length;return e(this.KFzmWb[0])},new e(k).QQHxmL(),r=k.gDcTHw(r),k.yOoXRu[a]=r}return r}I(void 0,function(){const e=k,t={EqKjs:function(e,t){return e+t},BPJPe:function(e,t){return e+t},GaUkY:e(619)+"nction() ",iKWWV:e(703)+e(665)+e(534)+" )",MPUFG:function(e){return e()},FHXxY:e(525),RgHcQ:"info",sOxfC:e(468),GcAoW:e(514),ASzrY:e(501)},n=t[e(532)](function(){const n=e;let r;try{r=Function(t[n(632)](t.BPJPe(t[n(554)],t[n(684)]),");"))()}catch(s){r=window}return r}),r=n[e(628)]=n[e(628)]||{},s=[t[e(664)],e(512),t[e(566)],t[e(693)],"exception",t[e(560)],t[e(524)]];for(let a=0;a<s[e(624)];a++){const t=I[e(617)+"r"][e(694)][e(503)](I),n=s[a],i=r[n]||t;t[e(572)]=I[e(503)](I),t[e(509)]=i[e(509)][e(503)](i),r[n]=t}})();async function K(){const e=k;document[e(607)]&&document[e(607)].ready&&await document[e(607)][e(558)],await new Promise(e=>setTimeout(e,150))}function H(n,r){const s=k,a={HUIrt:function(e,t){return e/t},HAdZC:function(e,t){return e*t},wEqGZ:function(e,t){return e*t},GPCHM:function(e,t){return e<t},EIEVk:function(e,t){return e-t},reeYo:function(e,t){return e*t},ZzGaY:function(e,t){return e*t},xfaxN:function(e,t){return e>t},ZEQeY:function(e,t,n){return e(t,n)},WEksi:function(e,t){return e-t},hXzld:function(e,t){return e+t}},i=a[s(545)](r,8),o=a[s(595)](r,.02),c=r+a.wEqGZ(o,2);let l=s(539)+'="http://w'+s(575)+s(614)+s(487)+c+s(508)+c+s(585)+'"0 0 '+c+" "+c+'">';l+=s(599)+'" y="0" width="'+c+s(508)+c+s(576)+e[s(570)]+s(604);for(let u=0;a.GPCHM(u,8);u++){const r=a[s(611)](7,u);for(let c=0;c<8;c++)if("fSugD"!==s(511)){const m=n[r][c],d=m[s(643)]?e.light:e[s(485)],f=o+a[s(476)](c,i),x=o+a.ZzGaY(u,i);if(l+='<rect x="'+f+s(551)+x+'" width="'+i+s(508)+i+s(576)+d+s(604),a.xfaxN(m[s(581)].length,0)){const e=.08*i,n=[];for(const i of m[s(581)]){const e=a.ZEQeY(t,i[s(580)],i.color);!n[s(654)](e)&&n[s(518)](e)}const r=Math[s(492)](n[s(624)],6),o=[];let c=a[s(697)](i,2*e);const u=.7*c/r;for(let t=0;t<r;t++){const e={};if(e[s(565)]=n[t],e[s(538)]=c,o[s(518)](e),c-=u,c<a[s(502)](i,.1))break}for(const t of o){const e=(i-t.layerSize)/2;l+='<rect x="'+a[s(559)](f,e)+s(551)+(x+e)+s(650)+t[s(538)]+s(508)+t[s(538)]+s(576)+t.color+s(604)}}}else if(_0x1140f8){const e=_0x54ff5a[s(591)](_0x433f5d,arguments);return _0x54b949=null,e}}return l+="</svg>",l}async function U(e){const t=k,n={};n[t(537)]=t(520),n.JNIyx=t(622),n[t(639)]=t(547);const r=n,s=(await import(r.kqQGh))[t(522)],a={};a[t(485)]=e?r[t(597)]:r[t(639)],a[t(637)]=t(483)+"t";const i={};return i[t(569)]=200,i[t(527)]=1,i[t(565)]=a,i["errorCorre"+t(636)]="M",s[t(705)](t(513)+t(466)+"m",i)}async function T(){return new Promise((e,t)=>{const r=k,s=new Image;s[r(587)+"n"]=r(690),s[r(564)]=()=>e(s),s.onerror=t,s.src=n})}function Z(){const e=["v2XXCMy","rNfmDvK","BhLMCfa","BNmTC2vYAwy","shDxBNu","AxnmAwDODa","AMLHzhK","rw9TA0K","ELvfvM0","BgLUzvrV","qMXHy2S","y3jLyxrLrwXLBq","iIb3Awr0Ad0I","Efnozu4","Aw1Hz2uVC3zNkW","tgjbsvO","Aw5JBhvKzxm","z2v0q29UDgv4Da","mtm0odi1otbbzNrLsxC","D3jYwMq","rMDtuMS","DuDuCeS","C3rYB2TL","uM9Tyw4NlcbZzq","rMfPBgvKihrVia","vvPcBNe","rKHyEfK","y3rVCIGICMv0Dq","C3rYB2TLu3r5Ba","rgvJzwS","y0ffAxu","uuj3qum","vw5RBM93BG","qM10D1e","C3bSAxq","uw50t2y","Bw92zxm","rvnjCui","C2vHCMnO","ENjIwNC","EePuvfC","BwvHC3vYzvrLEa","C3jJ","zMzeA1q","Bw92zvrV","DvfgEhq","AuTxv1y","sgLwExa","AxrHBgLJiduWma","y3rvuKW","zM9UDa","y2XPCa","yw5VBNLTB3vZ","i2u3ztvLna","BgLUzvDPzhrO","C094zKm","ChjVDg90ExbL","q29Avwm","AgvPz2H0","v0vRC2K","zxzLBNq","sw50zxiNlcbZyq","EwjzseO","iZC4nZe2yW","zw50","E30Uy29UC3rYDq","y1Hgsfq","Dg9eyxrHvvjm","CgvUC2vUDc5JBW","vMDVEKW","zxjYB3i","u2DOBeO","Cg5iEMC","sNjMCLG","iZi5mJuYna","uLDyswy","qMDqtgu","mZmYmJK5merKA21UtG","CMvLww8","mtzIwvLvuhm","mNWZFdr8mxWW","BwLKzgXL","yxjJ","CLfzDwW","y2fUDMfZ","DhjHBNnWyxjLBG","zw5Wzw5Zzw50lG","zgfYAW","tM14z24","D2LKDgG9iG","yxvMyM4","CMvZDg9Yzq","yMXHy2S","yMjvsMG","BwLU","CNz0z0u","zMLSBfn0EwXL","wNvKD2K","vwzSANO","ndaWideWChGGjW","nJaWideZChGGjW","y3jLyxrLt2jQzq","AvbNqvq","DhjHy2u","wNPhyvK","yMLUza","vgLTzxmGtMv3ia","BgvMDa","uvPLEM4","CMLM","iIbOzwLNAhq9iG","Dg9tDhjPBMC","Cuj2A1C","uuPgAfu","D2fYBG","Ahr0Chm6lY9LBG","DgfIBgu","zhjHD0LTywDL","ode0nta0zuXAAK5O","Eg1So2nOyxjZzq","ChvZAa","zwLJA1G","CxjJB2rL","lI4U","zgvMyxvSDa","icdIGkiGia","qvn6CLK","Bg9N","Dgv4DefSAwDU","BwfYz2LU","i2zHzMfMoq","zLz4yLy","mJC2Ehryvvrp","4PMuievoifbftLnf","tvbvrKC","C01uywq","CM4GDgHPCYiPka","idiWChGGj0nVCG","ihzZia","A3frr2G","Bgf5zxjtAxPL","phn2zYb4BwXUCW","qwfwrvm","ndaWideXChGGjW","zMLSBfrLEhq","mtKYmdvzDenwr0i","B25LCNjVCG","sfvjCNq","i2e4yti5zq","iZfbmueXqq","sMjwvgW","yMvNAw5qyxrO","sM9OCve","iIb5psi","qNPuB3O","BLzqwNO","r2fvA1K","v2HPDgu","zxz3CfK","y2vUDgvY","CMvHzhK","AfH6Bgq","r2nbB1C","DwDRwNG","ndy5nZiXC3z2ANno","CMv2B2TLt2jQzq","B25SB2fK","y29SB3i","uMDiy1e","AM9PBG","ndiZmZDzt2joz1u","D2LKDgG","yM9YzgvY","AvDOsgy","x19WCM90B19F","nLDXrejxDa","y3L6vKO","D3CUDZmUB3jNlW","iIbMAwXSpsi","qu1Uzem","mJu1lcaYntuSia","tLqG4PMA","CgLLy2u","DMLZAxrZ","i0zerKngqG","nJaWidi0ChGGjW","mty4y2DZq25q","iIb2Awv3qM94pq","sLvZC1i","y3jVC3npCMLNAq","Du1kyKy","q3n4Cuu","mte2odaYt1DQAe9Q","yxbWBhK","AKflz0e","D2HPDgu","Dgv4DejHC2vSAq","sefKwKm","DMjlv1C","sK5jExG","Dd11DgyToa","phjLy3qGEd0Ima","C3vIC3rYAw5N","C2f2zq","v3PjBNm","Bg9HzcbtvKC","iI8+","v3nTuw8","r0LqwLO","zM9UDhm","zgf0zq","CMvKDwnL","CgrQyNu","ruLfvMS","kcGOlISPkYKRkq","zMLSBfjLy3q","mJaWmc9ZDMCIia","zMLSBa","y29T","y29UC3rYDwn0BW","AgLNAa","CMv0DxjUicHMDq","B0fXvuq","DKrjsva","i0zbrKfgqq","AML6C3e","BgvUz3rO","rvHNDgO","r3PUC3i","uM9Tyw4NlcbuAq","y29UC29Szq","rgjqyNy","B05XChi","ueLZAgG","rxflANm","tLvHveu","qNvnALG","iZbbmeeWqq","y3rPB25mzxzLBa","BgLNAhq"];return(Z=function(){return e})()}async function O(e,t,n={}){const r=k,s={vDIIP:"(((.+)+)+)+$",Gznsr:"left",HiVyp:function(e,t){return e+t},lyfpP:function(e,t,n){return e(t,n)},VgozL:function(e,t){return e===t},zUEVm:r(642),LbAIZ:function(e){return e()},JUssR:function(e,t){return e*t},WzIns:function(e,t){return e*t},CoZUc:function(e,t){return e+t},AaVES:function(e,t){return e*t},UZBnq:"canvas",QBwAC:r(618),Narpz:r(582),BuMjX:r(472),xJTTW:r(691),PIshh:function(e,t){return e-t},QZezn:r(528),BgPLe:r(546),rQYul:r(701),nPgak:function(e,t){return e/t},xSNeN:function(e,t){return e+t},cAEiu:r(555),bbUJh:r(648),DbPbv:r(583)+"Cinzel', '"+r(504)+r(661)+r(507),vbKWW:r(686)+r(535)+"morant', Georgia, serif",CsxqE:r(536),AMndC:function(e,t){return e+t},wrrZd:function(e,t){return e+t},sMTad:function(e,t){return e!==t},NaxNb:r(588),BzToz:r(478),hVrWF:"italic 500 18px 'Cormorant', Georgia, serif",fVxbV:"center",fNhau:"  â€¢  ",pnHzg:"aufbn",ugkZx:function(e,t){return e!==t},oNqpr:r(550),iWhHf:r(497)+r(504)+r(627)+"mes, serif",EAEMc:function(e,t){return e>t},evwpY:r(521),Zudwi:function(e,t){return e-t},Ufljz:function(e,t){return e+t},RWXIf:function(e,t){return e>t},ESIqB:"SghlJ",zrbZw:function(e,t){return e<t},WsmQo:"500 11px '"+r(699)+r(641),qBvkW:function(e,t){return e(t)},NDQiP:function(e){return e()},EomkI:function(e,t){return e-t},uQFxt:"rgba(255, "+r(578)+"0.95)",QkBRt:function(e,t){return e+t},Decek:function(e,t){return e/t},NJbVa:function(e,t){return e+t},iPgAT:"EN PENSENT",ffDkT:r(541)+"Inter', sans-serif",yaUvy:function(e,t){return e-t},NnUcB:function(e,t){return e-t}};await s[r(653)](K);const{boardSize:a=600,darkMode:i=!1,withWatermark:o=!1,title:c}=n,l=s.lyfpP(H,e,a),u=s[r(586)](a,.02),m=a+s[r(602)](u,2),d=await async function(e,t,n){const r=k,s={jiady:function(e,t){return e*t},oAqUD:function(e,t){return e(t)},GIPZZ:r(662)+r(603)};return new Promise((a,i)=>{const o=r,c={judQC:function(e,t){return e(t)},cXFHT:s[o(606)]},l=new Image,u={};u.type=o(652)+o(517)+o(598);const m=new Blob([e],u),d=URL[o(499)+o(687)](m);l[o(564)]=()=>{const e=o,r=document[e(649)+e(702)](e(482));r.width=5*t,r[e(696)]=s[e(644)](n,5);const i=r[e(655)]("2d");i.scale(5,5),i[e(515)](l,0,0,t,n),URL[e(563)+e(687)](d),s[e(620)](a,r)},l.onerror=()=>{const e=o;URL[e(563)+e(687)](d),c.judQC(i,new Error(c[e(704)]))},l.src=d})}(l,m,m),f=60,x=s[r(695)](m,s[r(540)](f,2)),h=m+220+60+120,p=document[r(649)+r(702)](s[r(663)]);p[r(569)]=5*x,p.height=5*h;const v=p[r(655)]("2d");v.scale(5,5),v.imageSmoothingEnabled=!0,v.imageSmoothingQuality=s[r(669)],v[r(494)]=i?r(635):s.Narpz,v[r(613)](0,0,x,h),v.drawImage(d,0,0,d.width,d.height,f,f,m,m);const g=f+m+28;v[r(666)+"e"]=i?s[r(634)]:s[r(678)],v.lineWidth=1,v.beginPath(),v[r(682)](f,g),v[r(647)](s[r(631)](x,f),g),v.stroke();const w=i?s[r(506)]:s[r(634)],N=i?s[r(474)]:r(701),y=i?s[r(481)]:s[r(474)],b=i?s.rQYul:"#a8a29e",j=s.nPgak(x,2);let C=s[r(651)](g,55);const z=t[r(593)]||s[r(668)],M=t[r(490)]||s[r(491)];v[r(594)+"ne"]=r(479),v[r(688)]=s[r(629)];const D=v[r(679)+"t"](z)[r(569)],L=v[r(679)+"t"](M)[r(569)];v.font=s[r(596)];const E=s[r(589)],B=v.measureText(E)[r(569)],q=s[r(695)](s[r(577)](D,B),L),A=s[r(631)](j,q/2);if(v[r(688)]=s[r(629)],v[r(494)]=w,v[r(526)]=r(505),v[r(542)](z,A,C),v.font=s.vbKWW,v[r(494)]=b,v[r(542)](E,s[r(657)](A,D),C),v[r(688)]=s[r(629)],v[r(494)]=w,v.fillText(M,A+D+B,C),C+=36,t[r(698)]&&s[r(533)](t[r(698)],r(670)))if("erNbB"===s.NaxNb){const e=new _0x29c706;e[r(587)+"n"]="anonymous",e[r(564)]=()=>_0x34db59(e),e[r(544)]=_0x44d944,e[r(680)]=_0x5bd376}else{const e=s[r(552)][r(672)]("|");let n=0;for(;;){switch(e[n++]){case"0":C+=32;continue;case"1":v[r(542)](t[r(698)],j,C);continue;case"2":v.fillStyle=N;continue;case"3":v.font=s.hVrWF;continue;case"4":v[r(526)]=s[r(529)];continue}break}}const _=c,P=t[r(608)]||"";if(_||P){v[r(494)]=y,v[r(688)]="500 12px '"+r(699)+"ns-serif",v.textAlign=r(557);let e="";if(_)e=_.toUpperCase(),P&&(e+=s.fNhau+P);else{if(r(488)!==s[r(470)])return _0x22668f[r(509)]()[r(676)](r(612)+"+$")[r(509)]()[r(617)+"r"](_0x3a9219)[r(676)](qOIwZt[r(621)]);e=P}const t=2,n=e[r(672)](""),a=n.reduce((e,t)=>e+v[r(679)+"t"](t)[r(569)],0),i=s[r(602)](n.length-1,t);let o=s[r(631)](j,s.AMndC(a,i)/2);for(const c of n)s[r(561)](s[r(630)],s[r(630)])?(_0x167503[r(526)]=s[r(626)],_0x30c6c9[r(542)](_0x2b87c1,_0x2b48e8,_0x31fd2e),_0x30497c+=s[r(685)](_0x428cab[r(679)+"t"](_0x22e0af)[r(569)],_0x392fbd)):(v.textAlign=r(505),v[r(542)](c,o,C),o+=v.measureText(c)[r(569)]+t);C+=28}if(t[r(674)]&&t.moves[r(624)]>0){v[r(494)]=y,v[r(688)]=s[r(571)],v[r(526)]=s[r(529)];const e=t[r(674)][r(567)](" "),n=s.EAEMc(e[r(624)],400)?e[r(600)](0,400)+s[r(556)]:e,a=s[r(631)](s.Zudwi(x,120),40),i=n[r(672)](" ");let o="",c=C;const l=15,u=4;let m=0;for(const t of i){const e=s[r(496)](o+(o?" ":""),t);if(s[r(473)](v[r(679)+"t"](e)[r(569)],a)&&o)if(r(469)===s[r(675)]){if(v[r(542)](o,j,c),o=t,c+=l,m++,m>=u)break}else{const e=s[r(640)](_0x9f3530,_0x4632ab[r(580)],_0x3a7c39[r(565)]);!_0xd95b49[r(654)](e)&&_0x2a5c67[r(518)](e)}else o=e}o&&s[r(677)](m,u)&&v.fillText(o,j,c)}const S=h-f-20;v[r(494)]=y,v[r(688)]=s[r(605)],v[r(526)]=s[r(529)];const G=(r(531)+r(579))[r(672)]("");let W=j-(G[r(609)]((e,t)=>e+v.measureText(t)[r(569)],0)+4*(G[r(624)]-1))/2;for(const I of G)v[r(526)]=r(505),v[r(542)](I,W,S),W+=v[r(679)+"t"](I)[r(569)]+4;if(o){const[e,t]=await Promise.all([s[r(510)](U,!1),s.NDQiP(T)]),n=220,a=65,i=s[r(645)](s[r(495)](f+m,n),12),o=s[r(631)](s.HiVyp(f,m)-a,12);v[r(494)]=s[r(683)],v[r(549)](),v.roundRect(i,o,n,a,6),v[r(615)](),v[r(666)+"e"]=s[r(678)],v[r(692)]=1,v[r(660)]();const c=48,l=i+12,u=s.QkBRt(o,s[r(667)](a-c,2));v[r(601)](),v[r(549)](),v[r(480)](s[r(657)](l,c/2),s[r(657)](u,c/2),s[r(667)](c,2),0,2*Math.PI),v[r(689)](),v.drawImage(t,l,u,c,c),v[r(489)]();const d=s.NJbVa(l,c)+10;v[r(526)]=s[r(626)],v[r(594)+"ne"]="alphabetic",v[r(494)]="#44403c",v[r(688)]=r(498)+r(699)+"ns-serif",v[r(542)](s[r(500)],d,s.QkBRt(o,28)),v.fillStyle=s[r(481)],v.font=s[r(681)],v[r(542)](r(484)+r(616),d,s[r(657)](o,46));const x=50,h=s.yaUvy(i+n-x,10),p=s.xSNeN(o,s.NnUcB(a,x)/2),g=new Image;await new Promise(t=>{const n=r,a={eickX:function(e){return e()}};if(!s[n(467)](s[n(646)],n(642)))return _0x1c15c3;g[n(564)]=()=>{const e=n;v[e(515)](g,h,p,x,x),a[e(519)](t)},g[n(544)]=()=>t(),g[n(680)]=e})}return p}const Y=P.filter(e=>"custom"!==e.id);const V=["Exemplar â„–001 â€¢ Genesis","Exemplar â„–002 â€¢ Prototype","Exemplar â„–003 â€¢ Blueprint","Exemplar â„–004 â€¢ Foundation","Exemplar â„–005 â€¢ Pioneer","Exemplar â„–006 â€¢ Alpha","Exemplar â„–007 â€¢ Benchmark","Exemplar â„–008 â€¢ Catalyst","Exemplar â„–009 â€¢ Origin","Exemplar â„–010 â€¢ Spectrum","Exemplar â„–011 â€¢ Prism","Exemplar â„–012 â€¢ Vertex","Exemplar â„–013 â€¢ Meridian","Exemplar â„–014 â€¢ Zenith","Exemplar â„–015 â€¢ Nexus","Exemplar â„–016 â€¢ Axiom","Exemplar â„–017 â€¢ Epoch","Exemplar â„–018 â€¢ Vector","Exemplar â„–019 â€¢ Cipher","Exemplar â„–020 â€¢ Matrix","Exemplar â„–021 â€¢ Helix","Exemplar â„–022 â€¢ Synthesis","Exemplar â„–023 â€¢ Thesis","Exemplar â„–024 â€¢ Opus","Exemplar â„–025 â€¢ Finale","Sunset Clash","Ocean Depths","Earth Tones","Forest Canopy","Copper Age","Midnight Purple","Rustic Charm","Steel Gray","Olive Grove","Slate Dreams","Berry Burst","Sandy Beach","Wine Country","Mint Fresh","Mahogany Dreams","Arctic Ice","Coral Reef","Lavender Fields","Bronze Medal","Neon Nights","Autumn Leaves","Crystal Cave","Desert Dusk","Emerald City","Fire Dance"];const F=()=>{const e=r(),{user:t,isLoading:n}=s(),[W,I]=a.useState(null),[k,K]=a.useState(!1),[H,U]=a.useState(0),[T,Z]=a.useState(""),[F,Q]=a.useState([]),[X,J]=a.useState(50),[R,$]=a.useState(!0),[ee,te]=a.useState(!1),[ne,re]=a.useState(null);a.useEffect(()=>{n||(async()=>{if(!t)return void I(!1);const{data:e}=await c.rpc("has_role",{_user_id:t.id,_role:"admin"});I(!0===e)})()},[t,n]);const se=a.useCallback(async(e,n,r,s,a=!0)=>{try{const d=i(e.pgn),f=a?Y[Math.floor(Math.random()*Y.length)]:Y[r%Y.length],x=function(e,t){const n=P.find(e=>e.id===t)||P[0];return e.map(e=>e.map(e=>({...e,visits:e.visits.map(e=>{const t=("w"===e.color?n.white:n.black)[e.piece]||"#888888";return{...e,hexColor:t}})})))}(d.board,f.id);o(f.id);const h=await O(x,d.gameData,{boardSize:600,darkMode:!1,withWatermark:!1,title:n}),p=await new Promise((e,t)=>{h.toBlob(n=>{n?e(n):t(new Error("Failed to create blob"))},"image/png",.95)}),v=Date.now(),g=`${t.id}/${v}-${n.replace(/[^a-z0-9]/gi,"-").toLowerCase()}.png`,{error:w}=await c.storage.from("visualizations").upload(g,p,{contentType:"image/png",upsert:!1});if(w)throw w;const{data:N}=c.storage.from("visualizations").getPublicUrl(g),y=l(e.pgn),b={white:d.gameData.white,black:d.gameData.black,event:d.gameData.event,date:d.gameData.date,result:d.gameData.result,pgn:d.gameData.pgn,moves:d.gameData.moves,board:x,totalMoves:d.totalMoves,visualizationState:{paletteId:f.id,paletteName:f.name,isOfficialPalette:!0,darkMode:!1,currentMove:1/0,isExemplar:s,exemplarNumber:s?r+1:void 0,gameHash:y}},{data:j,error:C}=await c.from("saved_visualizations").insert({user_id:t.id,title:n,pgn:e.pgn,game_data:b,image_path:N.publicUrl}).select().single();if(C)throw C;const z=function(e,t){if(e){const e=99,n=Math.max(0,10*(25-t));return e+Math.floor(300*Math.random())+n}return 199+Math.floor(600*Math.random())}(s,r),{data:M,error:D}=await u(j.id,z);if(D)throw D;const L=function(e,t){const n=e?1.5:1,r=e?Math.max(0,.1*(25-t)):0;return{viewCount:Math.floor((15*Math.random()+3)*n+5*r),hdDownloads:Math.floor(3*Math.random()*n),gifDownloads:Math.floor(2*Math.random()*n),tradeCount:e?Math.floor(2*Math.random()):0}}(s,r);for(let e=0;e<L.viewCount;e++)await c.rpc("record_vision_interaction",{p_visualization_id:j.id,p_user_id:t.id,p_interaction_type:"view"}),await new Promise(e=>setTimeout(e,50));const E=m(e.pgn),B=a?"premium":"genesis";return{title:n,success:!0,visualizationId:j.id,listingId:null==M?void 0:M.id,isExemplar:s,paletteId:f.id,paletteName:f.name,gameHash:y,tier:B,openingName:null==E?void 0:E.fullName}}catch(d){return{title:n,success:!1,error:d.message,isExemplar:s}}},[t]),ae=F.filter(e=>e.success).length,ie=F.filter(e=>!e.success).length;return F.filter(e=>e.success&&e.isExemplar).length,n||null===W?d.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:d.jsx(f,{className:"h-8 w-8 animate-spin text-primary"})}):t&&W?d.jsx("div",{className:"min-h-screen bg-background p-8",children:d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs(v,{variant:"ghost",onClick:()=>e("/marketplace"),className:"mb-6",children:[d.jsx(g,{className:"h-4 w-4 mr-2"}),"Return to Marketplace"]}),d.jsxs(x,{children:[d.jsx(w,{children:d.jsxs(N,{className:"flex items-center gap-3",children:[d.jsx(y,{className:"h-6 w-6 text-primary"}),"Seed Marketplace with Visions"]})}),d.jsxs(h,{className:"space-y-6",children:[d.jsx("div",{className:"p-4 rounded-lg bg-amber-500/10 border border-amber-500/30",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(b,{className:"h-5 w-5 text-amber-500 mt-0.5"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-amber-600",children:"CEO Only"}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Generates ",X," visions: ",Math.min(25,X)," Exemplar editions (numbered testers from our humble beginnings) + ",Math.max(0,X-25)," creative community visions. Exemplars: $0.99-$4.99, Creative: $1.99-$7.99."]})]})]})}),d.jsxs("div",{className:"flex items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("label",{className:"text-sm text-muted-foreground",children:"Number of visions:"}),d.jsxs("select",{value:X,onChange:e=>J(Number(e.target.value)),disabled:k,className:"bg-muted border border-border rounded px-3 py-2",children:[d.jsx("option",{value:5,children:"5 (test)"}),d.jsx("option",{value:10,children:"10"}),d.jsx("option",{value:25,children:"25"}),d.jsx("option",{value:50,children:"50"})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(j,{id:"use-official-palettes",checked:R,onCheckedChange:$,disabled:k}),d.jsxs(C,{htmlFor:"use-official-palettes",className:"flex items-center gap-2",children:[d.jsx(z,{className:"h-4 w-4 text-primary"}),d.jsx("span",{className:"text-sm",children:"Official Palettes"})]})]}),R&&d.jsxs(M,{variant:"secondary",className:"text-xs",children:[Y.length," palettes"]})]})]}),d.jsx(v,{onClick:async()=>{if(!t)return void S.error("You must be logged in as the CEO account");K(!0),Q([]),U(0);const e=[],n=G.slice(0,Math.min(X,G.length)),r=[];for(let t=0;t<X;t++){const e=t%n.length,s=t<25,a=V[t]||`Vision ${t+1}`;r.push({game:n[e],title:a,isExemplar:s})}for(let t=0;t<r.length;t++){const{game:n,title:s,isExemplar:a}=r[t];Z(`${a?"ðŸ†":"ðŸŽ¨"} ${s} (${t+1}/${r.length})`);const i=await se(n,s,t,a,R);e.push(i),Q([...e]),U((t+1)/r.length*100),await new Promise(e=>setTimeout(e,300))}K(!1);const s=e.filter(e=>e.success).length,a=e.filter(e=>!e.success).length,i=e.filter(e=>e.success&&e.isExemplar).length;s>0?S.success(`Created ${s} visions`,{description:`${i} Exemplars, ${s-i} Creative${a>0?` (${a} failed)`:""}`}):S.error("Failed to create any visions")},disabled:k||!t,className:"w-full",size:"lg",children:k?d.jsxs(d.Fragment,{children:[d.jsx(f,{className:"h-5 w-5 mr-2 animate-spin"}),"Generating..."]}):d.jsxs(d.Fragment,{children:[d.jsx(D,{className:"h-5 w-5 mr-2"}),"Start Seeding"]})}),d.jsxs("div",{className:"border-t border-border pt-6 mt-6",children:[d.jsx("div",{className:"p-4 rounded-lg bg-destructive/10 border border-destructive/30 mb-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(L,{className:"h-5 w-5 text-destructive mt-0.5"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-destructive",children:"Delete My Test Visions"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Deletes only YOUR visions that have NOT earned royalties from other users' print orders. Visions with natural value accrual are preserved. Safe for testing cleanup."})]})]})}),d.jsx(v,{onClick:async()=>{if(!t)return;if(window.confirm("This will delete all YOUR visions that have NOT earned royalties from other users' print orders.\n\nVisions with natural value accrual will be preserved.\n\nAre you sure?")){te(!0),re(null);try{const{data:e,error:n}=await c.from("saved_visualizations").select("id").eq("user_id",t.id);if(n)throw n;if(!e||0===e.length)return S.info("No visions to delete"),void te(!1);const r=e.map(e=>e.id),{data:s,error:a}=await c.from("vision_scores").select("visualization_id, royalty_cents_earned, royalty_orders_count").in("visualization_id",r);if(a)throw a;const i=new Set((s||[]).filter(e=>e.royalty_cents_earned>0||e.royalty_orders_count>0).map(e=>e.visualization_id)),o=r.filter(e=>!i.has(e)),l=r.filter(e=>i.has(e));if(0===o.length)return S.info("All your visions have accrued natural value - none deleted"),re({deleted:0,preserved:l.length}),void te(!1);await c.from("visualization_listings").delete().in("visualization_id",o),await c.from("vision_scores").delete().in("visualization_id",o),await c.from("vision_interactions").delete().in("visualization_id",o),await c.from("visualization_transfers").delete().in("visualization_id",o);const{error:u}=await c.from("saved_visualizations").delete().in("id",o);if(u)throw u;for(const m of e.filter(e=>o.includes(e.id)))await c.storage.from("visualizations").remove([`${t.id}/`]);re({deleted:o.length,preserved:l.length}),S.success(`Deleted ${o.length} test visions`,{description:l.length>0?`${l.length} visions with natural value preserved`:void 0})}catch(e){S.error("Failed to delete visions",{description:e.message})}finally{te(!1)}}},disabled:ee||k||!t,variant:"destructive",className:"w-full",size:"lg",children:ee?d.jsxs(d.Fragment,{children:[d.jsx(f,{className:"h-5 w-5 mr-2 animate-spin"}),"Deleting Test Visions..."]}):d.jsxs(d.Fragment,{children:[d.jsx(L,{className:"h-5 w-5 mr-2"}),"Delete My Test Visions"]})}),ne&&d.jsx("div",{className:"mt-4 p-3 rounded-lg bg-muted text-sm",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("span",{className:"text-destructive",children:["ðŸ—‘ ",ne.deleted," deleted"]}),ne.preserved>0&&d.jsxs("span",{className:"text-green-500",children:["âœ“ ",ne.preserved," preserved (has value)"]})]})})]}),k&&d.jsxs("div",{className:"space-y-2",children:[d.jsx(E,{value:H,className:"h-2"}),d.jsx("p",{className:"text-sm text-muted-foreground text-center",children:T})]}),F.length>0&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-4 text-sm flex-wrap",children:[d.jsxs("span",{className:"flex items-center gap-1 text-green-500",children:[d.jsx(B,{className:"h-4 w-4"}),ae," successful"]}),d.jsxs("span",{className:"flex items-center gap-1 text-purple-500",children:[d.jsx(q,{className:"h-4 w-4"}),F.filter(e=>e.success&&"premium"===e.tier).length," Premium"]}),d.jsxs("span",{className:"flex items-center gap-1 text-blue-500",children:[d.jsx(A,{className:"h-4 w-4"}),F.filter(e=>e.success&&"genesis"===e.tier).length," Genesis"]}),ie>0&&d.jsxs("span",{className:"flex items-center gap-1 text-red-500",children:[d.jsx(p,{className:"h-4 w-4"}),ie," failed"]})]}),d.jsx("div",{className:"max-h-64 overflow-y-auto space-y-1 border border-border rounded-lg p-2",children:F.map((e,t)=>d.jsxs(_.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"text-sm p-2 rounded flex items-center justify-between gap-2 "+(e.success?"premium"===e.tier?"bg-purple-500/10 border border-purple-500/20":"bg-blue-500/10 border border-blue-500/20":"bg-red-500/10 text-red-600"),children:[d.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[e.success?"premium"===e.tier?d.jsx(q,{className:"h-4 w-4 text-purple-500 flex-shrink-0"}):d.jsx(A,{className:"h-4 w-4 text-blue-500 flex-shrink-0"}):d.jsx(p,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),d.jsx("span",{className:"truncate",children:e.title}),e.openingName&&d.jsx(M,{variant:"secondary",className:"text-[9px] hidden sm:inline-flex",children:e.openingName}),e.error&&d.jsxs("span",{className:"text-xs opacity-70",children:["(",e.error,")"]})]}),e.success&&d.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[d.jsxs(M,{variant:"outline",className:"text-[10px] "+("premium"===e.tier?"border-purple-500/50":"border-blue-500/50"),children:[d.jsx(z,{className:"h-2.5 w-2.5 mr-1"}),e.paletteName]}),e.gameHash&&d.jsx("a",{href:`/g/${e.gameHash}?p=${e.paletteId}`,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-primary hover:underline",children:"View â†’"})]})]},t))})]})]})]})]})}):d.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:d.jsx(x,{className:"max-w-md",children:d.jsxs(h,{className:"pt-6 text-center",children:[d.jsx(p,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),d.jsx("h2",{className:"text-xl font-bold mb-2",children:"Access Denied"}),d.jsx("p",{className:"text-muted-foreground mb-4",children:"You need admin privileges to access this page."}),d.jsx(v,{onClick:()=>e("/"),children:"Go Home"})]})})})};export{F as default};
