import{du as t}from"./index-CDYK3n_t.js";import{b as n}from"./browser-DEPKJqf2.js";!function(){const t=i,n=e();for(;;)try{if(922663===-parseInt(t(327))/1*(-parseInt(t(325))/2)+-parseInt(t(316))/3+parseInt(t(301))/4+-parseInt(t(268))/5*(-parseInt(t(356))/6)+parseInt(t(353))/7+parseInt(t(361))/8*(-parseInt(t(292))/9)+-parseInt(t(287))/10*(parseInt(t(334))/11))break;n.push(n.shift())}catch(r){n.push(n.shift())}}();const r=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}()(void 0,function(){const t=i;return r[t(329)]()[t(335)](t(281)+"+$")[t(329)]()[t(350)+"r"](r)[t(335)](t(281)+"+$")});function e(){const t=["DgfIBgu","mJe2nZq2mu5HwK5MsG","zgfYAW","zMLSBfrLEhq","tgfbtey","BwfYz2LU","idaSidaUnYK","zxjYB3jdB3jYzq","Bg1wtK4","yMvNAw5qyxrO","nJq5mdeYwhzdvKPL","EMDRtuO","mK51ywTUAq","r1brsg4","Dg9tDhjPBMC","t3jnD2y","wLHMB2C","Dgv4DefSAwDU","Dg9eyxrHvvjm","mtfdwun0qKW","C2vHCMnO","C3jJ","C2f2zq","DMDwDLa","u0nbtG","y29SB3i","Bg9JyxrPB24","y3rPB25mzxzLBa","CvLzCum","zM9UDa","CMDIysGYmtiSia","lJmP","zKLdBgW","yvzusvC","CMDIysGWlcaWla","y29UC3rYDwn0BW","CgzREve","CMvZDg9Yzq","otG0nJyWnKDrtuDuBG","sw9lv0C","ELb1Cem","nM93AwTnCq","rLrOwM4","D2fYBG","l3nYyY9HC3nLDa","y3rVCIGICMv0Dq","nJy2mtG0tw5SEKn3","sNbXCvC","uxrZEfO","zxHJzxb0Aw9U","iZaWmdaWmdaW","yMLUza","uhvIA1m","DgTWBeS","wwTJtui","mtC1lca1nsWGma","r0DSrw4","tMXSrha","nNb4ihnHBNmTCW","s09Qzuu","zxjYB3i","B25LCNjVCG","zxjPzG","ChjVDg90ExbL","CMfqB3i","CML1z3q","CM4GDgHPCYiPka","mJm0ndCZmgPtuw5MvG","BMP3y2q","AxP3swG","ENPPrgm","BgvUz3rO","y3jVC3npCMLNAq","zMLSBfn0EwXL","EgXeB2i","wKrfrLe","rfr2AwK","C3rYB2TL","x19WCM90B19F","BNqTBg9NBY1Uzq","kcGOlISPkYKRkq","AeDPCM4","yxbWBhK","y29UC29Szq","yxH5qM0","BgLNAhq","mta3odeXntbnDLPpyMe","DhjHy2u","DMXdBwq","D2LKDgG","C3rYB2TLu3r5Ba","mJDoteXmwwK","wfzSA3u","EhvmBfe","yw5VBNLTB3vZ","zMLSBa","wenxsMm","CMv0DxjUicHMDq","lJuP","CY9LBI1Wzw5Zzq","mtC5mZG3mMfLBNfxAa","i0q0quyZnW","y2vUDgvY","y2XPCa","zhjHD0LTywDL","yxjJ","BMn0Aw9UkcKG","s1rLwNi","zgXvtgK","AMj2DKi","B25SB2fK","BgLUzvDPzhrO","zNDTrhG","CM91BMrszwn0"];return(e=function(){return t})()}r();const o=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[i(283)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();o(void 0,function(){const t=i,n={};n[t(276)]=function(t,n){return t-n},n[t(266)]=function(t,n){return t*n},n[t(309)]=function(t,n){return t+n},n.XVlku=function(t,n){return t/n},n[t(308)]=function(t,n){return t-n},n[t(323)]="#000000",n[t(297)]=function(t,n){return t+n},n[t(326)]=function(t,n){return t+n},n[t(338)]=t(345)+t(370)+t(299),n[t(319)]="6px sans-s"+t(263),n[t(265)]=t(303),n[t(355)]=function(t,n){return t+n},n[t(363)]="sEWgv",n.zRgzn=function(t,n){return t+n},n[t(351)]=t(298)+t(307),n.IoKWG="{}.constru"+t(360)+t(267)+" )",n[t(313)]=t(358),n[t(271)]=t(261),n[t(328)]=t(364);const r=n;let e;try{if(t(270)===r.QtsxZ){_0x12527d[t(337)]();const n=4;if(_0x45432e[t(274)]=t(349)+t(321),_0x587a58.beginPath(),_0x127bfd.roundRect(_0x2cda24-n,r[t(276)](_0x148720,n),_0x53eecb+r.riugt(n,2),r[t(309)](_0x455371,2*n)+10,4),_0x15d5be[t(296)](),_0x1e832b[t(291)+"e"]="rgba(212, "+t(370)+t(346),_0x2e2eb7.lineWidth=1,_0x2d0c64.stroke(),_0x15405f[t(305)](_0x138684,_0x492fc4,_0x1f5ed3,_0x4fc8a5,_0x5f5b43),_0x86dca5){const n=.25*_0x7e29ed,e=r.dlULi(_0x53ced4,r.XVlku(r[t(308)](_0x4e4165,n),2)),o=r[t(309)](_0x401fe0,r[t(293)](_0x401e6e-n,2));_0x1258c5[t(274)]=r[t(323)],_0x14a92b[t(324)](),_0x6406de[t(306)](e+r[t(293)](n,2),r[t(297)](o,n/2),r.XCWJc(r[t(293)](n,2),1),0,2*_0x33c864.PI),_0x4d38a3[t(296)](),_0x2c3667[t(291)+"e"]=t(345)+t(370)+t(299),_0x567080[t(312)]=.5,_0x592afb[t(278)](),_0x3a12b3.beginPath(),_0x7d4e15.arc(e+n/2,r[t(326)](o,r[t(293)](n,2)),n/2,0,2*_0x5fcc62.PI),_0x5b9bfa[t(304)](),_0x5b6984.drawImage(_0x506374,e,o,n,n)}_0x3ff791.restore(),_0x403251.fillStyle=r.vgVvP,_0x31b478[t(344)]=r[t(319)],_0x4b934d[t(332)]=r[t(265)],_0x59c673[t(318)](t(339),r[t(355)](_0x2046c7,_0x448442/2),_0x403526+_0x41dd9e+8),_0x3fab9a()}else{e=Function(r.zRgzn(r[t(351)]+r[t(354)],");"))()}}catch(s){e=window}const u=e.console=e[t(284)]||{},c=["log",r[t(313)],"info",r[t(271)],r[t(328)],t(315),t(288)];for(let i=0;i<c[t(272)];i++){const n=o[t(350)+"r"][t(264)][t(366)](o),r=c[i],e=u[r]||n;n[t(279)]=o[t(366)](o),n[t(329)]=e.toString[t(366)](e),u[r]=n}})();function i(t,n){t-=258;const r=e();let o=r[t];if(void 0===i.PspOSo){var u=function(t){let n="",r="",e=n+u;for(let o,i,u=0,c=0;i=t.charAt(c++);~i&&(o=u%4?64*o+i:i,u++%4)?n+=e.charCodeAt(c+10)-10!=0?String.fromCharCode(255&o>>(-2*u&6)):u:0)i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(i);for(let o=0,i=n.length;o<i;o++)r+="%"+("00"+n.charCodeAt(o).toString(16)).slice(-2);return decodeURIComponent(r)};i.JCCzPV=u,i.KRbeuo={},i.PspOSo=!0}const c=t+r[0],s=i.KRbeuo[c];if(s)o=s;else{const t=function(t){this.kPdngK=t,this.ajlvxU=[1,0,0],this.TOXAtf=function(){return"newState"},this.pbESCY="\\w+ *\\(\\) *{\\w+ *",this.OqexTH="['|\"].+['|\"];? *}"};t.prototype.iiIEoC=function(){const t=new RegExp(this.pbESCY+this.OqexTH).test(this.TOXAtf.toString())?--this.ajlvxU[1]:--this.ajlvxU[0];return this.wgeaiz(t)},t.prototype.wgeaiz=function(t){return Boolean(~t)?this.IFpiUA(this.kPdngK):t},t.prototype.IFpiUA=function(t){for(let n=0,r=this.ajlvxU.length;n<r;n++)this.ajlvxU.push(Math.round(Math.random())),r=this.ajlvxU.length;return t(this.ajlvxU[0])},new t(i).iiIEoC(),o=i.JCCzPV(o),i.KRbeuo[c]=o}return o}!function(){const t=c,n=a();for(;;)try{if(535064===-parseInt(t(162))/1+-parseInt(t(190))/2*(parseInt(t(236))/3)+parseInt(t(248))/4+parseInt(t(196))/5+parseInt(t(277))/6+-parseInt(t(261))/7*(parseInt(t(201))/8)+parseInt(t(170))/9)break;n.push(n.shift())}catch(r){n.push(n.shift())}}();const u=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[c(237)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}()(void 0,function(){const t=c;return u.toString()[t(166)](t(185)+"+$")[t(276)]()[t(182)+"r"](u)[t(166)](t(185)+"+$")});function c(t,n){t-=154;const r=a();let e=r[t];if(void 0===c.IUPOVU){var o=function(t){let n="",r="",e=n+o;for(let o,i,u=0,c=0;i=t.charAt(c++);~i&&(o=u%4?64*o+i:i,u++%4)?n+=e.charCodeAt(c+10)-10!=0?String.fromCharCode(255&o>>(-2*u&6)):u:0)i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(i);for(let o=0,i=n.length;o<i;o++)r+="%"+("00"+n.charCodeAt(o).toString(16)).slice(-2);return decodeURIComponent(r)};c.CPvSxM=o,c.dwbtnu={},c.IUPOVU=!0}const i=t+r[0],u=c.dwbtnu[i];if(u)e=u;else{const t=function(t){this.VBCVWf=t,this.vjJysB=[1,0,0],this.YLuANu=function(){return"newState"},this.aBdMIW="\\w+ *\\(\\) *{\\w+ *",this.HfLtup="['|\"].+['|\"];? *}"};t.prototype.ERnfpQ=function(){const t=new RegExp(this.aBdMIW+this.HfLtup).test(this.YLuANu.toString())?--this.vjJysB[1]:--this.vjJysB[0];return this.QdNQNF(t)},t.prototype.QdNQNF=function(t){return Boolean(~t)?this.KIElrR(this.VBCVWf):t},t.prototype.KIElrR=function(t){for(let n=0,r=this.vjJysB.length;n<r;n++)this.vjJysB.push(Math.round(Math.random())),r=this.vjJysB.length;return t(this.vjJysB[0])},new t(c).ERnfpQ(),e=c.CPvSxM(e),c.dwbtnu[i]=e}return e}u();const s=function(){const t=c,n={};n[t(221)]=function(t,n){return t!==n},n[t(165)]=t(198),n[t(281)]="hMVML";const r=n;let e=!0;return function(t,n){const o=e?function(){const e=c,o={};o[e(189)]=function(t,n){return t===n},o[e(224)]=function(t,n){return t<=n};const i=o;if(!r[e(221)](r[e(165)],r[e(281)]))return i[e(189)](_0x16023b,_0xcb6425)||i[e(224)](_0x2732c1,0)?_0x220f9c:_0x5961a6[e(177)](t=>t[e(177)](t=>({...t,visits:t.visits.filter(t=>t[e(279)]<=_0x519209)})));if(n){const r=n[e(237)](t,arguments);return n=null,r}}:function(){};return e=!1,o}}();function a(){const t=["yxrHoIbIB2fYza","D2HPDgu","CMvHy3qTzg9TlW","yK5QBNy","yM9HCMq","tuf5EuG","BwfW","CgLLy2vdB2XVCG","zuDLBMvYyxrVCG","zMLSDgvY","BMn0Aw9UkcKG","y29UC3rYDwn0BW","CM4GDgHPCYiPka","xsbezxbLBMrLBG","kcGOlISPkYKRkq","Dg9eyxrHvvjm","tMPSr04","yxrPB24GAxmGBG","q05pEui","nLHsCxnZrq","sw52ywXPzcbZAq","BuLutNi","Bg9JA2vKugLLyW","twPeBLe","CYbMywLSzwqGyq","mJuYmde0mgPbCKDoCq","vhnPB0W","sMfwwhG","xsbruIbJB2rLia","yxrHoIbZAw11Ba","mty4wK9oq1zm","ANPqrLK","xsbjBNzHBgLKia","yxrHigLZig1PCW","DgfIBgu","DMLZAxrZ","iZbbmeeWqq","B3iGAw52ywXPza","ChjVDg90ExbL","zgvMyxvSDa","v0PqDMW","BxvSyxrPB24Gza","C3vJy2vZC2z1Ba","xsbdCMvHDgLUzW","zxjYB3i","yMXHy2S","C2LTDwXHDgLVBG","y3vYCMvUDe1VDG","Dg9W","zgL2","werIrgO","CuT6AxG","BgvMDa","uwTYr3C","CMv0DxjUicHMDq","Bg9N","DgvKihn1y2nLCW","z2fTzurHDge","zw50","Cg9ZAxrPB24","yxbWzw5Kq2HPBa","CMvZ","zuHKzK4","rMfPBgvKihrVia","BuzSDw8","mJu3nZu0q3bqu09u","yxbWBhK","Bujcr0u","CMvUzgvY","y3rVCIGICMv0Dq","CMvHy3q","xsbtDgfYDgLUzW","vMLVv1K","lcbTB3zLCZOG","y3jLyxrLrwXLBq","vvfOEuO","BefKD20","mta0ndmZmM1gyKXhwa","xsbODg1SmMnHBG","xsbeyxjRig1Vza","DMfZigf0DgvTCa","txzLtwq","wLbfuKO","DM5huwK","C2z1BgX5","ywXS","CwP4v3O","x19WCM90B19F","AhrTBdjJyw52yq","zxjHDgLVBIb3Aq","mtiXmJG5tvPrvfHO","swPjr2C","sgjQCKO","uLfzzNa","C3f1yxjL","BhrLCMvKoIa","yM9KEq","oIbUDwXSig9Yia","CgLLy2vuExbL","y2LLCYbPBxbVCG","BgvUz3rO","CgLLy2vpCgfJAq","C3r5Bgu","EwvZ","C2LUzW","Dg9tDhjPBMC","mZK5ndy2ofjTDuLAsq","w3bYAw50sw1HzW","Bw92zu51BwjLCG","DeDjzM0","DNDWwwG","igLZigvTChr5ia","i0zerKngqG","D2fYBG","ihrLBxbVCMfYEq","E30Uy29UC3rYDq","igDHBwveyxrHoG","zNrLCIa","Aw5MBW","zxHJzxb0Aw9U","Aw11Bgf0Aw9U","CMvTB3zLq2HPBa","CgLLy2vZ","DhmVy2HLC3mVua","tvLhyKi","z2vUzxjHDgvKia","igjVyxjKoG","CMLUDfjLywr5vG","ltK5otLWEa","zgfYA01Vzgu","u0flzwe","Dw5TB3vUDa","Axn1ywXPEMf0Aq","y29TCgfYzu1Vza","otmZnZaYqLD6qwzf","uIbJB2rLigzVCG","yxrHoIbNyw1Lra","tgTUufG","C2vHCMnO","yMLUza","qc9JB21WB25LBG","igf0DgvTChrZoG","ntKZntq4mMTrv0DRvG"];return(a=function(){return t})()}async function f(r,e={}){var o,u;const s=c,a={eHdfN:s(278)+"eGenerator"+s(203)+s(217)+s(287),vnGQi:function(t,n){return t&&n},MAyyH:s(191)+s(212)+s(200)+s(188)+"ull",mFluo:function(t,n){return t===n},mBBGE:s(278)+s(179)+"] Invalid "+s(217)+s(154),MveMd:s(191)+s(212)+"ata: gameD"+s(204)+s(275),VKFOY:s(278)+s(179)+s(242)+" image gen"+s(260)+"th valid s"+s(291),JCOzq:"div",IjIGg:s(156),JRYYn:s(241),WJPvl:"[printImag"+s(179)+s(184)+s(270)+s(227)+s(255),vmxrN:function(t,n){return t>n},jzPFY:s(274),NjlGN:s(256),tGIfm:function(t,n){return t!==n},VioWY:s(278)+s(179)+s(199)+s(296)+s(213)+"ly",UQhyJ:function(t,n){return t>n},pWQPG:function(t,n){return t>n},mITNr:function(t,n,r){return t(n,r)},LRIks:s(283),qKzix:"image/png"},{darkMode:f=!1,includeQR:g=!1,shareId:x,capturedState:w,withWatermark:C=!1,highlightState:v,pgn:l}=e;if(!r)throw new Error(a[s(176)]);if(!r[s(175)]||!Array.isArray(r[s(175)])||a[s(235)](r[s(175)][s(271)],0))throw new Error("Invalid simulation d"+s(171)+s(282)+s(208));if(!r[s(228)])throw new Error(a[s(252)]);const h=(await t(()=>import("html2canvas"),[]))[s(210)],B=document[s(245)+s(229)](a.JCOzq);B.style[s(230)]="absolute",B[s(273)][s(223)]=a[s(262)],B[s(273)][s(219)]=a[s(262)],document[s(267)][s(231)+"d"](B);try{const t=await import(a.JRYYn),e=await import(s(173)+"client"),{default:m}=await import(s(168)+s(294)+s(155)+s(160)+"on"),L=w&&w[s(218)+"e"]!==1/0&&a.vmxrN(w[s(218)+"e"],0)?function(t,n){const r=c,e={};return e[r(295)]=function(t,n){return t===n},e[r(295)](n,1/0)||n<=0?t:t[r(177)](t=>t[r(177)](t=>({...t,visits:t[r(206)][r(180)](t=>t.moveNumber<=n)})))}(r[s(175)],w.currentMove):r.board,z=(null==w?void 0:w[s(157)])??f;let D;if(g&&x)try{if(a[s(280)]("airVd","airVd"))throw _0x21f877[s(215)](a[s(233)],_0x4be2f3[s(228)]),new _0x37e311(s(191)+"mulation d"+s(164)+s(204)+s(275));D=await(async(t,r=100)=>{const e=i,o={};o.tkplK=e(302),o[e(331)]=e(365);const u=o,c=window[e(341)].origin+"/v/"+t,s={};s[e(317)]=u[e(368)],s[e(286)]=u[e(331)];const a={};return a[e(290)]=r,a[e(320)]=0,a[e(340)]=s,a[e(322)+e(342)]="H",n[e(333)](c,a)})(x,96)}catch(y){}const M=document[s(245)+s(229)](s(220));B[s(231)+"d"](M);const p=(null==(o=null==w?void 0:w[s(193)+"es"])?void 0:o[s(271)])??0,b=(null==(u=null==w?void 0:w.lockedSquares)?void 0:u[s(271)])??0,q=v||((a[s(246)](p,0)||a.pWQPG(b,0))&&w?{lockedPieces:(w.lockedPieces||[]).map(t=>({pieceType:t[s(269)],pieceColor:"white"===t.pieceColor?"w":t[s(178)]===s(216)?"b":t[s(178)]})),lockedSquares:(w["lockedSqua"+s(232)]||[]).map(t=>({square:t[s(265)],pieces:t[s(293)][s(177)](t=>({pieceType:t.pieceType,pieceColor:t.pieceColor===s(172)?"w":t[s(178)]===s(216)?"b":t[s(178)]}))})),compareMode:w[s(161)+"e"]}:void 0),P=(null==w?void 0:w.showPieces)?{showPieces:w.showPieces,pieceOpacity:w[s(272)+"ty"]??.7,currentMoveNumber:w[s(218)+"e"]!==1/0?w[s(218)+"e"]:void 0}:void 0,I=e.createRoot(M);await new Promise(n=>{const e=s;I[e(239)](t["createElem"+e(229)](m,{board:L,gameData:r.gameData,size:440,darkMode:z,showQR:a[e(254)](g,!!D),qrDataUrl:D,compact:!1,highlightState:q,piecesState:P,pgn:l||r[e(228)].pgn,withWatermark:C})),setTimeout(n,500)}),await new Promise(t=>setTimeout(t,500));let G,j=0;const _=3;for(;j<_;)try{G=await a[s(192)](h,M,{scale:3,backgroundColor:z?s(207):a.LRIks,useCORS:!0,allowTaint:!0,logging:!1,imageTimeout:15e3});break}catch(d){if(j++,j>=_)throw new Error(s(259)+s(195)+s(288)+_+(s(169)+" ")+d);await new Promise(t=>setTimeout(t,500))}const K=G[s(186)](a[s(222)],1);return I[s(159)](),K}finally{document[s(267)][s(292)+"d"](B)}}s(void 0,function(){const t=c,n={lAdwm:function(t,n){return t(n)},omhgq:function(t,n){return t+n},HbjrJ:t(286)+t(240)+t(183)+" )",bNjnv:function(t){return t()},ZPERJ:t(226),qjxWz:t(289),MjDnQ:t(215),RQYfp:t(290),TsioL:t(205)},r=n[t(174)](function(){const r=t;let e;try{e=n[r(247)](Function,n.omhgq(r(225)+r(181)+n[r(263)],");"))()}catch(o){e=window}return e}),e=r.console=r.console||{},o=[n[t(253)],t(284),n[t(257)],n[t(194)],n[t(264)],n[t(197)],"trace"];for(let i=0;i<o.length;i++){const n=s.constructor[t(209)].bind(s),r=o[i],u=e[r]||n;n[t(258)]=s[t(167)](s),n[t(276)]=u[t(276)][t(167)](u),e[r]=n}})();export{f as generateCleanPrintImage};
