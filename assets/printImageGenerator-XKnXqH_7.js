import{b as t}from"./browser-DEPKJqf2.js";function n(t,r){t-=426;const e=o();let i=e[t];if(void 0===n.gsfKFX){var u=function(t){let n="",r="",o=n+u;for(let e,i,u=0,c=0;i=t.charAt(c++);~i&&(e=u%4?64*e+i:i,u++%4)?n+=o.charCodeAt(c+10)-10!=0?String.fromCharCode(255&e>>(-2*u&6)):u:0)i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(i);for(let e=0,i=n.length;e<i;e++)r+="%"+("00"+n.charCodeAt(e).toString(16)).slice(-2);return decodeURIComponent(r)};n.nUPgEI=u,n.EIYnUd={},n.gsfKFX=!0}const c=t+e[0],s=n.EIYnUd[c];if(s)i=s;else{const t=function(t){this.tNAAkD=t,this.huTXji=[1,0,0],this.tEXmDw=function(){return"newState"},this.KqZuuG="\\w+ *\\(\\) *{\\w+ *",this.cgHllk="['|\"].+['|\"];? *}"};t.prototype.byEvQf=function(){const t=new RegExp(this.KqZuuG+this.cgHllk).test(this.tEXmDw.toString())?--this.huTXji[1]:--this.huTXji[0];return this.PXogqI(t)},t.prototype.PXogqI=function(t){return Boolean(~t)?this.iVqfyi(this.tNAAkD):t},t.prototype.iVqfyi=function(t){for(let n=0,r=this.huTXji.length;n<r;n++)this.huTXji.push(Math.round(Math.random())),r=this.huTXji.length;return t(this.huTXji[0])},new t(n).byEvQf(),i=n.nUPgEI(i),n.EIYnUd[c]=i}return i}!function(){const t=n,r=o();for(;;)try{if(403010===-parseInt(t(427))/1*(-parseInt(t(434))/2)+parseInt(t(466))/3+parseInt(t(440))/4*(parseInt(t(446))/5)+parseInt(t(489))/6+parseInt(t(488))/7+-parseInt(t(448))/8+-parseInt(t(501))/9)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const r=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,o}}()(void 0,function(){const t=n,o={};o[t(497)]="(((.+)+)+)+$";const e=o;return r[t(454)]().search(t(452)+"+$")[t(454)]()[t(479)+"r"](r)[t(475)](e.IVUdW)});function o(){const t=["kcGOlISPkYKRkq","y29UC29Szq","Dg9tDhjPBMC","DgfIBgu","Eu9jDNG","CMDIysGYmtiSia","z2P2D1G","Dg9eyxrHvvjm","zxHJzxb0Aw9U","vvH5zfO","C3jJ","lJuP","Be93q1m","C2f2zq","ntK4nJi2y1PtBhzm","zMLSBfrLEhq","C3rYB2TL","Bg9JyxrPB24","BMTuu1O","yMLUza","yxbWBhK","yMvNAw5qyxrO","BKfQEve","C2vHCMnO","ve9VEfu","y3rPB25mzxzLBa","C3rYB2TLu3r5Ba","y29UC3rYDwn0BW","DhjHy2u","v0zLwfO","y2vxCKu","CMvZDg9Yzq","BvLoDem","x19WCM90B19F","CM91BMrszwn0","C3DAAwG","mtyWndq5og1jrhLbta","mZy4ndyWnLrnu0n2yG","CM4GDgHPCYiPka","Bg9N","zM9UDa","lJmP","y2vUDgvY","Dgv4DefSAwDU","zwLmEvC","svzvzfC","rLPxz0i","y29SB3i","Aw5MBW","ndKYmdq4meLwDK10Aa","y3jVC3npCMLNAq","idaSidaUnYK","D2LKDgG","nNb4ihnHBNmTCW","z0jpEK4","zgfYAW","qNzHwxu","yw5VBNLTB3vZ","l3nYyY9HC3nLDa","BgvUz3rO","iZaWmdaWmdaW","CMv0DxjUicHMDq","BwfYz2LU","mJDOAfnTwNq","CY9LBI1Wzw5Zzq","BgLNAhq","BNqTBg9NBY1Uzq","B25SB2fK","BgLUzvDPzhrO","CMDIysGWlcaWla","mtmZmZrktNfNq0e","shLzALi","BMn0Aw9UkcKG","y2XPCa","sLLIsgW","mtC1lca1nsWGma","mtj4qKvywKS","DY5WBMC","vvritKG","zxjPzG","zhjHD0LTywDL","ENHyDwi","ndCXmdyWq01UDMzM","rwPQBLa","ndq0nJe3nLbNsg9Itq","zMLSBfn0EwXL","y3rVCIGICMv0Dq","ChjVDg90ExbL"];return(o=function(){return t})()}r();const e=function(){let t=!0;return function(r,o){const e=n,i={};i[e(458)]=function(t,n){return t===n};const u=i,c=t?function(){const t=e;if(!u[t(458)](t(498),t(498)))return _0x31131d.toString()[t(475)]("(((.+)+)+)+$")[t(454)]().constructor(_0x1454df)[t(475)](t(452)+"+$");if(o){const n=o[t(472)](r,arguments);return o=null,n}}:function(){};return t=!1,c}}();e(void 0,function(){const t=n,r={};r[t(496)]=t(513)+t(436),r[t(456)]="{}.constru"+t(450)+t(490)+" )",r[t(506)]=t(491),r[t(464)]=t(500),r[t(487)]="error",r[t(447)]=t(460),r[t(482)]=t(455);const o=r;let i;try{i=Function(o[t(496)]+o[t(456)]+");")()}catch(s){i=window}const u=i[t(453)]=i[t(453)]||{},c=[o[t(506)],"warn",o[t(464)],o.swZih,o[t(447)],o[t(482)],t(480)];for(let n=0;n<c[t(511)];n++){const r=e[t(479)+"r"][t(451)][t(471)](e),o=c[n],i=u[o]||r;r[t(485)]=e[t(471)](e),r.toString=i[t(454)][t(471)](i),u[o]=r}})();const i=async(r,o=100)=>{const e=n,i={};i[e(474)]=e(512);const u=i,c=window[e(469)].origin+"/v/"+r,s={};s[e(507)]="#D4AF37",s[e(429)]=u[e(474)];const a={};return a[e(504)]=o,a[e(426)]=0,a[e(499)]=s,a["errorCorre"+e(477)]="H",t[e(459)](c,a)};function u(t,n){t-=400;const r=a();let o=r[t];if(void 0===u.WRSEhv){var e=function(t){let n="",r="",o=n+e;for(let e,i,u=0,c=0;i=t.charAt(c++);~i&&(e=u%4?64*e+i:i,u++%4)?n+=o.charCodeAt(c+10)-10!=0?String.fromCharCode(255&e>>(-2*u&6)):u:0)i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(i);for(let e=0,i=n.length;e<i;e++)r+="%"+("00"+n.charCodeAt(e).toString(16)).slice(-2);return decodeURIComponent(r)};u.qHxgOs=e,u.shihgA={},u.WRSEhv=!0}const i=t+r[0],c=u.shihgA[i];if(c)o=c;else{const t=function(t){this.EwKfJG=t,this.yLbnyB=[1,0,0],this.DhCwGP=function(){return"newState"},this.oVHEfP="\\w+ *\\(\\) *{\\w+ *",this.OskHgz="['|\"].+['|\"];? *}"};t.prototype.RGKWLt=function(){const t=new RegExp(this.oVHEfP+this.OskHgz).test(this.DhCwGP.toString())?--this.yLbnyB[1]:--this.yLbnyB[0];return this.DNNttS(t)},t.prototype.DNNttS=function(t){return Boolean(~t)?this.bspWAC(this.EwKfJG):t},t.prototype.bspWAC=function(t){for(let n=0,r=this.yLbnyB.length;n<r;n++)this.yLbnyB.push(Math.round(Math.random())),r=this.yLbnyB.length;return t(this.yLbnyB[0])},new t(u).RGKWLt(),o=u.qHxgOs(o),u.shihgA[i]=o}return o}!function(){const t=u,n=a();for(;;)try{if(548250===parseInt(t(542))/1+parseInt(t(529))/2+parseInt(t(433))/3*(-parseInt(t(461))/4)+-parseInt(t(427))/5*(parseInt(t(540))/6)+-parseInt(t(484))/7+parseInt(t(512))/8+parseInt(t(449))/9)break;n.push(n.shift())}catch(r){n.push(n.shift())}}();const c=function(){const t=u,n={YelHe:function(t,n){return t!==n}};n[t(500)]=t(515);const r=n;let o=!0;return function(n,e){const i=t;if(r[i(472)](i(438),r.TaeDN)){const t=o?function(){if(e){const t=e[i(535)](n,arguments);return e=null,t}}:function(){};return o=!1,t}{const t={};return t[i(527)]=_0x48b14c,_0x74bb09(_0x4f267d,t)}}}()(void 0,function(){const t=u,n={};n.cAAKy=t(402)+"+$";const r=n;return c[t(478)]()[t(439)](t(402)+"+$").toString()[t(446)+"r"](c).search(r.cAAKy)});c();const s=function(){const t=u,n={};n[t(434)]=t(418);const r=n;let o=!0;return function(n,e){const i=t;if(i(418)===r[i(434)]){const t=o?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return o=!1,t}throw _0x3f4adf[i(517)](i(510)+i(468)+i(539)+i(458)+i(411)+i(442)),new _0x170421(i(534)+i(495)+i(475)+i(459)+i(546))}}();function a(){const t=["CMvHy3qTzg9TlW","vLjpEuO","q01OqxC","E30Uy29UC3rYDq","vgfLre4","ANPIswq","DgfIBgu","BLDcyNG","C3vJy2vZC2z1Ba","x19WCM90B19F","D2fYBG","rvjYrLy","ltK5otLWEa","DgvKihn1y2nLCW","w3bYAw50sw1HzW","igDHBwveyxrHoG","mZuYnteWnhD2wKjqzW","AxnbCNjHEq","DhjHy2u","CK9Azfi","yMXHy2S","zxjYB3i","BwfW","C2z1BgX5","xsbeyxjRig1Vza","yuXMvLm","yMLUza","z2fTzurHDge","DMfZigf0DgvTCa","igjVyxjKoG","D2HPDgu","zgfYA01Vzgu","CM4GDgHPCYiPka","mtGZodG5nLLmt1firq","CgDU","zxjHDgLVBIb3Aq","BMn0Aw9UkcKG","ztOG","sw52ywXPzcbZAq","yxbWBhK","v0v4swy","qMHwu1C","CgLLy2vpCgfJAq","xsbjBNzHBgLKia","nNnYBxnttG","y3rVCIGICMv0Dq","mJCXnZaYreHlwfr4","yM9HCMq","EMjMrue","CMvHy3q","DwXS","y3LsuNy","CvLSBhy","kcGOlISPkYKRkq","y29UC29Szq","DgGGDMfSAwqGCW","BgvMDa","A2nHr3y","yM9KEq","zw50","s0TXCuq","C3r5Bgu","oIbUDwXSig9Yia","EwvZ","CgLLy2vZ","lcbTB3zLCZOG","y2XPzw50","C3f1yxjL","Axn1ywXPEMf0Aq","s01Zq1a","CMvZ","CYbMywLSzwqGyq","xsbruIbJB2rLia","Cg9ZAxrPB24","veLhCNC","BurIzvu","yxrHoIbIB2fYza","ignVBNrHAw5LCG","mtK5odKWnwnot094tW","Bg9N","r05jt2m","sNfwy0q","ywjZB2X1Dgu","CgLLy2vdB2XVCG","mZaWowLiv3v1qG","rKnSq24","ihbYAw50oG","i0zerKngqG","y3vYCMvUDe1VDG","s0fPrMG","C2vHCMnO","igf0DgvTChrZoG","xsbcB2fYzcbMAq","Dw5KzwzPBMvK","yvrMvw0","y3jLyxrLuM9VDa","xsbtDgfYDgLUzW","y29UC3rYDwn0BW","CKT6A1i","C2LUzW","otG2nZC0nefPCwPmBW","DMLZAxrZ","xsbezxbLBMrLBG","ywXS","CMv0DxjUicHMDq","sKTgAwW","z2vUzxjHDgvKia","CMvTB3zLq2HPBa","BgvUz3rO","C2LTDwXHDgLVBG","yxrPB24GAxmGBG","Bg9JA2vKu3f1yq","mZGYneL4AxPUvG","Aw1Hz2uVCg5N","B3iGAw52ywXPza","rxzvz3m","z3nNr1m","zMLSDgvY","y3jLyxrLrwXLBq","zuDLBMvYyxrVCG","CuHwEK0","Bg9JA2vKugLLyW","iZbbmeeWqq","wwvSsgu","zgL2","yxrHigLZig1PCW","yxrHoIbZAw11Ba","zxHJzxb0Aw9U","Dg9W","Dg9tDhjPBMC","CgLLy2vuExbL","DhmVy2HLC3mVua","qMHIBhy","zNrLCIa","rMfPBgvKihrVia","ntC0oteZnxLMrKz0ua","rNziCNu","ihrLBxbVCMfYEq","yxbWzw5Kq2HPBa","qc9JB21WB25LBG","Bw92zu51BwjLCG","AhrTBdjJyw52yq","igLZigvTChr5ia","igLTywDLigDLBG","C2HVD1bPzwnLCW","y3vqt1C","BxvSyxrPB24Gza"];return(a=function(){return t})()}function f(t,n){const r=u,o={qHVzM:function(t,n){return t<=n}};return n===1/0||o[r(469)](n,0)?t:t[r(518)](t=>t[r(518)](t=>({...t,visits:t[r(450)][r(466)](t=>t[r(489)]<=n)})))}async function y(t,n={}){var r,o;const e=u,c={cyRRv:function(t,n){return t&&n},JqVcD:e(498),UqMVu:"Invalid si"+e(495)+e(475)+"ation is n"+e(546),cuPOW:function(t,n){return t===n},KVOIE:e(510)+e(468)+"] Invalid simulation"+e(525),Bhblv:"[printImageGenerator] Invalid simulation"+e(511),gsgGS:"Invalid si"+e(495)+"ata: gameD"+e(474)+e(448),aTfUm:e(510)+e(468)+e(445)+e(492)+e(531)+e(404)+"imulation",BhVSW:e(490)+"s",aLfVS:e(431),KKqqD:e(508),GNIOc:e(545),WExIf:e(488)+e(480)+"rintReadyV"+e(417)+"on",TIGrw:function(t,n){return t>n},zaViA:function(t,n,r){return t(n,r)},ERrFV:function(t,n,r){return t(n,r)},zbfEA:e(510)+e(468)+e(421)+e(455)+e(504)+"ly",FvHru:e(483)+"generate QR code for print:",qYllv:function(t,n){return t>n},JKFil:function(t,n){return t>n},EvUgs:function(t,n){return t<n},AYycJ:function(t,n,r){return t(n,r)},nWBbx:e(471),alMXy:e(436),mDbeU:function(t,n){return t>=n},kcaGv:"cnzFI"},{darkMode:s=!1,includeQR:a=!1,shareId:y,capturedState:h,withWatermark:g=!1,highlightState:w,pgn:C}=n;if(!t){if(e(501)!==c[e(430)])throw new Error(c.UqMVu);_0x418efd[e(506)](e(483)+"generate QR code for"+e(435),_0x444a1e)}if(!t[e(543)]||!Array[e(513)](t.board)||c[e(494)](t[e(543)][e(457)],0))throw new Error(e(534)+e(495)+e(425)+e(491)+e(463));if(!t[e(523)])throw new Error(c[e(465)]);const v=(await import(c[e(537)])).default,l=document[e(467)+"ent"](e(473));l.style[e(422)]=c[e(521)],l[e(410)][e(405)]=c[e(409)],l.style[e(477)]="-9999px",document[e(407)][e(487)+"d"](l);try{const n=await import(c[e(429)]),u=await import(e(496)+e(415)),{default:D}=await import(c[e(536)]),z=h&&h[e(437)+"e"]!==1/0&&c[e(423)](h[e(437)+"e"],0)?c.zaViA(f,t[e(543)],h[e(437)+"e"]):t[e(543)],d=(null==h?void 0:h[e(527)])??s;let m;if(c[e(400)](a,y))try{m=await c[e(507)](i,y,96)}catch(B){}const q=document[e(467)+e(408)](e(473));l[e(487)+"d"](q);const M=(null==(r=null==h?void 0:h[e(470)+"es"])?void 0:r.length)??0,p=(null==(o=null==h?void 0:h[e(460)+e(419)])?void 0:o.length)??0,x=w||((c[e(401)](M,0)||c[e(454)](p,0))&&h?{lockedPieces:(h[e(470)+"es"]||[])[e(518)](t=>({pieceType:t[e(479)],pieceColor:t[e(432)]===e(526)?"w":t.pieceColor===e(516)?"b":t[e(432)]})),lockedSquares:(h[e(460)+e(419)]||[])[e(518)](t=>({square:t[e(416)],pieces:t[e(413)][e(518)](t=>({pieceType:t[e(479)],pieceColor:"white"===t[e(432)]?"w":t[e(432)]===e(516)?"b":t.pieceColor}))})),compareMode:h.compareMode}:void 0),G=(null==h?void 0:h.showPieces)?{showPieces:h[e(493)],pieceOpacity:h[e(538)+"ty"]??.7,currentMoveNumber:h.currentMove!==1/0?h[e(437)+"e"]:void 0}:void 0,A=u[e(444)](q);await new Promise(r=>{const o=e;A.render(n[o(467)+"ent"](D,{board:z,gameData:t.gameData,size:440,darkMode:d,showQR:c.cyRRv(a,!!m),qrDataUrl:m,compact:!1,highlightState:x,piecesState:G,pgn:C||t.gameData[o(530)],withWatermark:g})),setTimeout(r,500)}),await new Promise(t=>setTimeout(t,500));let b,I=0;const H=3;for(;c[e(464)](I,H);)try{b=await c.AYycJ(v,q,{scale:3,backgroundColor:d?c[e(503)]:c.alMXy,useCORS:!0,allowTaint:!0,logging:!1,imageTimeout:15e3});break}catch(L){if(I++,c[e(424)](I,H))throw c[e(406)]===c.kcaGv?new Error(e(490)+e(420)+e(482)+H+(e(440)+" ")+L):new _0xa771f2(e(490)+e(420)+e(482)+_0x570d95+(e(440)+" ")+_0xac3ed2);await new Promise(t=>setTimeout(t,500))}const W=b.toDataURL(e(462),1);return A.unmount(),W}finally{document.body[e(456)+"d"](l)}}s(void 0,function(){const t=u,n={VROyJ:function(t,n){return t(n)},JJRtM:t(499)+t(541)+t(528)+" )",rKzkR:t(476),GJJot:function(t,n){return t<n}};let r;try{r=n[t(497)](Function,t(453)+t(532)+n.JJRtM+");")()}catch(i){r=window}const o=r[t(403)]=r.console||{},e=[t(428),t(506),"info","error",n[t(447)],t(502),t(514)];for(let u=0;n.GJJot(u,e.length);u++){const n=s[t(446)+"r"].prototype[t(522)](s),r=e[u],i=o[r]||n;n[t(505)]=s[t(522)](s),n[t(478)]=i.toString.bind(i),o[r]=n}})();export{y as generateCleanPrintImage};
