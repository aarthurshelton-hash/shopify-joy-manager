import{d9 as e,r as s,ew as a,j as t,aT as r,e7 as i,C as n,x as l,bs as c,B as d,A as m,cu as o,cc as x,aF as h,aP as j,p,t as u,aq as f,s as N}from"./index-BKigiLhM.js";import{G as g}from"./git-branch-ChsYyQ9z.js";import{F as b}from"./file-code-BuBQ_eUP.js";import{C as y}from"./calendar-WlHtyCG0.js";function v(){const{id:v}=e(),[w,_]=s.useState(null),[z,A]=s.useState(!0),[S,k]=s.useState(null),[P,R]=s.useState(!1),{toast:D}=a();s.useEffect(()=>{(async()=>{if(!v)return k("Invalid report ID"),void A(!1);try{const{data:e,error:s}=await N.from("code_repository_patterns").select("*").eq("id",v).single();if(s)throw s;if(!e)throw new Error("Report not found");_(e)}catch(e){k(e instanceof Error?e.message:"Failed to load report")}finally{A(!1)}})()},[v]);if(z)return t.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:t.jsxs(r.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:[t.jsx(i,{className:"h-12 w-12 text-primary animate-pulse mx-auto mb-4"}),t.jsx("p",{className:"text-muted-foreground",children:"Loading analysis report..."})]})});if(S||!w)return t.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:t.jsx(n,{className:"max-w-md",children:t.jsxs(l,{className:"p-8 text-center",children:[t.jsx("p",{className:"text-destructive mb-4",children:S||"Report not found"}),t.jsx(c,{to:"/code-analysis",children:t.jsx(d,{children:"Go to Code Analysis"})})]})})});return t.jsxs("div",{className:"min-h-screen bg-background",children:[t.jsx("header",{className:"border-b bg-card/50 backdrop-blur-sm sticky top-0 z-50",children:t.jsx("div",{className:"container mx-auto px-4 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(c,{to:"/code-analysis",children:t.jsxs(d,{variant:"ghost",size:"sm",children:[t.jsx(m,{className:"h-4 w-4 mr-2"}),"Analyze Another"]})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:t.jsx(i,{className:"h-6 w-6 text-primary"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"font-bold text-lg",children:"En Pensent Code™ Report"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Shareable Analysis"})]})]})]}),t.jsxs(d,{onClick:()=>{const e=window.location.href;navigator.clipboard.writeText(e),R(!0),D({title:"Link Copied!",description:"Share this URL to show your analysis"}),setTimeout(()=>R(!1),2e3)},variant:"outline",className:"gap-2",children:[P?t.jsx(o,{className:"h-4 w-4"}):t.jsx(x,{className:"h-4 w-4"}),"Share Report"]})]})})}),t.jsx("main",{className:"container mx-auto px-4 py-8 max-w-5xl",children:t.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[t.jsx(n,{className:"mb-8",children:t.jsx(l,{className:"p-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(g,{className:"h-5 w-5 text-muted-foreground"}),t.jsxs("h2",{className:"text-2xl font-bold",children:[w.owner,"/",w.repository_name]})]}),t.jsxs("a",{href:w.repository_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline flex items-center gap-1",children:["View on GitHub ",t.jsx(h,{className:"h-3 w-3"})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(b,{className:"h-4 w-4"}),w.total_commits," commits"]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(j,{className:"h-4 w-4"}),w.total_contributors," contributors"]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(y,{className:"h-4 w-4"}),new Date(w.created_at).toLocaleDateString()]})]})]})})}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[t.jsxs(n,{children:[t.jsx(p,{children:t.jsx(u,{className:"text-lg",children:"Development Archetype"})}),t.jsxs(l,{children:[t.jsx("p",{className:`text-3xl font-bold mb-2 ${{"Methodical Architect":"text-blue-500","Rapid Innovator":"text-orange-500","Quality Guardian":"text-green-500","Fire Fighter":"text-red-500","Balanced Builder":"text-purple-500"}[w.archetype]||"text-primary"}`,children:w.archetype}),t.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Fingerprint: ",t.jsxs("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:[w.fingerprint.slice(0,16),"..."]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Dominant Force:"}),t.jsx("p",{className:"font-medium capitalize",children:w.dominant_force})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Flow Direction:"}),t.jsx("p",{className:"font-medium capitalize",children:w.flow_direction})]})]})]})]}),t.jsxs(n,{children:[t.jsx(p,{children:t.jsx(u,{className:"text-lg",children:"Predicted Outcome"})}),t.jsxs(l,{children:[t.jsx("p",{className:"text-3xl font-bold mb-2 capitalize "+("success"===w.predicted_outcome?"text-green-500":"failure"===w.predicted_outcome?"text-red-500":"text-yellow-500"),children:w.predicted_outcome}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[t.jsx("span",{className:"text-muted-foreground",children:"Confidence"}),t.jsxs("span",{className:"font-medium",children:[Math.round(100*w.outcome_confidence),"%"]})]}),t.jsx(f,{value:100*w.outcome_confidence})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[t.jsx("span",{className:"text-muted-foreground",children:"Intensity"}),t.jsxs("span",{className:"font-medium",children:[Math.round(100*w.intensity),"%"]})]}),t.jsx(f,{value:100*w.intensity})]})]})]})]}),t.jsxs(n,{className:"mb-8",children:[t.jsx(p,{children:t.jsx(u,{className:"text-lg",children:"Quadrant Profile (Spatial Distribution)"})}),t.jsx(l,{children:t.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(w.quadrant_profile).map(([e,s])=>t.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-sm font-medium uppercase",children:e}),t.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(100*s),"%"]})]}),t.jsx(f,{value:100*s})]},e))})})]}),t.jsxs(n,{className:"mb-8",children:[t.jsx(p,{children:t.jsx(u,{className:"text-lg",children:"Temporal Flow (Activity Over Time)"})}),t.jsx(l,{children:t.jsx("div",{className:"grid grid-cols-3 gap-4",children:Object.entries(w.temporal_flow).map(([e,s])=>t.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[t.jsx("p",{className:"text-sm text-muted-foreground capitalize mb-1",children:e}),t.jsxs("p",{className:"text-2xl font-bold",children:[Math.round(100*s),"%"]})]},e))})})]}),w.recommendations&&w.recommendations.length>0&&t.jsxs(n,{className:"mb-8",children:[t.jsx(p,{children:t.jsx(u,{className:"text-lg",children:"Strategic Recommendations"})}),t.jsx(l,{children:t.jsx("ul",{className:"space-y-3",children:w.recommendations.map((e,s)=>t.jsxs("li",{className:"flex gap-3",children:[t.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-primary/10 text-primary text-sm font-medium flex items-center justify-center",children:s+1}),t.jsx("span",{className:"text-sm",children:e})]},s))})})]}),t.jsxs("div",{className:"text-center py-8 border-t",children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Analyzed with En Pensent™ Universal Pattern Recognition Engine"}),t.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[t.jsx(c,{to:"/academic-paper",children:t.jsxs(d,{variant:"outline",size:"sm",className:"gap-2",children:[t.jsx(h,{className:"h-4 w-4"}),"Read the Paper"]})}),t.jsx(c,{to:"/sdk-docs",children:t.jsxs(d,{variant:"outline",size:"sm",className:"gap-2",children:[t.jsx(h,{className:"h-4 w-4"}),"SDK Documentation"]})}),t.jsx(c,{to:"/code-analysis",children:t.jsxs(d,{size:"sm",className:"gap-2",children:[t.jsx(i,{className:"h-4 w-4"}),"Analyze Your Repo"]})})]}),t.jsx("p",{className:"text-xs text-muted-foreground mt-6",children:"© 2024 En Pensent Technologies. Patent Pending. All rights reserved."})]})]})})]})}export{v as default};
