import{r as e,j as r,X as t,O as n,M as o,Q as a,V as s,Z as c,_ as d,Y as i,cu as l,$ as u}from"./index-BsQTe2MU.js";var f="Checkbox",[p]=i(f),[b,h]=p(f);function k(t){const{__scopeCheckbox:n,checked:a,children:s,defaultChecked:c,disabled:d,form:i,name:l,onCheckedChange:u,required:p,value:h="on",internal_do_not_use_render:k}=t,[m,C]=o({prop:a,defaultProp:c??!1,onChange:u,caller:f}),[x,v]=e.useState(null),[_,y]=e.useState(null),g=e.useRef(!1),R=!x||(!!i||!!x.closest("form")),E={checked:m,disabled:d,setChecked:C,control:x,setControl:v,name:l,form:i,value:h,hasConsumerStoppedPropagationRef:g,required:p,defaultChecked:!w(c)&&c,isFormControl:R,bubbleInput:_,setBubbleInput:y};return r.jsx(b,{scope:n,...E,children:j(k)?k(E):s})}var m="CheckboxTrigger",C=e.forwardRef(({__scopeCheckbox:t,onKeyDown:o,onClick:c,...d},i)=>{const{control:l,value:u,disabled:f,checked:p,required:b,setControl:k,setChecked:C,hasConsumerStoppedPropagationRef:x,isFormControl:v,bubbleInput:_}=h(m,t),y=a(i,k),g=e.useRef(p);return e.useEffect(()=>{const e=null==l?void 0:l.form;if(e){const r=()=>C(g.current);return e.addEventListener("reset",r),()=>e.removeEventListener("reset",r)}},[l,C]),r.jsx(n.button,{type:"button",role:"checkbox","aria-checked":w(p)?"mixed":p,"aria-required":b,"data-state":R(p),"data-disabled":f?"":void 0,disabled:f,value:u,...d,ref:y,onKeyDown:s(o,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:s(c,e=>{C(e=>!!w(e)||!e),_&&v&&(x.current=e.isPropagationStopped(),x.current||e.stopPropagation())})})});C.displayName=m;var x=e.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:o,checked:a,defaultChecked:s,required:c,disabled:d,value:i,onCheckedChange:l,form:u,...f}=e;return r.jsx(k,{__scopeCheckbox:n,checked:a,defaultChecked:s,disabled:d,required:c,onCheckedChange:l,name:o,form:u,value:i,internal_do_not_use_render:({isFormControl:e})=>r.jsxs(r.Fragment,{children:[r.jsx(C,{...f,ref:t,__scopeCheckbox:n}),e&&r.jsx(g,{__scopeCheckbox:n})]})})});x.displayName=f;var v="CheckboxIndicator",_=e.forwardRef((e,o)=>{const{__scopeCheckbox:a,forceMount:s,...c}=e,d=h(v,a);return r.jsx(t,{present:s||w(d.checked)||!0===d.checked,children:r.jsx(n.span,{"data-state":R(d.checked),"data-disabled":d.disabled?"":void 0,...c,ref:o,style:{pointerEvents:"none",...e.style}})})});_.displayName=v;var y="CheckboxBubbleInput",g=e.forwardRef(({__scopeCheckbox:t,...o},s)=>{const{control:i,hasConsumerStoppedPropagationRef:l,checked:u,defaultChecked:f,required:p,disabled:b,name:k,value:m,form:C,bubbleInput:x,setBubbleInput:v}=h(y,t),_=a(s,v),g=c(u),j=d(i);e.useEffect(()=>{const e=x;if(!e)return;const r=window.HTMLInputElement.prototype,t=Object.getOwnPropertyDescriptor(r,"checked").set,n=!l.current;if(g!==u&&t){const r=new Event("click",{bubbles:n});e.indeterminate=w(u),t.call(e,!w(u)&&u),e.dispatchEvent(r)}},[x,g,u,l]);const R=e.useRef(!w(u)&&u);return r.jsx(n.input,{type:"checkbox","aria-hidden":!0,defaultChecked:f??R.current,required:p,disabled:b,name:k,value:m,form:C,...o,tabIndex:-1,ref:_,style:{...o.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function j(e){return"function"==typeof e}function w(e){return"indeterminate"===e}function R(e){return w(e)?"indeterminate":e?"checked":"unchecked"}g.displayName=y;const E=e.forwardRef(({className:e,...t},n)=>r.jsx(x,{ref:n,className:u("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(_,{className:u("flex items-center justify-center text-current"),children:r.jsx(l,{className:"h-4 w-4"})})}));E.displayName=x.displayName;export{E as C};
