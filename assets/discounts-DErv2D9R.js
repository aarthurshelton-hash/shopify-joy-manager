const n="// Quantity-based discount tiers\n// The more prints ordered, the bigger the discount\n\nexport interface DiscountTier {\n  minQuantity: number;\n  discountPercent: number;\n  label: string;\n}\n\nexport const DISCOUNT_TIERS: DiscountTier[] = [\n  { minQuantity: 1, discountPercent: 0, label: 'No discount' },\n  { minQuantity: 2, discountPercent: 10, label: '10% off' },\n  { minQuantity: 3, discountPercent: 15, label: '15% off' },\n  { minQuantity: 4, discountPercent: 20, label: '20% off' },\n  { minQuantity: 5, discountPercent: 25, label: '25% off' },\n  { minQuantity: 8, discountPercent: 30, label: '30% off' },\n  { minQuantity: 10, discountPercent: 35, label: '35% off' },\n];\n\n// Shipping costs by region\nexport const SHIPPING_CONFIG = {\n  freeRegions: ['US', 'CA'], // Free shipping for USA and Canada\n  internationalCost: 14.99, // Flat rate for international orders\n};\n\nexport type ShippingRegion = 'US' | 'CA' | 'international';\n\nexport function getShippingRegion(countryCode?: string): ShippingRegion {\n  if (!countryCode) return 'US'; // Default to US\n  const code = countryCode.toUpperCase();\n  if (code === 'US' || code === 'USA') return 'US';\n  if (code === 'CA' || code === 'CAN') return 'CA';\n  return 'international';\n}\n\nexport function getDiscountTier(quantity: number): DiscountTier {\n  // Find the highest applicable discount tier\n  let applicableTier = DISCOUNT_TIERS[0];\n  \n  for (const tier of DISCOUNT_TIERS) {\n    if (quantity >= tier.minQuantity) {\n      applicableTier = tier;\n    }\n  }\n  \n  return applicableTier;\n}\n\nexport function getNextDiscountTier(quantity: number): DiscountTier | null {\n  const currentTier = getDiscountTier(quantity);\n  const currentIndex = DISCOUNT_TIERS.indexOf(currentTier);\n  \n  if (currentIndex < DISCOUNT_TIERS.length - 1) {\n    return DISCOUNT_TIERS[currentIndex + 1];\n  }\n  \n  return null;\n}\n\nexport interface ShippingInfo {\n  isFreeShipping: boolean;\n  shippingCost: number;\n  region: ShippingRegion;\n  regionLabel: string;\n}\n\nexport function calculateShipping(region: ShippingRegion = 'US'): ShippingInfo {\n  const isFreeShipping = SHIPPING_CONFIG.freeRegions.includes(region);\n  const shippingCost = isFreeShipping ? 0 : SHIPPING_CONFIG.internationalCost;\n  \n  const regionLabels: Record<ShippingRegion, string> = {\n    'US': 'United States',\n    'CA': 'Canada',\n    'international': 'International',\n  };\n  \n  return {\n    isFreeShipping,\n    shippingCost,\n    region,\n    regionLabel: regionLabels[region],\n  };\n}\n\nexport function calculateDiscount(subtotal: number, quantity: number, region: ShippingRegion = 'US'): {\n  discountPercent: number;\n  discountAmount: number;\n  finalTotal: number;\n  tier: DiscountTier;\n  nextTier: DiscountTier | null;\n  itemsUntilNextTier: number;\n  shipping: ShippingInfo;\n  grandTotal: number;\n} {\n  const tier = getDiscountTier(quantity);\n  const nextTier = getNextDiscountTier(quantity);\n  const discountAmount = subtotal * (tier.discountPercent / 100);\n  const finalTotal = subtotal - discountAmount;\n  const itemsUntilNextTier = nextTier ? nextTier.minQuantity - quantity : 0;\n  const shipping = calculateShipping(region);\n  const grandTotal = finalTotal + shipping.shippingCost;\n  \n  return {\n    discountPercent: tier.discountPercent,\n    discountAmount,\n    finalTotal,\n    tier,\n    nextTier,\n    itemsUntilNextTier,\n    shipping,\n    grandTotal,\n  };\n}\n";export{n as default};
