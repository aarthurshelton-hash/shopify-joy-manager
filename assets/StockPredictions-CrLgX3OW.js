var e,t=Object.defineProperty,n=(e,n,s)=>((e,n,s)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s)(e,"symbol"!=typeof n?n+"":n,s);import{aJ as s,r,eu as a,s as c,j as i,C as o,p as l,t as d,L as u,w as x,x as h,aq as m,B as f,aF as g,v,cR as j,y,b8 as p,b9 as w,ba as N,bb as C,bc as b,a8 as B,aB as D,aC as z,aD as I,b4 as G,aE as M,aY as L,bh as P,cb as q,ad as A,eB as k}from"./index-0PGTc9H0.js";import{A as U,a as K,b as S}from"./alert-Bgb1duGQ.js";import{T as W,a as H,b as J,c as O,d as V,e as E}from"./table-DH-_TRVF.js";import{C as T}from"./circle-alert-BNYH1wlp.js";import{W as _}from"./wifi-off-DqyO-AXh.js";import{W as Y}from"./wifi-DJhESktZ.js";import{B as R}from"./briefcase-BfB74i2P.js";import{T as F}from"./trending-down-BZHqoNxQ.js";const X=s("Bolt",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]),Z=s("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);function Q(){const e=["sNfPu0u","C2v0sxrLBq","CMv0DxjUicHMDq","DhjHy2u","mtG2oty1mtzsA0jOC3e","Dw5KzwzPBMvK","mti3lJaUmc4X","ChjVDg90ExbL","yxbWBhK","vgTACxm","sKjute0","x19WCM90B19F","CM4GDgHPCYiPka","zLjJyxq","ywXOB3n0oJqWma","DgfIBgu","A0rsEvG","odm1ntj3BvvtyMe","ntK2mJv6DNfJzeC","y29UC3rYDwn0BW","y3rVCIGICMv0Dq","BMn0Aw9UkcKG","BwHXENi","uMfsDwW","CgfYC2u","De1MCgG","mw1pq2TUAW","Dg9tDhjPBMC","mJK4nJvksufyBvy","wgDYAeC","C3rYAw5NAwz5","yMLUza","BgvUz3rO","nZyWv1bmC25H","mZGYmZGYmxjMswnwtW","mty0ngr5DLnLuq","x2jYAwrNzv91CG","Ahr0CdOVl2XVyW","yNjPzgDLvxjS","mZu5ndKYofHsyK9MtG","ufnlwg4","AwjFz2f0zxDHEq","y29UC29Szq","y2HrD2K","zvDur0G","qLzVzNO","zxHJzxb0Aw9U","mtG5zwPlrgTw","mtfyqK1Qt3O","BwTXsLy","mta2mZa1ngfmwg1eCq","D05YweK","wMXnBfK","kcGOlISPkYKRkq","C2vHCMnO","zxjYB3i"];return(Q=function(){return e})()}const $=ee;function ee(e,t){e-=470;const n=Q();let s=n[e];if(void 0===ee.Kzwqfc){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};ee.zHWcpq=r,ee.NKmvQf={},ee.Kzwqfc=!0}const a=e+n[0],c=ee.NKmvQf[a];if(c)s=c;else{const e=function(e){this.vsSiON=e,this.RDIeIf=[1,0,0],this.VpQhCP=function(){return"newState"},this.VUWBrV="\\w+ *\\(\\) *{\\w+ *",this.EhlKBu="['|\"].+['|\"];? *}"};e.prototype.jPudOC=function(){const e=new RegExp(this.VUWBrV+this.EhlKBu).test(this.VpQhCP.toString())?--this.RDIeIf[1]:--this.RDIeIf[0];return this.vmOPCt(e)},e.prototype.vmOPCt=function(e){return Boolean(~e)?this.EgaDMm(this.vsSiON):e},e.prototype.EgaDMm=function(e){for(let t=0,n=this.RDIeIf.length;t<n;t++)this.RDIeIf.push(Math.round(Math.random())),n=this.RDIeIf.length;return e(this.RDIeIf[0])},new e(ee).jPudOC(),s=ee.zHWcpq(s),ee.NKmvQf[a]=s}return s}!function(){const e=ee,t=Q();for(;;)try{if(862581===-parseInt(e(509))/1*(-parseInt(e(477))/2)+-parseInt(e(517))/3+parseInt(e(522))/4+-parseInt(e(511))/5*(parseInt(e(518))/6)+parseInt(e(474))/7*(parseInt(e(500))/8)+parseInt(e(501))/9*(parseInt(e(516))/10)+parseInt(e(475))/11*(parseInt(e(487))/12))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const te=function(){const e=ee,t={};t[e(492)]=function(e,t){return e!==t};const n=t;let s=!0;return function(t,r){const a=e;if(n[a(492)](a(471),a(471))){const e=_0x582408[a(491)](_0x5b5d04,arguments);return _0x4a4d1e=null,e}{const e=s?function(){if(r){const e=r[a(491)](t,arguments);return r=null,e}}:function(){};return s=!1,e}}}()(void 0,function(){const e=ee,t={};t[e(479)]=e(480)+"+$";const n=t;return te[e(510)]().search(e(480)+"+$")[e(510)]().constructor(te)[e(481)](n[e(479)])});te();const ne=function(){let e=!0;return function(t,n){if("kDRyX"===ee(499)){const s=e?function(){if(n){const e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,s}try{return{..._0x3c88c5,..._0x14a4af.parse(_0x49f3fe)}}catch{return _0x589ba7}}}();ne(void 0,function(){const e=ee,t={XgrhG:function(e,t){return e===t},mhqzr:e(483),hABIH:function(e,t){return e(t)},PSKXn:function(e,t){return e+t},tMfph:e(478),BVofz:"info",JBTLM:e(482),RaRul:e(473),chQwi:e(498),mkqJV:e(486),XnCWH:function(e,t){return e<t}},n=function(){const n=e;let s;try{if(t[n(512)](t[n(505)],n(496))){if(_0x3dbccf){const e=_0x5da784[n(491)](_0x1057db,arguments);return _0x2bde52=null,e}}else s=t.hABIH(Function,t[n(523)](n(485)+n(504)+"{}.constru"+n(503)+n(495)+" )",");"))()}catch(r){if("GyIpJ"!==t[n(508)])s=window;else{const e=_0x59dc0[n(502)+"r"][n(490)][n(514)](_0x532c4c),t=_0x345573[_0x4328f8],s=_0x19e2da[t]||e;e[n(494)]=_0x1b212f[n(514)](_0x4086c8),e[n(510)]=s[n(510)][n(514)](s),_0x18cda5[t]=e}}return s}(),s=n[e(525)]=n.console||{},r=["log","warn",t[e(472)],t[e(493)],t[e(506)],t[e(470)],t[e(476)]];for(let a=0;t.XnCWH(a,r[e(515)]);a++){const t=ne[e(502)+"r"][e(490)][e(514)](ne),n=r[a],c=s[n]||t;t.__proto__=ne.bind(ne),t[e(510)]=c[e(510)][e(514)](c),s[n]=t}})();const se=$(524)+$(519)+"l",re=$(520)+$(497)+"0",ae={};ae[$(521)]=re,ae.gatewayHost=$(489),ae.gatewayPort=4002,ae.clientId=1;const ce=ae;function ie(){const e=$;if(typeof window===e(488))return ce;const t=localStorage.getItem(se);if(t)try{return{...ce,...JSON[e(507)](t)}}catch{return ce}return ce}function oe(){const e=$;return ie()[e(521)]}const le=xe;function de(){const e=["yxbWBhK","DhjHy2u","z2f0zxDHEvbVCG","zgLZy29UBMvJDa","vu1uz2G","z2v0ug9ZAxrPBW","AKnIr3O","Ev0Gr2v0ig9Yza","ndy5uM1duMfr","B3jKzxjZ","AvrYENC","Ev0Gr2v0ihbVCW","ntGZntDhCgXzwgW","BMn0Aw9UkcKG","ChjVDg90ExbL","C2vHCMnOq29UDa","CgfWzxjuCMfKAq","DgvK","l2fWAs9ZDgf0Dq","u0Pky2W","odK0otqYmeTovLbUwq","C3rHDhvZ","mtrIB3rQtwy","l2fWAs9JB25Uzq","whPWsvO","swzvvMe","CMv0DxjUicHMDq","ndC3qvjNvfL1","y29UC3rYDwn0BW","C1zir08","C3rYAw5NAwz5","BM93","y29UDhjHy3rZ","Ewv0Cgy","t0jLy3K","DvzACve","B3jKzxiGzxjYBW","EhbXq2e","vw1tuLq","l2fWAs9WB3nPDa","l2fWAs9XDw90zq","mtiZmdbTD0vUCee","BM5Ly3q","nMfpu3zTtW","otC1mJuYnLLgv1H1Da","y29UBMvJDa","sg95r0q","z2f0zxDHEuHVCW","zxHJzxb0Aw9U","A1jUrgq","ue9tva","y29UBMvJDgvK","Ev0Gt3jKzxiGzG","z2v0uxvVDgu","AxrPB25ZigvYCG","Aw9UCZ9Hy2nVDq","l2fWAs9ZzwfYyW","mte3mM5hv0r1qW","y2HLy2TdB25Uzq","BM90igf2ywLSyq","DgfIBgu","Bwv0Ag9K","CMrLCIbLCNjVCG","Aw5MBW","l2fWAs9VCMrLCG","y2XPzw50swq","v1LZD28","vMfxC3q","zxjYB3i","tgvkyxu","rK51DKq","yK5NBve","teD6vKK","C3vIBwL0DgvK","B3jKzxjjza","CM4GDgHPCYiPka","r0vu","w0LcieDHDgv3yq","Ad9ZEw1IB2W9","BLzPCge","y2fUy2vSt3jKzq","tMHXr04","odq1ovP4AxjgEq","Ev0GugXHy2uGBW","CNjVCJO","yMLUza","z2v0t3jKzxjZ","uhPPr1G","Aw5N","z3fyyw8","te9gyNy","Ag9ZDa","x19WCM90B19F","AKnIshC","CgXHy2vpCMrLCG","ywLSzwq","t2PLwKC","yxbWBgLJyxrPBW","BI9QC29U","yMXLoG","sujyr2u","Ev0GqNjPzgDLia","Bg9N","suDyuwe","rgvbv2O","mtm3mty4sMjMvw1L","yxv0AgvUDgLJyq","Cg9ZAxrPB25Z","DKrjt3m","v0LUB0C","z2v0qwnJB3vUDa","Cg9YDa","B3i6","y3rVCIGICMv0Dq","ELjPz2y","Ev0Gr2v0igfJyW","Ev0Gq2fUy2vSia","vLfWugK","reL4r20","yvn3r00","kcGOlISPkYKRkq","Ev0Gu2vHCMnOia","ANnVBG","AxzhuNK","CMfJDa","y3rPB24","Dg9tDhjPBMC","ndC5oduYmhDVBuDdrq"];return(de=function(){return e})()}!function(){const e=xe,t=de();for(;;)try{if(639535===parseInt(e(481))/1*(-parseInt(e(491))/2)+parseInt(e(496))/3*(-parseInt(e(526))/4)+parseInt(e(468))/5*(parseInt(e(512))/6)+parseInt(e(477))/7*(-parseInt(e(446))/8)+parseInt(e(513))/9+parseInt(e(510))/10*(parseInt(e(551))/11)+-parseInt(e(489))/12)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ue=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[xe(469)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=xe,t={};t[e(538)]=e(461)+"+$";const n=t;return ue[e(467)]().search(n[e(538)])[e(467)]()[e(497)+"r"](ue).search(n[e(538)])});function xe(e,t){e-=440;const n=de();let s=n[e];if(void 0===xe.UnsvSD){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};xe.RAXOsI=r,xe.SfzfXa={},xe.UnsvSD=!0}const a=e+n[0],c=xe.SfzfXa[a];if(c)s=c;else{const e=function(e){this.JcsAze=e,this.VahuOi=[1,0,0],this.dByUlh=function(){return"newState"},this.tXFRWe="\\w+ *\\(\\) *{\\w+ *",this.CRxbEP="['|\"].+['|\"];? *}"};e.prototype.VvONIu=function(){const e=new RegExp(this.tXFRWe+this.CRxbEP).test(this.dByUlh.toString())?--this.VahuOi[1]:--this.VahuOi[0];return this.pAzSMe(e)},e.prototype.pAzSMe=function(e){return Boolean(~e)?this.XqzFvC(this.JcsAze):e},e.prototype.XqzFvC=function(e){for(let t=0,n=this.VahuOi.length;t<n;t++)this.VahuOi.push(Math.round(Math.random())),n=this.VahuOi.length;return e(this.VahuOi[0])},new e(xe).VvONIu(),s=xe.RAXOsI(s),xe.SfzfXa[a]=s}return s}ue();const he=function(){let e=!0;return function(t,n){const s={UmSRT:function(e,t){return e(t)},HoyGD:function(e,t){return e+t}},r=e?function(){const e=xe;if(e(475)!=e(475)){const t=_0x534d11[e(497)+"r"].prototype[e(554)](_0x4ddcd7),n=_0x4abff5[_0xe88f62],s=_0x435300[n]||t;t.__proto__=_0x39eb36[e(554)](_0x340b),t.toString=s.toString[e(554)](s),_0x2a871a[n]=t}else if(n){if(e(556)==e(556)){const e=n.apply(t,arguments);return n=null,e}_0x2b5cdd=s[e(507)](_0x1c4fe3,s[e(515)](e(495)+e(482),"{}.constru"+e(454)+e(544)+" )")+");")()}}:function(){};return e=!1,r}}();he(void 0,function(){const e=xe,t={UMTgh:function(e,t){return e(t)},vDIOs:"warn",tAIDM:e(517),uUeeQ:e(529),yXaxq:e(470)},n=function(){const n=e;let s;try{s=t[n(473)](Function,n(495)+n(482)+"{}.constru"+n(454)+'rn this")( ));')()}catch(r){s=window}return s}(),s=n.console=n.console||{},r=[e(443),t[e(449)],e(532),e(537),t.tAIDM,t.uUeeQ,t.yXaxq];for(let a=0;a<r.length;a++){const t=he[e(497)+"r"][e(483)][e(554)](he),n=r[a],c=s[n]||t;t[e(561)]=he[e(554)](he),t[e(467)]=c[e(467)].bind(c),s[n]=t}})();class me{constructor(){n(this,e,!1)}async[(e=le(520),le(527)+le(466))](){const e=le,t={jCbHw:function(e,t,n){return e(t,n)},qGhNk:e(545),IBXGe:e(566)+"n/json",bNgmQ:function(e,t){return e===t}};try{const n=ie(),s=await t[e(562)](fetch,oe()+(e(487)+"s"),{method:t.qGhNk,headers:{"Content-Type":t[e(441)]}});if(!s.ok){const t={connected:!1};return t[e(447)+e(486)]=!1,t.paperTrading=!1,t}const r=await s[e(463)]();return this[e(520)]=!0===r[e(520)],{connected:t[e(540)](r["bridgeRunn"+e(557)],!0),authenticated:!0===r[e(520)],paperTrading:4002===n[e(471)+"t"]}}catch(n){const t={};return t[e(520)]=!1,t[e(447)+e(486)]=!1,t[e(485)+"ng"]=!1,t}}async[le(514)](){const e=le,t={OjeZG:e(546)+e(457)+"order error:",ivGRy:function(e){return e()},FBGnw:function(e){return e()},nVipa:e(519),NhqGN:"applicatio"+e(567),FNuvD:function(e,t){return e===t},IGXQa:function(e,t){return e!==t},VaWst:e(445),LOFbv:e(546)+"y] Connect error:"};try{const n=t[e(464)](ie),s={};s[e(560)]=n[e(516)+"t"],s[e(452)]=n[e(471)+"t"],s[e(534)]=n[e(534)];const r=await fetch(t.FBGnw(oe)+(e(492)+"ct"),{method:t[e(548)],headers:{"Content-Type":t[e(550)]},body:JSON[e(499)](s)});if(!r.ok)return!1;const a=await r[e(463)]();return this[e(520)]=t[e(539)](a[e(520)],!0),this.connected}catch(n){return!!t[e(444)](e(445),t[e(536)])&&(_0x209e8e[e(537)](t[e(565)],_0x477bf6),!1)}}async[le(472)](){const e=le,t={};t[e(506)]=e(519);const n=t;try{const t={};t.method=n[e(506)],await fetch(oe()+"/api/disco"+e(511),t),this[e(520)]=!1}catch{}}async[le(451)+"s"](){const e=le,t=function(e){return e()};e(546),e(456);try{{const n=await fetch(t(oe)+"/api/accounts");if(!n.ok)return[];return(await n[e(463)]()).accounts||[]}}catch(n){return[]}}async[le(474)+"ns"](e){const t=le,n={OBecy:function(e){return e()},wLlpZ:t(546)+t(480)+t(523)+t(453)};try{const s=await fetch(n[t(503)](oe)+(t(508)+t(524)+"ntId=")+e);if(!s.ok)return[];return(await s[t(463)]())[t(448)]||[]}catch(s){return[]}}async[le(555)](){const e=le,t={XzpIZ:function(e,t){return e(t)},WInoG:function(e){return e()},IfUVa:function(e,t){return e===t},gqXao:"CtdAg",sVHGO:e(460)};try{const n=await t[e(493)](fetch,t[e(450)](oe)+(e(533)+"s"));if(!n.ok)return[];return(await n[e(463)]())[e(478)]||[]}catch(n){return t[e(494)](t[e(558)],t[e(498)])?(_0x513f2a[e(537)]("[IB Gatewa"+e(480)+e(523)+e(453),_0xa8b152),[]):[]}}async[le(484)+le(465)](e){const t=le,n={yetpf:function(e){return e()}};try{const s=await fetch(n[t(502)](oe)+(t(525)+t(547))+encodeURIComponent(e));if(!s.ok)return[];return(await s[t(463)]())[t(501)]||[]}catch(s){return[]}}async[le(563)](e){const t=le,n={};n.SJJcl=t(519),n[t(518)]=t(566)+t(567),n[t(455)]=t(546)+t(521)+t(564),n[t(541)]=t(542),n[t(458)]=t(546)+t(552)+t(531)+":";const s=n;try{const n=await fetch(oe()+(t(533)+"s"),{method:s[t(488)],headers:{"Content-Type":s[t(518)]},body:JSON[t(499)](e)});if(!n.ok)return null;const r=await n[t(463)]();return{orderId:r[t(543)]||"ib-"+Date[t(500)](),status:r[t(490)]||s.LGzVI}}catch(r){return null}}async[le(549)+"r"](e){const t=le,n={};n[t(535)]=function(e,t){return e===t},n[t(504)]="DELETE";const s=n;try{if(s[t(535)](t(479),t(459)))return _0x1eaf41[t(537)](t(546)+"y] Place order error:",_0x147ae9),null;{const n={};n[t(530)]=s[t(504)];return(await fetch(oe()+(t(533)+"s/")+e,n)).ok}}catch(r){return!1}}async[le(522)](e){const t=le;try{const n=await fetch(oe()+(t(509)+"?conid=")+e);if(!n.ok)return null;return await n[t(463)]()}catch{return null}}}const fe=new me;!function(){const e=je,t=ye();for(;;)try{if(633503===-parseInt(e(498))/1+-parseInt(e(426))/2*(parseInt(e(422))/3)+-parseInt(e(401))/4*(-parseInt(e(385))/5)+parseInt(e(453))/6+parseInt(e(367))/7+-parseInt(e(386))/8+parseInt(e(419))/9*(-parseInt(e(425))/10))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ge=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[je(443)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=je;return ge[e(447)]().search(e(413)+"+$")[e(447)]()[e(501)+"r"](ge)[e(381)](e(413)+"+$")});ge();const ve=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[je(443)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}();function je(e,t){e-=359;const n=ye();let s=n[e];if(void 0===je.sKziCH){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};je.ToFEnC=r,je.qixENI={},je.sKziCH=!0}const a=e+n[0],c=je.qixENI[a];if(c)s=c;else{const e=function(e){this.rXGffn=e,this.FedcPB=[1,0,0],this.GJyroX=function(){return"newState"},this.JyrKKg="\\w+ *\\(\\) *{\\w+ *",this.pVrLri="['|\"].+['|\"];? *}"};e.prototype.egfyAc=function(){const e=new RegExp(this.JyrKKg+this.pVrLri).test(this.GJyroX.toString())?--this.FedcPB[1]:--this.FedcPB[0];return this.nPPRMl(e)},e.prototype.nPPRMl=function(e){return Boolean(~e)?this.MgAsks(this.rXGffn):e},e.prototype.MgAsks=function(e){for(let t=0,n=this.FedcPB.length;t<n;t++)this.FedcPB.push(Math.round(Math.random())),n=this.FedcPB.length;return e(this.FedcPB[0])},new e(je).egfyAc(),s=je.ToFEnC(s),je.qixENI[a]=s}return s}function ye(){const e=["igHHCYbIzwvUia","DgL0Bgu","mtG0ntKZmNvSsKz4rq","D2f5iI4","yMLUza","zwqGDg8GsuiGrW","rMnzr2S","vgP2tNu","BNn1CMuGsuiGrW","y3vYCMvUDa","DNLQr24","y29UBMvJDa","y3rPB24","C3rHCNrZv2L0Aa","kcGOlISPkYKRkq","BMn0Aw9UkcKG","A0vXsNu","B3v6yKu","y29UAwq","ywnJB3vUDeLK","odm0ntuYs0Xlr2jp","C2vSzwn0zwrbyW","CMvMCMvZAerHDa","m1P4thjMuG","B3vUDcbMAxjZDa","BMfIBgvKlG","mJbVy1Lpzei","mJq4mtC3me13wMPrva","tM8GqwnJB3vUDa","CMfJDa","zxjYB3i","v2LsDwO","sxfzANK","zwXSzwq","yxv0AgvUDgLJyq","zuzxv24","q29UBMvJDgvK","yxrLD2f5lIbdBa","q29UBMvJDgLVBG","t3jKzxiGrMfPBa","z2uGC2vYDMvYia","z2v0qwnJB3vUDa","vMThA3G","Bg9HzfbVC2L0Aq","yxbWBhK","sxjPEK8","BhKGy29UBMvJDa","CNrrDwm","Dg9tDhjPBMC","ChjVDg90ExbL","z2PSrgu","suLhwui","Bg9HzgLUzW","y29UC29Szq","nZqXmJi2ofrpzNzPAa","y29UBMvJDgvK","Dw50","DhjHy2u","ifnLBgvJDgvK","ywnJB3vUDfr5Ca","q291BgqGBM90ia","qKD2wxu","ywnJB3vUDhm","D2fYBG","shLLCvO","B0rkDgm","Bg1dBhO","uKXmufu","w0LcieDHDgv3yq","t3jKzxiGugXHyW","y3qGDg8Gr2f0zq","BwvZC2fNzq","zgvZy3jPChrPBW","AguGyNjPzgDLia","y2HLy2TdB25Uzq","BurJrLm","CgXHy2uGB3jKzq","CNvUBMLUzY4","vg1utxa","Ehfwthi","C2LKzq","y3rVCIGICMv0Dq","Ev0Gq2HLy2TPBG","ic0G","DMz4BLu","ihj1BM5PBMCUia","u3LTyM9Sie5VDa","C2vSzwn0qwnJBW","DgvK","z2v0t3jKzxjZ","u3rHCNqGDgHLia","CxvHBNrPDhK","B3jKzxjuExbL","CM4GDgHPCYiPka","wuTKswy","ruPQv00","ihrPBwvKig91Da","CMv0DxjUicHMDq","Aw5MBW","mtiXntu0nNv5Ee9PtW","C3LYug4","yxrLD2f5ignVBG","y29UC3rYDwn0BW","BMLUzYbIDxqGBG","B2z5Cwm","qNjPzgDLihj1BG","Aw9UignOzwnRia","B3jKzxjZ","zMLUza","DgLTzwqGB3v0","ywXS","CgfWzxjuCMfKAq","qLnSvha","BgvUz3rO","Aw5JBhvKzxm","zenUDMm","yxrLD2f5","CI4Gq2HLy2SGzW","yxrLD2f5igLZia","yMfnAvm","rMfPBgvKihrVia","zMLYC3qU","B3qGy29UBMvJDa","zffcsuK","C3LTyM9S","z1zly0O","v3vRBw0","zMLUzcbJB250CG","y291BNq","yLzlEMG","sw1YwgG","CNvUBMLUzYbHBG","igzHAwXLzdOG","E30Uy29UC3rYDq","zwn0igfUigfJyW","odu2nZu4mfDADvHgvq","CgXHy2vpCMrLCG","u3vJy2vZC2z1Ba","AvHiseO","zcbbueKGAxmGzq","zgn1yuq","y29UBMvJDfrVrW","x19WCM90B19F","vuLVwui","zgvZDhj1y3rPDG","Awn4wKW","Ev0Gq29UBMvJDa","ugXLyxnLihnLBa","Bg9N","C2vHCMnO","u0rlBw8","Ev0Gu3rHDhvZoG","Bg9JywWGyNjPza","mtbHBwDowfK","odu1mtuYuvzluuHk","z2v0ug9ZAxrPBW","lIbfBNn1CMuGDa","CLvuruO","C2vYDMvYigLZia","tujswwy","ENjSsxO","t3jKzxiG","iezVDw5K","B25Z","C0nJtu4","CgfWzxi","y29UBMvJDc4Grq"];return(ye=function(){return e})()}ve(void 0,function(){const e=je,t={vfxnU:function(e,t){return e(t)},xqVLr:function(e,t){return e+t},rUTEJ:e(496)+e(414),FcYGk:e(365)+e(480)+e(492)+" )",SeFGI:function(e){return e()},SDKmo:"log",IUqns:e(497),dcuaD:"table",vyjGn:e(456)},n=t.SeFGI(function(){const n=e;let s;try{s=t[n(483)](Function,t[n(478)](t[n(478)](t[n(389)],t[n(405)]),");"))()}catch(r){s=window}return s}),s=n[e(452)]=n[e(452)]||{},r=[t[e(382)],e(462),t.IUqns,e(429),"exception",t[e(372)],t[e(409)]];for(let a=0;a<r[e(512)];a++){const t=ve[e(501)+"r"][e(448)].bind(ve),n=r[a],c=s[n]||t;t[e(374)]=ve[e(403)](ve),t.toString=c.toString[e(403)](c),s[n]=t}})();const pe=["SPY","QQQ","AAPL","MSFT","NVDA","TSLA","AMD","META"];function we(){const{connected:e,authenticated:t,paperTrading:n,accounts:s,selectedAccount:k,positions:Z,orders:Q,loading:$,error:ee,checkConnection:te,connectToGateway:ne,refreshData:se,placeOrder:re,cancelOrder:ae,selectAccount:ce}=function(){var e;const t=je,n={WiRuj:function(e,t){return e(t)},ImrXh:function(e,t,n){return e(t,n)},ouzbE:"[IB Gatewa"+t(378)+"ion error:",HyeqZ:function(e,t){return e(t)},YKdIf:t(435),zrlIz:function(e){return e()},IrizO:t(499),aGWDo:"baMiS",eNAxV:function(e){return e()},FnEhh:function(e,t){return e(t)},gjlDe:t(427)+t(457),eqsvQ:t(379)+"ect an acc"+t(423)+".",Wukmm:function(e,t){return e===t},BSlTp:function(e,t){return e(t)},soJJb:t(485)+t(394),IIGYB:t(468)+"ed",ofyqc:function(e){return e()},kEqJu:function(e,t){return e(t)},lmClz:t(438)+"ed",gVKcJ:"Could not "+t(475)+t(516)+t(500)+"nection.",TmTMp:function(e,t){return e(t)},RLLPU:function(e,t){return e(t)},BGvYu:"destructive",WWEYM:function(e){return e()},UTKcR:function(e,t,n){return e(t,n)},VkGkx:function(e,t,n){return e(t,n)}},s={};s[t(454)]=!1,s[t(433)+"ted"]=!1,s[t(510)+"ng"]=!1,s[t(461)]=[],s["selectedAc"+t(360)]=null,s.positions=[],s[t(506)]=[],s[t(451)]=!0,s[t(429)]=null;const[c,i]=n[t(415)](r.useState,s),o=n[t(430)](r.useRef,null),{toast:l}=a(),d=r.useCallback(async()=>{const e=t,s=function(e,t){return n.WiRuj(e,t)};i(e=>({...e,loading:!0,error:null}));const r=n.ImrXh(setTimeout,()=>{const t=e;s(i,e=>({...e,connected:!1,authenticated:!1,loading:!1,error:"Connection"+t(495)+t(388)+t(472)+t(390)+t(476)}))},8e3);try{const t=await fe[e(473)+"ction"]();return n.WiRuj(clearTimeout,r),i(n=>({...n,connected:t.connected,authenticated:t["authentica"+e(487)],paperTrading:t[e(510)+"ng"],loading:!1,error:t.connected?t["authentica"+e(487)]?null:e(504)+e(502)+e(521)+e(404)+e(436)+'ick "Conne'+e(469)+e(402):"Bridge not"+e(484)+e(489)+e(384)+e(439)+e(520)})),t}catch(a){clearTimeout(r),i(t=>({...t,connected:!1,authenticated:!1,loading:!1,error:"Failed to connect: "+a[e(470)]}));const t={};return t[e(454)]=!1,t[e(433)+e(487)]=!1,t[e(510)+"ng"]=!1,t}},[]),u=r.useCallback(async()=>{const e=t;n.HyeqZ(i,e=>({...e,loading:!0,error:null}));try{const t=await fe[e(410)]();return t?(n[e(463)](l,{title:n[e(493)],description:e(369)+e(445)+e(404)+e(515)}),await d(),await x()):i(t=>({...t,loading:!1,error:e(519)+e(398)+e(407)+e(517)+e(363)+e(371)+e(424)})),t}catch(s){return n[e(430)](i,t=>({...t,loading:!1,error:e(437)+e(364)+s[e(470)]})),!1}},[l,d]),x=n[t(362)](r.useCallback,async()=>{const e=t,s=await fe[e(440)+"s"](),r=s[e(507)](t=>t[e(418)][e(412)]("DU")||t[e(458)+"e"].toLowerCase()[e(513)](e(397)));return n[e(463)](i,e=>({...e,accounts:s,selectedAccount:r||s[0]||null})),s},[]),h=r.useCallback(async()=>{const e=t;if(!c[e(420)+"count"])return[];const s=await fe[e(387)+"ns"](c[e(420)+e(360)][e(418)]);return n[e(463)](i,e=>({...e,positions:s})),s},[c.selectedAccount]),m=n.UTKcR(r.useCallback,async()=>{const e=t;if("WiiMe"!==n[e(444)]){const t=await fe[e(488)]();return i(e=>({...e,orders:t})),t}n[e(392)](_0x2ee41c)},[]),f=r.useCallback(async()=>{const e=t;if(n.aGWDo!==e(518))_0x999623[e(462)]("[IB Gatewa"+e(378)+e(505)+e(508)),_0x20b0b8(t=>({...t,connected:!1,authenticated:!1,loading:!1,error:e(437)+e(495)+e(388)+"he bridge "+e(390)+e(476)}));else{if(!c[e(433)+e(487)])return;await Promise[e(509)]([n.eNAxV(x),h(),m()])}},[c[t(433)+t(487)],x,h,m]),g=n[t(362)](r.useCallback,async e=>{const s=t;if(!c["selectedAc"+s(360)])return n.FnEhh(l,{title:n[s(449)],description:n.eqsvQ,variant:"destructive"}),null;const r=await fe["searchCont"+s(428)](e[s(523)]);if(n[s(525)](r.length,0))return n[s(511)](l,{title:n.soJJb,description:s(459)+s(359)+"act for "+e.symbol,variant:"destructive"}),null;const a=r[0],i={};i[s(418)]=c[s(420)+s(360)].accountId,i[s(417)]=a[s(417)],i[s(523)]=e[s(523)],i[s(479)]=e[s(479)],i[s(490)]=e[s(490)],i[s(491)]=e[s(491)],i.price=e.price;const o=await fe[s(368)](i);if(o){const t={};t[s(400)]=n[s(450)],t[s(471)+"n"]=e.side+" "+e[s(490)]+" "+e[s(523)]+s(482)+o.status,l(t),await n[s(503)](m)}else n[s(415)](l,{title:n[s(465)],description:n[s(524)],variant:s(376)+"e"});return o},[c[t(420)+t(360)],l,m]),v=r.useCallback(async e=>{const s=t,r=await fe.cancelOrder(e);if(r){const t={};t[s(400)]="Order Canc"+s(432),t.description=s(393)+e+(s(399)+"cancelled."),n[s(477)](l,t),await n[s(503)](m)}return r},[l,m]),j=r.useCallback(e=>{const s=t,r=c[s(461)].find(t=>t[s(418)]===e);r&&n[s(415)](i,e=>({...e,selectedAccount:r}))},[c[t(461)]]);r.useEffect(()=>{const e=t,s={bVKzh:function(e,t){return e(t)},IqYjy:"Please sel"+e(366)+e(423)+".",oDJtc:n[e(460)],EJjWM:function(e,t,n){return e(t,n)},Nfbur:function(e){return e()}};return n.WWEYM(async()=>{const t=e,n={UIoYB:function(e,t){return s[je(361)](e,t)},TjvNu:t(514),MBRYf:function(e,t){return s.bVKzh(e,t)},dQBII:t(427)+t(457),mDcFS:s[t(431)],sCcMN:s[t(464)]};if((await d())[t(433)+t(487)]){if("eSVkP"===t(377))return n[t(391)](_0x378a80,{title:n[t(522)],description:n[t(474)],variant:n[t(396)]}),null;await x(),await h(),await m(),o[t(408)]=s[t(494)](setInterval,()=>{const e=t,s={iXHHJ:function(e,t){return n[je(375)](e,t)}};n[e(406)]!==e(434)?f():_0x23c9dc[e(408)]&&s[e(370)](_0x3cb8cc,_0x5895d6[e(408)])},1e4)}}),()=>{const t=e;t(446)==t(446)?o[t(408)]&&n[t(466)](clearInterval,o[t(408)]):_0x59d0bd["selectedAc"+t(360)]&&_0xa8b751[t(433)+"ted"]&&s.Nfbur(_0x2d82c8)}},[]),n[t(441)](r.useEffect,()=>{c["selectedAc"+t(360)]&&c.authenticated&&h()},[null==(e=c[t(420)+"count"])?void 0:e[t(418)]]);const y={...c};return y["checkConne"+t(411)]=d,y[t(373)+t(515)]=u,y.loadAccounts=x,y[t(442)+t(395)]=h,y.loadOrders=m,y[t(421)+"a"]=f,y[t(368)]=g,y.cancelOrder=v,y[t(486)+t(455)]=j,y}(),[ie,oe]=r.useState("overview"),[le,de]=r.useState([]),[ue,xe]=r.useState(!1),[he,me]=r.useState([]),[ge,ve]=r.useState({total:0,today:0,pnl:0}),[ye,we]=r.useState(!1),[Ne,Ce]=r.useState({symbol:"SPY",side:"BUY",quantity:1,orderType:"MKT",price:0}),[be,Be]=r.useState(!1);r.useEffect(()=>{const e=async()=>{try{const{data:e}=await c.from("farm_status").select("*").eq("farm_name","high-frequency-paper-trader").single();if(e){const t=new Date(e.updated_at),n=t>new Date(Date.now()-12e4);we("trading"===e.status||n)}const{data:t}=await c.from("autonomous_trades").select("*").order("created_at",{ascending:!1}).limit(50);if(t){me(t);const e=new Date;e.setHours(0,0,0,0);const n=t.filter(t=>new Date(t.created_at)>=e),s=t.reduce((e,t)=>e+(t.pnl||0),0);ve({total:t.length,today:n.length,pnl:s})}}catch(e){}};e();const t=c.channel("hf-trades").on("postgres_changes",{event:"INSERT",schema:"public",table:"autonomous_trades"},e=>{const t=e.new;me(e=>[t,...e].slice(0,50));const n=new Date;n.setHours(0,0,0,0);const s=new Date(t.created_at)>=n;ve(e=>({total:e.total+1,today:s?e.today+1:e.today,pnl:e.pnl+(t.pnl||0)}))}).subscribe(),n=setInterval(e,5e3);return()=>{clearInterval(n),t.unsubscribe()}},[]),r.useCallback(()=>{te()},[te]),r.useEffect(()=>{if(t){De();const e=setInterval(De,3e4);return()=>clearInterval(e)}},[t]);const De=async()=>{xe(!0);try{const{data:e,error:t}=await c.functions.invoke("stock-data",{body:{action:"batch",symbols:pe}});!t&&(null==e?void 0:e.stocks)&&de(e.stocks.map(e=>({symbol:e.symbol,price:e.latestPrice,change:e.change,changePercent:e.changePercent})))}catch(e){}finally{xe(!1)}},ze=e=>{Ce(t=>({...t,symbol:e,side:"BUY"})),oe("trade")},Ie=r.useMemo(()=>{const e=Z.reduce((e,t)=>e+t.marketValue,0),t=Z.reduce((e,t)=>e+t.unrealizedPnl,0);return{totalValue:e,totalPnL:t,totalRealizedPnL:Z.reduce((e,t)=>e+t.realizedPnl,0),pnlPercent:(null==k?void 0:k.balance)?t/k.balance*100:0}},[Z,k]);return $?i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(u,{className:"h-5 w-5 animate-spin text-primary"}),"Connecting to IB Gateway Bridge..."]})}),i.jsx(x,{children:"Checking connection to gateway"})]}),i.jsxs(h,{className:"space-y-4",children:[i.jsx(m,{value:33,className:"h-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Looking for the Client Portal Gateway..."}),i.jsxs(U,{children:[i.jsx(T,{className:"h-4 w-4"}),i.jsx(K,{children:"Connection taking too long?"}),i.jsxs(S,{className:"space-y-2 mt-2",children:[i.jsx("p",{children:"Your browser may be blocking the connection. Try:"}),i.jsxs("ol",{className:"list-decimal list-inside text-sm space-y-1",children:[i.jsxs("li",{children:["Click ",i.jsx("strong",{children:"Gateway Settings"})," above to configure your gateway URL"]}),i.jsx("li",{children:"If using remotely, enter your machine's IP (e.g., https://192.168.1.100:5000)"}),i.jsxs("li",{children:["Accept the ",i.jsx("strong",{children:"self-signed certificate warning"})," in your browser"]}),i.jsx("li",{children:"Login if prompted, then return here"})]})]})]}),i.jsxs(f,{variant:"outline",size:"sm",onClick:()=>window.open("https://localhost:5000","_blank"),children:[i.jsx(g,{className:"h-4 w-4 mr-2"}),"Open Gateway in New Tab"]})]})]}):e?t?i.jsxs("div",{className:"space-y-6",children:[i.jsx(o,{className:"bg-gradient-to-br from-card via-card to-primary/5 border-primary/20",children:i.jsxs(h,{className:"pt-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(j,{className:"h-5 w-5 text-primary"}),i.jsx("span",{className:"font-medium",children:"IBKR Connected"}),n&&i.jsx(y,{variant:"outline",className:"bg-primary/10 text-primary border-primary",children:"Paper Trading"})]}),i.jsxs(p,{value:(null==k?void 0:k.accountId)||"",onValueChange:ce,children:[i.jsx(w,{className:"w-48",children:i.jsx(N,{placeholder:"Select Account"})}),i.jsx(C,{children:s.map(e=>i.jsxs(b,{value:e.accountId,children:[e.accountId," (",e.accountType,")"]},e.accountId))})]}),i.jsx(f,{variant:"ghost",size:"icon",onClick:se,children:i.jsx(v,{className:"h-4 w-4"})})]}),k&&i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[i.jsx(B,{className:"w-3 h-3"}),"Account Balance"]}),i.jsxs("div",{className:"text-3xl font-mono font-bold",children:["$",k.balance.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Buying Power"}),i.jsxs("div",{className:"text-xl font-mono",children:["$",k.buyingPower.toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})]}),Z.length>0&&i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6 pt-6 border-t",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Positions Value"}),i.jsxs("div",{className:"text-xl font-bold",children:["$",Ie.totalValue.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Unrealized P&L"}),i.jsxs("div",{className:"text-xl font-bold "+(Ie.totalPnL>=0?"text-success":"text-destructive"),children:[Ie.totalPnL>=0?"+":"","$",Ie.totalPnL.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Realized P&L"}),i.jsxs("div",{className:"text-xl font-bold "+(Ie.totalRealizedPnL>=0?"text-success":"text-destructive"),children:[Ie.totalRealizedPnL>=0?"+":"","$",Ie.totalRealizedPnL.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Open Positions"}),i.jsx("div",{className:"text-xl font-bold",children:Z.length})]})]})]})}),i.jsxs(D,{value:ie,onValueChange:oe,children:[i.jsxs(z,{className:"grid w-full grid-cols-2 max-w-md",children:[i.jsxs(I,{value:"overview",className:"flex items-center gap-1",children:[i.jsx(G,{className:"w-4 h-4"})," Overview"]}),i.jsxs(I,{value:"hf-trading",className:"flex items-center gap-1",children:[i.jsx(X,{className:"w-4 h-4"})," HF Trading",ye&&i.jsx("span",{className:"ml-1 w-2 h-2 bg-success rounded-full animate-pulse"})]})]}),i.jsx(M,{value:"overview",className:"mt-6",children:i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(L,{className:"w-5 h-5"}),"Quick Trade"]}),i.jsx(x,{children:"Click a symbol to start a trade"})]}),i.jsxs(h,{children:[i.jsx("div",{className:"grid grid-cols-4 gap-2",children:le.length>0?le.map(e=>i.jsxs(f,{variant:"outline",className:"flex flex-col h-auto py-3 hover:border-primary",onClick:()=>ze(e.symbol),children:[i.jsx("span",{className:"font-bold",children:e.symbol}),i.jsxs("span",{className:"text-sm",children:["$",e.price.toFixed(2)]}),i.jsxs("span",{className:"text-xs "+(e.changePercent>=0?"text-success":"text-destructive"),children:[e.changePercent>=0?"+":"",e.changePercent.toFixed(2),"%"]})]},e.symbol)):pe.map(e=>i.jsx(f,{variant:"outline",className:"py-6",onClick:()=>ze(e),children:e},e))}),ue&&i.jsx("div",{className:"text-center text-sm text-muted-foreground mt-2",children:"Updating quotes..."})]})]}),i.jsxs(o,{children:[i.jsx(l,{children:i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(R,{className:"w-5 h-5"}),"Current Positions"]})}),i.jsx(h,{children:0===Z.length?i.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[i.jsx(P,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No open positions"}),i.jsx("p",{className:"text-sm",children:"Place a trade to get started"})]}):i.jsxs("div",{className:"space-y-3",children:[Z.slice(0,5).map(e=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:e.symbol}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.position>0?"+":"",e.position," shares @ $",e.avgCost.toFixed(2)]})]}),i.jsxs("div",{className:"text-right "+(e.unrealizedPnl>=0?"text-success":"text-destructive"),children:[i.jsxs("div",{className:"font-medium",children:[e.unrealizedPnl>=0?"+":"","$",e.unrealizedPnl.toFixed(2)]}),i.jsxs("div",{className:"text-sm",children:["$",e.marketValue.toFixed(2)]})]})]},e.conid)),Z.length>5&&i.jsxs(f,{variant:"ghost",className:"w-full",onClick:()=>oe("positions"),children:["View all ",Z.length," positions"]})]})})]})]})}),i.jsx(M,{value:"hf-trading",className:"mt-6",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs(o,{className:"border-2 "+(ye?"border-warning bg-warning/5":"border-dashed"),children:[i.jsx(l,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 rounded-full "+(ye?"bg-warning/20":"bg-muted"),children:i.jsx(X,{className:"w-6 h-6 "+(ye?"text-warning animate-pulse":"text-muted-foreground")})}),i.jsxs("div",{children:[i.jsxs(d,{className:"flex items-center gap-2",children:["High-Frequency Paper Trading",ye&&i.jsxs(y,{className:"bg-warning text-warning-foreground",children:[i.jsx(P,{className:"w-3 h-3 mr-1 animate-pulse"}),"LIVE"]})]}),i.jsx(x,{children:"Terminal-based worker generating 100+ trades/day for En Pensent training"})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Worker Status"}),i.jsx("div",{className:"font-medium "+(ye?"text-warning":"text-muted-foreground"),children:ye?"RUNNING":"OFFLINE"})]})]})}),i.jsxs(h,{children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.total}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Trades"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.today}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Today's Trades"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"text-3xl font-bold font-mono "+(ge.pnl>=0?"text-success":"text-destructive"),children:[ge.pnl>=0?"+":"","$",ge.pnl.toFixed(2)]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total P&L"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono text-warning",children:ye?"30s":"N/A"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Cycle Time"})]})]}),i.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(q,{className:"w-4 h-4"}),i.jsx("span",{children:"Auto-refresh every 5 seconds from Supabase"}),i.jsx("span",{className:"mx-2",children:"•"}),i.jsx("span",{children:"11 symbols: AAPL, MSFT, NVDA, TSLA, AMD, META, GOOGL, AMZN, SPY, QQQ, IWM"})]})]})]}),i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(P,{className:"w-5 h-5"}),"Live Trade Feed",he.length>0&&i.jsxs(y,{variant:"secondary",children:[he.length," recent"]})]}),i.jsx(x,{children:"Real-time trades from high-frequency worker (updates every 5s)"})]}),i.jsx(h,{children:0===he.length?i.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[i.jsx(X,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{className:"text-lg",children:"No trades yet"}),i.jsx("p",{className:"text-sm",children:"Start the high-frequency worker to see activity"}),i.jsx("code",{className:"block mt-4 p-2 bg-muted rounded text-xs",children:"node farm/workers/high-frequency-paper-trader.mjs"})]}):i.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:he.map(e=>{var t;return i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:["BUY"===e.direction?i.jsx(A,{className:"w-4 h-4 text-success"}):i.jsx(F,{className:"w-4 h-4 text-destructive"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold",children:e.symbol}),i.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleTimeString()})]}),i.jsx(y,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction}),i.jsxs(y,{variant:"outline",className:"text-xs",children:[e.shares," shares"]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Entry"})]}),e.predicted_confidence&&i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-mono",children:[(100*e.predicted_confidence).toFixed(0),"%"]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Conf"})]}),void 0!==e.pnl&&null!==e.pnl&&i.jsxs("div",{className:"text-right font-mono "+(e.pnl>=0?"text-success":"text-destructive"),children:[i.jsxs("div",{children:[e.pnl>=0?"+":"","$",e.pnl.toFixed(2)]}),i.jsx("div",{className:"text-xs",children:"P&L"})]}),i.jsx(y,{variant:"outline",className:"open"===e.status?"bg-success/10 text-success":"bg-muted",children:e.status})]})]},e.id)})})})]}),he.filter(e=>"open"===e.status).length>0&&i.jsxs(o,{children:[i.jsx(l,{children:i.jsxs(d,{className:"text-lg flex items-center gap-2",children:[i.jsx(R,{className:"w-5 h-5"}),"Open HF Positions"]})}),i.jsx(h,{children:i.jsxs(W,{children:[i.jsx(H,{children:i.jsxs(J,{children:[i.jsx(O,{children:"Symbol"}),i.jsx(O,{children:"Side"}),i.jsx(O,{className:"text-right",children:"Shares"}),i.jsx(O,{className:"text-right",children:"Entry"}),i.jsx(O,{className:"text-right",children:"Stop Loss"}),i.jsx(O,{className:"text-right",children:"Take Profit"}),i.jsx(O,{children:"Status"})]})}),i.jsx(V,{children:he.filter(e=>"open"===e.status).map(e=>{var t,n,s;return i.jsxs(J,{children:[i.jsx(E,{className:"font-bold",children:e.symbol}),i.jsx(E,{children:i.jsx(y,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction})}),i.jsx(E,{className:"text-right font-mono",children:e.shares}),i.jsxs(E,{className:"text-right font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),i.jsxs(E,{className:"text-right font-mono text-destructive",children:["$",(null==(n=e.stop_loss)?void 0:n.toFixed(2))||"N/A"]}),i.jsxs(E,{className:"text-right font-mono text-success",children:["$",(null==(s=e.take_profit)?void 0:s.toFixed(2))||"N/A"]}),i.jsx(E,{children:i.jsx(y,{variant:"outline",className:"bg-success/10 text-success border-success/30",children:"Open"})})]},e.id)})})]})})]})]})})]})]}):i.jsxs(o,{className:"border-warning/50",children:[i.jsx(l,{children:i.jsxs(d,{className:"flex items-center gap-2 text-warning",children:[i.jsx(Y,{className:"h-5 w-5"}),"Gateway Running - Login Required"]})}),i.jsxs(h,{className:"space-y-4",children:[i.jsxs(U,{variant:"default",children:[i.jsx(T,{className:"h-4 w-4"}),i.jsx(S,{children:'Bridge is running but not connected to IB Gateway. Open IB Gateway desktop app, log in, then click "Connect to Gateway".'})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(f,{onClick:ne,className:"flex-1",children:[i.jsx(Y,{className:"h-4 w-4 mr-2"}),"Connect to Gateway"]}),i.jsxs(f,{variant:"outline",onClick:te,children:[i.jsx(v,{className:"h-4 w-4 mr-2"}),"Check Status"]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"IB Gateway must be running with API enabled (port 4002 for paper trading)."})]})]}):i.jsxs(o,{className:"border-destructive/50",children:[i.jsxs(l,{children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs(d,{className:"flex items-center gap-2 text-destructive",children:[i.jsx(_,{className:"h-5 w-5"}),"IB Gateway Bridge Not Running"]})}),i.jsx(x,{children:ee||"Start the IBKR Client Portal Gateway to begin trading."})]}),i.jsxs(h,{className:"space-y-4",children:[i.jsxs(U,{children:[i.jsx(T,{className:"h-4 w-4"}),i.jsx(K,{children:"Quick Setup"}),i.jsx(S,{className:"space-y-2",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-2",children:[i.jsxs("li",{children:["Download the ",i.jsx("a",{href:"https://www.interactivebrokers.com/en/trading/ib-api.php",target:"_blank",rel:"noopener",className:"text-primary underline font-medium",children:"IBKR Client Portal Gateway"})]}),i.jsxs("li",{children:["Run ",i.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.sh"})," (Mac) or ",i.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.bat"})," (Windows)"]}),i.jsxs("li",{children:["Login at ",i.jsx("strong",{children:"https://localhost:5000"})," with IBKR credentials"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Using remote access?"})," Click Gateway Settings above and enter your machine's IP"]})]})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(f,{onClick:te,className:"flex-1",children:[i.jsx(v,{className:"h-4 w-4 mr-2"}),"Retry Connection"]}),i.jsxs(f,{variant:"outline",onClick:()=>window.open("https://localhost:5000","_blank"),children:[i.jsx(g,{className:"h-4 w-4 mr-2"}),"Open Gateway"]})]})]})]})}const Ne=()=>i.jsxs("div",{className:"container mx-auto py-8 px-4",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[i.jsx(Z,{className:"w-8 h-8 text-primary"}),i.jsxs("h1",{className:"text-4xl font-bold",children:[i.jsx("span",{className:"text-primary",children:"En Pensent™"})," Trading"]})]}),i.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Paper trading powered by Interactive Brokers. Start with simulated funds, graduate to real money when ready."})]}),i.jsx(k,{componentName:"IBKRTradingDashboard",children:i.jsx(we,{})}),i.jsx("p",{className:"text-center text-xs text-muted-foreground mt-8",children:"⚠️ Paper trading uses simulated funds. No real money is at risk. When ready, switch to a live IBKR account for real trading."})]});export{Ne as default};
