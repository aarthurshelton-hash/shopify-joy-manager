const n='import React from \'react\';\nimport { Clock, X } from \'lucide-react\';\nimport { Card, CardContent } from \'@/components/ui/card\';\nimport { Badge } from \'@/components/ui/badge\';\nimport { Button } from \'@/components/ui/button\';\nimport { useRecentlyViewedStore, RecentlyViewedVision } from \'@/stores/recentlyViewedStore\';\nimport { useCurrencyStore } from \'@/stores/currencyStore\';\nimport { formatDistanceToNow } from \'date-fns\';\n\nexport const RecentlyViewedSection: React.FC = () => {\n  const { getRecentVisions, clearRecentlyViewed } = useRecentlyViewedStore();\n  const { formatPrice } = useCurrencyStore();\n  \n  const recentVisions = getRecentVisions(6);\n  \n  if (recentVisions.length === 0) return null;\n\n  const handleCardClick = (vision: RecentlyViewedVision) => {\n    // Open in new tab using game hash if available, otherwise listing\n    const url = vision.gameHash \n      ? `/g/${vision.gameHash}` \n      : vision.listingId \n        ? `/marketplace/${vision.listingId}` \n        : null;\n    \n    if (url) {\n      window.open(url, \'_blank\', \'noopener,noreferrer\');\n    }\n  };\n\n  return (\n    <div className="mb-8">\n      <div className="flex items-center justify-between mb-4">\n        <div className="flex items-center gap-2">\n          <Clock className="h-5 w-5 text-muted-foreground" />\n          <h3 className="text-lg font-semibold">Recently Viewed</h3>\n          <Badge variant="secondary" className="text-xs">\n            {recentVisions.length}\n          </Badge>\n        </div>\n        <Button\n          variant="ghost"\n          size="sm"\n          onClick={clearRecentlyViewed}\n          className="text-xs text-muted-foreground hover:text-foreground"\n        >\n          <X className="h-3 w-3 mr-1" />\n          Clear\n        </Button>\n      </div>\n      \n      <div className="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3">\n        {recentVisions.map((vision) => (\n          <Card\n            key={vision.id}\n            onClick={() => handleCardClick(vision)}\n            className="group cursor-pointer overflow-hidden border-border/50 hover:border-primary/50 transition-all duration-200 hover:shadow-md"\n          >\n            <CardContent className="p-0">\n              {/* Image */}\n              <div className="relative aspect-square overflow-hidden bg-muted">\n                <img\n                  src={vision.imagePath}\n                  alt={vision.title}\n                  className="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"\n                  loading="lazy"\n                />\n                \n                {/* Time badge */}\n                <div className="absolute top-1.5 right-1.5">\n                  <Badge \n                    variant="secondary" \n                    className="text-2xs px-1.5 py-0.5 bg-background/80 backdrop-blur-sm"\n                  >\n                    {formatDistanceToNow(vision.viewedAt, { addSuffix: false })}\n                  </Badge>\n                </div>\n                \n                {/* Price overlay */}\n                {vision.priceCents !== undefined && (\n                  <div className="absolute bottom-1.5 left-1.5">\n                    <Badge \n                      variant={vision.priceCents === 0 ? \'default\' : \'secondary\'}\n                      className={`text-2xs px-1.5 py-0.5 ${\n                        vision.priceCents === 0 \n                          ? \'bg-green-500/90 text-white\' \n                          : \'bg-background/80 backdrop-blur-sm\'\n                      }`}\n                    >\n                      {vision.priceCents === 0 ? \'Free\' : formatPrice(vision.priceCents)}\n                    </Badge>\n                  </div>\n                )}\n              </div>\n              \n              {/* Info */}\n              <div className="p-2">\n                <p className="text-xs font-medium truncate">{vision.title}</p>\n                {vision.ownerName && (\n                  <p className="text-2xs text-muted-foreground truncate">\n                    by {vision.ownerName}\n                  </p>\n                )}\n              </div>\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default RecentlyViewedSection;\n';export{n as default};
