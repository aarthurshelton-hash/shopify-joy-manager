const e='/**\n * Admin Protected Route Component\n * Only allows CEO Alec Arthur Shelton access to private features\n */\n\nimport { ReactNode, useState, useEffect } from \'react\';\nimport { Navigate } from \'react-router-dom\';\nimport { useAuth } from \'@/hooks/useAuth\';\nimport { Shield, Lock } from \'lucide-react\';\nimport { ErrorBoundary } from \'@/components/ErrorBoundary\';\n\ninterface AdminRouteProps {\n  children: ReactNode;\n  featureName?: string;\n}\n\nexport function AdminRoute({ children, featureName = \'This feature\' }: AdminRouteProps) {\n  const { user, isAdmin, isLoading, isCheckingAdmin } = useAuth();\n  \n  // Add timeout to prevent infinite loading state\n  const [checkTimeout, setCheckTimeout] = useState(false);\n  \n  useEffect(() => {\n    if (isCheckingAdmin) {\n      const timer = setTimeout(() => {\n        console.warn(\'[AdminRoute] Admin check timed out, allowing access attempt\');\n        setCheckTimeout(true);\n      }, 5000); // 5 second timeout\n      return () => clearTimeout(timer);\n    }\n  }, [isCheckingAdmin]);\n  \n  // Wait for auth check but timeout if stuck\n  if (isLoading || (isCheckingAdmin && !checkTimeout)) {\n    return (\n      <div className="min-h-screen flex items-center justify-center bg-background">\n        <div className="text-center space-y-4">\n          <div className="w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto" />\n          <p className="text-muted-foreground">Verifying CEO access...</p>\n        </div>\n      </div>\n    );\n  }\n  \n  if (!user) {\n    return <Navigate to="/account" replace />;\n  }\n  \n  if (!isAdmin) {\n    return (\n      <div className="min-h-screen flex items-center justify-center bg-background p-8">\n        <div className="max-w-md text-center space-y-6">\n          <div className="w-20 h-20 mx-auto bg-destructive/10 rounded-full flex items-center justify-center">\n            <Lock className="w-10 h-10 text-destructive" />\n          </div>\n          \n          <div className="space-y-2">\n            <h1 className="text-2xl font-bold">Access Restricted</h1>\n            <p className="text-muted-foreground">\n              {featureName} is private and reserved for authorized personnel only.\n            </p>\n          </div>\n          \n          <div className="p-4 bg-muted/30 rounded-lg border border-border">\n            <div className="flex items-center gap-2 text-sm text-muted-foreground">\n              <Shield className="w-4 h-4" />\n              <span>CEO Access Only</span>\n            </div>\n            <p className="text-xs text-muted-foreground mt-2">\n              © Alec Arthur Shelton "The Artist" - Inventor & CEO\n            </p>\n          </div>\n          \n          <div className="pt-4">\n            <a \n              href="/"\n              className="text-primary hover:underline text-sm"\n            >\n              ← Return to Home\n            </a>\n          </div>\n        </div>\n      </div>\n    );\n  }\n  \n  // Wrap children in ErrorBoundary to catch any render errors\n  return (\n    <ErrorBoundary componentName={featureName}>\n      {children}\n    </ErrorBoundary>\n  );\n}\n';export{e as default};
