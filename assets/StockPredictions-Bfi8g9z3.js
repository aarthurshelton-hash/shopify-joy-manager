var e=Object.defineProperty,t=(t,n,s)=>((t,n,s)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s)(t,"symbol"!=typeof n?n+"":n,s);import{aJ as n,r as s,ew as r,s as a,j as c,C as i,p as o,t as l,L as d,w as u,x,aq as h,B as m,aF as f,v as g,cR as v,y as j,b8 as y,b9 as p,ba as w,bb as N,bc as C,a8 as D,aB as b,aC as B,aD as z,b4 as L,aE as q,aY as M,bh as A,cb as G,ad as P,eD as k}from"./index-CN5tH3TC.js";import{A as S,a as U,b as I}from"./alert-BMbhinCa.js";import{T as H,a as W,b as Y,c as K,d as O,e as J}from"./table-BZ-c1TLN.js";import{C as T}from"./circle-alert-DYGTaC-h.js";import{W as V}from"./wifi-off-r7cVfadt.js";import{W as F}from"./wifi-NEfUAigv.js";import{B as _}from"./briefcase-CdHf6PUK.js";import{T as Z}from"./trending-down-Bj8-L4XM.js";const R=n("Bolt",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]),E=n("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),X=ce;!function(){const e=ce,t=ae();for(;;)try{if(983111===-parseInt(e(279))/1*(-parseInt(e(295))/2)+parseInt(e(264))/3*(-parseInt(e(253))/4)+-parseInt(e(284))/5+parseInt(e(288))/6+-parseInt(e(283))/7+-parseInt(e(296))/8+parseInt(e(267))/9)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const Q=function(){let e=!0;return function(t,n){const s=ce;if(s(257)==s(257)){const r=e?function(){if(n){const e=n[s(281)](t,arguments);return n=null,e}}:function(){};return e=!1,r}{const e=_0x2cd742?function(){if(_0x4e37c7){const e=_0x130c15[s(281)](_0x76d23f,arguments);return _0x668cff=null,e}}:function(){};return _0x52c026=!1,e}}}()(void 0,function(){const e=ce,t={};t[e(255)]=e(271)+"+$";const n=t;return Q[e(268)]()[e(302)](n[e(255)])[e(268)]()[e(263)+"r"](Q)[e(302)](n[e(255)])});Q();const $=function(){const e=ce,t={WCQJP:function(e,t){return e===t}};t[e(291)]="DalGx";const n=t;let s=!0;return function(t,r){const a=e,c={IWJeR:function(e,t){return n[ce(280)](e,t)},mHdTB:a(277),mPbmm:function(e,t){return e!==t},LgHDZ:n.QjLJZ},i=s?function(){const e=a;if(r){if(c[e(286)](c[e(300)],c.LgHDZ)){if(c[e(306)](typeof _0x3ece71,c[e(305)]))return _0x5ae65a;const t=_0x3fa466[e(251)](_0xcb7332);if(t)try{return{..._0x3a9b0a,..._0x58db1b.parse(t)}}catch{return _0x1d5b86}return _0x1f7372}{const e=r.apply(t,arguments);return r=null,e}}}:function(){};return s=!1,i}}();$(void 0,function(){const e=ce,t={kDvtL:function(e,t){return e+t},vvjNE:e(276)+e(259),SQTgR:e(265)+e(274)+e(292)+" )",yGBan:function(e){return e()},Qbirq:e(248),QaouH:e(273),nWYzF:e(272),mjABR:"error",UROJZ:function(e,t){return e<t}};let n;try{const s=Function(t[e(298)](t[e(252)],t[e(301)])+");");n=t.yGBan(s)}catch(a){n=window}const s=n.console=n[e(250)]||{},r=[t[e(285)],t[e(287)],t.nWYzF,t[e(278)],e(290),"table",e(303)];for(let c=0;t[e(254)](c,r.length);c++){const t=$.constructor[e(258)][e(297)]($),n=r[c],a=s[n]||t;t[e(299)]=$.bind($),t[e(268)]=a[e(268)][e(297)](a),s[n]=t}})();const ee=X(275)+"_bridge_url",te=X(289)+X(261)+"0",ne={};ne[X(294)]=te,ne[X(262)+"t"]=X(260),ne[X(256)+"t"]=4002,ne.clientId=1;const se=ne;function re(){const e=X,t={Oxiba:"undefined"};t[e(249)]=e(266);const n=t;if(typeof window===n[e(293)])return se;const s=localStorage[e(251)](ee);if(s)try{if(n[e(249)]===e(266))return{...se,...JSON[e(269)](s)};if(_0x634a00){const e=_0x18dc63.apply(_0x454121,arguments);return _0x558048=null,e}}catch{return se}return se}function ae(){const e=["yxbWBhK","C2v0sxrLBq","mZu4mdu0mLHYANjLqG","oteWmdG4nuTlAwTjsW","uwjPCNe","BvbIBw0","uwfVDuG","mZCZmZK3nfzeC2zxta","Ahr0CdOVl2XVyW","zxHJzxb0Aw9U","uwPmsLO","CM4GDgHPCYiPka","t3HPyMe","yNjPzgDLvxjS","nZa4uKXbEgzw","mtqZndq5odrxBgX5EMG","yMLUza","A0r2DeW","x19WCM90B19F","tgDirfO","u1fuz1i","C2vHCMnO","DhjHy2u","CMvTB3zLsxrLBq","BuHKvei","svDkzvi","Bg9N","A1jsA24","y29UC29Szq","z2v0sxrLBq","DNzQtKu","mtqYmZzTEMLRvw4","vvjpsLO","yLDxAxK","z2f0zxDHEvbVCG","A3rvBNO","ChjVDg90ExbL","BMn0Aw9UkcKG","mti3lJaUmc4X","ywXOB3n0oJqWma","z2f0zxDHEuHVCW","y29UC3rYDwn0BW","ntm3tu93uhPY","E30Uy29UC3rYDq","AffUtLa","ndu0odG5ndnbufLdrKC","Dg9tDhjPBMC","CgfYC2u","C3rYAw5NAwz5","kcGOlISPkYKRkq","Aw5MBW","D2fYBG","y3rVCIGICMv0Dq","AwjFz2f0zxDHEq","CMv0DxjUicHMDq","Dw5KzwzPBMvK","BwPbqLi","mtKZq1Lcs2vb","v0nrsLa"];return(ae=function(){return e})()}function ce(e,t){e-=248;const n=ae();let s=n[e];if(void 0===ce.KfAzhE){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};ce.UhVNIw=r,ce.dLXnkd={},ce.KfAzhE=!0}const a=e+n[0],c=ce.dLXnkd[a];if(c)s=c;else{const e=function(e){this.vDhrza=e,this.OXjBqz=[1,0,0],this.qyShRD=function(){return"newState"},this.wASvFY="\\w+ *\\(\\) *{\\w+ *",this.BRMgBJ="['|\"].+['|\"];? *}"};e.prototype.AFqaGl=function(){const e=new RegExp(this.wASvFY+this.BRMgBJ).test(this.qyShRD.toString())?--this.OXjBqz[1]:--this.OXjBqz[0];return this.vfQctU(e)},e.prototype.vfQctU=function(e){return Boolean(~e)?this.VnLApq(this.vDhrza):e},e.prototype.VnLApq=function(e){for(let t=0,n=this.OXjBqz.length;t<n;t++)this.OXjBqz.push(Math.round(Math.random())),n=this.OXjBqz.length;return e(this.OXjBqz[0])},new e(ce).AFqaGl(),s=ce.UhVNIw(s),ce.dLXnkd[a]=s}return s}function ie(){const e=X;return re()[e(294)]}const oe=he;!function(){const e=he,t=de();for(;;)try{if(644836===-parseInt(e(410))/1+parseInt(e(528))/2+parseInt(e(478))/3*(parseInt(e(417))/4)+-parseInt(e(457))/5+parseInt(e(458))/6*(-parseInt(e(501))/7)+parseInt(e(527))/8+parseInt(e(475))/9)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const le=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[he(507)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=he,t={};t[e(419)]="(((.+)+)+)+$";const n=t;return le[e(425)]().search(n[e(419)]).toString()[e(450)+"r"](le).search(n[e(419)])});function de(){const e=["Ev0Gr2v0igfJyW","rNDovvO","C05KBeC","Dfr3BK8","D2fYBG","Ad9ZEw1IB2W9","z2v0qwnJB3vUDa","l2fWAs9ZDgf0Dq","B3vKzeS","tMHtzue","Ev0Gt3jKzxiGzG","DeXLrLO","ANnVBG","y29UC3rYDwn0BW","C3rHDhvZ","C2vHCMnOq29UDa","BwvZC2fNzq","vuLJq0y","B3jKzxjZ","ugHADwS","nJm0nteXnvrcz3nSyW","mJyXmJuYs0DdzuLq","E30Uy29UC3rYDq","u2fQCfi","y29UBMvJDgvK","x19WCM90B19F","AxrPB25ZigvYCG","AwTszxC","yLnzu1i","vMzcugi","BM5Ly3q","ue9tva","t3vJywm","z2f0zxDHEvbVCG","y2HLy2TdB25Uzq","B3jKzxiGzxjYBW","zxjYB3i","CMfJDa","mJa0mtC4odzxEfv0ANa","yxbWBgLJyxrPBW","CgXHy2vpCMrLCG","m0vSrhHvzG","y2fUy2vSt3jKzq","Ag9ZDa","y29UBMvJDa","vNPIzfi","wu12Awq","yMLUza","BI9QC29U","y3rVCIGICMv0Dq","BM90igf2ywLSyq","r0vu","s3r1EKi","Ev0GqNjPzgDLia","l2fWAs9Hy2nVDq","C3vIBwL0DgvK","y29UC29Szq","u1HyAMS","CMrLCIbLCNjVCG","Ev0Gr2v0ig9Yza","DgvK","u1HzrhO","Cg9ZAxrPB25Z","wg1zBha","mtG5ruLKwvry","l2fWAs9XDw90zq","D2DTyvm","l2fWAs9KAxnJBW","zgLZy29UBMvJDa","rMnOBxu","yxbWBhK","v0HbvuW","p2nVBMLKpq","DgfIBgu","B3i6","swjnDLi","veL5zNe","Awrxzxu","Bg9N","t2n6qw4","AwiT","C3rYAw5NAwz5","y2XPzw50swq","y29UDhjHy3qGzq","Ev0Gq2fUy2vSia","C3bkzeO","DhjHy2u","B3vUDhmGzxjYBW","zvnmDMS","CwnnreS","mtmZodC0nePkqwnjva","mtq5ndi2CgnPvwnf","yxv0AgvUDgLJyq","l2fWAs9VCMrLCG","t0jnyw8","rLPSuxq","vNbqBuW","CM4GDgHPCYiPka","zxjZigvYCM9YoG","Cg9YDa","vwfNwg4","BMn0Aw9UkcKG","tfnYqMq","Ev0GugXHy2uGBW","ntC0odzbuvDVwfm","uKj5uLa","Ev0Gu2vHCMnOia","AKfQA3O","CMv0DxjUicHMDq","CgfWzxjuCMfKAq","q29UDgvUDc1uEq","mJu0nta3nKDLD3DmvW","t094ugq","D2jdwfO","w0LcieDHDgv3yq","BM93","z2v0uxvVDgu","uK5byM0","wvPABxa","Dg9tDhjPBMC","Bwv0Ag9K","CNjVCJO","yMXLoG","ChjVDg90ExbL","BwrfywC","CMXpweS","zuXUsu4","u0LMugG","z2v0t3jKzxjZ","rffdrfq","Ev0Gr2v0ihbVCW"];return(de=function(){return e})()}le();const ue=function(){const e=he,t={};t[e(446)]="LSSVW",t.cMjXS=e(533);const n=t;let s=!0;return function(e,t){const r=s?function(){const s=he;if(n[s(446)]!==n.cMjXS){if(t){const n=t[s(507)](e,arguments);return t=null,n}}else if(_0x6e6ad){const e=_0x4ee90d.apply(_0x1c2ca4,arguments);return _0x2aba88=null,e}}:function(){};return s=!1,r}}();ue(void 0,function(){const e=he,t={RNAbm:function(e,t){return e===t},UIcCF:e(494),DQCDT:e(489),DRanH:function(e,t){return e+t},FwNUZ:e(459)+e(486)+e(534)+" )",OczAn:function(e){return e()},VzbdR:"info",csNZV:e(510)},n=t[e(516)](function(){const n=e;let s;try{if(t[n(423)](t[n(454)],t[n(435)])){const e=_0x347685?function(){if(_0x417215){const e=_0x21705c[n(507)](_0x1cad16,arguments);return _0x58508a=null,e}}:function(){};return _0x173aa6=!1,e}s=Function(t.DRanH(n(414)+"nction() "+t[n(438)],");"))()}catch(r){if(t[n(423)](n(432),n(448))){_0x3730f1[n(515)](n(420)+n(490)+n(487)+"ble:",_0x3e7461[n(453)]);const e={};return e[n(461)]=!1,e[n(529)+n(497)]=!1,e[n(415)+"ng"]=!1,e}s=window}return s}),s=n[e(493)]=n[e(493)]||{},r=[e(515),e(441),t[e(482)],"error","exception",t.csNZV,e(523)];for(let a=0;a<r.length;a++){const t=ue[e(450)+"r"][e(429)][e(484)](ue),n=r[a],c=s[n]||t;t[e(462)]=ue[e(484)](ue),t[e(425)]=c.toString[e(484)](c),s[n]=t}})();class xe{constructor(){t(this,"connected",!1)}async[oe(471)+"ction"](){const e=oe,t={VfBPb:e(420)+e(412)+e(520)+"rror:",mdEag:function(e){return e()},idWeu:function(e,t){return e===t},tTwnO:function(e,t){return e!==t},zRLRL:e(413),TIyfq:e(420)+e(490)+e(487)+e(428)};try{const n=re(),s={};s["Content-Type"]="applicatio"+e(485);const r={};r.method=e(488),r.headers=s;const a=await fetch(t[e(430)](ie)+(e(444)+"s"),r);if(!a.ok){const t={connected:!1};return t[e(529)+e(497)]=!1,t[e(415)+"ng"]=!1,t}const c=await a[e(449)]();return this[e(461)]=t[e(514)](c[e(461)],!0),{connected:!0===c.bridgeRunning,authenticated:t[e(514)](c[e(461)],!0),paperTrading:4002===n[e(470)+"t"]}}catch(n){if(t[e(440)](e(413),t.zRLRL))return _0x288a5a.error(t[e(466)],_0x41c3e4),[];{const t={};return t[e(461)]=!1,t.authenticated=!1,t[e(415)+"ng"]=!1,t}}}async[oe(481)](){const e=oe,t={bwgNU:function(e,t){return e(t)},qcMDK:function(e,t){return e+t},ouddK:e(414)+e(538),abzVx:e(459)+'ctor("retu'+e(534)+" )",SgLcG:e(476)+e(485),SIfPh:e(469),ikRew:e(420)+"y] Connect error:"};try{const n=re(),s={};s[e(416)+"pe"]=t.SgLcG;const r={};r[e(480)]=n.gatewayHost,r[e(536)]=n[e(470)+"t"],r[e(519)]=n[e(519)];const a=await fetch(ie()+"/api/connect",{method:e(468),headers:s,body:JSON[e(518)](r)});if(!a.ok)return!1;const c=await a[e(449)]();return this.connected=!0===c[e(461)],this[e(461)]}catch(n){if(t[e(433)]!==e(532))return!1;_0x13bdd4=MFFWAo.bwgNU(_0x2139ae,MFFWAo[e(526)](MFFWAo[e(445)]+MFFWAo.abzVx,");"))()}}async[oe(505)](){const e=oe,t={OBMao:"POST"},n=t;try{const t={};t[e(426)]=n[e(531)],await fetch(ie()+(e(504)+e(467)),t),this[e(461)]=!1}catch{}}async[oe(443)+"s"](){const e=oe,t={Fchmu:function(e,t){return e(t)},PhZuk:"[IB Gatewa"+e(437)+e(524)+"r:"};try{const n=await t[e(506)](fetch,ie()+(e(491)+"nts"));if(!n.ok)return[];return(await n.json()).accounts||[]}catch(n){return[]}}async getPositions(e){const t=oe,n={SXYDz:function(e,t){return e(t)},LSrBd:function(e){return e()}};try{const s=await n[t(498)](fetch,n[t(539)](ie)+"/api/positions?accountId="+e);if(!s.ok)return[];return(await s[t(449)]())[t(499)]||[]}catch(s){return[]}}async[oe(434)](){const e=oe,t={};t[e(460)]=e(420)+e(496)+e(535);try{const t=await fetch(ie()+(e(530)+"s"));if(!t.ok)return[];return(await t[e(449)]())[e(455)]||[]}catch(n){return[]}}async[oe(452)+oe(474)](e){const t=oe,n=function(e,t){return e(t)},s=function(e){return e()};t(420),t(412),t(520),t(427);try{const r=await n(fetch,s(ie)+"/api/searc"+t(442)+encodeURIComponent(e));if(!r.ok)return[];return(await r[t(449)]()).contracts||[]}catch(r){return[]}}async[oe(477)](e){const t=oe,n={IbMvR:function(e){return e()},wgmaS:"POST",rcshi:t(476)+t(485),spJdJ:t(424),sNdlG:t(420)+t(447)+"ailed",WHAUL:t(492)};try{const s=await fetch(n[t(512)](ie)+(t(530)+"s"),{method:n[t(503)],headers:{"Content-Type":n.rcshi},body:JSON.stringify(e)});if(!s.ok)return n[t(522)]==n[t(522)]?null:(_0x1a1468[t(473)](t(420)+t(496)+"ers error:",_0x22e3e8),[]);const r=await s.json();return{orderId:r.orderId||t(517)+Date[t(421)](),status:r[t(451)]||n[t(508)]}}catch(s){return null}}async[oe(479)+"r"](e){const t=oe,n={OOxPd:function(e,t,n){return e(t,n)},XmYlp:"DELETE",YMvid:function(e,t){return e===t},UagXn:"uiQzi"};try{return(await n[t(418)](fetch,ie()+"/api/orders/"+e,{method:n[t(500)]})).ok}catch(s){if(n[t(483)](n[t(537)],t(431))){const e=_0x52004f[t(507)](_0x5a0a9a,arguments);return _0x570cc6=null,e}return!1}}async[oe(422)](e){const t=oe,n={eSLvk:function(e,t){return e(t)},bSYSR:function(e){return e()}};try{const s=await n[t(525)](fetch,n[t(465)](ie)+(t(502)+t(509))+e);if(!s.ok)return null;return await s[t(449)]()}catch{return null}}}function he(e,t){e-=409;const n=de();let s=n[e];if(void 0===he.rCDDew){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};he.rHJeNC=r,he.BFzCkp={},he.rCDDew=!0}const a=e+n[0],c=he.BFzCkp[a];if(c)s=c;else{const e=function(e){this.GqGndW=e,this.YkWVvC=[1,0,0],this.CahPwx=function(){return"newState"},this.BluvCJ="\\w+ *\\(\\) *{\\w+ *",this.SqMdgD="['|\"].+['|\"];? *}"};e.prototype.XGFnep=function(){const e=new RegExp(this.BluvCJ+this.SqMdgD).test(this.CahPwx.toString())?--this.YkWVvC[1]:--this.YkWVvC[0];return this.zqpJvV(e)},e.prototype.zqpJvV=function(e){return Boolean(~e)?this.FpxDzM(this.GqGndW):e},e.prototype.FpxDzM=function(e){for(let t=0,n=this.YkWVvC.length;t<n;t++)this.YkWVvC.push(Math.round(Math.random())),n=this.YkWVvC.length;return e(this.YkWVvC[0])},new e(he).XGFnep(),s=he.rHJeNC(s),he.BFzCkp[a]=s}return s}const me=new xe;!function(){const e=ve,t=je();for(;;)try{if(461971===parseInt(e(208))/1*(parseInt(e(206))/2)+-parseInt(e(292))/3*(parseInt(e(352))/4)+-parseInt(e(224))/5+parseInt(e(321))/6*(-parseInt(e(258))/7)+parseInt(e(347))/8*(-parseInt(e(335))/9)+parseInt(e(350))/10+parseInt(e(263))/11*(parseInt(e(314))/12))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const fe=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[ve(340)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=ve;return fe.toString().search("(((.+)+)+)+$").toString().constructor(fe).search(e(280)+"+$")});fe();const ge=function(){const e=ve,t={};t[e(324)]=function(e,t){return e===t},t[e(360)]=e(267);const n=t;let s=!0;return function(t,r){const a=e;if(n[a(324)](n.ItDZH,a(297))){const e=_0x322a61[a(340)](_0x57d7c3,arguments);return _0x55669f=null,e}{const e=s?function(){if(r){const e=r[a(340)](t,arguments);return r=null,e}}:function(){};return s=!1,e}}}();function ve(e,t){e-=206;const n=je();let s=n[e];if(void 0===ve.CCVoJT){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};ve.VvaPqL=r,ve.vNowDg={},ve.CCVoJT=!0}const a=e+n[0],c=ve.vNowDg[a];if(c)s=c;else{const e=function(e){this.NwYDWC=e,this.HYmlZO=[1,0,0],this.ADDJUu=function(){return"newState"},this.pKTzbo="\\w+ *\\(\\) *{\\w+ *",this.ETGqOy="['|\"].+['|\"];? *}"};e.prototype.bhmIPa=function(){const e=new RegExp(this.pKTzbo+this.ETGqOy).test(this.ADDJUu.toString())?--this.HYmlZO[1]:--this.HYmlZO[0];return this.BYzQDx(e)},e.prototype.BYzQDx=function(e){return Boolean(~e)?this.jKZrvz(this.NwYDWC):e},e.prototype.jKZrvz=function(e){for(let t=0,n=this.HYmlZO.length;t<n;t++)this.HYmlZO.push(Math.round(Math.random())),n=this.HYmlZO.length;return e(this.HYmlZO[0])},new e(ve).bhmIPa(),s=ve.VvaPqL(s),ve.vNowDg[a]=s}return s}function je(){const e=["t3jKzxiGrMfPBa","zMLUzcbJB250CG","B3rXCLC","B3jKzxjZ","rxf4vw8","CMv0DxjUicHMDq","ywnJB3vUDfr5Ca","Bg9HzgLUzW","DgfIBgu","ywnJB3vUDeLK","DgL0Bgu","C3rHDhvZ","y291BNq","mZe3mdrisgfssMq","y3rVCIGICMv0Dq","DhjHy2u","BMn0Aw9UkcKG","uMTovvO","zwqGDg8GsuiGrW","qNjPzgDLig5VDa","mZyZmtq1mLjgsfzfAG","C2vHCMnOq29UDa","zMLYC3qU","EejMBvO","q29UBMvJDgLVBG","CI4Gq2HLy2SGzW","t3jKzxiGq2fUyW","v0zjA0W","D2f5iI4","zLzyu0O","ihj1BM5PBMCUia","qMPrtfa","DMfYAwfUDa","zwXSzwq","ndu0mdvvvuvluMO","y29UC3rYDwn0BW","y2fUy2vSt3jKzq","zxHJzxb0Aw9U","AwnRicjdB25Uzq","yxbWBhK","B3jKzxjuExbL","yMLUza","Bg9Hze9YzgvYCW","BwvZC2fNzq","ihrPBwvKig91Da","z2uGC2vYDMvYia","mteXmKHYq2zNwq","y29UAwq","CgXHy2vpCMrLCG","nZyZmJaYmeruvMjwDW","CM4GDgHPCYiPka","mJCYy0LjD3rH","C2vSzwn0zwrbyW","y29UBMvJDgvK","y29UBMvJDa","CMvMCMvZAerHDa","ywnJB3vUDhm","Dg9mB3DLCKnHCW","yxrLD2f5lIbdBa","sxrewKG","qNjPzgDLihj1BG","igzHAwXLzdOG","Bg9JywWGyNjPza","CvbUAKW","B3vUDcbMAxjZDa","CgfWzxi","neLlBeLlqq","Aw5JBhvKzxm","mZC0nJGXALblwfjL","Dw50","y29UBMvJDdOG","Bg9N","EwT4uhK","Cg9ZAxrPB25Z","y25HDfa","ywXS","yxrLD2f5","CgXHy2uGB3jKzq","DMH4teG","ChjPy2u","DgLTzwqGB3v0","uhDRrLG","rwfmq2i","ExzRuue","mteYode3mfHqu0v6rq","iezVDw5K","igHHCYbIzwvUia","BgvUz3rO","z2v0t3jKzxjZ","qKznvM4","Aw9UignOzwnRia","shvXuLu","qKjsBNa","BMfIBgvKlG","yxv0AgvUDgLJyq","y3vYCMvUDa","Bg9HzefJy291BG","y0DxDhy","z2v0qwnJB3vUDa","w0LcieDHDgv3yq","D2fYBG","q291BgqGBM90ia","B3qGy29UBMvJDa","zxjYB3i","Dg5Mzuq","DgvK","yxrLD2f5ignVBG","x19WCM90B19F","zMLUza","y29UC29Szq","C2vSzwn0qwnJBW","C3rHCNrZv2L0Aa","C2LKzq","D0H5uxi","r3PqzNK","CfL2C1u","CxvHBNrPDhK","A2jNrva","n0TnA0LhDa","y29UBMvJDfrVrW","CNvUBMLUzYbHBG","B25Z","rgD2twy","mJK1ovPvuvDlra","EvrXsNC","BhKGy29UBMvJDa","u3LTyM9Sie5VDa","Ahnrz0W","zgvZy3jPChrPBW","zgvZDhj1y3rPDG","C2vYDMvYigLZia","ic0G","y2HLy2TdB25Uzq","BMLUzYbIDxqGBG","Aw9UigvYCM9YoG","CMfJDa","vLf3z00","y3qGDg8Gr2f0zq","rMfPBgvKihrVia","ChjVDg90ExbL","kcGOlISPkYKRkq","yxrLD2f5igLZia","v3j5v3y","Dg9tDhjPBMC","BNn1CMuGsuiGrW","BMvJDgLVBI4","y2fUy2vSBgvKlG","ywn0igzVCIa","E30Uy29UC3rYDq","BgnXtNy","u1nQsMe","CgfWzxjuCMfKAq","mtaXmtbdDujbzuC","Bg9HzfbVC2L0Aq","lIbfBNn1CMuGDa","ugXLyxnLihnLBa","C3LTyM9S","CwHoru4","seHztM8","q29UBMvJDgvK","CMzJDMC"];return(je=function(){return e})()}ge(void 0,function(){const e=ve,t={};t[e(218)]=function(e,t){return e+t},t[e(289)]=function(e,t){return e+t},t[e(257)]=e(288)+e(315)+e(351)+" )",t.VQwgM=e(240),t[e(223)]=e(338),t[e(253)]=e(309),t.ykxPy=e(316);const n=t,s=function(){const t=e;let s;try{s=Function(n.vhxLH(n[t(289)](t(306)+t(317),n[t(257)]),");"))()}catch(r){s=window}return s}(),r=s[e(249)]=s[e(249)]||{},a=[e(211),n[e(276)],"info",e(243),n.yvkQA,n[e(253)],n[e(212)]];for(let c=0;c<a[e(227)];c++){const t=ge[e(336)+"r"][e(279)][e(342)](ge),n=a[c],s=r[n]||t;t[e(247)]=ge[e(342)](ge),t[e(283)]=s[e(283)][e(342)](s),r[n]=t}})();const ye=["SPY","QQQ","AAPL","MSFT","NVDA","TSLA","AMD","META"];function pe(){const{connected:e,authenticated:t,paperTrading:n,accounts:k,selectedAccount:E,positions:X,orders:Q,loading:$,error:ee,checkConnection:te,connectToGateway:ne,refreshData:se,placeOrder:re,cancelOrder:ae,selectAccount:ce}=function(){var e;const t=ve,n={PwkFX:function(e,t){return e(t)},EqxUo:t(262),WryWv:function(e,t,n){return e(t,n)},yTqJw:t(239)+"y] Status:",pYvsU:function(e,t){return e(t)},rfcvg:function(e,t){return e(t)},RkNUZ:function(e,t){return e(t)},BANcr:function(e,t){return e(t)},FKDFF:t(328),fVXSJ:"Successful"+t(265)+t(319)+t(216),SSjJa:function(e){return e()},cGWtv:function(e,t){return e(t)},HHYNo:function(e){return e()},WGoZO:function(e,t){return e===t},JTchm:t(266)+t(225),BBRnp:t(269)+"e",BjQLP:"Order Placed",BFMVn:t(301)+"ed",tnfeD:"Could not "+t(217)+t(326)+t(246)+t(285),fdwQo:t(327)+t(334),fypfi:function(e,t){return e(t)},otqrW:function(e,t,n){return e(t,n)},EaLCb:function(e,t,n){return e(t,n)},BgDPQ:function(e,t,n){return e(t,n)},uSknQ:function(e,t,n){return e(t,n)}},a={};a[t(354)]=!1,a.authenticated=!1,a[t(291)+"ng"]=!1,a.accounts=[],a[t(353)+t(313)]=null,a[t(213)]=[],a[t(304)]=[],a[t(308)]=!0,a[t(243)]=null;const[c,i]=n[t(237)](s.useState,a),o=n.fypfi(s.useRef,null),{toast:l}=r(),d=s.useCallback(async()=>{const e=t;if(n.EqxUo===n[e(305)]){i(e=>({...e,loading:!0,error:null}));const t=n[e(282)](setTimeout,()=>{const t=e;i(e=>({...e,connected:!1,authenticated:!1,loading:!1,error:t(325)+t(345)+t(294)+"he bridge "+t(270)+"running."}))},8e3);try{const s=await me[e(272)+"ction"]();return clearTimeout(t),n[e(255)](i,t=>({...t,connected:s[e(354)],authenticated:s[e(234)+e(245)],paperTrading:s[e(291)+"ng"],loading:!1,error:s.connected?s[e(234)+e(245)]?null:e(361)+e(273)+e(242)+e(319)+e(359)+e(339)+e(277)+e(329):e(320)+e(331)+"Start the "+e(363)+e(346)+e(323)})),s}catch(s){n[e(300)](clearTimeout,t),n[e(318)](i,t=>({...t,connected:!1,authenticated:!1,loading:!1,error:e(278)+e(210)+s[e(344)]}));const r={};return r[e(354)]=!1,r[e(234)+e(245)]=!1,r[e(291)+"ng"]=!1,r}}else _0x2fe4a1=RuDrlk[e(254)](_0xe0dfa0,e(306)+"nction() "+(e(288)+e(315)+e(351))+" ));")()},[]),u=s.useCallback(async()=>{const e=t;n.BANcr(i,e=>({...e,loading:!0,error:null}));try{if("WFIkL"===n.FKDFF){const t=await me[e(355)]();return t?(n.pYvsU(l,{title:e(299),description:n[e(330)]}),await d(),await n[e(290)](x)):n.cGWtv(i,t=>({...t,loading:!1,error:e(278)+"connect. E"+e(284)+e(281)+e(260)+"d API is e"+e(233)})),t}{const t={};t.title=e(301)+"ed",t.description=e(241)+e(217)+e(326)+e(246)+e(285),t[e(333)]=e(269)+"e",_0x437409(t)}}catch(s){return i(t=>({...t,loading:!1,error:e(325)+e(362)+s[e(344)]})),!1}},[l,d]),x=s.useCallback(async()=>{const e=t,s=await me[e(238)+"s"](),r=s[e(248)](t=>t[e(310)][e(251)]("DU")||t[e(307)+"e"][e(358)+"e"]()[e(207)](e(366)));return n[e(237)](i,e=>({...e,accounts:s,selectedAccount:r||s[0]||null})),s},[]),h=s.useCallback(async()=>{const e=t;if(!c[e(353)+e(313)])return[];const n=await me.getPositions(c.selectedAccount[e(310)]);return i(e=>({...e,positions:n})),n},[c[t(353)+"count"]]),m=s.useCallback(async()=>{const e=t,n=await me[e(228)]();return i(e=>({...e,orders:n})),n},[]),f=n[t(303)](s.useCallback,async()=>{const e=t;c[e(234)+e(245)]&&await Promise[e(215)]([x(),h(),n.HHYNo(m)])},[c[t(234)+"ted"],x,h,m]),g=n[t(222)](s.useCallback,async e=>{const s=t;if(!c["selectedAc"+s(313)]){const e={title:"No Account Selected"};return e[s(268)+"n"]=s(295)+"ect an acc"+s(365)+".",e.variant=s(269)+"e",l(e),null}const r=await me[s(322)+s(275)](e.symbol);if(n.WGoZO(r[s(227)],0)){const t={};return t[s(311)]=n.JTchm,t.description=s(241)+s(302)+s(287)+e[s(296)],t[s(333)]=n[s(232)],l(t),null}const a=r[0],i={};i.accountId=c[s(353)+"count"].accountId,i[s(348)]=a[s(348)],i[s(296)]=e[s(296)],i[s(252)]=e[s(252)],i[s(256)]=e.quantity,i[s(341)]=e.orderType,i[s(219)]=e[s(219)];const o=await me[s(349)](i);if(o){const t={};t.title=n[s(332)],t[s(268)+"n"]=e[s(252)]+" "+e[s(256)]+" "+e[s(296)]+s(271)+o[s(312)],l(t),await n[s(290)](m)}else{const e={};e[s(311)]=n[s(229)],e.description=n[s(244)],e.variant="destructive",l(e)}return o},[c[t(353)+"count"],l,m]),v=s.useCallback(async e=>{const s=t,r=await me[s(337)+"r"](e);if(r){const t={};t[s(311)]=n.fdwQo,t[s(268)+"n"]="Order "+e+(s(226)+s(286)),l(t),await n[s(298)](m)}return r},[l,m]),j=s.useCallback(e=>{const n=t,s=c[n(357)][n(248)](t=>t[n(310)]===e);s&&i(e=>({...e,selectedAccount:s}))},[c[t(357)]]);n.BgDPQ(s.useEffect,()=>{const e=t,s={cnatP:e(231),qPnjL:function(e,t,n){return e(t,n)},vtRCy:function(t,s){return n[e(221)](t,s)}};return(async()=>{const t=e;s[t(214)]!==t(231)?_0x1422f0=_0x3af699:(await d())[t(234)+"ted"]&&(await x(),await h(),await m(),o[t(235)]=s[t(364)](setInterval,()=>{f()},1e4))})(),()=>{o[e(235)]&&s.vtRCy(clearInterval,o.current)}},[]),n.uSknQ(s.useEffect,()=>{const e=t;c[e(353)+e(313)]&&c["authentica"+e(245)]&&n[e(298)](h)},[null==(e=c["selectedAc"+t(313)])?void 0:e[t(310)]]);const y={...c};return y[t(272)+"ction"]=d,y[t(259)+t(216)]=u,y[t(236)+"ts"]=x,y[t(293)+t(261)]=h,y[t(343)]=m,y[t(356)+"a"]=f,y[t(349)]=g,y[t(337)+"r"]=v,y[t(250)+t(209)]=j,y}(),[ie,oe]=s.useState("overview"),[le,de]=s.useState([]),[ue,xe]=s.useState(!1),[he,fe]=s.useState([]),[ge,je]=s.useState({total:0,today:0,pnl:0}),[pe,we]=s.useState(!1),[Ne,Ce]=s.useState({symbol:"SPY",side:"BUY",quantity:1,orderType:"MKT",price:0}),[De,be]=s.useState(!1);s.useEffect(()=>{const e=async()=>{try{const{data:e}=await a.from("farm_status").select("*").eq("farm_name","high-frequency-paper-trader").single();if(e){const t=new Date(e.updated_at),n=t>new Date(Date.now()-12e4);we("trading"===e.status||n)}const{data:t}=await a.from("autonomous_trades").select("*").order("created_at",{ascending:!1}).limit(50);if(t){fe(t);const e=new Date;e.setHours(0,0,0,0);const n=t.filter(t=>new Date(t.created_at)>=e),s=t.reduce((e,t)=>e+(t.pnl||0),0);je({total:t.length,today:n.length,pnl:s})}}catch(e){}};e();const t=a.channel("hf-trades").on("postgres_changes",{event:"INSERT",schema:"public",table:"autonomous_trades"},e=>{const t=e.new;fe(e=>[t,...e].slice(0,50));const n=new Date;n.setHours(0,0,0,0);const s=new Date(t.created_at)>=n;je(e=>({total:e.total+1,today:s?e.today+1:e.today,pnl:e.pnl+(t.pnl||0)}))}).subscribe(),n=setInterval(e,5e3);return()=>{clearInterval(n),t.unsubscribe()}},[]),s.useCallback(()=>{te()},[te]),s.useEffect(()=>{if(t){Be();const e=setInterval(Be,3e4);return()=>clearInterval(e)}},[t]);const Be=async()=>{xe(!0);try{const{data:e,error:t}=await a.functions.invoke("stock-data",{body:{action:"batch",symbols:ye}});!t&&(null==e?void 0:e.stocks)&&de(e.stocks.map(e=>({symbol:e.symbol,price:e.latestPrice,change:e.change,changePercent:e.changePercent})))}catch(e){}finally{xe(!1)}},ze=e=>{Ce(t=>({...t,symbol:e,side:"BUY"})),oe("trade")},Le=s.useMemo(()=>{const e=X.reduce((e,t)=>e+t.marketValue,0),t=X.reduce((e,t)=>e+t.unrealizedPnl,0);return{totalValue:e,totalPnL:t,totalRealizedPnL:X.reduce((e,t)=>e+t.realizedPnl,0),pnlPercent:(null==E?void 0:E.balance)?t/E.balance*100:0}},[X,E]);return $?c.jsxs(i,{children:[c.jsxs(o,{children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(d,{className:"h-5 w-5 animate-spin text-primary"}),"Connecting to IB Gateway Bridge..."]})}),c.jsx(u,{children:"Checking connection to gateway"})]}),c.jsxs(x,{className:"space-y-4",children:[c.jsx(h,{value:33,className:"h-2"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Looking for the Client Portal Gateway..."}),c.jsxs(S,{children:[c.jsx(T,{className:"h-4 w-4"}),c.jsx(U,{children:"Connection taking too long?"}),c.jsxs(I,{className:"space-y-2 mt-2",children:[c.jsx("p",{children:"Your browser may be blocking the connection. Try:"}),c.jsxs("ol",{className:"list-decimal list-inside text-sm space-y-1",children:[c.jsxs("li",{children:["Click ",c.jsx("strong",{children:"Gateway Settings"})," above to configure your gateway URL"]}),c.jsx("li",{children:"If using remotely, enter your machine's IP (e.g., https://192.168.1.100:5000)"}),c.jsxs("li",{children:["Accept the ",c.jsx("strong",{children:"self-signed certificate warning"})," in your browser"]}),c.jsx("li",{children:"Login if prompted, then return here"})]})]})]}),c.jsxs(m,{variant:"outline",size:"sm",onClick:()=>window.open("https://localhost:5000","_blank"),children:[c.jsx(f,{className:"h-4 w-4 mr-2"}),"Open Gateway in New Tab"]})]})]}):e?t?c.jsxs("div",{className:"space-y-6",children:[c.jsx(i,{className:"bg-gradient-to-br from-card via-card to-primary/5 border-primary/20",children:c.jsxs(x,{className:"pt-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(v,{className:"h-5 w-5 text-primary"}),c.jsx("span",{className:"font-medium",children:"IBKR Connected"}),n&&c.jsx(j,{variant:"outline",className:"bg-primary/10 text-primary border-primary",children:"Paper Trading"})]}),c.jsxs(y,{value:(null==E?void 0:E.accountId)||"",onValueChange:ce,children:[c.jsx(p,{className:"w-48",children:c.jsx(w,{placeholder:"Select Account"})}),c.jsx(N,{children:k.map(e=>c.jsxs(C,{value:e.accountId,children:[e.accountId," (",e.accountType,")"]},e.accountId))})]}),c.jsx(m,{variant:"ghost",size:"icon",onClick:se,children:c.jsx(g,{className:"h-4 w-4"})})]}),E&&c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[c.jsx(D,{className:"w-3 h-3"}),"Account Balance"]}),c.jsxs("div",{className:"text-3xl font-mono font-bold",children:["$",E.balance.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Buying Power"}),c.jsxs("div",{className:"text-xl font-mono",children:["$",E.buyingPower.toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})]}),X.length>0&&c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6 pt-6 border-t",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Positions Value"}),c.jsxs("div",{className:"text-xl font-bold",children:["$",Le.totalValue.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Unrealized P&L"}),c.jsxs("div",{className:"text-xl font-bold "+(Le.totalPnL>=0?"text-success":"text-destructive"),children:[Le.totalPnL>=0?"+":"","$",Le.totalPnL.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Realized P&L"}),c.jsxs("div",{className:"text-xl font-bold "+(Le.totalRealizedPnL>=0?"text-success":"text-destructive"),children:[Le.totalRealizedPnL>=0?"+":"","$",Le.totalRealizedPnL.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Open Positions"}),c.jsx("div",{className:"text-xl font-bold",children:X.length})]})]})]})}),c.jsxs(b,{value:ie,onValueChange:oe,children:[c.jsxs(B,{className:"grid w-full grid-cols-2 max-w-md",children:[c.jsxs(z,{value:"overview",className:"flex items-center gap-1",children:[c.jsx(L,{className:"w-4 h-4"})," Overview"]}),c.jsxs(z,{value:"hf-trading",className:"flex items-center gap-1",children:[c.jsx(R,{className:"w-4 h-4"})," HF Trading",pe&&c.jsx("span",{className:"ml-1 w-2 h-2 bg-success rounded-full animate-pulse"})]})]}),c.jsx(q,{value:"overview",className:"mt-6",children:c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs(i,{children:[c.jsxs(o,{children:[c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(M,{className:"w-5 h-5"}),"Quick Trade"]}),c.jsx(u,{children:"Click a symbol to start a trade"})]}),c.jsxs(x,{children:[c.jsx("div",{className:"grid grid-cols-4 gap-2",children:le.length>0?le.map(e=>c.jsxs(m,{variant:"outline",className:"flex flex-col h-auto py-3 hover:border-primary",onClick:()=>ze(e.symbol),children:[c.jsx("span",{className:"font-bold",children:e.symbol}),c.jsxs("span",{className:"text-sm",children:["$",e.price.toFixed(2)]}),c.jsxs("span",{className:"text-xs "+(e.changePercent>=0?"text-success":"text-destructive"),children:[e.changePercent>=0?"+":"",e.changePercent.toFixed(2),"%"]})]},e.symbol)):ye.map(e=>c.jsx(m,{variant:"outline",className:"py-6",onClick:()=>ze(e),children:e},e))}),ue&&c.jsx("div",{className:"text-center text-sm text-muted-foreground mt-2",children:"Updating quotes..."})]})]}),c.jsxs(i,{children:[c.jsx(o,{children:c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(_,{className:"w-5 h-5"}),"Current Positions"]})}),c.jsx(x,{children:0===X.length?c.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[c.jsx(A,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),c.jsx("p",{children:"No open positions"}),c.jsx("p",{className:"text-sm",children:"Place a trade to get started"})]}):c.jsxs("div",{className:"space-y-3",children:[X.slice(0,5).map(e=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:e.symbol}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.position>0?"+":"",e.position," shares @ $",e.avgCost.toFixed(2)]})]}),c.jsxs("div",{className:"text-right "+(e.unrealizedPnl>=0?"text-success":"text-destructive"),children:[c.jsxs("div",{className:"font-medium",children:[e.unrealizedPnl>=0?"+":"","$",e.unrealizedPnl.toFixed(2)]}),c.jsxs("div",{className:"text-sm",children:["$",e.marketValue.toFixed(2)]})]})]},e.conid)),X.length>5&&c.jsxs(m,{variant:"ghost",className:"w-full",onClick:()=>oe("positions"),children:["View all ",X.length," positions"]})]})})]})]})}),c.jsx(q,{value:"hf-trading",className:"mt-6",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs(i,{className:"border-2 "+(pe?"border-warning bg-warning/5":"border-dashed"),children:[c.jsx(o,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-3 rounded-full "+(pe?"bg-warning/20":"bg-muted"),children:c.jsx(R,{className:"w-6 h-6 "+(pe?"text-warning animate-pulse":"text-muted-foreground")})}),c.jsxs("div",{children:[c.jsxs(l,{className:"flex items-center gap-2",children:["High-Frequency Paper Trading",pe&&c.jsxs(j,{className:"bg-warning text-warning-foreground",children:[c.jsx(A,{className:"w-3 h-3 mr-1 animate-pulse"}),"LIVE"]})]}),c.jsx(u,{children:"Terminal-based worker generating 100+ trades/day for En Pensent training"})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Worker Status"}),c.jsx("div",{className:"font-medium "+(pe?"text-warning":"text-muted-foreground"),children:pe?"RUNNING":"OFFLINE"})]})]})}),c.jsxs(x,{children:[c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.total}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Trades"})]}),c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.today}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Today's Trades"})]}),c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsxs("div",{className:"text-3xl font-bold font-mono "+(ge.pnl>=0?"text-success":"text-destructive"),children:[ge.pnl>=0?"+":"","$",ge.pnl.toFixed(2)]}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Total P&L"})]}),c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsx("div",{className:"text-3xl font-bold font-mono text-warning",children:pe?"30s":"N/A"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Cycle Time"})]})]}),c.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-muted-foreground",children:[c.jsx(G,{className:"w-4 h-4"}),c.jsx("span",{children:"Auto-refresh every 5 seconds from Supabase"}),c.jsx("span",{className:"mx-2",children:"•"}),c.jsx("span",{children:"11 symbols: AAPL, MSFT, NVDA, TSLA, AMD, META, GOOGL, AMZN, SPY, QQQ, IWM"})]})]})]}),c.jsxs(i,{children:[c.jsxs(o,{children:[c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(A,{className:"w-5 h-5"}),"Live Trade Feed",he.length>0&&c.jsxs(j,{variant:"secondary",children:[he.length," recent"]})]}),c.jsx(u,{children:"Real-time trades from high-frequency worker (updates every 5s)"})]}),c.jsx(x,{children:0===he.length?c.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[c.jsx(R,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{className:"text-lg",children:"No trades yet"}),c.jsx("p",{className:"text-sm",children:"Start the high-frequency worker to see activity"}),c.jsx("code",{className:"block mt-4 p-2 bg-muted rounded text-xs",children:"node farm/workers/high-frequency-paper-trader.mjs"})]}):c.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:he.map(e=>{var t;return c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:["BUY"===e.direction?c.jsx(P,{className:"w-4 h-4 text-success"}):c.jsx(Z,{className:"w-4 h-4 text-destructive"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold",children:e.symbol}),c.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleTimeString()})]}),c.jsx(j,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction}),c.jsxs(j,{variant:"outline",className:"text-xs",children:[e.shares," shares"]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Entry"})]}),e.predicted_confidence&&c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"font-mono",children:[(100*e.predicted_confidence).toFixed(0),"%"]}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Conf"})]}),void 0!==e.pnl&&null!==e.pnl&&c.jsxs("div",{className:"text-right font-mono "+(e.pnl>=0?"text-success":"text-destructive"),children:[c.jsxs("div",{children:[e.pnl>=0?"+":"","$",e.pnl.toFixed(2)]}),c.jsx("div",{className:"text-xs",children:"P&L"})]}),c.jsx(j,{variant:"outline",className:"open"===e.status?"bg-success/10 text-success":"bg-muted",children:e.status})]})]},e.id)})})})]}),he.filter(e=>"open"===e.status).length>0&&c.jsxs(i,{children:[c.jsx(o,{children:c.jsxs(l,{className:"text-lg flex items-center gap-2",children:[c.jsx(_,{className:"w-5 h-5"}),"Open HF Positions"]})}),c.jsx(x,{children:c.jsxs(H,{children:[c.jsx(W,{children:c.jsxs(Y,{children:[c.jsx(K,{children:"Symbol"}),c.jsx(K,{children:"Side"}),c.jsx(K,{className:"text-right",children:"Shares"}),c.jsx(K,{className:"text-right",children:"Entry"}),c.jsx(K,{className:"text-right",children:"Stop Loss"}),c.jsx(K,{className:"text-right",children:"Take Profit"}),c.jsx(K,{children:"Status"})]})}),c.jsx(O,{children:he.filter(e=>"open"===e.status).map(e=>{var t,n,s;return c.jsxs(Y,{children:[c.jsx(J,{className:"font-bold",children:e.symbol}),c.jsx(J,{children:c.jsx(j,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction})}),c.jsx(J,{className:"text-right font-mono",children:e.shares}),c.jsxs(J,{className:"text-right font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),c.jsxs(J,{className:"text-right font-mono text-destructive",children:["$",(null==(n=e.stop_loss)?void 0:n.toFixed(2))||"N/A"]}),c.jsxs(J,{className:"text-right font-mono text-success",children:["$",(null==(s=e.take_profit)?void 0:s.toFixed(2))||"N/A"]}),c.jsx(J,{children:c.jsx(j,{variant:"outline",className:"bg-success/10 text-success border-success/30",children:"Open"})})]},e.id)})})]})})]})]})})]})]}):c.jsxs(i,{className:"border-warning/50",children:[c.jsx(o,{children:c.jsxs(l,{className:"flex items-center gap-2 text-warning",children:[c.jsx(F,{className:"h-5 w-5"}),"Gateway Running - Login Required"]})}),c.jsxs(x,{className:"space-y-4",children:[c.jsxs(S,{variant:"default",children:[c.jsx(T,{className:"h-4 w-4"}),c.jsx(I,{children:'Bridge is running but not connected to IB Gateway. Open IB Gateway desktop app, log in, then click "Connect to Gateway".'})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(m,{onClick:ne,className:"flex-1",children:[c.jsx(F,{className:"h-4 w-4 mr-2"}),"Connect to Gateway"]}),c.jsxs(m,{variant:"outline",onClick:te,children:[c.jsx(g,{className:"h-4 w-4 mr-2"}),"Check Status"]})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"IB Gateway must be running with API enabled (port 4002 for paper trading)."})]})]}):c.jsxs(i,{className:"border-destructive/50",children:[c.jsxs(o,{children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(l,{className:"flex items-center gap-2 text-destructive",children:[c.jsx(V,{className:"h-5 w-5"}),"IB Gateway Bridge Not Running"]})}),c.jsx(u,{children:ee||"Start the IBKR Client Portal Gateway to begin trading."})]}),c.jsxs(x,{className:"space-y-4",children:[c.jsxs(S,{children:[c.jsx(T,{className:"h-4 w-4"}),c.jsx(U,{children:"Quick Setup"}),c.jsx(I,{className:"space-y-2",children:c.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-2",children:[c.jsxs("li",{children:["Download the ",c.jsx("a",{href:"https://www.interactivebrokers.com/en/trading/ib-api.php",target:"_blank",rel:"noopener",className:"text-primary underline font-medium",children:"IBKR Client Portal Gateway"})]}),c.jsxs("li",{children:["Run ",c.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.sh"})," (Mac) or ",c.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.bat"})," (Windows)"]}),c.jsxs("li",{children:["Login at ",c.jsx("strong",{children:"https://localhost:5000"})," with IBKR credentials"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Using remote access?"})," Click Gateway Settings above and enter your machine's IP"]})]})})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(m,{onClick:te,className:"flex-1",children:[c.jsx(g,{className:"h-4 w-4 mr-2"}),"Retry Connection"]}),c.jsxs(m,{variant:"outline",onClick:()=>window.open("https://localhost:5000","_blank"),children:[c.jsx(f,{className:"h-4 w-4 mr-2"}),"Open Gateway"]})]})]})]})}const we=()=>c.jsxs("div",{className:"container mx-auto py-8 px-4",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[c.jsx(E,{className:"w-8 h-8 text-primary"}),c.jsxs("h1",{className:"text-4xl font-bold",children:[c.jsx("span",{className:"text-primary",children:"En Pensent™"})," Trading"]})]}),c.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Paper trading powered by Interactive Brokers. Start with simulated funds, graduate to real money when ready."})]}),c.jsx(k,{componentName:"IBKRTradingDashboard",children:c.jsx(pe,{})}),c.jsx("p",{className:"text-center text-xs text-muted-foreground mt-8",children:"⚠️ Paper trading uses simulated funds. No real money is at risk. When ready, switch to a live IBKR account for real trading."})]});export{we as default};
