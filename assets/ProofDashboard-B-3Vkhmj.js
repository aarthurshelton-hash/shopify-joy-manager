import{aJ as e,fj as t,fk as n,s as r,r as s,eC as a,fe as i,j as c,C as o,x as l,bh as d,aT as u,e7 as x,ad as f,aj as h,bi as m,p as g,t as y,aY as p,w as b,dt as v,aZ as j,y as N,fl as w,F as C,bC as D,aq as z,E as B}from"./index-CN5tH3TC.js";import{C as A}from"./calendar-TsF61Uvi.js";const M=e("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);function L(e,r){const s=function(e){const t={},n=e.split(_.dateTimeDelimiter);let r;if(n.length>2)return t;/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],_.timeZoneDelimiter.test(t.date)&&(t.date=e.split(_.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length)));if(r){const e=_.timezone.exec(r);e?(t.time=r.replace(e[1],""),t.timezone=e[1]):t.time=r}return t}(e);let a;if(s.date){const e=function(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:null===a?s:100*a,restDateString:e.slice((r[1]||r[2]).length)}}(s.date,2);a=function(e,t){if(null===t)return new Date(NaN);const n=e.match(q);if(!n)return new Date(NaN);const r=!!n[4],s=H(n[1]),a=H(n[2])-1,i=H(n[3]),c=H(n[4]),o=H(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,c,o)?function(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const s=r.getUTCDay()||7,a=7*(t-1)+n+1-s;return r.setUTCDate(r.getUTCDate()+a),r}(t,c,o):new Date(NaN);{const e=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(S[t]||(T(e)?29:28))}(t,a,i)&&function(e,t){return t>=1&&t<=(T(e)?366:365)}(t,s)?(e.setUTCFullYear(t,a,Math.max(s,i)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let c,o=0;if(s.time&&(o=function(e){const r=e.match(k);if(!r)return NaN;const s=G(r[1]),a=G(r[2]),i=G(r[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(s,a,i))return NaN;return s*t+a*n+1e3*i}(s.time),isNaN(o)))return new Date(NaN);if(!s.timezone){const e=new Date(i+o),t=new Date(0);return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t}return c=function(e){if("Z"===e)return 0;const r=e.match(W);if(!r)return 0;const s="+"===r[1]?-1:1,a=parseInt(r[2]),i=r[3]&&parseInt(r[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,i))return NaN;return s*(a*t+i*n)}(s.timezone),isNaN(c)?new Date(NaN):new Date(i+o+c)}const _={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},q=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,k=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,W=/^([+-])(\d{2})(?::?(\d{2}))?$/;function H(e){return e?parseInt(e):1}function G(e){return e&&parseFloat(e.replace(",","."))||0}const S=[31,null,31,30,31,30,31,31,30,31,30,31];function T(e){return e%400==0||e%4==0&&e%100!=0}!function(){const e=Y,t=U();for(;;)try{if(143065===parseInt(e(523))/1+-parseInt(e(497))/2*(parseInt(e(565))/3)+-parseInt(e(676))/4*(-parseInt(e(504))/5)+-parseInt(e(539))/6*(-parseInt(e(600))/7)+parseInt(e(699))/8+parseInt(e(532))/9*(parseInt(e(564))/10)+-parseInt(e(574))/11)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const E=function(){const e=Y,t={};t[e(660)]="notable",t[e(655)]=e(470);const n=t;let r=!0;return function(t,s){const a=e,i={};i[a(614)]=n[a(660)],i.KJVfN=function(e,t){return e===t},i.FhrYB=n[a(655)];const c=i,o=r?function(){const e=a;if(s){if(c[e(576)](c.FhrYB,e(470))){const n=s[e(515)](t,arguments);return s=null,n}{const t=_0x4c4947(_0x570a9c.pgn);return{id:_0x412ca5.id,fen:_0x271880[e(484)],gameName:_0x417556[e(494)],moveNumber:_0x4b5b76[e(481)+"r"],stockfishEval:_0x3d7c97[e(640)+"eval"]||0,stockfishPrediction:_0x5d7aa8[e(640)+e(625)],hybridPrediction:_0x35cce8.hybrid_prediction,actualResult:_0xe8ff61[e(653)+e(650)],hybridCorrect:_0x14af08["hybrid_cor"+e(595)],stockfishCorrect:_0x27970f["stockfish_"+e(514)],hybridArchetype:_0x3c3408[e(673)+e(473)],hybridConfidence:_0x35dcc4[e(711)+"fidence"],createdAt:_0x1c20b6.created_at,significance:_0x52b4b0[e(647)](_0x96f8e9["stockfish_"+e(603)]||0)>200?"breakthrough":c.qNMoR,evalMagnitude:_0x37f361.abs(_0x4e3926[e(640)+e(603)]||0),timeControl:_0x5e4b4d.time_control,whiteElo:_0x44306a[e(626)],blackElo:_0x3ef1ca[e(503)],pgn:_0x4c4810[e(635)],gameDate:t}}}}:function(){};return r=!1,o}}()(void 0,function(){const e=Y,t={};t.PqTOT=e(665)+"+$";const n=t;return E[e(620)]().search("(((.+)+)+)+$")[e(620)]()[e(630)+"r"](E).search(n[e(661)])});E();const K=function(){const e=Y,t={};t[e(643)]=function(e,t){return e>t},t.ZCSGW=function(e,t){return e===t},t[e(517)]="xqMWJ";const n=t;let r=!0;return function(t,s){const a=e,i={Ghmgx:function(e,t){return n[Y(643)](e,t)},NTJZd:a(634)};if(n[a(666)](n[a(517)],n[a(517)])){const e=r?function(){const e=a,n={uglGJ:function(e,t){return i[Y(598)](e,t)},bhzxL:function(e,t){return e(t)},phXnc:e(580)};if(s){if(i[e(663)]!==e(634))return _0x48709d["hybridCorr"+e(695)]&&!_0x287277[e(478)+"orrect"]?n[e(540)](_0x1abf93[e(697)+"ude"],200)?e(694)+"GH: Stockf"+e(618)+n.bhzxL(_0x414155,_0xcfc121[e(710)+"val"])+e(654)+(_0x35bf4[e(637)+e(589)]||n[e(700)])+(e(624)+e(552)+e(610))+"d "+_0x2d86e2[e(627)+"lt"]:e(512)+(_0x5d77db[e(637)+e(589)]||e(580))+(e(506)+e(547)+e(500)+"tockfish's ")+n[e(652)](_0x302f4f,_0x2f46b9[e(710)+e(578)])+e(495)+"n":_0x1b5946[e(478)+e(684)]&&!_0x50cec9[e(649)+e(695)]?e(648)+e(490)+e(583)+e(486)+e(482)+e(629)+e(639)+e(675):e(520)+e(582)+"e same prediction";{const n=s[e(515)](t,arguments);return s=null,n}}}:function(){};return r=!1,e}{if(!_0x300295)return null;const e=_0x244541[a(535)](/\[Date\s+"(\d{4}\.\d{2}\.\d{2})"\]/);return e?e[1].replace(/\./g,"-"):null}}}();function U(){const e=["BgLTAxq","EufnDfu","DgLTzunVBNrYBW","z2fTzv9Uyw1L","igv2ywX1yxrPBW","t0Dezei","nZrAsNLlBNq","D2HPDgvfBg8","CMvKAwn0Aw9U","B3zLCNjVzguGuW","AwnVBG","uMf0zwq","yMXHy2TFzwXV","nwP5DxPRAW","BgjXqM8","igfUywX5C2LZia","ruX1AKe","tNbSvxy","Dgv4Dc1TDxrLza","vK9Jsw4","zM9YrwfJAa","shLICMLKj3mG","C3rVy2TMAxnOvW","y29YCMvJDa","yxbWBhK","B1bMExG","Cwr0rfO","y29SB3i","BLbtEgy","qM90AcbZExn0zq","s0HfsvK","BMn0Aw9UkcKG","mtG1mduZzvLxC1bl","tvz1BKS","zNjVBq","DhjPBq","t2jZBfO","uMfWAwq","CMv0DxjUicHMDq","z3juzMi","A2Tir2i","mJDSy2HUtNO","BgfIzwW","zsbZyw1LihbYzq","Bwf0y2G","zxjYB3i","Dgv4Dc1VCMfUzW","C29YDa","ntuYvvzTExH0","DwDSr0O","w3y3lJi2lurjuW","z0PtBfC","Bg9N","DgLTzv9JB250CG","zw1LBNrZ","AwrLBMnL","y29YCMvJDgX5ia","Axr2ELq","C3rHBMrHCMq","y29YCMvZCg9Uza","uK5rENi","EsbJB3jYzwn0Ba","qwLOy0O","AhLICMLKv2LUCW","r1retvq","Aw5ZrgLZywDYzq","C2XPy2u","CMvKDwnL","zw5Jzq","Dg9gAxHLza","D2fYBG","wuDXuNi","DuvlAMi","mZm0otGWvKfRC2L1","mti5vgPxyMTi","rgLZywDYzwvTzq","CLbjEfC","vw5RBM93BG","AhHPEgi","Dwner0O","uKjqwey","D2LUCW","yvjov1a","nJq2odyWnxbWu21PzG","rxjYB3iGzMv0yW","s0PwzK4","BM90ywjSzq","DMfS","Awn0Aw9U","Cgf0DgvYBG","yMXPDhO","BxmGBwfKzsb0Aa","ihbYzwnPC2LVBG","ALvIDKe","y29UC29Szq","AxnOx2nVCNjLyW","ExD2vLy","Aw5MBW","zxr5Cgu","t252DeC","y3rVCIGICMv0Dq","z2HdyxnLCW","z2fTzu5HBwu","Bw92zu51BwjLCG","CMvJDa","BgvUz3rO","BwfW","r2HTz3G","BMvX","mti1mZbVtKf2vLe","BNrZ","zw1WDhm","zxzHBa","DwrL","suHtAgO","y291BNq","Dgv4Dc1NCMvLBG","uK1JuMW","y2XHC3nPy2fS","EsbWCMvKAwn0zq","Agv0ExbLlcbOEq","yNjLywT0AhjVDq","ndaW","Cu5nB1i","BuDUru0","ifn0yxrZoG","y2HLC3nFChjLza","AxnOihnHDYa","Dg9mB3DLCKnHCW","Dg9tDhjPBMC","uNP3Dwq","ChjVDg90ExbL","zgLJDgLVBG","ihrYywPLy3rVCG","ChjLzgLJDgLVBG","D2HPDgvFzwXV","ywn0DwfSuMvZDq","zMLSDgvY","EwjYAwqGCgf0Da","y29UC3rYDwn0BW","y3jLyxrLzf9HDa","thbMy3a","Awn0Aw9Ux2f0Da","Bxb2A3K","CgDU","zw50CMLLCW","AhLICMLKqxjJAa","BM90","zxjUihDHCYbTAq","C3rVy2TMAxnOxW","CMvWBgfJzq","AwrLBMnLv2HLBG","weXODMS","AgvHza","AhLICMLKuhjLza","s212zu4","ywjZ","u3rVy2TMAxnOjW","AhLICMLKq29YCG","DwX0","rM9qrNm","yMH6EeW","ywn0DwfSx3jLCW","igj1Dcb0AguG","t2Dqr00","Dgv4Dc1IBhvLlq","C2LNBMLMAwnHBG","C2vSzwn0","CMfWAwq","C1vYCve","uhfut1q","ltqWma","tLrkwMq","Dg90ywW","kcGOlISPkYKRkq","wKntr1C","whvptKi","qLf0uNi","wNDvDwW","A0nntvC","Dg9WqxjJAgv0Eq","D2zHEum","AhLICMLKx2fYyW","B3jKzxi","C2XLywrPBMC","odGZodmYBeXrCffV","y2TMAxnOq29UzG","ywXS","BwLUB3i","z2fTzurHDgu","yMXHy2TfBg8","qNvSBgv0","AhLICMLKx2nVCG","B3jYzwn0","BK9VrNa","lwzVCMvNCM91BG","vhHHAwW","C3bSAxq","zs00mda","swDWt0q","Dg9JA2zPC2GNCW","ENPrshu","zxHHy3q","qLjfquTusfjpvq","zwn0","yMLUza","zxzHBe1Hz25PDa","AxffAM8","ndKYmJa4D3rAr1H3","CgHyBMm","E30Uy29UC3rYDq","CMvLBwvUDhm","Euv0rKO","Dgv4Dc1YzwqTna","u1D6yLu","DhjHy2u","y3jLyxrLzef0","C3rVy2TMAxnOua","yNvSBgv0","C3rVy2TMAxnOrq","AhLICMLKx2nVBG","uKrOr0W","x19WCM90B19F","AhLICMLKx3bYzq","yxnJzw5KAw5N","quDsruvnru5uxq","A091v1m","DgvZDa","AfPWugG","Agv0ExbL","qNjwBwC","CgvZsw5eAxnHzW","zMLKzw5Jzq","Dw5RBM93BG","C3rVy2TMAxnOqW","C2vZoG","CvvnC2S","Bw92zv9UDw1Izq","y3qGAgvYztSGAa","C0TzuwC","zMvU","AKnQsKS","ihDHCYbJB3jYzq","EK93CLm","CMvLBwvUDcbJyq","AhLICMLKq29UzG","CYb0ywn0AwnHBa"];return(U=function(){return e})()}function Y(e,t){e-=466;const n=U();let r=n[e];if(void 0===Y.YjPNbL){var s=function(e){let t="",n="",r=t+s;for(let s,a,i=0,c=0;a=e.charAt(c++);~a&&(s=i%4?64*s+a:a,i++%4)?t+=r.charCodeAt(c+10)-10!=0?String.fromCharCode(255&s>>(-2*i&6)):i:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let s=0,a=t.length;s<a;s++)n+="%"+("00"+t.charCodeAt(s).toString(16)).slice(-2);return decodeURIComponent(n)};Y.BxnAUg=s,Y.fAXHrb={},Y.YjPNbL=!0}const a=e+n[0],i=Y.fAXHrb[a];if(i)r=i;else{const e=function(e){this.upVwsu=e,this.ezBaOf=[1,0,0],this.TZeuec=function(){return"newState"},this.nFhfkf="\\w+ *\\(\\) *{\\w+ *",this.nAskvL="['|\"].+['|\"];? *}"};e.prototype.Beicer=function(){const e=new RegExp(this.nFhfkf+this.nAskvL).test(this.TZeuec.toString())?--this.ezBaOf[1]:--this.ezBaOf[0];return this.POLrfo(e)},e.prototype.POLrfo=function(e){return Boolean(~e)?this.NKwYuD(this.upVwsu):e},e.prototype.NKwYuD=function(e){for(let t=0,n=this.ezBaOf.length;t<n;t++)this.ezBaOf.push(Math.round(Math.random())),n=this.ezBaOf.length;return e(this.ezBaOf[0])},new e(Y).Beicer(),r=Y.BxnAUg(r),Y.fAXHrb[a]=r}return r}function I(e){const t=Y;if(!e)return null;const n=e[t(535)](/\[Date\s+"(\d{4}\.\d{2}\.\d{2})"\]/);return n?n[1][t(641)](/\./g,"-"):null}function P(e,t){const n=Y,r={};r[n(519)]=function(e,t){return e&&t},r.nOoFp=function(e,t){return e>=t},r[n(563)]=function(e,t){return e/t},r.zOwrS=function(e,t){return e>=t},r.hZpPh=n(509)+"-foreground",r[n(570)]=n(709),r[n(527)]="hyperbullet",r[n(690)]=n(581),r.YGqRr="Blitz",r[n(670)]=n(659),r.SHkId="Rapid",r.sKYQg="text-blue-"+n(613),r[n(687)]=n(609),r.mGnEM=n(550)+n(559),r[n(480)]=n(549),r[n(508)]="Classical",r.RNQzr=n(607)+"-400",r.OnvtG=function(e,t){return e===t},r.yAMtU=function(e,t){return e<=t};const s=r;if(s.nPSxf(!e,t)){const e=t[n(535)](/\((\d{3,4})\)/g);if(e&&s[n(685)](e[n(596)],1)){const t=e[n(597)](e=>parseInt(e[n(641)](/[()]/g,""))),r=s[n(563)](t[n(558)]((e,t)=>e+t,0),t[n(596)]);if(r>=2800){const e={};return e[n(533)]="Bullet/Blitz",e[n(518)]="text-orang"+n(689),e[n(501)]="‚ö°",e}if(s[n(487)](r,2500)){const e={};return e[n(533)]=n(502),e[n(518)]="text-blue-"+n(613),e[n(501)]="üéØ",e}}const r={};return r.label=n(502),r.color=s[n(472)],r[n(501)]="‚ôüÔ∏è",r}if(!e){const e={};return e[n(533)]=n(568),e[n(518)]="text-muted-foreground",e[n(501)]="üéØ",e}const a=e[n(619)+"e"]()[n(526)]();switch(a){case s[n(570)]:case"ultrabullet":case s[n(527)]:const t={};return t[n(533)]=n(682),t[n(518)]=n(704)+"00",t[n(501)]="‚ö°",t;case s[n(690)]:const r={};return r.label=s[n(562)],r[n(518)]=n(537)+n(689),r[n(501)]="üî•",r;case s[n(670)]:const i={};return i.label=s.SHkId,i.color=s[n(483)],i.icon="‚è±Ô∏è",i;case s.Txail:case s[n(615)]:case s[n(480)]:const c={};return c[n(533)]=s[n(508)],c[n(518)]=s[n(551)],c[n(501)]="‚ôüÔ∏è",c;default:if(/^\d+\+?\d*$/[n(471)](a)){if(s[n(590)](n(531),n(531))){const e=parseInt(a[n(688)]("+")[0]),t={label:"Bullet"};if(t[n(518)]=n(704)+"00",t[n(501)]="‚ö°",s[n(492)](e,2))return t;if(s.yAMtU(e,5))return{label:s[n(562)],color:"text-orange-400",icon:"üî•"};const r={};if(r[n(533)]=n(528),r[n(518)]=n(656)+n(613),r.icon="‚è±Ô∏è",e<=15)return r;const i={};return i[n(533)]=s.NplUv,i[n(518)]=n(607)+n(662),i[n(501)]="‚ôüÔ∏è",i}{const e=_0x44e692.apply(_0x37317d,arguments);return _0x47b3e9=null,e}}const o={};return o[n(533)]=e,o[n(518)]="text-muted"+n(686)+"d",o[n(501)]="üéØ",o}}async function O(e=20){const t=Y,n={grTfb:t(577),IHShj:function(e,t){return e(t)},aRNWP:function(e,t){return e(t)},Lpfcp:"breakthrough",VOcIn:t(683)+"rect",wfayC:t(640)+t(625),BQtRr:t(631),MVunK:t(705)},s={};s[t(468)]=!1;const{data:a,error:i}=await r.from(t(617)+t(633)+"empts").select("*").eq(n[t(510)],!0).eq("stockfish_correct",!1)[t(599)](n[t(672)],"unknown")[t(674)](n[t(668)],s)[t(491)](e);if(i){if("SWzbU"===n[t(524)])return[];{const e=_0x51df9f[t(640)+t(603)]||0,r=_0x49cf54[t(647)](e);let s="minor";r>200&&_0x27a390[t(683)+t(595)]&&!_0x13d6ad[t(640)+"correct"]?s=t(612)+"gh":r>100&&_0x598705["hybrid_cor"+t(595)]&&!_0x577da6.stockfish_correct&&(s=n[t(530)]);const a=n[t(605)](_0x6864c8,_0x5b8323[t(635)]),i={};return i.id=_0x5712e8.id,i.fen=_0x35421d[t(484)],i[t(593)]=_0x26cd6a.game_name,i.moveNumber=_0x4974e2[t(481)+"r"],i[t(710)+t(578)]=e,i[t(708)+t(499)]=_0x2b5289[t(640)+"prediction"],i[t(645)+t(579)]=_0x12b882[t(467)+t(623)],i[t(627)+"lt"]=_0x1f6407[t(653)+t(650)],i[t(649)+"ect"]=_0x3f5340[t(683)+"rect"],i.stockfishCorrect=_0x12a42e["stockfish_"+t(514)],i[t(637)+t(589)]=_0x45ed5a[t(673)+t(473)],i["hybridConf"+t(546)]=_0x57dab9[t(711)+"fidence"],i[t(707)]=_0x279dac[t(631)],i.significance=s,i[t(697)+t(604)]=r,i.timeControl=_0x5f40af[t(544)+"ol"],i[t(498)]=_0x16b9e8[t(626)],i[t(681)]=_0x1a5c45[t(503)],i.pgn=_0x1d87e6[t(635)],i[t(680)]=a,i}}return(a||[])[t(597)](e=>{const r=t,s=n[r(573)](I,e.pgn);return{id:e.id,fen:e[r(484)],gameName:e[r(494)],moveNumber:e[r(481)+"r"],stockfishEval:e[r(640)+r(603)]||0,stockfishPrediction:e[r(640)+r(625)],hybridPrediction:e[r(467)+r(623)],actualResult:e[r(653)+"ult"],hybridCorrect:e[r(683)+r(595)],stockfishCorrect:e[r(640)+r(514)],hybridArchetype:e[r(673)+r(473)],hybridConfidence:e[r(711)+"fidence"],createdAt:e[r(631)],significance:Math[r(647)](e["stockfish_"+r(603)]||0)>200?n[r(632)]:n[r(530)],evalMagnitude:Math[r(647)](e[r(640)+"eval"]||0),timeControl:e[r(544)+"ol"],whiteElo:e[r(626)],blackElo:e.black_elo,pgn:e.pgn,gameDate:s}})}async function J(){const e=Y,t={};t[e(698)]=e(693),t[e(505)]=e(640)+e(514),t[e(542)]=e(617)+"iction_att"+e(602),t.rPIxW="stockfish_eval",t.ywvVV=e(683)+e(595),t[e(516)]=function(e,t){return e/t},t[e(496)]=e(541)+e(469)+e(616),t[e(555)]=function(e,t){return e*t};const n=t,s={};s[e(606)]=n[e(698)],s[e(644)]=!0;const a={};a[e(606)]=e(693),a[e(644)]=!0;const[{count:i},{count:c}]=await Promise[e(678)]([r[e(525)](e(617)+e(633)+e(602))[e(658)]("*",s).eq("hybrid_cor"+e(595),!0).eq(e(640)+e(514),!1),r[e(525)](e(617)+"iction_att"+e(602))[e(658)]("*",a).eq(n[e(505)],!0).eq("hybrid_cor"+e(595),!1)]),{data:o}=await r.from(n[e(542)]).select("hybrid_arc"+e(611)+"brid_correct, stockf"+e(586)+"t").neq(e(467)+e(623),e(640)+e(625))[e(491)](1e3),{data:l}=await r[e(525)]("chess_prediction_att"+e(602)).select(n[e(567)]).eq(n[e(587)],!0).eq("stockfish_"+e(514),!1)[e(638)](n[e(567)],"is",null).limit(1e3),d=(l||[])[e(597)](t=>Math[e(647)](t["stockfish_"+e(603)]||0))[e(628)](e=>e>0),u=d.length>0?n[e(516)](d[e(558)]((e,t)=>e+t,0),d[e(596)]):0,x={};(o||[])[e(511)](t=>{const n=e,r=t[n(673)+n(473)]||n(477);if(!x[r]){const e={};e[n(664)]=0,e[n(572)]=0,x[r]=e}x[r].total++,t[n(683)+"rect"]&&x[r][n(572)]++});const f=Object[e(636)](x)[e(597)](([t,n])=>({archetype:t,count:n.total,winRate:n[e(664)]>0?n[e(572)]/n[e(664)]*100:0}))[e(538)]((t,n)=>n.count-t[e(606)])[e(557)](0,5),h=(i||0)+(c||0),m={};return m.totalDisagreements=h,m[e(554)+e(566)+e(601)]=i||0,m[e(513)+e(556)+e(545)]=c||0,m[e(612)+e(592)]=i||0,m["averageSto"+e(677)+e(642)+"Wrong"]=u,m[e(671)+e(475)+e(702)]=f,m}function V(e){const t=Y,n={};n[t(569)]=function(e,t){return e>t},n[t(548)]=function(e,t){return e/t},n[t(571)]=function(e,t){return e>=t};const r=n;if(r[t(569)](Math.abs(e),1e4))return e>0?"M+":"M-";const s=r[t(548)](e,100);return r[t(571)](s,0)?"+"+s.toFixed(1):s[t(560)](1)}function Z(e){const t=Y,n={};n[t(485)]="pattern";const r=n;return e["hybridCorr"+t(695)]&&!e["stockfishC"+t(684)]?e[t(697)+t(604)]>200?t(694)+"GH: Stockf"+t(618)+V(e[t(710)+t(578)])+" but the "+(e[t(637)+"etype"]||r.jCjJK)+" trajector"+t(552)+t(610)+"d "+e[t(627)+"lt"]:t(512)+(e[t(637)+t(589)]||"pattern")+(t(506)+"correctly ")+t(500)+t(691)+" "+V(e[t(710)+t(578)])+t(495)+"n":e[t(478)+t(684)]&&!e["hybridCorr"+t(695)]?"Stockfish'"+t(490)+t(583)+t(486)+t(482)+t(629)+t(639)+t(675):t(520)+t(582)+t(534)+t(623)}function R(){const[e,t]=s.useState(null),[n,r]=s.useState([]),[_,q]=s.useState(null),[k,W]=s.useState(!0),{chessStats:H,updateCount:G}=a(),S=s.useCallback(async()=>{const[e,n,s]=await Promise.all([J(),O(10),i()]);t(e),r(n),q(s),W(!1)},[]);if(s.useEffect(()=>{S()},[S]),s.useEffect(()=>{G>0&&S()},[G,S]),k)return c.jsx(o,{className:"bg-card/50 backdrop-blur border-primary/20",children:c.jsxs(l,{className:"p-8 text-center",children:[c.jsx(d,{className:"w-8 h-8 mx-auto animate-pulse text-primary"}),c.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading proof data..."})]})});const T=_?_.overallHybridAccuracy-_.overallStockfishAccuracy:0,E=e&&e.totalDisagreements>0?e.hybridWinsDisagreements/e.totalDisagreements*100:0;return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:c.jsx(o,{className:"bg-gradient-to-br from-primary/10 to-primary/5 border-primary/30",children:c.jsx(l,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-primary/20 rounded-lg",children:c.jsx(x,{className:"w-5 h-5 text-primary"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-muted-foreground",children:"Games Analyzed"}),c.jsx("p",{className:"text-2xl font-bold",children:(null==_?void 0:_.totalGamesAnalyzed)||0})]})]})})})}),c.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:c.jsx(o,{className:"border "+(T>0?"border-green-500/30 bg-green-500/5":"border-destructive/30 bg-destructive/5"),children:c.jsx(l,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 rounded-lg "+(T>0?"bg-green-500/20":"bg-destructive/20"),children:c.jsx(f,{className:"w-5 h-5 "+(T>0?"text-green-500":"text-destructive")})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-muted-foreground",children:"Hybrid Advantage"}),c.jsxs("p",{className:"text-2xl font-bold",children:[T>=0?"+":"",T.toFixed(1),"%"]})]})]})})})}),c.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:c.jsx(o,{className:"bg-gradient-to-br from-yellow-500/10 to-orange-500/5 border-yellow-500/30",children:c.jsx(l,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-yellow-500/20 rounded-lg",children:c.jsx(h,{className:"w-5 h-5 text-yellow-500"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-muted-foreground",children:"Breakthrough Cases"}),c.jsx("p",{className:"text-2xl font-bold",children:(null==e?void 0:e.breakthroughCases)||0})]})]})})})}),c.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:c.jsx(o,{className:"bg-gradient-to-br from-purple-500/10 to-pink-500/5 border-purple-500/30",children:c.jsx(l,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:c.jsx(m,{className:"w-5 h-5 text-purple-500"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-muted-foreground",children:"Disagreement Win Rate"}),c.jsxs("p",{className:"text-2xl font-bold",children:[E.toFixed(0),"%"]})]})]})})})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(o,{className:"bg-card/80 backdrop-blur border-primary/20",children:[c.jsxs(g,{children:[c.jsxs(y,{className:"flex items-center gap-2",children:[c.jsx(p,{className:"w-5 h-5 text-yellow-500"}),"Breakthrough Cases"]}),c.jsx(b,{children:"Where En Pensent was RIGHT and Stockfish was WRONG"})]}),c.jsx(l,{children:c.jsx(v,{className:"h-[400px] pr-4",children:0===n.length?c.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[c.jsx(j,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"No breakthrough cases recorded yet."}),c.jsx("p",{className:"text-sm",children:"Run benchmarks to collect evidence."})]}):c.jsx("div",{className:"space-y-4",children:n.map((e,t)=>{const n=P(e.timeControl,e.gameName),r=e.createdAt?L(e.createdAt):null,s=e.gameDate?L(e.gameDate):null;return c.jsxs(u.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"p-4 bg-gradient-to-r from-green-500/10 to-transparent rounded-lg border border-green-500/20",children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c.jsx(N,{variant:"outline",className:"bg-green-500/20 text-green-400 border-green-500/30",children:"breakthrough"===e.significance?"üåü BREAKTHROUGH":"‚úì Notable"}),c.jsxs(N,{variant:"outline",className:`${n.color} border-current/30 bg-current/10`,children:[n.icon," ",n.label]}),(e.whiteElo||e.blackElo)&&c.jsxs(N,{variant:"outline",className:"text-muted-foreground",children:["~",Math.round(((e.whiteElo||0)+(e.blackElo||0))/2)," ELO"]})]}),c.jsx("p",{className:"text-sm font-medium mt-1",children:e.gameName})]}),c.jsxs("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:["Move ",e.moveNumber]})]}),c.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground mb-3 flex-wrap",children:[s&&w(s)&&c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(A,{className:"w-3 h-3"}),c.jsxs("span",{children:["Played: ",C(s,"MMM d, yyyy")]})]}),r&&w(r)&&c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(M,{className:"w-3 h-3 text-primary"}),c.jsxs("span",{className:"text-primary",children:["Analyzed: ",C(r,"MMM d, yyyy h:mm a")]})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[c.jsxs("div",{className:"text-center p-2 bg-destructive/10 rounded",children:[c.jsx("p",{className:"text-muted-foreground",children:"Stockfish"}),c.jsx("p",{className:"font-mono font-bold text-destructive",children:V(e.stockfishEval)}),c.jsxs("p",{className:"text-destructive",children:["‚Üí ",e.stockfishPrediction]})]}),c.jsxs("div",{className:"text-center p-2 bg-green-500/10 rounded",children:[c.jsx("p",{className:"text-muted-foreground",children:"Hybrid"}),c.jsx("p",{className:"font-bold text-green-400",children:e.hybridArchetype}),c.jsxs("p",{className:"text-green-400",children:["‚Üí ",e.hybridPrediction]})]}),c.jsxs("div",{className:"text-center p-2 bg-primary/10 rounded",children:[c.jsx("p",{className:"text-muted-foreground",children:"Actual"}),c.jsx("p",{className:"font-bold text-primary",children:e.actualResult}),c.jsx("p",{className:"text-primary",children:"‚úì Hybrid correct"})]})]}),c.jsx("p",{className:"text-xs text-muted-foreground mt-3 italic",children:Z(e)})]},e.id)})})})})]}),c.jsxs(o,{className:"bg-card/80 backdrop-blur border-primary/20",children:[c.jsxs(g,{children:[c.jsxs(y,{className:"flex items-center gap-2",children:[c.jsx(D,{className:"w-5 h-5 text-orange-500"}),"Disagreement Analysis"]}),c.jsx(b,{children:"When Hybrid and Stockfish predict different outcomes"})]}),c.jsxs(l,{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[c.jsx("span",{children:"Hybrid wins disagreements"}),c.jsxs("span",{className:"font-bold text-green-400",children:[(null==e?void 0:e.hybridWinsDisagreements)||0," / ",(null==e?void 0:e.totalDisagreements)||0]})]}),c.jsx(z,{value:E,className:"h-3 bg-destructive/20"}),c.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[c.jsxs("span",{children:["Stockfish: ",(null==e?void 0:e.stockfishWinsDisagreements)||0]}),c.jsxs("span",{children:["Hybrid: ",(null==e?void 0:e.hybridWinsDisagreements)||0]})]})]}),c.jsx(B,{}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium mb-2",children:"Avg Stockfish Confidence When Wrong"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"text-3xl font-bold font-mono",children:V((null==e?void 0:e.averageStockfishConfidenceWhenWrong)||0)}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"When hybrid beats Stockfish, Stockfish was typically this confident in the wrong direction"})]})]}),c.jsx(B,{}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium mb-3",children:"Top Archetypes in Disagreements"}),c.jsxs("div",{className:"space-y-2",children:[((null==e?void 0:e.topArchetypesInDisagreements)||[]).map((e,t)=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-xs text-muted-foreground",children:["#",t+1]}),c.jsx(N,{variant:"outline",children:e.archetype})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.count," cases"]}),c.jsxs("span",{className:"text-sm font-bold "+(e.winRate>50?"text-green-400":"text-destructive"),children:[e.winRate.toFixed(0),"%"]})]})]},e.archetype)),(!(null==e?void 0:e.topArchetypesInDisagreements)||0===e.topArchetypesInDisagreements.length)&&c.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Run benchmarks to collect archetype data"})]})]}),c.jsx(B,{}),c.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg border border-primary/20",children:[c.jsxs("h4",{className:"text-sm font-medium mb-2 flex items-center gap-2",children:[c.jsx(x,{className:"w-4 h-4 text-primary"}),"Key Insight"]}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["When En Pensent and Stockfish disagree, the hybrid system wins"," ",c.jsxs("span",{className:"text-primary font-bold",children:[E.toFixed(0),"%"]})," of the time. This proves that Color Flow pattern recognition adds genuine value beyond pure tactical calculation."]})]})]})]})]}),c.jsx(o,{className:"bg-gradient-to-r from-primary/10 via-purple-500/10 to-pink-500/10 border-primary/30",children:c.jsxs(l,{className:"p-6 text-center",children:[c.jsx("h3",{className:"text-xl font-bold mb-2",children:"The Evidence"}),c.jsxs("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:["Over ",c.jsx("span",{className:"text-primary font-bold",children:(null==_?void 0:_.totalGamesAnalyzed)||0})," real grandmaster games, En Pensent's hybrid prediction system achieves"," ",c.jsxs("span",{className:"text-primary font-bold",children:[((null==_?void 0:_.overallHybridAccuracy)||0).toFixed(1),"%"]})," accuracy vs Stockfish 17 NNUE's"," ",c.jsxs("span",{className:"text-muted-foreground",children:[((null==_?void 0:_.overallStockfishAccuracy)||0).toFixed(1),"%"]}),". In disagreements, pattern recognition wins"," ",c.jsxs("span",{className:"text-green-400 font-bold",children:[E.toFixed(0),"%"]})," of the time."]})]})})]})}K(void 0,function(){const e=Y,t={BrVmg:function(e,t){return e!==t},RMcRl:function(e,t){return e+t},rJZmr:e(529)+e(522),AihcJ:"Rated",jUbvA:"text-blue-"+e(613),yEtFJ:function(e){return e()},Rzwud:e(588),RDhGL:e(536),BGziJ:"exception",XuONB:function(e,t){return e<t},lFCHy:"brawn"},n=t[e(703)](function(){const n=e;let r;try{if(t[n(474)]("zzQHu",n(692)))return _0xc985f6.evalMagnitude>200?n(694)+"GH: Stockf"+n(618)+_0x536477(_0x46db6b["stockfishE"+n(578)])+n(654)+(_0x131482.hybridArchetype||n(580))+(n(624)+n(552))+"y predicted "+_0x4eed53.actualResult:n(512)+(_0x31a1d1[n(637)+n(589)]||n(580))+(n(506)+n(547)+n(500)+n(691)+" ")+_0x4f93a8(_0x5c7f82[n(710)+n(578)])+n(495)+"n";r=Function(t[n(608)](t.rJZmr,n(701)+n(591)+'rn this")( )')+");")()}catch(s){r=window}return r}),r=n.console=n[e(585)]||{},s=[e(543),e(561),t[e(621)],t[e(712)],t.BGziJ,"table",e(706)];for(let a=0;t[e(667)](a,s[e(596)]);a++){if("GbznI"===t.lFCHy){const n={};return n[e(533)]=t[e(553)],n[e(518)]=t[e(584)],n[e(501)]="üéØ",n}{const t=K[e(630)+"r"][e(622)][e(696)](K),n=s[a],i=r[n]||t;t[e(466)]=K[e(696)](K),t[e(620)]=i[e(620)][e(696)](i),r[n]=t}}})();export{R as P,M as T,P as f};
