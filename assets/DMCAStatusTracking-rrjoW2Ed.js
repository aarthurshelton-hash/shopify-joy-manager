import{u as e,r as s,j as a,H as t,aA as r,au as i,bs as n,B as c,A as d,b7 as l,v as o,C as m,x as u,b1 as x,cS as h,aB as j,aC as p,aD as g,aE as f,p as N,t as b,w,F as v,aF as y,s as _,y as k,D as C,cR as M,cb as D}from"./index-DeSwrHRg.js";import{A as R,a as A,b as S}from"./alert-C7KazW3B.js";import{C as F}from"./circle-alert-BQoTEsXl.js";import{F as T}from"./file-warning-B_pgwRgU.js";const Y=e=>{switch(e){case"pending":return a.jsxs(k,{variant:"outline",className:"border-amber-500 text-amber-600 bg-amber-500/10",children:[a.jsx(D,{className:"w-3 h-3 mr-1"}),"Pending Review"]});case"reviewed":return a.jsxs(k,{variant:"outline",className:"border-blue-500 text-blue-600 bg-blue-500/10",children:[a.jsx(F,{className:"w-3 h-3 mr-1"}),"Under Review"]});case"action_taken":return a.jsxs(k,{className:"bg-green-500",children:[a.jsx(M,{className:"w-3 h-3 mr-1"}),"Action Taken"]});case"approved":return a.jsxs(k,{className:"bg-green-500",children:[a.jsx(M,{className:"w-3 h-3 mr-1"}),"Approved"]});case"rejected":return a.jsxs(k,{variant:"destructive",children:[a.jsx(C,{className:"w-3 h-3 mr-1"}),"Rejected"]});case"dismissed":return a.jsxs(k,{variant:"outline",className:"border-muted-foreground text-muted-foreground",children:[a.jsx(C,{className:"w-3 h-3 mr-1"}),"Dismissed"]});default:return a.jsx(k,{variant:"outline",children:e})}},q=(e,s)=>{if("report"===s)switch(e){case"pending":return"Your report is in the queue and will be reviewed by our legal team within 5-7 business days.";case"reviewed":return"Our team is actively investigating your claim and may reach out for additional information.";case"action_taken":return"We have taken action on the reported content based on your DMCA notice.";case"rejected":return"After review, we determined that the report does not meet DMCA requirements.";case"dismissed":return"This report was dismissed. Please contact us if you believe this was in error.";default:return"Status unknown. Please contact support."}else switch(e){case"pending":return"Your counter-notification is being reviewed. This process typically takes 10-14 business days.";case"reviewed":return"We are verifying the information in your counter-notification.";case"approved":return"Your counter-notification was accepted. The content may be restored.";case"rejected":return"Your counter-notification was not accepted. You may pursue legal remedies.";default:return"Status unknown. Please contact support."}},I=()=>{const{user:k,isLoading:C}=e(),[M,D]=s.useState([]),[I,P]=s.useState([]),[B,E]=s.useState(!0),[U,W]=s.useState(!1),H=async()=>{if(k)try{const[e,s]=await Promise.all([_.from("dmca_reports").select("id, created_at, updated_at, status, copyrighted_work_description, infringing_material_url, infringing_material_description, reviewed_at").eq("user_id",k.id).order("created_at",{ascending:!1}),_.from("dmca_counter_notifications").select("id, created_at, updated_at, status, removed_content_description, original_takedown_description").eq("user_id",k.id).order("created_at",{ascending:!1})]);e.data&&D(e.data),s.data&&P(s.data)}catch(e){}finally{E(!1),W(!1)}};s.useEffect(()=>{!C&&k?H():C||k||E(!1)},[k,C]);if(C||B)return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(t,{}),a.jsxs("main",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[a.jsx(r,{className:"h-8 w-64 mb-4"}),a.jsx(r,{className:"h-4 w-96 mb-8"}),a.jsx(r,{className:"h-48 w-full"})]}),a.jsx(i,{})]});if(!k)return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(t,{}),a.jsxs("main",{className:"container mx-auto px-4 py-12 max-w-2xl",children:[a.jsxs(R,{children:[a.jsx(F,{className:"h-4 w-4"}),a.jsx(A,{children:"Sign In Required"}),a.jsx(S,{children:"You must be signed in to track your DMCA reports. Reports submitted while not signed in cannot be tracked onlineâ€”you will receive updates via email."})]}),a.jsx("div",{className:"mt-6 flex gap-4",children:a.jsx(n,{to:"/dmca",children:a.jsxs(c,{variant:"outline",children:[a.jsx(d,{className:"w-4 h-4 mr-2"}),"Back to DMCA"]})})})]}),a.jsx(i,{})]});const L=0===M.length&&0===I.length;return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(t,{}),a.jsxs("main",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[a.jsxs(c,{variant:"ghost",onClick:()=>window.history.back(),className:"mb-6",children:[a.jsx(d,{className:"w-4 h-4 mr-2"}),"Back"]}),a.jsxs("div",{className:"flex items-start justify-between mb-8",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:a.jsx(l,{className:"w-6 h-6 text-primary"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"DMCA Status Tracking"}),a.jsx("p",{className:"text-muted-foreground",children:"Track the progress of your DMCA reports and counter-notifications"})]})]}),a.jsxs(c,{variant:"outline",size:"sm",onClick:()=>{W(!0),H()},disabled:U,children:[a.jsx(o,{className:"w-4 h-4 mr-2 "+(U?"animate-spin":"")}),"Refresh"]})]}),L?a.jsx(m,{children:a.jsxs(u,{className:"py-16 text-center",children:[a.jsx(x,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("h2",{className:"text-lg font-medium mb-2",children:"No Submissions Found"}),a.jsx("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:"You haven't submitted any DMCA reports or counter-notifications while signed in. Reports submitted anonymously are tracked via email only."}),a.jsxs("div",{className:"flex gap-4 justify-center",children:[a.jsx(n,{to:"/dmca",children:a.jsxs(c,{children:[a.jsx(T,{className:"w-4 h-4 mr-2"}),"File a Report"]})}),a.jsx(n,{to:"/dmca/counter-notification",children:a.jsxs(c,{variant:"outline",children:[a.jsx(h,{className:"w-4 h-4 mr-2"}),"File Counter-Notice"]})})]})]})}):a.jsxs(j,{defaultValue:"reports",className:"space-y-6",children:[a.jsxs(p,{className:"grid w-full grid-cols-2",children:[a.jsxs(g,{value:"reports",className:"gap-2",children:[a.jsx(T,{className:"w-4 h-4"}),"Reports (",M.length,")"]}),a.jsxs(g,{value:"counter",className:"gap-2",children:[a.jsx(h,{className:"w-4 h-4"}),"Counter-Notices (",I.length,")"]})]}),a.jsx(f,{value:"reports",className:"space-y-4",children:0===M.length?a.jsx(m,{children:a.jsxs(u,{className:"py-12 text-center",children:[a.jsx(T,{className:"w-10 h-10 mx-auto text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"No DMCA reports submitted yet"}),a.jsx(n,{to:"/dmca",children:a.jsx(c,{children:"File a Report"})})]})}):M.map(e=>a.jsxs(m,{children:[a.jsx(N,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsxs(b,{className:"text-base",children:["Report #",e.id.slice(0,8).toUpperCase()]}),a.jsxs(w,{children:["Submitted ",v(new Date(e.created_at),"MMM d, yyyy h:mm a")]})]}),Y(e.status)]})}),a.jsxs(u,{className:"space-y-4",children:[a.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg text-sm",children:[a.jsx("p",{className:"font-medium mb-1",children:"Status Explanation"}),a.jsx("p",{className:"text-muted-foreground",children:q(e.status,"report")})]}),a.jsxs("div",{className:"grid gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-muted-foreground mb-1",children:"Copyrighted Work"}),a.jsx("p",{className:"line-clamp-2",children:e.copyrighted_work_description})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-muted-foreground mb-1",children:"Infringing URL"}),a.jsxs("a",{href:e.infringing_material_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline inline-flex items-center gap-1",children:[e.infringing_material_url.length>60?e.infringing_material_url.slice(0,60)+"...":e.infringing_material_url,a.jsx(y,{className:"w-3 h-3"})]})]}),e.reviewed_at&&a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-muted-foreground mb-1",children:"Reviewed"}),a.jsx("p",{children:v(new Date(e.reviewed_at),"MMM d, yyyy h:mm a")})]})]})]})]},e.id))}),a.jsx(f,{value:"counter",className:"space-y-4",children:0===I.length?a.jsx(m,{children:a.jsxs(u,{className:"py-12 text-center",children:[a.jsx(h,{className:"w-10 h-10 mx-auto text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"No counter-notifications submitted yet"}),a.jsx(n,{to:"/dmca/counter-notification",children:a.jsx(c,{children:"File Counter-Notice"})})]})}):I.map(e=>a.jsxs(m,{children:[a.jsx(N,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsxs(b,{className:"text-base",children:["Counter-Notice #",e.id.slice(0,8).toUpperCase()]}),a.jsxs(w,{children:["Submitted ",v(new Date(e.created_at),"MMM d, yyyy h:mm a")]})]}),Y(e.status)]})}),a.jsxs(u,{className:"space-y-4",children:[a.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg text-sm",children:[a.jsx("p",{className:"font-medium mb-1",children:"Status Explanation"}),a.jsx("p",{className:"text-muted-foreground",children:q(e.status,"counter")})]}),a.jsxs("div",{className:"grid gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-muted-foreground mb-1",children:"Removed Content Description"}),a.jsx("p",{className:"line-clamp-2",children:e.removed_content_description})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-muted-foreground mb-1",children:"Original Takedown Claim"}),a.jsx("p",{className:"line-clamp-2",children:e.original_takedown_description})]})]})]})]},e.id))})]}),a.jsxs(m,{className:"mt-8",children:[a.jsx(N,{children:a.jsxs(b,{className:"text-base flex items-center gap-2",children:[a.jsx(F,{className:"w-4 h-4 text-primary"}),"Need Help?"]})}),a.jsxs(u,{className:"text-sm text-muted-foreground space-y-2",children:[a.jsxs("p",{children:["If you have questions about your report status or need to provide additional information, please contact our legal team at ",a.jsx("a",{href:"mailto:legal@enpensent.com",className:"text-primary hover:underline",children:"legal@enpensent.com"}),"."]}),a.jsx("p",{children:"Include your report ID in all correspondence for faster processing."})]})]})]}),a.jsx(i,{})]})};export{I as default};
