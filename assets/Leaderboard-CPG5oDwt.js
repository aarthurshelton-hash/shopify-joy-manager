import{u as e,r as s,j as a,H as t,bi as r,aB as i,aC as n,aD as l,bo as d,b4 as o,aE as c,aT as m,bp as x,bq as p,am as h,br as u,P as g,bj as f,aU as j,aj as y,aV as b,aZ as N,aO as v,b7 as w,al as _,bs as k,b2 as C,aY as S,ad as z,q as R,au as W,s as L,bt as D}from"./index-DEc03Eh1.js";import{R as I}from"./rocket-DUyu1Jks.js";import{T as A}from"./trending-down-IGGanLOz.js";import{M as P}from"./medal-CnQ60So1.js";const $={top_creator:{id:"top_creator",name:"Top Creator",icon:"crown",color:"from-yellow-500 to-amber-500",description:"Ranked #1 this week"},rising_star:{id:"rising_star",name:"Rising Star",icon:"rocket",color:"from-blue-500 to-cyan-500",description:"Climbed 3+ ranks this week"},prolific_artist:{id:"prolific_artist",name:"Prolific Artist",icon:"zap",color:"from-purple-500 to-pink-500",description:"10+ visualizations created"},curator:{id:"curator",name:"Curator",icon:"star",color:"from-amber-500 to-orange-500",description:"20+ games favorited"},palette_master:{id:"palette_master",name:"Palette Master",icon:"target",color:"from-green-500 to-emerald-500",description:"5+ custom palettes"},on_fire:{id:"on_fire",name:"On Fire",icon:"flame",color:"from-red-500 to-orange-500",description:"Active 3+ days this week"},top_10:{id:"top_10",name:"Top 10",icon:"award",color:"from-indigo-500 to-violet-500",description:"Ranked in top 10"},consistent:{id:"consistent",name:"Consistent",icon:"trophy",color:"from-teal-500 to-cyan-500",description:"Active for 4+ weeks"},chess_champion:{id:"chess_champion",name:"Chess Champion",icon:"swords",color:"from-yellow-600 to-amber-600",description:"10+ chess victories"},undefeated:{id:"undefeated",name:"Undefeated",icon:"shield",color:"from-emerald-500 to-teal-500",description:"5+ wins with no losses"}},E=({badge:e})=>{const s={trophy:r,star:b,zap:S,target:N,award:x,rocket:I,flame:f,crown:R,swords:u,shield:w}[e.icon];return a.jsx(s,{className:"h-3 w-3"})},V=[{userId:"proj-1",displayName:"ChessMaster_Art",visualizations:47,favorites:28,palettes:12,chessWins:15,chessLosses:3,chessDraws:2,eloRating:1842,totalScore:257,rankChange:0,badges:[$.top_creator,$.chess_champion,$.palette_master]},{userId:"proj-2",displayName:"KingsPawn",visualizations:39,favorites:34,palettes:8,chessWins:12,chessLosses:5,chessDraws:1,eloRating:1756,totalScore:224,rankChange:2,badges:[$.rising_star,$.chess_champion]},{userId:"proj-3",displayName:"QueensGambit",visualizations:35,favorites:22,palettes:15,chessWins:8,chessLosses:2,chessDraws:3,eloRating:1698,totalScore:192,rankChange:-1,badges:[$.palette_master,$.prolific_artist]},{userId:"proj-4",displayName:"SicilianDefender",visualizations:31,favorites:19,palettes:11,chessWins:10,chessLosses:4,chessDraws:2,eloRating:1623,totalScore:180,rankChange:1,badges:[$.on_fire,$.chess_champion]},{userId:"proj-5",displayName:"RookEndgame",visualizations:28,favorites:25,palettes:6,chessWins:7,chessLosses:0,chessDraws:1,eloRating:1587,totalScore:153,rankChange:-2,badges:[$.undefeated,$.top_10]},{userId:"proj-6",displayName:"BishopPair",visualizations:26,favorites:18,palettes:9,chessWins:5,chessLosses:3,chessDraws:2,eloRating:1445,totalScore:131,rankChange:3,badges:[$.rising_star,$.top_10]},{userId:"proj-7",displayName:"KnightRider64",visualizations:24,favorites:21,palettes:5,chessWins:4,chessLosses:2,chessDraws:1,eloRating:1378,totalScore:120,rankChange:0,badges:[$.consistent,$.top_10]},{userId:"proj-8",displayName:"EnPassantPro",visualizations:22,favorites:16,palettes:8,chessWins:3,chessLosses:1,chessDraws:0,eloRating:1312,totalScore:107,rankChange:1,badges:[$.palette_master]},{userId:"proj-9",displayName:"CastleKing",visualizations:20,favorites:14,palettes:7,chessWins:2,chessLosses:3,chessDraws:1,eloRating:1256,totalScore:92,rankChange:-1,badges:[$.consistent]},{userId:"proj-10",displayName:"PawnStorm",visualizations:18,favorites:12,palettes:6,chessWins:1,chessLosses:2,chessDraws:0,eloRating:1200,totalScore:77,rankChange:2,badges:[$.rising_star,$.top_10]}],T=({change:e})=>0===e?a.jsx("span",{className:"flex items-center gap-0.5 text-muted-foreground/50",children:a.jsx(D,{className:"h-3 w-3"})}):e>0?a.jsxs(m.span,{initial:{y:5,opacity:0},animate:{y:0,opacity:1},className:"flex items-center gap-0.5 text-green-500",children:[a.jsx(z,{className:"h-3 w-3"}),a.jsx("span",{className:"text-xs font-display",children:e})]}):a.jsxs(m.span,{initial:{y:-5,opacity:0},animate:{y:0,opacity:1},className:"flex items-center gap-0.5 text-red-500",children:[a.jsx(A,{className:"h-3 w-3"}),a.jsx("span",{className:"text-xs font-display",children:Math.abs(e)})]}),F=({badges:e,compact:s=!1})=>0===e.length?null:a.jsxs("div",{className:`flex ${s?"gap-1":"gap-1.5"} flex-wrap`,children:[e.slice(0,s?2:3).map((e,t)=>a.jsxs(m.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.1*t,type:"spring",stiffness:500},className:"group relative",children:[a.jsxs("div",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded-full bg-gradient-to-r ${e.color} text-white ${s?"text-[10px]":"text-xs"}`,children:[a.jsx(E,{badge:e}),!s&&a.jsx("span",{className:"font-display",children:e.name})]}),a.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-2 py-1 bg-popover border border-border rounded-md text-xs whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10",children:[a.jsx("p",{className:"font-display font-medium",children:e.name}),a.jsx("p",{className:"text-muted-foreground text-[10px]",children:e.description})]})]},e.id)),e.length>(s?2:3)&&a.jsxs("span",{className:"text-[10px] text-muted-foreground font-display",children:["+",e.length-(s?2:3)]})]}),O=e=>{switch(e){case 1:return a.jsx(R,{className:"h-6 w-6 text-yellow-500"});case 2:return a.jsx(P,{className:"h-6 w-6 text-gray-400"});case 3:return a.jsx(P,{className:"h-6 w-6 text-amber-600"});default:return a.jsx("span",{className:"w-6 h-6 flex items-center justify-center text-sm font-display text-muted-foreground",children:e})}},M=e=>{switch(e){case 1:return"bg-gradient-to-r from-yellow-500/20 to-amber-500/20 border-yellow-500/40";case 2:return"bg-gradient-to-r from-gray-400/20 to-slate-400/20 border-gray-400/40";case 3:return"bg-gradient-to-r from-amber-600/20 to-orange-500/20 border-amber-600/40";default:return"bg-card/50 border-border/50"}},G=()=>{const{user:D,isPremium:I}=e(),[A,P]=s.useState(!0),[G,H]=s.useState([]),[B,Y]=s.useState([]),[q,K]=s.useState(null),[U,Q]=s.useState("all"),[Z,J]=s.useState("creators"),[X,ee]=s.useState(!1);s.useEffect(()=>{(async()=>{if("visions"===Z){ee(!0);try{const{data:e,error:s}=await L.from("vision_scores").select("\n            *,\n            saved_visualizations!inner (\n              id,\n              title,\n              image_path,\n              user_id\n            )\n          ").order("total_score",{ascending:!1}).limit(25);if(s)throw s;const a=[...new Set((null==e?void 0:e.map(e=>{var s;return null==(s=e.saved_visualizations)?void 0:s.user_id}).filter(Boolean))||[])],{data:t}=await L.from("profiles").select("user_id, display_name").in("user_id",a),r={};null==t||t.forEach(e=>{r[e.user_id]=e.display_name||"Anonymous"});const i=(e||[]).map((e,s)=>{var a,t,i,n;return{id:e.visualization_id,title:(null==(a=e.saved_visualizations)?void 0:a.title)||"Untitled Vision",ownerName:r[null==(t=e.saved_visualizations)?void 0:t.user_id]||"Anonymous",ownerId:null==(i=e.saved_visualizations)?void 0:i.user_id,totalScore:Number(e.total_score)||0,viewCount:e.view_count||0,downloadHdCount:e.download_hd_count||0,downloadGifCount:e.download_gif_count||0,tradeCount:e.trade_count||0,printOrderCount:e.print_order_count||0,imagePath:(null==(n=e.saved_visualizations)?void 0:n.image_path)||"",rank:s+1}});Y(i)}catch(e){Y([])}finally{ee(!1)}}})()},[Z]),s.useEffect(()=>{(async()=>{var e,s,a,t,r;P(!0);try{const[i,n,l,d,o]=await Promise.all([L.from("saved_visualizations").select("user_id"),L.from("favorite_games").select("user_id"),L.from("saved_palettes").select("user_id"),L.from("profiles").select("user_id, display_name, elo_rating"),L.from("chess_games").select("white_player_id, black_player_id, result, winner_id").eq("status","completed")]),c={},m=e=>{c[e]||(c[e]={visualizations:0,favorites:0,palettes:0,chessWins:0,chessLosses:0,chessDraws:0})};null==(e=i.data)||e.forEach(e=>{m(e.user_id),c[e.user_id].visualizations++}),null==(s=n.data)||s.forEach(e=>{m(e.user_id),c[e.user_id].favorites++}),null==(a=l.data)||a.forEach(e=>{m(e.user_id),c[e.user_id].palettes++}),null==(t=o.data)||t.forEach(e=>{const s=e.white_player_id,a=e.black_player_id;s&&m(s),a&&m(a),"draw"===e.result?(s&&c[s].chessDraws++,a&&c[a].chessDraws++):"white_wins"===e.result?(s&&c[s].chessWins++,a&&c[a].chessLosses++):"black_wins"===e.result&&(a&&c[a].chessWins++,s&&c[s].chessLosses++)});const x={};null==(r=d.data)||r.forEach(e=>{x[e.user_id]={displayName:e.display_name||"Anonymous Artist",eloRating:e.elo_rating||1200}});const p=Object.entries(c).map(([e,s])=>{const a=3*s.visualizations+2*s.favorites+2*s.palettes+5*s.chessWins+1*s.chessDraws,t=Math.floor(7*Math.random())-3,r=x[e];return{userId:e,displayName:(null==r?void 0:r.displayName)||"Anonymous Artist",visualizations:s.visualizations,favorites:s.favorites,palettes:s.palettes,chessWins:s.chessWins,chessLosses:s.chessLosses,chessDraws:s.chessDraws,eloRating:(null==r?void 0:r.eloRating)||1200,totalScore:a,rank:0,rankChange:t,badges:[]}}).sort((e,s)=>s.totalScore-e.totalScore);let h=[...p];if(p.length<10){const e=10-p.length,s=V.slice(0,e).map(e=>({...e,rank:0}));h=[...p,...s]}if(h.sort((e,s)=>s.totalScore-e.totalScore),h=h.map((e,s)=>{const a=s+1,t=e.badges.length>0?e.badges:((e,s,a)=>{const t=[];return 1===s&&t.push($.top_creator),s<=10&&t.push($.top_10),a>=3&&t.push($.rising_star),e.visualizations>=10&&t.push($.prolific_artist),e.favorites>=20&&t.push($.curator),e.palettes>=5&&t.push($.palette_master),e.chessWins>=10&&t.push($.chess_champion),e.chessWins>=5&&0===e.chessLosses&&t.push($.undefeated),t.slice(0,3)})({visualizations:e.visualizations,favorites:e.favorites,palettes:e.palettes,chessWins:e.chessWins,chessLosses:e.chessLosses},a,e.rankChange);return{...e,rank:a,badges:t}}),H(h.slice(0,25)),D){const e=h.find(e=>e.userId===D.id);e&&K(e)}}catch(i){H(V.map((e,s)=>({...e,rank:s+1})))}finally{P(!1)}})()},[D,U]);const se=({vision:e,index:s})=>a.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*s},className:`p-4 rounded-lg border ${M(e.rank)} flex items-center gap-4`,children:[a.jsx("div",{className:"w-10 h-10 flex items-center justify-center shrink-0",children:O(e.rank)}),a.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-muted shrink-0",children:e.imagePath?a.jsx("img",{src:`https://aufycarwflhsdgszbnop.supabase.co/storage/v1/object/public/visualizations/${e.imagePath}`,alt:e.title,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(_,{className:"h-5 w-5 text-muted-foreground"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx(k,{to:`/vision/${e.id}`,className:"font-display font-bold text-sm hover:text-primary transition-colors truncate block",children:e.title}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["by ",e.ownerName]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-3 text-center shrink-0",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-display font-bold",children:e.viewCount}),a.jsxs("p",{className:"text-[10px] text-muted-foreground flex items-center justify-center gap-0.5",children:[a.jsx(h,{className:"h-2.5 w-2.5"}),"Views"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-display font-bold",children:e.downloadHdCount+e.downloadGifCount}),a.jsx("p",{className:"text-[10px] text-muted-foreground",children:"DLs"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-display font-bold",children:e.tradeCount}),a.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Trades"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-display font-bold text-primary",children:e.totalScore.toFixed(2)}),a.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Score"})]})]})]});return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(t,{}),a.jsx("main",{className:"container mx-auto px-4 py-16",children:a.jsxs("div",{className:"max-w-4xl mx-auto space-y-10",children:[a.jsxs("div",{className:"text-center space-y-6",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 px-5 py-2.5 rounded-full bg-primary/10 border border-primary/20 text-primary text-sm font-display uppercase tracking-widest",children:[a.jsx(r,{className:"h-4 w-4"}),"Community Rankings"]}),a.jsxs("h1",{className:"text-4xl md:text-5xl font-royal font-bold uppercase tracking-wide",children:["Community ",a.jsx("span",{className:"text-gold-gradient",children:"Leaderboard"})]}),a.jsx("p",{className:"text-lg text-muted-foreground font-serif leading-relaxed max-w-2xl mx-auto",children:"Celebrating the most active artists, curators, and top-performing visions."})]}),a.jsxs(i,{value:Z,onValueChange:e=>J(e),className:"w-full",children:[a.jsxs(n,{className:"grid w-full grid-cols-2 max-w-md mx-auto",children:[a.jsxs(l,{value:"creators",className:"gap-2",children:[a.jsx(d,{className:"h-4 w-4"}),"Creators"]}),a.jsxs(l,{value:"visions",className:"gap-2",children:[a.jsx(o,{className:"h-4 w-4"}),"Vision Scores"]})]}),a.jsxs(c,{value:"creators",className:"mt-8 space-y-6",children:[a.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-6 rounded-lg border border-primary/30 bg-gradient-to-br from-primary/10 via-primary/5 to-transparent",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(x,{className:"h-5 w-5 text-primary"}),a.jsx("h3",{className:"font-display font-bold uppercase tracking-wider",children:"Weekly Achievements"})]}),a.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide snap-x snap-mandatory md:grid md:grid-cols-4 md:overflow-visible md:pb-0",children:Object.values($).slice(0,4).map((e,s)=>a.jsxs(m.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1*s},className:"p-3 rounded-lg bg-card/50 border border-border/30 text-center group hover:border-primary/30 transition-colors min-w-[140px] sm:min-w-[160px] md:min-w-0 snap-start",children:[a.jsx("div",{className:`w-10 h-10 rounded-full bg-gradient-to-r ${e.color} flex items-center justify-center mx-auto mb-2 group-hover:scale-110 transition-transform`,children:a.jsx(E,{badge:e})}),a.jsx("p",{className:"text-xs font-display font-medium",children:e.name}),a.jsx("p",{className:"text-[10px] text-muted-foreground",children:e.description})]},e.id))})]}),a.jsx("div",{className:"flex justify-center gap-2",children:["all","month","week"].map(e=>a.jsx("button",{onClick:()=>Q(e),className:"px-4 py-2 rounded-lg text-sm font-display uppercase tracking-wider transition-all "+(U===e?"bg-primary text-primary-foreground":"bg-card/50 border border-border/50 text-muted-foreground hover:border-primary/30"),children:"all"===e?"All Time":"month"===e?"This Month":"This Week"},e))}),D&&q&&a.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-6 rounded-lg border border-primary/40 bg-gradient-to-br from-primary/10 via-primary/5 to-transparent",children:a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-14 h-14 rounded-full bg-primary/20 flex items-center justify-center",children:a.jsx(d,{className:"h-7 w-7 text-primary"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground font-display uppercase tracking-wider",children:"Your Rank"}),a.jsx(T,{change:q.rankChange})]}),a.jsxs("p",{className:"text-3xl font-display font-bold",children:["#",q.rank]})]})]}),a.jsx(F,{badges:q.badges}),a.jsxs("div",{className:"flex gap-6 flex-wrap",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:`inline-block px-2 py-0.5 rounded-full bg-gradient-to-r ${p(q.eloRating).color} text-white text-xs font-display mb-1`,children:p(q.eloRating).name}),a.jsx("p",{className:"text-2xl font-display font-bold",children:q.eloRating}),a.jsx("p",{className:"text-xs text-muted-foreground font-display uppercase",children:"ELO"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-display font-bold",children:q.visualizations}),a.jsx("p",{className:"text-xs text-muted-foreground font-display uppercase",children:"Artworks"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-display font-bold",children:q.chessWins}),a.jsx("p",{className:"text-xs text-muted-foreground font-display uppercase",children:"Wins"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-display font-bold",children:q.totalScore}),a.jsx("p",{className:"text-xs text-muted-foreground font-display uppercase",children:"Score"})]})]})]})}),a.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:G.slice(0,3).map((e,s)=>{const t=G[[1,0,2][s]];return t?a.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*s},className:`p-6 rounded-lg border ${M(t.rank)} ${1===t.rank?"md:scale-105 md:-translate-y-2":""}`,children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-background/50 flex items-center justify-center mx-auto",children:O(t.rank)}),a.jsx("div",{className:"absolute -top-1 -right-1",children:a.jsx(T,{change:t.rankChange})})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-display font-bold text-lg",children:t.displayName}),a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full bg-gradient-to-r ${p(t.eloRating).color} text-white font-display`,children:t.eloRating}),a.jsxs("p",{className:"text-sm text-muted-foreground font-serif",children:["Rank #",t.rank]})]})]}),a.jsx(F,{badges:t.badges,compact:!0}),a.jsxs("div",{className:"flex justify-center gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[a.jsx(h,{className:"h-3.5 w-3.5"}),a.jsx("span",{children:t.visualizations})]}),a.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[a.jsx(u,{className:"h-3.5 w-3.5"}),a.jsxs("span",{children:[t.chessWins,"W"]})]}),a.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[a.jsx(g,{className:"h-3.5 w-3.5"}),a.jsx("span",{children:t.palettes})]})]}),a.jsxs("div",{className:"pt-2 border-t border-border/30",children:[a.jsx("p",{className:"text-2xl font-display font-bold text-primary",children:t.totalScore}),a.jsx("p",{className:"text-xs text-muted-foreground font-display uppercase tracking-wider",children:"Total Score"})]})]})},t.userId):null})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(f,{className:"h-5 w-5 text-primary"}),a.jsx("h2",{className:"text-xl font-display font-bold uppercase tracking-wider",children:"Full Rankings"})]}),a.jsxs("div",{className:"rounded-lg border border-border/50 overflow-hidden",children:[a.jsxs("div",{className:"grid grid-cols-16 gap-4 p-4 bg-card/80 border-b border-border/30 text-xs font-display uppercase tracking-wider text-muted-foreground",children:[a.jsx("div",{className:"col-span-1",children:"Rank"}),a.jsx("div",{className:"col-span-4",children:"Creator"}),a.jsx("div",{className:"col-span-2 text-center",children:"ELO"}),a.jsx("div",{className:"col-span-3",children:"Badges"}),a.jsx("div",{className:"col-span-2 text-center",children:"Artworks"}),a.jsx("div",{className:"col-span-2 text-center",children:"Wins"}),a.jsx("div",{className:"col-span-2 text-center",children:"Score"})]}),A?a.jsx("div",{className:"p-8 text-center text-muted-foreground font-serif",children:"Loading rankings..."}):a.jsx(j,{children:G.map((e,s)=>a.jsxs(m.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},transition:{delay:.03*s},className:"grid grid-cols-16 gap-4 p-4 items-center border-b border-border/20 hover:bg-card/50 transition-colors "+(D&&e.userId===D.id?"bg-primary/5":""),children:[a.jsxs("div",{className:"col-span-1 flex items-center gap-1",children:[O(e.rank),a.jsx(T,{change:e.rankChange})]}),a.jsxs("div",{className:"col-span-4 flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:a.jsx(d,{className:"h-4 w-4 text-primary/70"})}),a.jsx("span",{className:"font-display font-medium truncate",children:e.displayName}),e.rank<=3&&a.jsx(y,{className:"h-3.5 w-3.5 text-primary flex-shrink-0"})]}),a.jsx("div",{className:"col-span-2 text-center",children:a.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full bg-gradient-to-r ${p(e.eloRating).color} text-white font-display`,children:e.eloRating})}),a.jsx("div",{className:"col-span-3",children:a.jsx(F,{badges:e.badges,compact:!0})}),a.jsx("div",{className:"col-span-2 text-center",children:a.jsx("span",{className:"font-display",children:e.visualizations})}),a.jsx("div",{className:"col-span-2 text-center",children:a.jsx("span",{className:"font-display text-green-500",children:e.chessWins})}),a.jsx("div",{className:"col-span-2 text-center",children:a.jsx("span",{className:"font-display font-bold text-primary",children:e.totalScore})})]},e.userId))})]})]}),a.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-6 rounded-lg border border-border/50 bg-card/30",children:[a.jsxs("h3",{className:"font-display font-bold uppercase tracking-wider mb-4 flex items-center gap-2",children:[a.jsx(b,{className:"h-4 w-4 text-primary"}),"Achievement Badges"]}),a.jsx("div",{className:"grid md:grid-cols-4 gap-3 text-sm",children:Object.values($).map(e=>a.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-card/50 border border-border/30",children:[a.jsx("div",{className:`w-6 h-6 rounded-full bg-gradient-to-r ${e.color} flex items-center justify-center text-white`,children:a.jsx(E,{badge:e})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-display text-xs font-medium truncate",children:e.name}),a.jsx("p",{className:"text-[10px] text-muted-foreground truncate",children:e.description})]})]},e.id))})]}),a.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-6 rounded-lg border border-border/50 bg-card/30",children:[a.jsxs("h3",{className:"font-display font-bold uppercase tracking-wider mb-4 flex items-center gap-2",children:[a.jsx(N,{className:"h-4 w-4 text-primary"}),"How Scoring Works"]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-card/50 border border-border/30",children:[a.jsx(u,{className:"h-5 w-5 text-green-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-display font-medium",children:"Chess Wins"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"5 points each"})]})]}),a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-card/50 border border-border/30",children:[a.jsx(h,{className:"h-5 w-5 text-primary/70"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-display font-medium",children:"Visualizations"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"3 points each"})]})]}),a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-card/50 border border-border/30",children:[a.jsx(v,{className:"h-5 w-5 text-primary/70"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-display font-medium",children:"Game Favorites"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"2 points each"})]})]}),a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-card/50 border border-border/30",children:[a.jsx(g,{className:"h-5 w-5 text-primary/70"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-display font-medium",children:"Custom Palettes"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"2 points each"})]})]}),a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-card/50 border border-border/30",children:[a.jsx(w,{className:"h-5 w-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-display font-medium",children:"Chess Draws"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"1 point each"})]})]})]})]})]}),a.jsxs(c,{value:"visions",className:"mt-8 space-y-6",children:[a.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-6 rounded-lg border border-primary/30 bg-gradient-to-br from-primary/10 via-primary/5 to-transparent",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(o,{className:"h-5 w-5 text-primary"}),a.jsx("h3",{className:"font-display font-bold uppercase tracking-wider",children:"Vision Score Rankings"})]}),a.jsx("p",{className:"text-sm text-muted-foreground font-serif",children:"Top visualizations ranked by community engagement. Scores are calculated from views, downloads, trades, and print orders."})]}),X?a.jsx("div",{className:"space-y-3",children:[...Array(5)].map((e,s)=>a.jsx("div",{className:"p-4 rounded-lg border border-border/50 bg-card/50 animate-pulse",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-muted"}),a.jsx("div",{className:"w-12 h-12 rounded-lg bg-muted"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("div",{className:"h-4 bg-muted rounded w-32"}),a.jsx("div",{className:"h-3 bg-muted rounded w-20"})]})]})},s))}):0===B.length?a.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},className:"p-12 text-center rounded-lg border border-dashed border-border/50",children:[a.jsx(_,{className:"h-12 w-12 text-muted-foreground/50 mx-auto mb-4"}),a.jsx("h3",{className:"font-display font-bold uppercase tracking-wider mb-2",children:"No Visions Yet"}),a.jsx("p",{className:"text-sm text-muted-foreground font-serif max-w-md mx-auto",children:"Vision Scores are calculated as visualizations gain views, downloads, and trades. Create and share your visualizations to see them ranked here!"}),a.jsxs(k,{to:"/",className:"inline-flex items-center gap-2 mt-6 px-6 py-3 rounded-lg bg-primary text-primary-foreground font-display uppercase tracking-wide text-sm hover:opacity-90 transition-opacity",children:["Create Your First Vision",a.jsx(C,{className:"h-4 w-4"})]})]}):a.jsx("div",{className:"space-y-3",children:B.map((e,s)=>a.jsx(se,{vision:e,index:s},e.id))}),a.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-6 rounded-lg border border-border/50 bg-card/30",children:[a.jsxs("h3",{className:"font-display font-bold uppercase tracking-wider mb-4 flex items-center gap-2",children:[a.jsx(N,{className:"h-4 w-4 text-primary"}),"Vision Score Formula"]}),a.jsx("div",{className:"bg-muted/50 rounded-lg p-4 mb-4",children:a.jsx("code",{className:"text-xs font-mono text-muted-foreground",children:"Score = (views × 0.01) + (HD downloads × 0.10) + (GIF downloads × 0.25) + (trades × 1.00) + (prints × 2.00) + revenue"})}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-card/50 border border-border/30",children:[a.jsx(h,{className:"h-4 w-4 text-primary/70"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-display text-xs font-medium",children:"View"}),a.jsx("p",{className:"text-[10px] text-muted-foreground",children:"+0.01 pts"})]})]}),a.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-card/50 border border-border/30",children:[a.jsx(y,{className:"h-4 w-4 text-primary/70"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-display text-xs font-medium",children:"HD DL"}),a.jsx("p",{className:"text-[10px] text-muted-foreground",children:"+0.10 pts"})]})]}),a.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-card/50 border border-border/30",children:[a.jsx(S,{className:"h-4 w-4 text-primary/70"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-display text-xs font-medium",children:"GIF DL"}),a.jsx("p",{className:"text-[10px] text-muted-foreground",children:"+0.25 pts"})]})]}),a.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-card/50 border border-border/30",children:[a.jsx(z,{className:"h-4 w-4 text-green-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-display text-xs font-medium",children:"Trade"}),a.jsx("p",{className:"text-[10px] text-muted-foreground",children:"+1.00 pts"})]})]}),a.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-card/50 border border-border/30",children:[a.jsx(R,{className:"h-4 w-4 text-yellow-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-display text-xs font-medium",children:"Print"}),a.jsx("p",{className:"text-[10px] text-muted-foreground",children:"+2.00 + $"})]})]})]})]})]})]}),a.jsx("div",{className:"text-center",children:a.jsxs(k,{to:"/",className:"inline-flex items-center gap-2 px-6 py-3 rounded-lg bg-primary text-primary-foreground font-display uppercase tracking-wide text-sm hover:opacity-90 transition-opacity",children:["Create Your Visualization",a.jsx(C,{className:"h-4 w-4"})]})})]})}),a.jsx(W,{})]})};export{G as default};
