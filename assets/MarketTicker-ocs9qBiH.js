const n="/**\n * Live Market Ticker Component\n * Shows real-time prices for multiple asset classes\n * Click any symbol to focus predictions on that asset\n */\n\nimport React, { forwardRef } from 'react';\nimport { motion } from 'framer-motion';\nimport { TrendingUp, TrendingDown, Minus, Target } from 'lucide-react';\nimport type { MarketSnapshot } from '@/lib/pensent-core/domains/finance/crossMarketEngine';\nimport { cn } from '@/lib/utils';\n\ninterface MarketTickerProps {\n  snapshot: MarketSnapshot;\n  onSymbolClick?: (symbol: string) => void;\n  focusedSymbol?: string;\n}\n\nconst MARKET_LABELS: Record<string, { name: string; label: string; tradingSymbol: string }> = {\n  equity: { name: 'SPY', label: 'Equity', tradingSymbol: 'SPY' },\n  bond: { name: 'TLT', label: 'Bonds', tradingSymbol: 'TLT' },\n  future: { name: 'ES', label: 'Futures', tradingSymbol: 'ES' },\n  commodity: { name: 'GC', label: 'Gold', tradingSymbol: 'GLD' },\n  forex: { name: 'DXY', label: 'Dollar', tradingSymbol: 'UUP' },\n  crypto: { name: 'BTC', label: 'Bitcoin', tradingSymbol: 'BTC' }\n};\n\n// Wrapper component for AnimatePresence children\nconst TickerItem = forwardRef<HTMLDivElement, {\n  tickKey: string;\n  tick: { price: number; changePercent: number };\n  info: { name: string; label: string; tradingSymbol: string };\n  onClick?: () => void;\n  isFocused?: boolean;\n}>(({ tickKey, tick, info, onClick, isFocused }, ref) => {\n  const isPositive = tick.changePercent > 0;\n  const isNegative = tick.changePercent < 0;\n\n  return (\n    <motion.div\n      ref={ref}\n      key={tickKey}\n      initial={{ opacity: 0, scale: 0.9 }}\n      animate={{ \n        opacity: 1, \n        scale: isFocused ? 1.05 : 1,\n        boxShadow: isFocused ? '0 0 20px rgba(var(--primary), 0.4)' : 'none'\n      }}\n      whileHover={{ scale: 1.08, y: -2 }}\n      whileTap={{ scale: 0.95 }}\n      onClick={onClick}\n      className={cn(\n        \"flex-shrink-0 px-3 py-2 rounded-lg border cursor-pointer transition-all\",\n        \"bg-card/50 backdrop-blur-sm hover:bg-card/80\",\n        isPositive && \"border-green-500/30 hover:border-green-500/60\",\n        isNegative && \"border-red-500/30 hover:border-red-500/60\",\n        !isPositive && !isNegative && \"border-border/50 hover:border-border\",\n        isFocused && \"ring-2 ring-primary/50 border-primary/50 bg-primary/10\"\n      )}\n    >\n      <div className=\"flex items-center gap-2\">\n        {isFocused && (\n          <Target className=\"w-3 h-3 text-primary animate-pulse\" />\n        )}\n        <div className=\"text-xs text-muted-foreground font-medium\">\n          {info.label}\n        </div>\n        <motion.div \n          className=\"text-sm font-mono font-bold\"\n          key={tick.price}\n          initial={{ opacity: 0.5 }}\n          animate={{ opacity: 1 }}\n        >\n          {tick.price.toLocaleString(undefined, { \n            minimumFractionDigits: 2,\n            maximumFractionDigits: 2 \n          })}\n        </motion.div>\n        <div className={cn(\n          \"flex items-center gap-0.5 text-xs font-mono\",\n          isPositive && \"text-green-400\",\n          isNegative && \"text-red-400\",\n          !isPositive && !isNegative && \"text-muted-foreground\"\n        )}>\n          {isPositive && <TrendingUp className=\"w-3 h-3\" />}\n          {isNegative && <TrendingDown className=\"w-3 h-3\" />}\n          {!isPositive && !isNegative && <Minus className=\"w-3 h-3\" />}\n          <span>{isPositive ? '+' : ''}{tick.changePercent.toFixed(3)}%</span>\n        </div>\n      </div>\n    </motion.div>\n  );\n});\n\nTickerItem.displayName = 'TickerItem';\n\nexport function MarketTicker({ snapshot, onSymbolClick, focusedSymbol }: MarketTickerProps) {\n  const markets = Object.entries(snapshot).filter(([_, tick]) => tick !== null);\n\n  return (\n    <div className=\"flex gap-2 overflow-x-auto pb-1 scrollbar-hide\">\n      {markets.map(([key, tick]) => {\n        if (!tick) return null;\n        \n        const info = MARKET_LABELS[key as keyof typeof MARKET_LABELS];\n        if (!info) return null;\n\n        const isFocused = focusedSymbol === info.tradingSymbol;\n\n        return (\n          <TickerItem\n            key={key}\n            tickKey={key}\n            tick={tick}\n            info={info}\n            onClick={() => onSymbolClick?.(info.tradingSymbol)}\n            isFocused={isFocused}\n          />\n        );\n      })}\n    </div>\n  );\n}\n";export{n as default};
