var e=Object.defineProperty,t=(t,n,s)=>((t,n,s)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s)(t,"symbol"!=typeof n?n+"":n,s);import{aJ as n,r as s,ew as r,s as a,j as c,C as i,p as o,t as l,L as d,w as u,x,aq as h,B as m,aF as f,v as g,cR as v,y as j,b8 as y,b9 as p,ba as w,bb as N,bc as C,a8 as b,aB as B,aC as D,aD as z,b4 as M,aE as G,aY as L,bh as k,cb as q,ad as A,eD as U}from"./index-DxnJiuLa.js";import{A as K,a as P,b as I}from"./alert-ChAn_coS.js";import{T as S,a as H,b as W,c as E,d as T,e as J}from"./table-kGJkWwLk.js";import{C as Y}from"./circle-alert-CxmZb-4I.js";import{W as O}from"./wifi-off-iXZrJSJh.js";import{W as V}from"./wifi-CyzGKU7m.js";import{B as Z}from"./briefcase-TzqAH83O.js";import{T as R}from"./trending-down-DOywwDZV.js";const _=n("Bolt",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]),X=n("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),F=Q;function Q(e,t){e-=112;const n=ce();let s=n[e];if(void 0===Q.UyWfcL){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};Q.cduzcb=r,Q.PIGDWw={},Q.UyWfcL=!0}const a=e+n[0],c=Q.PIGDWw[a];if(c)s=c;else{const e=function(e){this.aOKckw=e,this.ihniVU=[1,0,0],this.DGjcfA=function(){return"newState"},this.TQbaRt="\\w+ *\\(\\) *{\\w+ *",this.vrrDGI="['|\"].+['|\"];? *}"};e.prototype.vFawNX=function(){const e=new RegExp(this.TQbaRt+this.vrrDGI).test(this.DGjcfA.toString())?--this.ihniVU[1]:--this.ihniVU[0];return this.upLdaS(e)},e.prototype.upLdaS=function(e){return Boolean(~e)?this.ePJBwB(this.aOKckw):e},e.prototype.ePJBwB=function(e){for(let t=0,n=this.ihniVU.length;t<n;t++)this.ihniVU.push(Math.round(Math.random())),n=this.ihniVU.length;return e(this.ihniVU[0])},new e(Q).vFawNX(),s=Q.cduzcb(s),Q.PIGDWw[a]=s}return s}!function(){const e=Q,t=ce();for(;;)try{if(337811===parseInt(e(122))/1*(-parseInt(e(126))/2)+parseInt(e(154))/3*(parseInt(e(150))/4)+parseInt(e(129))/5+parseInt(e(132))/6*(parseInt(e(161))/7)+-parseInt(e(115))/8+-parseInt(e(131))/9*(-parseInt(e(139))/10)+parseInt(e(130))/11)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const $=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[Q(143)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=Q,t={};t[e(113)]=e(121)+"+$";const n=t;return $.toString().search(e(121)+"+$").toString()[e(166)+"r"]($)[e(157)](n[e(113)])});$();const ee=function(){const e=Q,t={};t.aFsYS=e(117),t[e(140)]=e(133);const n=t;let s=!0;return function(t,r){const a=e,c={};c[a(125)]=n[a(160)],c[a(153)]=n.dpMmo;const i=c,o=s?function(){const e=a;if(r){if(i[e(125)]!==i.rdkIy){const n=r[e(143)](t,arguments);return r=null,n}return _0x467727()[e(144)]}}:function(){};return s=!1,o}}();ee(void 0,function(){const e=Q,t={};t[e(128)]=function(e,t){return e+t},t[e(164)]="{}.constru"+e(118)+e(167)+" )",t[e(120)]=e(169),t[e(152)]=e(112),t.JNCRK=e(156),t[e(135)]=e(155),t[e(142)]=function(e,t){return e<t};const n=t;let s;try{s=Function(n[e(128)](n[e(128)](e(127)+e(124),n[e(164)]),");"))()}catch(c){s=window}const r=s.console=s[e(136)]||{},a=["log",e(147),n.UzHfS,n.riAKE,n.JNCRK,n[e(135)],e(123)];for(let i=0;n[e(142)](i,a[e(158)]);i++){const t=ee.constructor[e(137)].bind(ee),n=a[i],s=r[n]||t;t[e(145)]=ee[e(138)](ee),t[e(159)]=s[e(159)][e(138)](s),r[n]=t}})();const te=F(151)+F(149)+"l",ne=F(114)+F(134)+"0",se={};se[F(144)]=ne,se.gatewayHost=F(148),se[F(119)+"t"]=4002,se[F(141)]=1;const re=se;function ae(){const e=F,t={};t[e(165)]=function(e,t){return e===t},t[e(168)]=e(163);const n=t;if(n[e(165)](typeof window,n[e(168)]))return re;const s=localStorage.getItem(te);if(s)try{return{...re,...JSON.parse(s)}}catch{return re}return re}function ce(){const e=["vxPizLm","kcGOlISPkYKRkq","mNfQtuPdrW","DhjHy2u","BMn0Aw9UkcKG","zwfADNe","mtm4nJj5Ee5iuNK","CMv0DxjUicHMDq","Bw5tqM4","otK5mJa1BevYwfj2","mtyZmdqYtLncvuT3","mZzzDKfRq3u","mtiYndy2De9cDLvw","Au14DLq","ywXOB3n0oJqWma","t2vzAg8","y29UC29Szq","ChjVDg90ExbL","yMLUza","nJK4ndqWChbdzvvg","zhbnBw8","y2XPzw50swq","yxb3qvG","yxbWBhK","yNjPzgDLvxjS","x19WCM90B19F","C2v0sxrLBq","D2fYBG","mti3lJaUmc4X","x2jYAwrNzv91CG","mtu1mJuYrM1evMDJ","AwjFz2f0zxDHEq","CMLbs0u","CMrRsxK","mJfmshnkuei","DgfIBgu","zxHJzxb0Aw9U","C2vHCMnO","BgvUz3rO","Dg9tDhjPBMC","yuzZwvm","nZbfvgzYrxG","CMvTB3zLsxrLBq","Dw5KzwzPBMvK","AwHArgm","rxruwfy","y29UC3rYDwn0BW","CM4GDgHPCYiPka","uM1AC0q","Aw5MBW","zxjYB3i","rxHXsve","Ahr0CdOVl2XVyW","ndK0ntmZnKT4sgPZzq","C3rYAw5NAwz5","CNP2Eue","y3rVCIGICMv0Dq","z2f0zxDHEvbVCG"];return(ce=function(){return e})()}function ie(){const e=F;return(t=ae,t())[e(144)];var t}const oe=xe;function le(){const e=["ruDuDMe","zgHXAxO","y2HLy2TdB25Uzq","mtaXnZmWmfbtseH4wq","BgvUz3rO","nJeZmJr5DKXZBfm","EKDTq0S","zgvHvgS","BwvZC2fNzq","uvbSrNG","shnduKu","r0vu","y29UC3rYDwn0BW","z2v0t3jKzxjZ","q29UDgvUDc1uEq","sK1ztgO","yNjPzgDLuNvUBG","swTjqve","Aw5MBW","Ad9ZEw1IB2W9","revmrvrf","tNzewxC","uu9dCNK","ue9tva","CgXHy2vpCMrLCG","yMXLoG","zxjZigvYCM9YoG","q1fPy2G","yxbWBhK","Ev0Gr2v0ig9Yza","zxjYB3i","C2vHCMnO","zxHJzxb0Aw9U","CMrLCIbLCNjVCG","C3rHDhvZ","l2fWAs9WB3nPDa","zgLZy29UBMvJDa","y29UBMvJDa","ywLSzwq","Bg9N","AMjvqLK","Cg9YDa","BNjbquC","ChjVDg90ExbL","BM93","D2jdwLi","vLPzs2S","B3jKzxjZ","ndGWnJi0tvfXr29L","mteZndiWs3DSwuHx","uKDZD1u","zfngwLG","l2fWAs9Hy2nVDq","y3rVCIGICMv0Dq","Ev0Gr2v0ihbVCW","mtCWmJi5oxn5vKDXwq","CgfWzxjuCMfKAq","BMn0Aw9UkcKG","Ev0GugXHy2uGBW","C3rYAw5NAwz5","p2nVBMLKpq","vKrit1G","A0Pbrgy","DufHq1a","y29UC29Szq","tu9AAvG","ve10wuO","DgvK","BNrZ","C1j1A3m","z2f0zxDHEuHVCW","yxbWBgLJyxrPBW","ywnJB3vUDhm","B3jKzxjjza","C3vIBwL0DgvK","z2v0ug9ZAxrPBW","yMLUza","n3nNshLKvG","l2fWAs9KAxnJBW","Aw9UCZ9Hy2nVDq","uxPPDuS","vxLOv0W","l2fWAs9ZDgf0Dq","ANnVBG","y2XPzw50swq","AwiT","kcGOlISPkYKRkq","uLfRq28","y29UDhjHy3rZ","t1rgywO","l2fWAs9VCMrLCG","Cg9ZAxrPB25Z","CxrNCvm","wwXXuu4","DhjHy2u","E30Uy29UC3rYDq","Ev0Gq29UBMvJDa","Ev0Gq2fUy2vSia","D2fYBG","vvLnB1O","mZqYD2Dxvhve","zunQCxy","CM4GDgHPCYiPka","txz4A24","z2v0uxvVDgu","Dg9tDhjPBMC","nuncz1bVtG","s25qzum","y29UDhjHy3qGzq","y2LXzwG","yxv0AgvUDgLJyq","y2fUy2vSt3jKzq","uNvJCeS","z2f0zxDHEvbVCG","y3rPB24","BI9QC29U","ten4EKy","y29UBMvJDgvK","BM90igf2ywLSyq","CMv0DxjUicHMDq","CNjVCJO","z2v0qwnJB3vUDa","mZG5nJm5mLzyvgfWra","AuD2ufK","EvvQtwG","l2fWAs9JB25Uzq","AxrPB25ZigvYCG","vuTZseK","AM5VyMm","wMDPvK0","vejNv1G","B3vUDhmGzxjYBW","B3i6","Ev0GqNjPzgDLia","mJe4ntuZmejItuLlEa","l2fWAs9ZzwfYyW","Aw5N","w0LcieDHDgv3yq","CMfJDa","v0PSDe8"];return(le=function(){return e})()}!function(){const e=xe,t=le();for(;;)try{if(290296===parseInt(e(470))/1*(parseInt(e(369))/2)+parseInt(e(419))/3+parseInt(e(412))/4+-parseInt(e(358))/5+-parseInt(e(367))/6+parseInt(e(441))/7*(parseInt(e(486))/8)+-parseInt(e(464))/9*(parseInt(e(413))/10))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const de=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[xe(392)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=xe;return de.toString()[e(395)](e(450)+"+$")[e(469)]()[e(376)+"r"](de)[e(395)](e(450)+"+$")});de();const ue=function(){const e=xe,t={};t[e(427)]=e(409),t[e(370)]=function(e,t){return e===t},t.dSFZX=e(426);const n=t;let s=!0;return function(e,t){const r=s?function(){const s=xe;if(s(445)===n[s(427)])return null;if(t){if(n[s(370)](s(463),n[s(415)])){const e=_0x187033[s(392)](_0x41e522,arguments);return _0x20e794=null,e}{const n=t[s(392)](e,arguments);return t=null,n}}}:function(){};return s=!1,r}}();function xe(e,t){e-=353;const n=le();let s=n[e];if(void 0===xe.RZjnQC){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};xe.QqYTMS=r,xe.ckYdqr={},xe.RZjnQC=!0}const a=e+n[0],c=xe.ckYdqr[a];if(c)s=c;else{const e=function(e){this.zwRRhg=e,this.mnuekE=[1,0,0],this.kKgaAd=function(){return"newState"},this.rAmIwL="\\w+ *\\(\\) *{\\w+ *",this.FiOKMw="['|\"].+['|\"];? *}"};e.prototype.IuIXTx=function(){const e=new RegExp(this.rAmIwL+this.FiOKMw).test(this.kKgaAd.toString())?--this.mnuekE[1]:--this.mnuekE[0];return this.EKqffT(e)},e.prototype.EKqffT=function(e){return Boolean(~e)?this.KjZean(this.zwRRhg):e},e.prototype.KjZean=function(e){for(let t=0,n=this.mnuekE.length;t<n;t++)this.mnuekE.push(Math.round(Math.random())),n=this.mnuekE.length;return e(this.mnuekE[0])},new e(xe).IuIXTx(),s=xe.QqYTMS(s),xe.ckYdqr[a]=s}return s}ue(void 0,function(){const e=xe,t={Mvxkn:e(450)+"+$",RucpK:function(e,t){return e+t},CQich:function(e,t){return e+t},NvDYw:function(e){return e()},dMfCV:e(382),jnobc:e(394),VZYKk:function(e,t){return e===t}},n=t[e(385)](function(){const n=e;if(n(491)===n(465))return _0x977c12[n(469)]()[n(395)](t[n(467)]).toString()[n(376)+"r"](_0x19a509).search(n(450)+"+$");{let e;try{e=Function(t[n(476)](t[n(391)](n(483)+n(421),n(459)+n(417)+n(466)+" )"),");"))()}catch(s){e=window}return e}}),s=n[e(428)]=n[e(428)]||{},r=["log",e(462),t.dMfCV,t[e(492)],e(396),"table",e(458)];for(let a=0;a<r[e(368)];a++)if(t[e(410)](e(404),"jbUBY")){const t=ue[e(376)+"r"][e(407)][e(440)](ue),n=r[a],c=s[n]||t;t.__proto__=ue[e(440)](ue),t[e(469)]=c[e(469)][e(440)](c),s[n]=t}else if(_0x2467dd){const t=_0x330a20[e(392)](_0x318754,arguments);return _0x1268f1=null,t}})();class he{constructor(){t(this,"connected",!1)}async[oe(366)+oe(478)](){const e=oe,t={RQkCo:function(e,t,n){return e(t,n)},iGvPY:e(375),gLIKb:function(e,t){return e===t}};try{const n=ae(),s={};s["Content-Type"]=e(435)+e(479);const r=await t[e(451)](fetch,ie()+(e(446)+"s"),{method:t[e(487)],headers:s});if(!r.ok){const t={};return t[e(481)]=!1,t[e(474)+e(431)]=!1,t[e(420)+"ng"]=!1,t}const a=await r[e(447)]();return this[e(481)]=!0===a[e(481)],{connected:!0===a[e(380)+e(360)],authenticated:!0===a[e(481)],paperTrading:t.gLIKb(n[e(477)+"t"],4002)}}catch(n){const t={connected:!1,authenticated:!1};return t[e(420)+"ng"]=!1,t}}async[oe(401)](){const e=oe,t={ciqeh:function(e,t,n){return e(t,n)},nrAAG:function(e){return e()},yUjMh:e(387),QziuK:e(435)+e(479),KRvEh:function(e,t){return e===t},ZgiVM:e(361)+e(460)+" error:"};try{const n=ae(),s={};s.host=n[e(434)+"t"],s[e(405)]=n.gatewayPort,s.clientId=n[e(448)];const r=await t[e(473)](fetch,t[e(406)](ie)+(e(489)+"ct"),{method:t[e(488)],headers:{"Content-Type":t[e(444)]},body:JSON[e(423)](s)});if(!r.ok)return!1;const a=await r[e(447)]();return this[e(481)]=t.KRvEh(a[e(481)],!0),this[e(481)]}catch(n){return!1}}async[oe(400)](){const e=oe,t={sRuks:function(e,t,n){return e(t,n)},PodRC:e(387)};try{await t[e(433)](fetch,ie()+(e(442)+"nnect"),{method:t.PodRC}),this[e(481)]=!1}catch{}}async[oe(485)+"s"](){const e=oe;try{const t=await fetch(ie()+(e(416)+e(432)));if(!t.ok)return[];return(await t[e(447)]())[e(436)]||[]}catch(t){return[]}}async[oe(439)+"ns"](e){const t=oe,n={EGTva:function(e){return e()},QPlFx:"[IB Gatewa"+t(418)+t(490)+t(356)};try{const s=await fetch(n[t(364)](ie)+(t(399)+t(443)+"ntId=")+e);if(!s.ok)return[];return(await s[t(447)]())[t(455)]||[]}catch(s){return[]}}async[oe(377)](){const e=oe,t={IkIAQ:function(e,t){return e+t},dhqiz:function(e,t){return e(t)}};try{const n=await t[e(365)](fetch,ie()+(e(454)+"s"));if(!n.ok)return[];return(await n.json())[e(411)]||[]}catch(n){if(e(456)!==e(457))return[];_0x1a8fb3=_0x4b88fc(dlKjJR[e(381)](e(483)+e(421)+(e(459)+e(417)+e(466)+" )"),");"))()}}async["searchCont"+oe(362)](e){const t=oe,n=function(e){return e()};t(361),t(472),t(484);try{const s=await fetch(n(ie)+(t(359)+t(383))+encodeURIComponent(e));if(!s.ok)return[];return(await s.json())[t(452)]||[]}catch(s){return[]}}async[oe(388)](e){const t=oe,n={OTFaj:function(e){return e()},VDHOX:t(361)+"y] Order f"+t(402),TMtYJ:t(438),YpZtk:t(361)+t(422)+t(397)+":"};try{const s={};s[t(378)+"pe"]="application/json";const r=await fetch(n[t(453)](ie)+(t(454)+"s"),{method:"POST",headers:s,body:JSON.stringify(e)});if(!r.ok)return null;const a=await r.json();return{orderId:a[t(437)]||t(449)+Date[t(408)](),status:a[t(398)]||n[t(430)]}}catch(s){return null}}async[oe(475)+"r"](e){const t=oe,n={JMYLj:t(361)+t(422)+t(397)+":",voHNc:t(471),TBgWX:t(480),lzLdZ:function(e,t,n){return e(t,n)},QOCry:t(384),WJltO:t(361)+t(461)+"order error:"};try{if(n.voHNc===n[t(354)])return _0x46eccf[t(394)](n[t(379)],_0x5448e0),null;return(await n.lzLdZ(fetch,ie()+"/api/orders/"+e,{method:n[t(386)]})).ok}catch(s){if("deaTk"!==t(371)){const e=_0x41ff6a[t(392)](_0x493c20,arguments);return _0x392748=null,e}return!1}}async[oe(468)](e){const t=oe,n={RGswU:function(e,t){return e(t)},MOZiX:function(e){return e()}};try{const s=await n[t(414)](fetch,n[t(429)](ie)+"/api/quote"+t(424)+e);if(!s.ok)return null;return await s[t(447)]()}catch{return null}}}const me=new he;function fe(){const e=["y291BNq","y3rPB24","teLfCNq","s2TnrK4","zgvZy3jPChrPBW","Cg9ZAxrPB25Z","uu52uha","AguGyNjPzgDLia","y2fUy2vSt3jKzq","mJGYmdy4nefcDMj1zG","tM8GqwnJB3vUDa","mtKWmZeXm1vWDe52Da","ywnJB3vUDeLK","v2jmALi","q29UBMvJDgvK","venkDeu","q29UBMvJDgLVBG","y29UC3rYDwn0BW","DgL0Bgu","BgvUz3rO","DgvK","z2v0t3jKzxjZ","uw9srvC","igzHAwXLzdOG","C2vSzwn0qwnJBW","CNvUBMLUzYbHBG","C3rHDhvZ","Ev0Gu3rHDhvZoG","nJuXodGWt3DVvvHY","u3LTyM9Sie5VDa","mZy4otr5tgDrCfO","t3jKzxiGrMfPBa","mM5WBw9vsa","y29UAwq","vuPoBhq","Dw50","AuTxDvu","rMfPBgvKihrVia","nZe4nZKXme9Uz3LSBa","y0HfA3O","Aw9UigvYCM9YoG","CgfWzxi","zLznC2O","BhbOALa","C2vHCMnO","B25Z","Dg9mB3DLCKnHCW","DuniEu4","Aw5MBW","whDtEKW","DvfMAxC","yxrLD2f5","wKjKChu","DefJqNu","C3nPqxy","rxHcs1q","CgXHy2uGB3jKzq","q2TQzKC","Dg9tDhjPBMC","BMn0Aw9UkcKG","zwn0igfUigfJyW","vuLIDvi","ihrPBwvKig91Da","Ev0Gq2HLy2TPBG","E30Uy29UC3rYDq","CM4GDgHPCYiPka","EePZzKi","CgfWzxjuCMfKAq","wKTzt2C","y3qGDg8Gr2f0zq","Bg9HzgLUzW","y3vYCMvUDa","zunvu1u","BMLUzYbIDxqGBG","yxbWBhK","mtHQEfjStgW","zMLUzcbJB250CG","wLblrum","tMHxqw0","C3LTyM9S","CMfJDa","Bg9N","BNn1CMuGsuiGrW","Bgr6Bfy","sgXVvxO","ChjVDg90ExbL","suvRA2e","t3jKzxiG","y29UBMvJDgvK","C2LKzq","y29UBMvJDc4Grq","DMfYAwfUDa","D2fYBG","B3qGy29UBMvJDa","mZC0mJmWr1HWD09U","y2HLy2TdB25Uzq","BhKGy29UBMvJDa","yxv0AgvUDgLJyq","ntGXEe1uvuDy","C3rHCNrZv2L0Aa","yxrLD2f5ignVBG","ywnJB3vUDhm","zgvZDhj1y3rPDG","y29UC29Szq","ihj1BM5PBMCUia","ugXLyxnLihnLBa","ndrmywHZEgm","C2vSzwn0zwrbyW","ywXS","CvjKv3i","Bg9HzefJy291BG","BMvJDgLVBI4","t3jKzxiGugXHyW","u3rHCNqGDgHLia","kcGOlISPkYKRkq","qNjPzgDLig5VDa","qNjPzgDLihj1BG","vu1JrK0","yMLUza","zwXSzwq","C2vYDMvYigLZia","DgLTzwqGB3v0","C2vHCMnOq29UDa","D2f5iI4","zMLYC3qU","AwnRicjdB25Uzq","CNvUBMLUzY4","CMv0DxjUicHMDq","mJqXmJGWEK1HELnm","vfD3wxq","txfvB3q","CMvMCMvZAerHDa","BwvZC2fNzq","t3jKzxiGq2fUyW","y3rVCIGICMv0Dq","zxjYB3i","zwqGDg8GsuiGrW","EKHoEKe","z2v0ug9ZAxrPBW","tgz2DNm","igHHCYbIzwvUia","u0nnwhu","mty1C3z2zgTj","ifnLBgvJDgvK","y29UBMvJDa","zMLUza","z2uGC2vYDMvYia","CgXHy2vpCMrLCG","BgPnChm","ywnJB3vUDfr5Ca","q0Txwhy","lIbfBNn1CMuGDa","B3jKzxjuExbL","q291BgqGBM90ia","w0LcieDHDgv3yq","veHJAKO","Bg9HzfbVC2L0Aq","Ev0Gq29UBMvJDa","txf2DK4","q1DgCMu"];return(fe=function(){return e})()}!function(){const e=ve,t=fe();for(;;)try{if(434770===-parseInt(e(155))/1+-parseInt(e(219))/2*(parseInt(e(198))/3)+parseInt(e(133))/4*(-parseInt(e(121))/5)+parseInt(e(217))/6*(-parseInt(e(125))/7)+parseInt(e(215))/8*(-parseInt(e(262))/9)+-parseInt(e(225))/10+-parseInt(e(169))/11*(-parseInt(e(196))/12))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ge=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[ve(261)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=ve,t={};t.SCMXu=e(141)+"+$";const n=t;return ge[e(245)]()[e(231)](e(141)+"+$")[e(245)]()[e(204)+"r"](ge)[e(231)](n[e(168)])});function ve(e,t){e-=117;const n=fe();let s=n[e];if(void 0===ve.HedQut){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};ve.OwYPvB=r,ve.QxBoHk={},ve.HedQut=!0}const a=e+n[0],c=ve.QxBoHk[a];if(c)s=c;else{const e=function(e){this.MaTpzE=e,this.okVKGd=[1,0,0],this.gerOki=function(){return"newState"},this.EsXonx="\\w+ *\\(\\) *{\\w+ *",this.RYnOfM="['|\"].+['|\"];? *}"};e.prototype.LBKoGJ=function(){const e=new RegExp(this.EsXonx+this.RYnOfM).test(this.gerOki.toString())?--this.okVKGd[1]:--this.okVKGd[0];return this.UDelRJ(e)},e.prototype.UDelRJ=function(e){return Boolean(~e)?this.wFUeJP(this.MaTpzE):e},e.prototype.wFUeJP=function(e){for(let t=0,n=this.okVKGd.length;t<n;t++)this.okVKGd.push(Math.round(Math.random())),n=this.okVKGd.length;return e(this.okVKGd[0])},new e(ve).LBKoGJ(),s=ve.OwYPvB(s),ve.QxBoHk[a]=s}return s}ge();const je=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[ve(261)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}();je(void 0,function(){const e=ve,t={WlcXE:function(e,t){return e(t)},NhWAm:e(154)+e(246),ZKYOg:e(268),mnGgn:e(235),MqvvN:"table",iKWuU:function(e,t){return e<t}};let n;try{n=t.WlcXE(Function,t[e(265)]+(e(251)+e(161)+e(252)+" ));"))()}catch(a){n=window}const s=n[e(130)]=n.console||{},r=[t[e(255)],e(119),t.mnGgn,e(162),"exception",t[e(185)],"trace"];for(let c=0;t[e(223)](c,r[e(206)]);c++){const t=je[e(204)+"r"][e(272)][e(145)](je),n=r[c],a=s[n]||t;t.__proto__=je[e(145)](je),t.toString=a[e(245)].bind(a),s[n]=t}})();const ye=["SPY","QQQ","AAPL","MSFT","NVDA","TSLA","AMD","META"];function pe(){const{connected:e,authenticated:t,paperTrading:n,accounts:U,selectedAccount:X,positions:F,orders:Q,loading:$,error:ee,checkConnection:te,connectToGateway:ne,refreshData:se,placeOrder:re,cancelOrder:ae,selectAccount:ce}=function(){var e;const t=ve,n={KmNUX:"[IB Gatewa"+t(250)+"g connection...",uCHyN:function(e,t,n){return e(t,n)},ldzlV:function(e,t){return e!==t},NELIe:t(136),RzdHq:function(e,t){return e(t)},UIbuR:t(201),QoREW:"Successful"+t(123)+t(163)+t(238),tAcBu:function(e,t){return e(t)},CkjfG:t(189),xJsfB:function(e){return e()},UJNlt:function(e){return e()},cHEkz:t(182),MqUot:function(e,t){return e(t)},KkMFN:function(e,t){return e===t},UMcFM:function(e,t){return e(t)},kldhQ:t(129)+"e",zHNzA:function(e,t){return e(t)},ljMps:t(160)+t(146),CKWXv:function(e,t){return e!==t},HloUz:"uXSTs",OVvsB:function(e,t){return e===t},WbLjR:t(237),NiNta:t(166),ExBKT:"Please sel"+t(247)+"ount first.",QNvPp:function(e,t){return e(t)},CWFre:function(e,t){return e===t},XwSzL:function(e,t){return e(t)},IEkka:function(e,t,n){return e(t,n)},fVMsj:function(e,t,n){return e(t,n)},uKhBO:function(e,t,n){return e(t,n)},ZBdpu:function(e,t,n){return e(t,n)}},a={connected:!1};a[t(124)+t(207)]=!1,a[t(254)+"ng"]=!1,a[t(128)]=[],a["selectedAc"+t(187)]=null,a[t(192)]=[],a.orders=[],a[t(257)]=!0,a[t(162)]=null;const[c,i]=s.useState(a),o=n[t(236)](s.useRef,null),{toast:l}=r(),d=n.uCHyN(s.useCallback,async()=>{const e=t;i(e=>({...e,loading:!0,error:null}));const s=n[e(234)](setTimeout,()=>{const t=e;i(e=>({...e,connected:!1,authenticated:!1,loading:!1,error:t(203)+t(249)+t(178)+t(194)+t(147)+t(153)}))},8e3);try{if(!n[e(270)](e(136),n.NELIe)){const t=await me[e(122)+"ction"]();return clearTimeout(s),n.RzdHq(i,n=>({...n,connected:t[e(275)],authenticated:t["authentica"+e(207)],paperTrading:t[e(254)+"ng"],loading:!1,error:t[e(275)]?t[e(124)+e(207)]?null:e(143)+e(260)+e(120)+e(163)+"ateway. Cl"+e(152)+e(256)+e(150):e(142)+e(131)+e(140)+"local brid"+e(173)+e(151)})),t}_0x10d97f=_0x54a6e1}catch(r){clearTimeout(s),i(t=>({...t,connected:!1,authenticated:!1,loading:!1,error:e(224)+"connect: "+r[e(159)]}));const t={};return t[e(275)]=!1,t[e(124)+e(207)]=!1,t.paperTrading=!1,t}},[]),u=s.useCallback(async()=>{const e=t;i(e=>({...e,loading:!0,error:null}));try{const t=await me[e(171)]();if(t){const t={};t[e(205)]=n[e(248)],t[e(191)+"n"]=n[e(209)],l(t),await d(),await x()}else n[e(240)](i,t=>({...t,loading:!1,error:"Failed to "+e(117)+e(269)+"ateway is "+e(212)+"d API is enabled."}));return t}catch(s){return i(t=>({...t,loading:!1,error:e(203)+e(210)+s.message})),!1}},[l,d]),x=n[t(234)](s.useCallback,async()=>{const e=t,n=await me.getAccounts(),s=n[e(172)](t=>t[e(199)][e(126)]("DU")||t[e(176)+"e"][e(233)+"e"]().includes(e(228)));return i(e=>({...e,accounts:n,selectedAccount:s||n[0]||null})),n},[]),h=n[t(273)](s.useCallback,async()=>{const e=t;if(!c[e(134)+e(187)])return[];const s=await me[e(165)+"ns"](c[e(134)+"count"][e(199)]);return n[e(240)](i,e=>({...e,positions:s})),s},[c["selectedAc"+t(187)]]),m=n[t(229)](s.useCallback,async()=>{const e=t;if("LIErt"===n[e(244)]){const t=await me[e(208)]();return i(e=>({...e,orders:t})),t}_0x570584(e=>({...e,selectedAccount:_0x22963f}))},[]),f=n.fVMsj(s.useCallback,async()=>{const e=t;c["authentica"+e(207)]&&await Promise[e(135)]([x(),n[e(253)](h),n[e(221)](m)])},[c[t(124)+t(207)],x,h,m]),g=n.uKhBO(s.useCallback,async e=>{const s=t;if(!c[s(134)+s(187)]){if(n[s(226)]==n[s(226)]){const e={};return e[s(205)]=s(197)+s(170),e[s(191)+"n"]=s(132)+s(247)+"ount first.",e[s(118)]=s(129)+"e",n[s(157)](l,e),null}{const e=_0x899569?function(){if(_0x3752d5){const e=_0x12ebfc.apply(_0x5dd3d3,arguments);return _0x12154b=null,e}}:function(){};return _0x4409b2=!1,e}}const r=await me[s(149)+s(267)](e[s(266)]);if(n[s(190)](r[s(206)],0))return n[s(144)](l,{title:s(216)+" Found",description:s(180)+s(263)+"act for "+e[s(266)],variant:n.kldhQ}),null;const a=r[0],i={};i[s(199)]=c[s(134)+s(187)].accountId,i[s(220)]=a[s(220)],i.symbol=e[s(266)],i[s(276)]=e[s(276)],i.quantity=e.quantity,i[s(179)]=e[s(179)],i.price=e.price;const o=await me[s(174)](i);if(o){const t={};t[s(205)]=s(139)+"ed",t[s(191)+"n"]=e[s(276)]+" "+e.quantity+" "+e[s(266)]+" - "+o[s(213)],n[s(144)](l,t),await m()}else{const e={};e[s(205)]=s(218)+"ed",e[s(191)+"n"]=s(180)+s(243)+"r. Check g"+s(127)+s(138),e[s(118)]=s(129)+"e",l(e)}return o},[c.selectedAccount,l,m]),v=n.uKhBO(s.useCallback,async e=>{const s=t,r=await me.cancelOrder(e);return r&&(n[s(164)](l,{title:n[s(175)],description:s(274)+e+(s(167)+"cancelled.")}),await m()),r},[l,m]),j=n[t(239)](s.useCallback,e=>{const s=t;if(n[s(177)](n[s(271)],n.HloUz)){const e=_0x2ebd57[s(261)](_0x19663e,arguments);return _0x4b03df=null,e}{const t=c[s(128)][s(172)](t=>t[s(199)]===e);t&&n[s(157)](i,e=>({...e,selectedAccount:t}))}},[c[t(128)]]);s.useEffect(()=>{const e=t,s={ZPKEC:function(e,t){return n[ve(157)](e,t)},TWwYt:n[e(242)],ssiAv:e(129)+"e",eCUSU:function(t){return n[e(253)](t)}};return(async()=>{const t=e;if((await n[t(253)](d)).authenticated){if(n.OVvsB(n[t(200)],n.NiNta))return s[t(264)](_0x171183,{title:"No Account Selected",description:s[t(156)],variant:s[t(241)]}),null;await x(),await h(),await m(),o[t(258)]=n.uCHyN(setInterval,()=>{s[t(259)](f)},1e4)}})(),()=>{const t=e;o.current&&clearInterval(o[t(258)])}},[]),s.useEffect(()=>{const e=t,s={lphjP:function(e,t){return n[ve(193)](e,t)}};if(!n[e(186)](e(202),e(202)))return s[e(230)](_0x439724,t=>({...t,loading:!1,error:e(203)+" failed: "+_0x590a25[e(159)]})),!1;c[e(134)+"count"]&&c[e(124)+e(207)]&&n.UJNlt(h)},[null==(e=c[t(134)+t(187)])?void 0:e[t(199)]]);const y={...c};return y[t(122)+t(188)]=d,y["connectToG"+t(238)]=u,y[t(137)+"ts"]=x,y[t(183)+t(232)]=h,y.loadOrders=m,y[t(158)+"a"]=f,y[t(174)]=g,y[t(195)+"r"]=v,y[t(211)+t(222)]=j,y}(),[ie,oe]=s.useState("overview"),[le,de]=s.useState([]),[ue,xe]=s.useState(!1),[he,fe]=s.useState([]),[ge,je]=s.useState({total:0,today:0,pnl:0}),[pe,we]=s.useState(!1),[Ne,Ce]=s.useState({symbol:"SPY",side:"BUY",quantity:1,orderType:"MKT",price:0}),[be,Be]=s.useState(!1);s.useEffect(()=>{const e=async()=>{try{const{data:e}=await a.from("farm_status").select("*").eq("farm_name","high-frequency-paper-trader").single();if(e){const t=new Date(e.updated_at),n=t>new Date(Date.now()-12e4);we("trading"===e.status||n)}const{data:t}=await a.from("autonomous_trades").select("*").order("created_at",{ascending:!1}).limit(50);if(t){fe(t);const e=new Date;e.setHours(0,0,0,0);const n=t.filter(t=>new Date(t.created_at)>=e),s=t.reduce((e,t)=>e+(t.pnl||0),0);je({total:t.length,today:n.length,pnl:s})}}catch(e){}};e();const t=a.channel("hf-trades").on("postgres_changes",{event:"INSERT",schema:"public",table:"autonomous_trades"},e=>{const t=e.new;fe(e=>[t,...e].slice(0,50));const n=new Date;n.setHours(0,0,0,0);const s=new Date(t.created_at)>=n;je(e=>({total:e.total+1,today:s?e.today+1:e.today,pnl:e.pnl+(t.pnl||0)}))}).subscribe(),n=setInterval(e,5e3);return()=>{clearInterval(n),t.unsubscribe()}},[]),s.useCallback(()=>{te()},[te]),s.useEffect(()=>{if(t){De();const e=setInterval(De,3e4);return()=>clearInterval(e)}},[t]);const De=async()=>{xe(!0);try{const{data:e,error:t}=await a.functions.invoke("stock-data",{body:{action:"batch",symbols:ye}});!t&&(null==e?void 0:e.stocks)&&de(e.stocks.map(e=>({symbol:e.symbol,price:e.latestPrice,change:e.change,changePercent:e.changePercent})))}catch(e){}finally{xe(!1)}},ze=e=>{Ce(t=>({...t,symbol:e,side:"BUY"})),oe("trade")},Me=s.useMemo(()=>{const e=F.reduce((e,t)=>e+t.marketValue,0),t=F.reduce((e,t)=>e+t.unrealizedPnl,0);return{totalValue:e,totalPnL:t,totalRealizedPnL:F.reduce((e,t)=>e+t.realizedPnl,0),pnlPercent:(null==X?void 0:X.balance)?t/X.balance*100:0}},[F,X]);return $?c.jsxs(i,{children:[c.jsxs(o,{children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(d,{className:"h-5 w-5 animate-spin text-primary"}),"Connecting to IB Gateway Bridge..."]})}),c.jsx(u,{children:"Checking connection to gateway"})]}),c.jsxs(x,{className:"space-y-4",children:[c.jsx(h,{value:33,className:"h-2"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Looking for the Client Portal Gateway..."}),c.jsxs(K,{children:[c.jsx(Y,{className:"h-4 w-4"}),c.jsx(P,{children:"Connection taking too long?"}),c.jsxs(I,{className:"space-y-2 mt-2",children:[c.jsx("p",{children:"Your browser may be blocking the connection. Try:"}),c.jsxs("ol",{className:"list-decimal list-inside text-sm space-y-1",children:[c.jsxs("li",{children:["Click ",c.jsx("strong",{children:"Gateway Settings"})," above to configure your gateway URL"]}),c.jsx("li",{children:"If using remotely, enter your machine's IP (e.g., https://192.168.1.100:5000)"}),c.jsxs("li",{children:["Accept the ",c.jsx("strong",{children:"self-signed certificate warning"})," in your browser"]}),c.jsx("li",{children:"Login if prompted, then return here"})]})]})]}),c.jsxs(m,{variant:"outline",size:"sm",onClick:()=>window.open("https://localhost:5000","_blank"),children:[c.jsx(f,{className:"h-4 w-4 mr-2"}),"Open Gateway in New Tab"]})]})]}):e?t?c.jsxs("div",{className:"space-y-6",children:[c.jsx(i,{className:"bg-gradient-to-br from-card via-card to-primary/5 border-primary/20",children:c.jsxs(x,{className:"pt-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(v,{className:"h-5 w-5 text-primary"}),c.jsx("span",{className:"font-medium",children:"IBKR Connected"}),n&&c.jsx(j,{variant:"outline",className:"bg-primary/10 text-primary border-primary",children:"Paper Trading"})]}),c.jsxs(y,{value:(null==X?void 0:X.accountId)||"",onValueChange:ce,children:[c.jsx(p,{className:"w-48",children:c.jsx(w,{placeholder:"Select Account"})}),c.jsx(N,{children:U.map(e=>c.jsxs(C,{value:e.accountId,children:[e.accountId," (",e.accountType,")"]},e.accountId))})]}),c.jsx(m,{variant:"ghost",size:"icon",onClick:se,children:c.jsx(g,{className:"h-4 w-4"})})]}),X&&c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[c.jsx(b,{className:"w-3 h-3"}),"Account Balance"]}),c.jsxs("div",{className:"text-3xl font-mono font-bold",children:["$",X.balance.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Buying Power"}),c.jsxs("div",{className:"text-xl font-mono",children:["$",X.buyingPower.toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})]}),F.length>0&&c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6 pt-6 border-t",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Positions Value"}),c.jsxs("div",{className:"text-xl font-bold",children:["$",Me.totalValue.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Unrealized P&L"}),c.jsxs("div",{className:"text-xl font-bold "+(Me.totalPnL>=0?"text-success":"text-destructive"),children:[Me.totalPnL>=0?"+":"","$",Me.totalPnL.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Realized P&L"}),c.jsxs("div",{className:"text-xl font-bold "+(Me.totalRealizedPnL>=0?"text-success":"text-destructive"),children:[Me.totalRealizedPnL>=0?"+":"","$",Me.totalRealizedPnL.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Open Positions"}),c.jsx("div",{className:"text-xl font-bold",children:F.length})]})]})]})}),c.jsxs(B,{value:ie,onValueChange:oe,children:[c.jsxs(D,{className:"grid w-full grid-cols-2 max-w-md",children:[c.jsxs(z,{value:"overview",className:"flex items-center gap-1",children:[c.jsx(M,{className:"w-4 h-4"})," Overview"]}),c.jsxs(z,{value:"hf-trading",className:"flex items-center gap-1",children:[c.jsx(_,{className:"w-4 h-4"})," HF Trading",pe&&c.jsx("span",{className:"ml-1 w-2 h-2 bg-success rounded-full animate-pulse"})]})]}),c.jsx(G,{value:"overview",className:"mt-6",children:c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs(i,{children:[c.jsxs(o,{children:[c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(L,{className:"w-5 h-5"}),"Quick Trade"]}),c.jsx(u,{children:"Click a symbol to start a trade"})]}),c.jsxs(x,{children:[c.jsx("div",{className:"grid grid-cols-4 gap-2",children:le.length>0?le.map(e=>c.jsxs(m,{variant:"outline",className:"flex flex-col h-auto py-3 hover:border-primary",onClick:()=>ze(e.symbol),children:[c.jsx("span",{className:"font-bold",children:e.symbol}),c.jsxs("span",{className:"text-sm",children:["$",e.price.toFixed(2)]}),c.jsxs("span",{className:"text-xs "+(e.changePercent>=0?"text-success":"text-destructive"),children:[e.changePercent>=0?"+":"",e.changePercent.toFixed(2),"%"]})]},e.symbol)):ye.map(e=>c.jsx(m,{variant:"outline",className:"py-6",onClick:()=>ze(e),children:e},e))}),ue&&c.jsx("div",{className:"text-center text-sm text-muted-foreground mt-2",children:"Updating quotes..."})]})]}),c.jsxs(i,{children:[c.jsx(o,{children:c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(Z,{className:"w-5 h-5"}),"Current Positions"]})}),c.jsx(x,{children:0===F.length?c.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[c.jsx(k,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),c.jsx("p",{children:"No open positions"}),c.jsx("p",{className:"text-sm",children:"Place a trade to get started"})]}):c.jsxs("div",{className:"space-y-3",children:[F.slice(0,5).map(e=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:e.symbol}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.position>0?"+":"",e.position," shares @ $",e.avgCost.toFixed(2)]})]}),c.jsxs("div",{className:"text-right "+(e.unrealizedPnl>=0?"text-success":"text-destructive"),children:[c.jsxs("div",{className:"font-medium",children:[e.unrealizedPnl>=0?"+":"","$",e.unrealizedPnl.toFixed(2)]}),c.jsxs("div",{className:"text-sm",children:["$",e.marketValue.toFixed(2)]})]})]},e.conid)),F.length>5&&c.jsxs(m,{variant:"ghost",className:"w-full",onClick:()=>oe("positions"),children:["View all ",F.length," positions"]})]})})]})]})}),c.jsx(G,{value:"hf-trading",className:"mt-6",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs(i,{className:"border-2 "+(pe?"border-warning bg-warning/5":"border-dashed"),children:[c.jsx(o,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-3 rounded-full "+(pe?"bg-warning/20":"bg-muted"),children:c.jsx(_,{className:"w-6 h-6 "+(pe?"text-warning animate-pulse":"text-muted-foreground")})}),c.jsxs("div",{children:[c.jsxs(l,{className:"flex items-center gap-2",children:["High-Frequency Paper Trading",pe&&c.jsxs(j,{className:"bg-warning text-warning-foreground",children:[c.jsx(k,{className:"w-3 h-3 mr-1 animate-pulse"}),"LIVE"]})]}),c.jsx(u,{children:"Terminal-based worker generating 100+ trades/day for En Pensent training"})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Worker Status"}),c.jsx("div",{className:"font-medium "+(pe?"text-warning":"text-muted-foreground"),children:pe?"RUNNING":"OFFLINE"})]})]})}),c.jsxs(x,{children:[c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.total}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Trades"})]}),c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.today}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Today's Trades"})]}),c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsxs("div",{className:"text-3xl font-bold font-mono "+(ge.pnl>=0?"text-success":"text-destructive"),children:[ge.pnl>=0?"+":"","$",ge.pnl.toFixed(2)]}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Total P&L"})]}),c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsx("div",{className:"text-3xl font-bold font-mono text-warning",children:pe?"30s":"N/A"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Cycle Time"})]})]}),c.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-muted-foreground",children:[c.jsx(q,{className:"w-4 h-4"}),c.jsx("span",{children:"Auto-refresh every 5 seconds from Supabase"}),c.jsx("span",{className:"mx-2",children:"•"}),c.jsx("span",{children:"11 symbols: AAPL, MSFT, NVDA, TSLA, AMD, META, GOOGL, AMZN, SPY, QQQ, IWM"})]})]})]}),c.jsxs(i,{children:[c.jsxs(o,{children:[c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(k,{className:"w-5 h-5"}),"Live Trade Feed",he.length>0&&c.jsxs(j,{variant:"secondary",children:[he.length," recent"]})]}),c.jsx(u,{children:"Real-time trades from high-frequency worker (updates every 5s)"})]}),c.jsx(x,{children:0===he.length?c.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[c.jsx(_,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{className:"text-lg",children:"No trades yet"}),c.jsx("p",{className:"text-sm",children:"Start the high-frequency worker to see activity"}),c.jsx("code",{className:"block mt-4 p-2 bg-muted rounded text-xs",children:"node farm/workers/high-frequency-paper-trader.mjs"})]}):c.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:he.map(e=>{var t;return c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:["BUY"===e.direction?c.jsx(A,{className:"w-4 h-4 text-success"}):c.jsx(R,{className:"w-4 h-4 text-destructive"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold",children:e.symbol}),c.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleTimeString()})]}),c.jsx(j,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction}),c.jsxs(j,{variant:"outline",className:"text-xs",children:[e.shares," shares"]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Entry"})]}),e.predicted_confidence&&c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"font-mono",children:[(100*e.predicted_confidence).toFixed(0),"%"]}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Conf"})]}),void 0!==e.pnl&&null!==e.pnl&&c.jsxs("div",{className:"text-right font-mono "+(e.pnl>=0?"text-success":"text-destructive"),children:[c.jsxs("div",{children:[e.pnl>=0?"+":"","$",e.pnl.toFixed(2)]}),c.jsx("div",{className:"text-xs",children:"P&L"})]}),c.jsx(j,{variant:"outline",className:"open"===e.status?"bg-success/10 text-success":"bg-muted",children:e.status})]})]},e.id)})})})]}),he.filter(e=>"open"===e.status).length>0&&c.jsxs(i,{children:[c.jsx(o,{children:c.jsxs(l,{className:"text-lg flex items-center gap-2",children:[c.jsx(Z,{className:"w-5 h-5"}),"Open HF Positions"]})}),c.jsx(x,{children:c.jsxs(S,{children:[c.jsx(H,{children:c.jsxs(W,{children:[c.jsx(E,{children:"Symbol"}),c.jsx(E,{children:"Side"}),c.jsx(E,{className:"text-right",children:"Shares"}),c.jsx(E,{className:"text-right",children:"Entry"}),c.jsx(E,{className:"text-right",children:"Stop Loss"}),c.jsx(E,{className:"text-right",children:"Take Profit"}),c.jsx(E,{children:"Status"})]})}),c.jsx(T,{children:he.filter(e=>"open"===e.status).map(e=>{var t,n,s;return c.jsxs(W,{children:[c.jsx(J,{className:"font-bold",children:e.symbol}),c.jsx(J,{children:c.jsx(j,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction})}),c.jsx(J,{className:"text-right font-mono",children:e.shares}),c.jsxs(J,{className:"text-right font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),c.jsxs(J,{className:"text-right font-mono text-destructive",children:["$",(null==(n=e.stop_loss)?void 0:n.toFixed(2))||"N/A"]}),c.jsxs(J,{className:"text-right font-mono text-success",children:["$",(null==(s=e.take_profit)?void 0:s.toFixed(2))||"N/A"]}),c.jsx(J,{children:c.jsx(j,{variant:"outline",className:"bg-success/10 text-success border-success/30",children:"Open"})})]},e.id)})})]})})]})]})})]})]}):c.jsxs(i,{className:"border-warning/50",children:[c.jsx(o,{children:c.jsxs(l,{className:"flex items-center gap-2 text-warning",children:[c.jsx(V,{className:"h-5 w-5"}),"Gateway Running - Login Required"]})}),c.jsxs(x,{className:"space-y-4",children:[c.jsxs(K,{variant:"default",children:[c.jsx(Y,{className:"h-4 w-4"}),c.jsx(I,{children:'Bridge is running but not connected to IB Gateway. Open IB Gateway desktop app, log in, then click "Connect to Gateway".'})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(m,{onClick:ne,className:"flex-1",children:[c.jsx(V,{className:"h-4 w-4 mr-2"}),"Connect to Gateway"]}),c.jsxs(m,{variant:"outline",onClick:te,children:[c.jsx(g,{className:"h-4 w-4 mr-2"}),"Check Status"]})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"IB Gateway must be running with API enabled (port 4002 for paper trading)."})]})]}):c.jsxs(i,{className:"border-destructive/50",children:[c.jsxs(o,{children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(l,{className:"flex items-center gap-2 text-destructive",children:[c.jsx(O,{className:"h-5 w-5"}),"IB Gateway Bridge Not Running"]})}),c.jsx(u,{children:ee||"Start the IBKR Client Portal Gateway to begin trading."})]}),c.jsxs(x,{className:"space-y-4",children:[c.jsxs(K,{children:[c.jsx(Y,{className:"h-4 w-4"}),c.jsx(P,{children:"Quick Setup"}),c.jsx(I,{className:"space-y-2",children:c.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-2",children:[c.jsxs("li",{children:["Download the ",c.jsx("a",{href:"https://www.interactivebrokers.com/en/trading/ib-api.php",target:"_blank",rel:"noopener",className:"text-primary underline font-medium",children:"IBKR Client Portal Gateway"})]}),c.jsxs("li",{children:["Run ",c.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.sh"})," (Mac) or ",c.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.bat"})," (Windows)"]}),c.jsxs("li",{children:["Login at ",c.jsx("strong",{children:"https://localhost:5000"})," with IBKR credentials"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Using remote access?"})," Click Gateway Settings above and enter your machine's IP"]})]})})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(m,{onClick:te,className:"flex-1",children:[c.jsx(g,{className:"h-4 w-4 mr-2"}),"Retry Connection"]}),c.jsxs(m,{variant:"outline",onClick:()=>window.open("https://localhost:5000","_blank"),children:[c.jsx(f,{className:"h-4 w-4 mr-2"}),"Open Gateway"]})]})]})]})}const we=()=>c.jsxs("div",{className:"container mx-auto py-8 px-4",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[c.jsx(X,{className:"w-8 h-8 text-primary"}),c.jsxs("h1",{className:"text-4xl font-bold",children:[c.jsx("span",{className:"text-primary",children:"En Pensent™"})," Trading"]})]}),c.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Paper trading powered by Interactive Brokers. Start with simulated funds, graduate to real money when ready."})]}),c.jsx(U,{componentName:"IBKRTradingDashboard",children:c.jsx(pe,{})}),c.jsx("p",{className:"text-center text-xs text-muted-foreground mt-8",children:"⚠️ Paper trading uses simulated funds. No real money is at risk. When ready, switch to a live IBKR account for real trading."})]});export{we as default};
