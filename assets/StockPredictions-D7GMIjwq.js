var e=Object.defineProperty,t=(t,n,s)=>((t,n,s)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s)(t,"symbol"!=typeof n?n+"":n,s);import{aJ as n,r as s,eu as r,s as a,j as c,C as i,p as o,t as l,L as d,w as u,x,aq as h,B as m,aF as f,v as g,cR as v,y as j,b8 as y,b9 as p,ba as w,bb as N,bc as b,a8 as C,aB as B,aC as z,aD as D,b4 as L,aE as q,aY as M,bh as A,cb as U,ad as P,eB as G}from"./index-UzGFh8Yo.js";import{A as I,a as K,b as k}from"./alert-CaDV7AhN.js";import{T as S,a as H,b as Y,c as W,d as T,e as O}from"./table-Ds_WD0oL.js";import{C as E}from"./circle-alert-J0Bs0498.js";import{W as _}from"./wifi-off-CctB3U2P.js";import{W as J}from"./wifi-Q57zmyto.js";import{B as X}from"./briefcase-BJGseAv4.js";import{T as V}from"./trending-down-CbcRL-CZ.js";const F=n("Bolt",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]),Z=n("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),R=ae;!function(){const e=ae,t=ee();for(;;)try{if(599188===parseInt(e(389))/1*(-parseInt(e(392))/2)+parseInt(e(384))/3*(-parseInt(e(373))/4)+parseInt(e(415))/5+-parseInt(e(403))/6+-parseInt(e(405))/7*(-parseInt(e(401))/8)+-parseInt(e(387))/9*(-parseInt(e(378))/10)+-parseInt(e(394))/11*(-parseInt(e(404))/12))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const Q=function(){let e=!0;return function(t,n){const s=e?function(){const e=ae;if(e(376)!==e(402)){if(n){const s=n[e(409)](t,arguments);return n=null,s}}else if(_0x634ec7){const t=_0x431111[e(409)](_0x3c7f08,arguments);return _0x499c6d=null,t}}:function(){};return e=!1,s}}()(void 0,function(){const e=ae,t={};t[e(372)]=e(393)+"+$";const n=t;return Q[e(382)]()[e(396)](e(393)+"+$").toString()[e(397)+"r"](Q).search(n.Mfkec)});Q();const $=function(){const e={WuHmT:function(e){return e()},TRXCT:function(e,t){return e!==t},Osolq:ae(400)};let t=!0;return function(n,s){const r=t?function(){const t=ae,r={RtqkM:function(t){return e.WuHmT(t)}};if(s){if(e.TRXCT(t(390),e.Osolq)){const e=s[t(409)](n,arguments);return s=null,e}{const e={...r[t(380)](_0x393c3f),..._0x503acd};_0x2dd7b1[t(369)](_0x20c5b9,_0x20c2ef[t(386)](e))}}}:function(){};return t=!1,r}}();function ee(){const e=["y29UC29Szq","z2f0zxDHEuHVCW","ntG4ote0mg1kAuTArq","DgfIBgu","EgPHvLe","zxHJzxb0Aw9U","yNjPzgDLvxjS","z2f0zxDHEvbVCG","mti3lJaUmc4X","C2v0sxrLBq","zhvKrNu","CMv0DxjUicHMDq","twzRzwm","mJi3nJy4DxHtBuvM","u2XPAMK","CxbYrgq","A3HfB1C","yMLUza","mtbjDvLsruq","Aw5MBW","uNrXA00","z2v0sxrLBq","Dg9tDhjPBMC","yMTkreG","ntD6qMftqKW","x2jYAwrNzv91CG","C3rYAw5NAwz5","nZC1mZiZrgr4DgPn","ywXOB3n0oJqWma","muzpr1rRwG","DfPWsgG","DhjHy2u","mtaYmduWohPpz0LVDa","kcGOlISPkYKRkq","mtfZqwjnEhO","Ahr0CdOVl2XVyW","C2vHCMnO","y29UC3rYDwn0BW","AuXrDe8","zxjYB3i","weTQr2e","mZC2rgjqwwf0","s1vfEfu","otaYmta2wwPVu01X","mtiZmtCYmdH6ruvYwxy","nZu2n0HoBejJta","BgvUz3rO","ChjVDg90ExbL","y2XPzw50swq","yxbWBhK","CMvTB3zLsxrLBq","CM4GDgHPCYiPka","AwjFz2f0zxDHEq"];return(ee=function(){return e})()}$(void 0,function(){const e=ae,t={};t[e(383)]="log",t.iLQtO=e(399),t[e(417)]=e(418),t[e(374)]=e(416),t[e(370)]=function(e,t){return e<t};const n=t,s=function(){const t=e;let n;try{n=Function(t(371)+'nction() {}.constructor("retu'+t(411)+" ));")()}catch(s){n=window}return n}(),r=s[e(413)]=s[e(413)]||{},a=[n[e(383)],"warn",e(379),n[e(398)],n.xjaVQ,n[e(374)],e(391)];for(let c=0;n[e(370)](c,a[e(406)]);c++){const t=$[e(397)+"r"][e(407)].bind($),n=a[c],s=r[n]||t;t.__proto__=$[e(377)]($),t[e(382)]=s[e(382)][e(377)](s),r[n]=t}})();const te=R(412)+R(385)+"l",ne=R(395)+R(388)+"0",se={};se[R(366)]=ne,se[R(414)+"t"]=R(368),se[R(367)+"t"]=4002,se[R(408)]=1;const re=se;function ae(e,t){e-=366;const n=ee();let s=n[e];if(void 0===ae.gboRkz){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};ae.lZLKTS=r,ae.CpLUhq={},ae.gboRkz=!0}const a=e+n[0],c=ae.CpLUhq[a];if(c)s=c;else{const e=function(e){this.nrafPL=e,this.ORuwqa=[1,0,0],this.JuxZay=function(){return"newState"},this.lglIWK="\\w+ *\\(\\) *{\\w+ *",this.SPxOwz="['|\"].+['|\"];? *}"};e.prototype.kfuShg=function(){const e=new RegExp(this.lglIWK+this.SPxOwz).test(this.JuxZay.toString())?--this.ORuwqa[1]:--this.ORuwqa[0];return this.dzVhnW(e)},e.prototype.dzVhnW=function(e){return Boolean(~e)?this.VjYLzz(this.nrafPL):e},e.prototype.VjYLzz=function(e){for(let t=0,n=this.ORuwqa.length;t<n;t++)this.ORuwqa.push(Math.round(Math.random())),n=this.ORuwqa.length;return e(this.ORuwqa[0])},new e(ae).kfuShg(),s=ae.lZLKTS(s),ae.CpLUhq[a]=s}return s}function ce(){const e=R,t={qprDd:function(e,t){return e===t}};if(t[e(375)](typeof window,"undefined"))return re;const n=localStorage[e(381)](te);if(n)try{return{...re,...JSON.parse(n)}}catch{return re}return re}function ie(){return ce().bridgeUrl}const oe=xe;function le(){const e=["DgvK","y2HLy2TdB25Uzq","CgL0tLG","Ev0Gr2v0igfJyW","ze1jvuC","mtG5mdm4vLnZENDf","C2vHCMnO","Cg9YDa","CNzUqvm","zMnxufy","E30Uy29UC3rYDq","BgvUz3rO","yMXLoG","zgLZy29UBMvJDa","wLDIEe0","BfLywNC","w0LcieDHDgv3yq","yMLUza","nde3mZyWC3vgy1rw","zxHJzxb0Aw9U","rLjMzMS","DgnpD0e","BI9QC29U","uvPSqM0","DwDVAuC","yxv0AgvUDgLJyq","B2HOy3e","wwvzsxu","kcGOlISPkYKRkq","B1nbBxu","Aw5N","s1HLzfm","Exv3BMK","mta1mtq1odbUDwToz3m","y29UC29Szq","BePbBMi","C3rYAw5NAwz5","BM90igf2ywLSyq","l2fWAs9WB3nPDa","B3jKzxiGzxjYBW","ChjVDg90ExbL","Dg9tDhjPBMC","yxbWBhK","CgfWzxjuCMfKAq","AxrPB25ZigvYCG","Bwv0Ag9K","Ev0Gq29UBMvJDa","ue9tva","BKf0wva","mJHxEfnxtuC","tg5jANe","Ev0Gq2fUy2vSia","r05AwfG","yxbWBgLJyxrPBW","nde5odq0oev1zxrxDG","Ae1su2q","Aw9UCZ9Hy2nVDq","wfLmvem","z2f0zxDHEvbVCG","C2vHCMnOq29UDa","CNjVCJO","Ev0Gu2vHCMnOia","y29UC3rYDwn0BW","Bg9N","zxjYB3i","y29UBMvJDa","D29iB24","z2v0qwnJB3vUDa","rgzXEMC","mta5nJuZoxbpAKvurW","CxjZzK0","BM5Ly3q","Ev0Gr2v0ihbVCW","ANnVBG","quLLtMW","zxjZigvYCM9YoG","zLDvC1q","s2TNDM0","Aw5MBW","l2fWAs9ZzwfYyW","BNrjzd0","qxbLzKC","DgfIBgu","ALHhEhy","mJK5nZG1tM1rtM9l","y29UDhjHy3rZ","Ag9ZDa","A215uei","nZHireLiAMu","igvYCM9YoG","l2fWAs9XDw90zq","l2fWAs9JB25Uzq","uffdAfi","l2fWAs9VCMrLCG","C3rHDhvZ","y2XPzw50swq","Ad9ZEw1IB2W9","z2v0t3jKzxjZ","ywnJB3vUDhm","A3P5Bge","B3vUDhmGzxjYBW","BM93","ELrXDuS","BwvZC2fNzq","mJe3otq3nhHLDvLkAq","DhbxBhi","s2rqCeG","rxzUEKy","vgnWBve","EKXpEKS","DLvjDK4","D2fYBG","wuDvshG","sM9lz3i","x19WCM90B19F","CMv0DxjUicHMDq","ywLSzwq","Ev0Gt3jKzxiGzG","ounqA0XIuW","CM4GDgHPCYiPka","wu1pv2S","y29UDhjHy3qGzq","y3rPB24","u0zuExi","s3rtywK","y29UBMvJDgvK","B3jKzxjjza","v2HYrg4","B1bUqLO","DhjHy2u","BvzVu3y","zevXvem","s01fu2K","CMfJDa","z2v0ug9ZAxrPBW"];return(le=function(){return e})()}!function(){const e=xe,t=le();for(;;)try{if(654321===parseInt(e(177))/1+parseInt(e(141))/2+parseInt(e(106))/3+parseInt(e(226))/4+parseInt(e(121))/5*(-parseInt(e(125))/6)+-parseInt(e(221))/7*(parseInt(e(190))/8)+-parseInt(e(155))/9*(parseInt(e(205))/10))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const de=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=xe,t={};t.KXedS=e(200)+"+$";const n=t;return de[e(213)]()[e(178)]("(((.+)+)+)+$")[e(213)]()[e(234)+"r"](de)[e(178)](n[e(203)])});de();const ue=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[xe(214)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}();function xe(e,t){e-=104;const n=le();let s=n[e];if(void 0===xe.PeVwGx){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};xe.pmXiOo=r,xe.eHMIox={},xe.PeVwGx=!0}const a=e+n[0],c=xe.eHMIox[a];if(c)s=c;else{const e=function(e){this.KplzhD=e,this.YwFRtC=[1,0,0],this.XheoOS=function(){return"newState"},this.diznrd="\\w+ *\\(\\) *{\\w+ *",this.nvhfaP="['|\"].+['|\"];? *}"};e.prototype.PVTMJF=function(){const e=new RegExp(this.diznrd+this.nvhfaP).test(this.XheoOS.toString())?--this.YwFRtC[1]:--this.YwFRtC[0];return this.pPuOLO(e)},e.prototype.pPuOLO=function(e){return Boolean(~e)?this.GZNWbX(this.KplzhD):e},e.prototype.GZNWbX=function(e){for(let t=0,n=this.YwFRtC.length;t<n;t++)this.YwFRtC.push(Math.round(Math.random())),n=this.YwFRtC.length;return e(this.YwFRtC[0])},new e(xe).PVTMJF(),s=xe.pmXiOo(s),xe.eHMIox[a]=s}return s}ue(void 0,function(){const e=xe,t={};t[e(165)]=function(e,t){return e+t},t[e(224)]=function(e,t){return e+t},t[e(150)]=e(152)+"nction() ",t[e(144)]="log",t.WhrDn=e(148),t.kzyla="error",t[e(147)]=e(191);const n=t;let s;try{s=Function(n[e(165)](n[e(224)](n.JoKgr,e(182)+'ctor("retu'+e(156)+" )"),");"))()}catch(c){s=window}const r=s[e(206)]=s[e(206)]||{},a=[n[e(144)],n[e(164)],e(115),n[e(136)],n[e(147)],e(119),e(166)];for(let i=0;i<a[e(183)];i++){const t=ue[e(234)+"r"][e(212)].bind(ue),n=a[i],s=r[n]||t;t[e(151)]=ue[e(189)](ue),t.toString=s[e(213)][e(189)](s),r[n]=t}})();class he{constructor(){t(this,"connected",!1)}async[oe(173)+oe(159)](){const e=oe,t={lJAnb:e(188)+e(175)+e(137)+"r:",fWUsT:function(e,t,n){return e(t,n)},XYLTC:e(225)+"n/json",kmyPB:e(142)};try{const n=ce(),s=await t[e(113)](fetch,ie()+"/api/status",{method:"GET",headers:{"Content-Type":t[e(229)]}});if(!s.ok){if(e(142)===t[e(124)]){const t={connected:!1};return t[e(197)+e(172)]=!1,t[e(215)+"ng"]=!1,t}return _0x47370e[e(236)](t[e(207)],_0x5ddf21),[]}const r=await s[e(110)]();this[e(162)]=!0===r[e(162)];const a={};return a.connected=!0===r["bridgeRunn"+e(202)],a[e(197)+e(172)]=!0===r[e(162)],a.paperTrading=4002===n[e(230)+"t"],a}catch(n){const t={};return t[e(162)]=!1,t[e(197)+e(172)]=!1,t[e(215)+"ng"]=!1,t}}async[oe(237)](){const e=oe,t={lYXZw:e(188)+e(233)+e(158)+e(232),qrsfM:function(e,t){return e!==t},LqtAD:"vxmjH",woHon:e(146),KdPpH:function(e){return e()},pitNX:e(219),Hprla:e(225)+e(194),zTquK:e(188)+e(218)+e(126)};try{if(t[e(107)](t.LqtAD,t[e(238)])){const n=t[e(143)](ce),s={};s[e(123)]=n.gatewayHost,s[e(179)]=n[e(230)+"t"],s[e(132)]=n[e(132)];const r=await fetch(t[e(143)](ie)+(e(128)+"ct"),{method:t[e(174)],headers:{"Content-Type":t.Hprla},body:JSON.stringify(s)});if(!r.ok)return!1;const a=await r[e(110)]();return this[e(162)]=!0===a[e(162)],this[e(162)]}return _0x363402[e(236)](t[e(187)],_0x154521),[]}catch(n){return!1}}async[oe(185)](){const e=oe,t={YGUHx:function(e,t,n){return e(t,n)}};try{const n={};n.method=e(219),await t[e(149)](fetch,ie()+"/api/disco"+e(108),n),this[e(162)]=!1}catch{}}async[oe(104)+"s"](){const e=oe,t={PQChR:function(e,t){return e(t)},YMOWk:function(e){return e()}};try{const n=await t[e(129)](fetch,t[e(157)](ie)+"/api/accounts");if(!n.ok)return[];return(await n[e(110)]())[e(135)]||[]}catch(n){return[]}}async[oe(171)+"ns"](e){const t=oe,n={dMIUG:function(e,t){return e(t)},ugoiG:t(145),Kkgvm:t(198)};try{const s=await n[t(176)](fetch,ie()+(t(210)+t(228)+t(117))+e);if(!s.ok)return[];return(await s[t(110)]()).positions||[]}catch(s){if(n[t(196)]!==n[t(114)])return[];if(_0x3c2b0b){const e=_0x50d5db[t(214)](_0x1ab5c8,arguments);return _0x412d27=null,e}}}async[oe(134)](){const e=oe,t={buVPF:function(e,t){return e===t},jXGxv:e(111),SFTyr:function(e,t){return e(t)},FRffk:function(e){return e()},ZWbxM:"[IB Gateway] Get ord"+e(112)};try{if(t.buVPF(t[e(120)],e(181))){const t=_0x51cb8d[e(214)](_0x3c2c6d,arguments);return _0xcda0ab=null,t}{const n=await t[e(160)](fetch,t[e(192)](ie)+(e(130)+"s"));if(!n.ok)return[];return(await n[e(110)]()).orders||[]}}catch(n){return[]}}async[oe(231)+oe(170)](e){const t=oe,n={};n[t(227)]=function(e,t){return e===t},n[t(180)]=t(118),n[t(168)]="nYELC",n[t(204)]=t(188)+t(233)+t(158)+t(232);const s=n;try{if(s[t(227)](s[t(180)],s[t(168)])){const e={};return e[t(162)]=!1,e[t(197)+"ted"]=!1,e[t(215)+"ng"]=!1,e}{const n=await fetch(ie()+(t(116)+t(133))+encodeURIComponent(e));if(!n.ok)return[];return(await n[t(110)]())[t(122)]||[]}}catch(r){return[]}}async placeOrder(e){const t=oe,n={LnIjq:function(e,t,n){return e(t,n)},Dfqzg:function(e){return e()},oSAmu:t(219),KMESi:"submitted"};try{const s={};s["Content-Type"]=t(225)+t(194);const r=await n[t(222)](fetch,n[t(105)](ie)+(t(130)+"s"),{method:n[t(201)],headers:s,body:JSON[t(208)](e)});if(!r.ok)return null;const a=await r[t(110)]();return{orderId:a[t(163)]||"ib-"+Date[t(138)](),status:a[t(131)]||n[t(169)]}}catch(s){return null}}async cancelOrder(e){const t=oe,n={tcOwA:function(e,t,n){return e(t,n)},QZlBm:function(e){return e()}};try{const s={};s[t(217)]="DELETE";return(await n[t(193)](fetch,n[t(195)](ie)+"/api/orders/"+e,s)).ok}catch(s){return!1}}async getQuote(e){const t=oe,n={nAtYP:function(e,t){return e===t},YeYIu:"KtSai",mVoSv:function(e,t){return e(t)}};try{if(n[t(220)](n[t(199)],t(161))){const s=await n[t(167)](fetch,ie()+(t(127)+"?conid=")+e);if(!s.ok)return null;return await s[t(110)]()}{const e=_0x44b536?function(){if(_0x5eaec6){const e=_0x3b8eb6[t(214)](_0x5125e1,arguments);return _0x18ee87=null,e}}:function(){};return _0x2139a9=!1,e}}catch{return null}}}const me=new he;function fe(){const e=["CgfWzxi","zxHJzxb0Aw9U","ihj1BM5PBMCUia","y29UBMvJDfrVrW","Bw1Izfy","yxrLD2f5igLZia","ChHyrKy","y291BNq","yxrLD2f5ignVBG","DgvK","C2vHCMnOq29UDa","AKjMELC","BwvZC2fNzq","A2XYt2m","y3rVCIGICMv0Dq","r3fIsxO","vMDUvKi","v2nnsLy","y3rPB24","Bg9Hze9YzgvYCW","uvbkB1C","C2vHCMnO","y29UBMvJDa","y3vYCMvUDa","ndvXqKzOEfO","zgvZDhj1y3rPDG","zNDAsNa","u3LTyM9Sie5VDa","ChjPy2u","uvvjvvC","CMfJDa","yxbWBhK","u2P3y0C","BenOtMO","A0fvB3y","yxrLD2f5","tuHquuy","zMLUza","qNjPzgDLig5VDa","zwn0igfUigfJyW","ALDAq1K","y3qGDg8Gr2f0zq","z2v0qwnJB3vUDa","CMv0DxjUicHMDq","Bxvuz0S","ChjVDg90ExbL","we9sDgS","CgXHy2vpCMrLCG","u3fjEva","y29UBMvJDc4Grq","u3rHCNqGDgHLia","rMfPBgvKihrVia","B2XOweS","D2fYBG","nZe5ndK2tfLqCLnS","y29UAwq","qvfwsfu","reffuei","zxjYB3i","C3LTyM9S","BMfIBgvKlG","z254wfi","C2vSzwn0zwrbyW","y2HLy2TdB25Uzq","zcbbueKGAxmGzq","yMLUza","CeXWy3K","CgfWzxjuCMfKAq","D3fgs2S","C3rHCNrZv2L0Aa","u3vJy2vZC2z1Ba","uvbSqve","ywn0igzVCIa","BhKGy29UBMvJDa","Bg9N","ENzqrM4","q29UBMvJDgvK","w0LcieDHDgv3yq","CNvUBMLUzYbHBG","mJm3mJCYngXAtLnjCq","CMvMCMvZAerHDa","CgXHy2uGB3jKzq","Dw50","wfrHA3m","q29UBMvJDgLVBG","zYbJB25Uzwn0Aq","C25dANO","AwnRicjdB25Uzq","rwTHC0K","q2TowwK","rLDUr3u","C3rHDhvZ","Ev0Gq29UBMvJDa","txbVueq","mJyZmJG0v25Uy0nV","mZeWnZK4nM1Azu95uW","ywnJB3vUDfr5Ca","yKLTD3i","B24UlI4","Dg9tDhjPBMC","Aw9UigvYCM9YoG","yxv0AgvUDgLJyq","D2f5iI4","Bg9JywWGyNjPza","ywnJB3vUDeLK","E30Uy29UC3rYDq","tgPXzg8","t3jKzxiGugXHyW","yxrLD2f5lIbdBa","kcGOlISPkYKRkq","y29UBMvJDdOG","t3jKzxiGq2fUyW","A05YDvC","z2v0t3jKzxjZ","BvDkD0y","Dev5uMe","q291BgqGBM90ia","tM8GqwnJB3vUDa","zMDwwfq","v09Is1u","zgvZy3jPChrPBW","sgPLDMK","DMfYAwfUDa","ywnJB3vUDhm","zMLYC3qU","iezVDw5K","yujOBMK","s01WAvK","CNvUBMLUzY4","CI4Gq2HLy2SGzW","Cw5dC1K","y29UBMvJDgvK","m3nAChjXCq","y29UC29Szq","mtbWy0XPyMG","y09TDK8","tff3qxi","zvjIsu4","z2uGC2vYDMvYia","CxvHBNrPDhK","yvn4wuu","C1LACKu","s0PKvuG","Aw5MBW","BNn1CMuGsuiGrW","ntiXnZKWvwXmz2DN","su1Uufq","BMvJDgLVBI4","igHHCYbIzwvUia","Ev0Gu3rHDhvZoG","DMvQvvK","AfHTzKW","wwPOr1y","B25Z","Cg9ZAxrPB25Z","C2LKzq","ic0G","z0vTBxm","t3jKzxiG","DgL0Bgu","ifnLBgvJDgvK","B3jKzxjuExbL","y29UC3rYDwn0BW","BMLUzYbIDxqGBG","zwXSzwq","vKLLquO","Ev0Gq2HLy2TPBG","qKrdwxq","zwqGDg8GsuiGrW","BMn0Aw9UkcKG","ywXS","Bg9HzgLUzW","tgvftNy","BgvUz3rO","Aw9UignOzwnRia","mte4mJqYnJn0ugDnCNm","B3LTuuu","ugXLyxnLihnLBa","ndu4mJa2zxPcEunL","zMLUzcbJB250CG","sM5vv1K","rM1wv1i"];return(fe=function(){return e})()}!function(){const e=ve,t=fe();for(;;)try{if(847917===-parseInt(e(669))/1+-parseInt(e(670))/2*(parseInt(e(525))/3)+parseInt(e(654))/4+-parseInt(e(599))/5*(-parseInt(e(538))/6)+parseInt(e(571))/7+-parseInt(e(629))/8+parseInt(e(568))/9*(parseInt(e(527))/10))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ge=function(){const e=ve,t={MHPQF:function(e,t){return e(t)},klrOc:function(e,t){return e+t},aSxYE:"return (fu"+e(562),hXmfL:function(e,t){return e!==t}};let n=!0;return function(s,r){const a=e;if(t[a(544)](a(609),a(508))){const e=n?function(){if(r){const e=r.apply(s,arguments);return r=null,e}}:function(){};return n=!1,e}{let e;try{e=t[a(611)](_0x5ba0a3,t[a(588)](t[a(533)]+"{}.constru"+a(589)+'rn this")( )',");"))()}catch(c){e=_0x1f52e3}return e}}}()(void 0,function(){const e=ve,t={};t.zvPFn=e(502)+"+$";const n=t;return ge[e(674)]().search(n[e(650)])[e(674)]()[e(555)+"r"](ge)[e(596)]("(((.+)+)+)+$")});function ve(e,t){e-=500;const n=fe();let s=n[e];if(void 0===ve.UKuHNG){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};ve.XEvMgs=r,ve.HSSLLC={},ve.UKuHNG=!0}const a=e+n[0],c=ve.HSSLLC[a];if(c)s=c;else{const e=function(e){this.vXxEfn=e,this.rWFKKX=[1,0,0],this.wApNLk=function(){return"newState"},this.KYjIyz="\\w+ *\\(\\) *{\\w+ *",this.jTrHtE="['|\"].+['|\"];? *}"};e.prototype.TjNEeZ=function(){const e=new RegExp(this.KYjIyz+this.jTrHtE).test(this.wApNLk.toString())?--this.rWFKKX[1]:--this.rWFKKX[0];return this.IXJpxJ(e)},e.prototype.IXJpxJ=function(e){return Boolean(~e)?this.NvYnxx(this.vXxEfn):e},e.prototype.NvYnxx=function(e){for(let t=0,n=this.rWFKKX.length;t<n;t++)this.rWFKKX.push(Math.round(Math.random())),n=this.rWFKKX.length;return e(this.rWFKKX[0])},new e(ve).TjNEeZ(),s=ve.XEvMgs(s),ve.HSSLLC[a]=s}return s}ge();const je=function(){const e=ve,t={};t[e(560)]=function(e,t){return e===t},t[e(507)]=e(550),t[e(519)]=e(646);const n=t;let s=!0;return function(e,t){const r=s?function(){const s=ve;if(n[s(560)](n.mWJwF,n[s(519)])){const e=_0x4dc946?function(){if(_0x28bca7){const e=_0x29aa8c[s(606)](_0x5aeebc,arguments);return _0x425abf=null,e}}:function(){};return _0x4ddbdb=!1,e}if(t){const n=t[s(606)](e,arguments);return t=null,n}}:function(){};return s=!1,r}}();je(void 0,function(){const e=ve,t={KMpiY:function(e,t){return e+t},VgnVB:e(618)+e(562),ZbBzt:e(680)+e(589)+'rn this")( )',LeENv:"EmqEd",TIoOE:"FpOEe",AQVHU:function(e){return e()},olhXK:e(633),YjhGV:e(576)},n=t[e(631)](function(){const n=e;let s;try{s=Function(t[n(520)](t[n(591)],t.ZbBzt)+");")()}catch(r){if(t[n(565)]===t.TIoOE){const e=_0x298dc7[n(606)](_0x37514c,arguments);return _0x2c9983=null,e}s=window}return s}),s=n.console=n[e(526)]||{},r=["log",e(628),e(536),t[e(627)],t[e(545)],"table","trace"];for(let a=0;a<r[e(566)];a++){const t=je[e(555)+"r"][e(620)][e(640)](je),n=r[a],c=s[n]||t;t.__proto__=je[e(640)](je),t[e(674)]=c[e(674)][e(640)](c),s[n]=t}})();const ye=["SPY","QQQ","AAPL","MSFT","NVDA","TSLA","AMD","META"];function pe(){const{connected:e,authenticated:t,paperTrading:n,accounts:G,selectedAccount:Z,positions:R,orders:Q,loading:$,error:ee,checkConnection:te,connectToGateway:ne,refreshData:se,placeOrder:re,cancelOrder:ae,selectAccount:ce}=function(){var e;const t=ve,n={XTaks:function(e,t){return e(t)},cOmvO:function(e,t){return e(t)},XORtk:t(607),JnUWY:t(652)+t(559)+t(660)+t(673),SqIyP:function(e,t){return e(t)},SAfcC:"[IB Gatewa"+t(542),wqFKk:function(e,t){return e(t)},Ljqdo:function(e,t){return e===t},sYZrE:function(e,t){return e(t)},WObKU:function(e,t){return e(t)},fgVXT:t(645)+t(648)+"ed to IB G"+t(610),pLpcy:function(e){return e()},IMnPT:function(e,t){return e===t},fwZJp:"igpmf",EkasI:t(608),vejUY:function(e,t){return e(t)},bImwr:function(e,t){return e(t)},oymQE:function(e){return e()},SXhNq:t(510)+t(553),jWZCY:t(570)+t(614)+"ount first.",mmbdV:t(600)+"e",CkNYi:function(e,t){return e(t)},tVBKo:t(500)+"ed",snCjz:"Order Failed",cubNj:t(509)+t(656)+t(522)+t(583)+t(540),AIsEV:function(e,t){return e===t},pxXFF:function(e){return e()},Ugjim:function(e){return e()},QUIUW:function(e,t,n){return e(t,n)},hTUnG:function(e,t){return e!==t},DAEPB:t(530),VIeAJ:function(e,t,n){return e(t,n)},muTgK:function(e,t,n){return e(t,n)},gnxXR:function(e,t,n){return e(t,n)},qnCsY:function(e,t,n){return e(t,n)}},a={};a[t(524)]=!1,a[t(676)+t(584)]=!1,a[t(642)+"ng"]=!1,a[t(516)]=[],a[t(637)+t(582)]=null,a[t(547)]=[],a.orders=[],a[t(564)]=!0,a[t(633)]=null;const[c,i]=s.useState(a),o=n[t(643)](s.useRef,null),{toast:l}=r(),d=n[t(604)](s.useCallback,async()=>{const e=t,s={MpoPD:e(652)+"y] Connect"+e(567)+"timed out",KJdUH:function(t,s){return n[e(528)](t,s)}};if(e(529)!==n[e(621)]){n[e(528)](i,e=>({...e,loading:!0,error:null}));const t=setTimeout(()=>{const t=e;s[t(535)](i,e=>({...e,connected:!1,authenticated:!1,loading:!1,error:"Connection timed out. Ensure the bridge server is "+t(521)}))},8e3);try{const s=await me[e(638)+e(593)]();return n[e(623)](clearTimeout,t),n[e(643)](i,t=>({...t,connected:s.connected,authenticated:s[e(676)+e(584)],paperTrading:s[e(642)+"ng"],loading:!1,error:s[e(524)]?s[e(676)+e(584)]?null:"Bridge run"+e(556)+"ot connect"+e(561)+e(501)+e(662)+e(616)+e(677):e(613)+e(577)+e(625)+e(678)+e(531)+e(517)})),s}catch(r){if(n[e(681)](e(595),"nFZIQ")){_0xed0b55(_0x24b511),_0xb6be40[e(633)]("[IB Gatewa"+e(667)+e(675),_0x5ea8cc),n[e(658)](_0x521d89,t=>({...t,connected:!1,authenticated:!1,loading:!1,error:e(626)+e(503)+_0x5cf358[e(587)]}));const t={};return t[e(524)]=!1,t[e(676)+"ted"]=!1,t[e(642)+"ng"]=!1,t}{clearTimeout(t),n[e(534)](i,t=>({...t,connected:!1,authenticated:!1,loading:!1,error:e(626)+e(503)+r[e(587)]}));const s={};return s[e(524)]=!1,s[e(676)+e(584)]=!1,s[e(642)+"ng"]=!1,s}}}else{const t=_0x52a2fb[e(516)][e(612)](t=>t[e(679)]===_0xd7a028);t&&n.cOmvO(_0x25a825,e=>({...e,selectedAccount:t}))}},[]),u=n[t(558)](s.useCallback,async()=>{const e=t,s={FWnGu:function(e,t){return e(t)}};if(n[e(681)](e(505),e(574)))_0x487b2e[e(598)]&&s[e(665)](_0x4123d7,_0x32f8fc[e(598)]);else{n[e(512)](i,e=>({...e,loading:!0,error:null}));try{const t=await me[e(597)]();return t?(n[e(658)](l,{title:e(651),description:n[e(511)]}),await d(),await n[e(641)](x)):n[e(658)](i,t=>({...t,loading:!1,error:"Failed to "+e(624)+e(537)+e(580)+e(653)+e(639)+e(635)})),t}catch(r){return i(t=>({...t,loading:!1,error:e(659)+" failed: "+r[e(587)]})),!1}}},[l,d]),x=s.useCallback(async()=>{const e=t;if(!n[e(539)](n[e(601)],n[e(663)])){const t=await me[e(617)+"s"](),s=t[e(612)](t=>t[e(679)][e(644)]("DU")||t[e(671)+"e"].toLowerCase().includes(e(575)));return n[e(623)](i,e=>({...e,accounts:t,selectedAccount:s||t[0]||null})),t}_0x145c70=_0x3dbda7},[]),h=n[t(558)](s.useCallback,async()=>{const e=t;if(!c[e(637)+e(582)])return[];const s=await me.getPositions(c[e(637)+e(582)][e(679)]);return n[e(543)](i,e=>({...e,positions:s})),s},[c["selectedAc"+t(582)]]),m=n[t(619)](s.useCallback,async()=>{const e=t,s=await me[e(506)]();return n[e(672)](i,e=>({...e,orders:s})),s},[]),f=s.useCallback(async()=>{const e=t;c[e(676)+e(584)]&&await Promise[e(563)]([n[e(569)](x),h(),m()])},[c[t(676)+"ted"],x,h,m]),g=n[t(636)](s.useCallback,async e=>{const s=t;if(!c["selectedAc"+s(582)]){const e={};return e.title=n.SXhNq,e[s(513)+"n"]=n[s(615)],e[s(515)]=n[s(579)],l(e),null}const r=await me[s(585)+s(605)](e.symbol);if(0===r[s(566)]){const t={};return t[s(552)]=s(602)+s(518),t.description=s(509)+s(572)+s(647)+e[s(634)],t[s(515)]=s(600)+"e",n[s(664)](l,t),null}const a=r[0],i={};i[s(679)]=c[s(637)+s(582)].accountId,i[s(630)]=a.conid,i.symbol=e[s(634)],i[s(548)]=e[s(548)],i[s(532)]=e[s(532)],i.orderType=e[s(554)],i[s(603)]=e.price;const o=await me[s(622)](i);return o?(n[s(664)](l,{title:n.tVBKo,description:e[s(548)]+" "+e[s(532)]+" "+e[s(634)]+s(549)+o[s(666)]}),await m()):n[s(543)](l,{title:n[s(661)],description:n.cubNj,variant:n[s(579)]}),o},[c[t(637)+t(582)],l,m]),v=n[t(619)](s.useCallback,async e=>{const s=t,r=await me.cancelOrder(e);if(r){const t={};t[s(552)]=s(504)+s(557),t[s(513)+"n"]=s(551)+e+(s(541)+"cancelled."),n[s(543)](l,t),await m()}return r},[l,m]),j=s.useCallback(e=>{const s=t,r=c.accounts[s(612)](t=>t[s(679)]===e);r&&n.wqFKk(i,e=>({...e,selectedAccount:r}))},[c[t(516)]]);n[t(523)](s.useEffect,()=>{const e=t;return n[e(569)](async()=>{const e=ve,t={Hjevi:function(e,t){return n.AIsEV(e,t)},jBfzW:"GqbIz"};(await n[e(641)](d))["authentica"+e(584)]&&(await n[e(581)](x),await n.Ugjim(h),await m(),o.current=n[e(604)](setInterval,()=>{const n=e;if(!t[n(514)](t[n(586)],n(590)))return _0x23cef9[n(674)]()[n(596)](n(502)+"+$")[n(674)]().constructor(_0x305298)[n(596)](n(502)+"+$");f()},1e4))}),()=>{o[e(598)]&&clearInterval(o.current)}},[]),n.VIeAJ(s.useEffect,()=>{const e=t;n.hTUnG(n[e(632)],e(592))?c[e(637)+e(582)]&&c[e(676)+e(584)]&&h():_0x3ab16c["selectedAc"+e(582)]&&_0x530eb3[e(676)+e(584)]&&n[e(641)](_0x4a9cd5)},[null==(e=c[t(637)+"count"])?void 0:e[t(679)]]);const y={...c};return y["checkConne"+t(593)]=d,y[t(578)+t(610)]=u,y.loadAccounts=x,y["loadPositi"+t(546)]=h,y[t(594)]=m,y[t(655)+"a"]=f,y[t(622)]=g,y.cancelOrder=v,y["selectAcco"+t(657)]=j,y}(),[ie,oe]=s.useState("overview"),[le,de]=s.useState([]),[ue,xe]=s.useState(!1),[he,fe]=s.useState([]),[ge,je]=s.useState({total:0,today:0,pnl:0}),[pe,we]=s.useState(!1),[Ne,be]=s.useState({symbol:"SPY",side:"BUY",quantity:1,orderType:"MKT",price:0}),[Ce,Be]=s.useState(!1);s.useEffect(()=>{const e=async()=>{try{const{data:e}=await a.from("farm_status").select("*").eq("farm_name","high-frequency-paper-trader").single();if(e){const t=new Date(e.updated_at),n=t>new Date(Date.now()-12e4);we("trading"===e.status||n)}const{data:t}=await a.from("autonomous_trades").select("*").order("created_at",{ascending:!1}).limit(50);if(t){fe(t);const e=new Date;e.setHours(0,0,0,0);const n=t.filter(t=>new Date(t.created_at)>=e),s=t.reduce((e,t)=>e+(t.pnl||0),0);je({total:t.length,today:n.length,pnl:s})}}catch(e){}};e();const t=a.channel("hf-trades").on("postgres_changes",{event:"INSERT",schema:"public",table:"autonomous_trades"},e=>{const t=e.new;fe(e=>[t,...e].slice(0,50));const n=new Date;n.setHours(0,0,0,0);const s=new Date(t.created_at)>=n;je(e=>({total:e.total+1,today:s?e.today+1:e.today,pnl:e.pnl+(t.pnl||0)}))}).subscribe(),n=setInterval(e,5e3);return()=>{clearInterval(n),t.unsubscribe()}},[]),s.useCallback(()=>{te()},[te]),s.useEffect(()=>{if(t){ze();const e=setInterval(ze,3e4);return()=>clearInterval(e)}},[t]);const ze=async()=>{xe(!0);try{const{data:e,error:t}=await a.functions.invoke("stock-data",{body:{action:"batch",symbols:ye}});!t&&(null==e?void 0:e.stocks)&&de(e.stocks.map(e=>({symbol:e.symbol,price:e.latestPrice,change:e.change,changePercent:e.changePercent})))}catch(e){}finally{xe(!1)}},De=e=>{be(t=>({...t,symbol:e,side:"BUY"})),oe("trade")},Le=s.useMemo(()=>{const e=R.reduce((e,t)=>e+t.marketValue,0),t=R.reduce((e,t)=>e+t.unrealizedPnl,0);return{totalValue:e,totalPnL:t,totalRealizedPnL:R.reduce((e,t)=>e+t.realizedPnl,0),pnlPercent:(null==Z?void 0:Z.balance)?t/Z.balance*100:0}},[R,Z]);return $?c.jsxs(i,{children:[c.jsxs(o,{children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(d,{className:"h-5 w-5 animate-spin text-primary"}),"Connecting to IB Gateway Bridge..."]})}),c.jsx(u,{children:"Checking connection to gateway"})]}),c.jsxs(x,{className:"space-y-4",children:[c.jsx(h,{value:33,className:"h-2"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Looking for the Client Portal Gateway..."}),c.jsxs(I,{children:[c.jsx(E,{className:"h-4 w-4"}),c.jsx(K,{children:"Connection taking too long?"}),c.jsxs(k,{className:"space-y-2 mt-2",children:[c.jsx("p",{children:"Your browser may be blocking the connection. Try:"}),c.jsxs("ol",{className:"list-decimal list-inside text-sm space-y-1",children:[c.jsxs("li",{children:["Click ",c.jsx("strong",{children:"Gateway Settings"})," above to configure your gateway URL"]}),c.jsx("li",{children:"If using remotely, enter your machine's IP (e.g., https://192.168.1.100:5000)"}),c.jsxs("li",{children:["Accept the ",c.jsx("strong",{children:"self-signed certificate warning"})," in your browser"]}),c.jsx("li",{children:"Login if prompted, then return here"})]})]})]}),c.jsxs(m,{variant:"outline",size:"sm",onClick:()=>window.open("https://localhost:5000","_blank"),children:[c.jsx(f,{className:"h-4 w-4 mr-2"}),"Open Gateway in New Tab"]})]})]}):e?t?c.jsxs("div",{className:"space-y-6",children:[c.jsx(i,{className:"bg-gradient-to-br from-card via-card to-primary/5 border-primary/20",children:c.jsxs(x,{className:"pt-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(v,{className:"h-5 w-5 text-primary"}),c.jsx("span",{className:"font-medium",children:"IBKR Connected"}),n&&c.jsx(j,{variant:"outline",className:"bg-primary/10 text-primary border-primary",children:"Paper Trading"})]}),c.jsxs(y,{value:(null==Z?void 0:Z.accountId)||"",onValueChange:ce,children:[c.jsx(p,{className:"w-48",children:c.jsx(w,{placeholder:"Select Account"})}),c.jsx(N,{children:G.map(e=>c.jsxs(b,{value:e.accountId,children:[e.accountId," (",e.accountType,")"]},e.accountId))})]}),c.jsx(m,{variant:"ghost",size:"icon",onClick:se,children:c.jsx(g,{className:"h-4 w-4"})})]}),Z&&c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[c.jsx(C,{className:"w-3 h-3"}),"Account Balance"]}),c.jsxs("div",{className:"text-3xl font-mono font-bold",children:["$",Z.balance.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Buying Power"}),c.jsxs("div",{className:"text-xl font-mono",children:["$",Z.buyingPower.toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})]}),R.length>0&&c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6 pt-6 border-t",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Positions Value"}),c.jsxs("div",{className:"text-xl font-bold",children:["$",Le.totalValue.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Unrealized P&L"}),c.jsxs("div",{className:"text-xl font-bold "+(Le.totalPnL>=0?"text-success":"text-destructive"),children:[Le.totalPnL>=0?"+":"","$",Le.totalPnL.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Realized P&L"}),c.jsxs("div",{className:"text-xl font-bold "+(Le.totalRealizedPnL>=0?"text-success":"text-destructive"),children:[Le.totalRealizedPnL>=0?"+":"","$",Le.totalRealizedPnL.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Open Positions"}),c.jsx("div",{className:"text-xl font-bold",children:R.length})]})]})]})}),c.jsxs(B,{value:ie,onValueChange:oe,children:[c.jsxs(z,{className:"grid w-full grid-cols-2 max-w-md",children:[c.jsxs(D,{value:"overview",className:"flex items-center gap-1",children:[c.jsx(L,{className:"w-4 h-4"})," Overview"]}),c.jsxs(D,{value:"hf-trading",className:"flex items-center gap-1",children:[c.jsx(F,{className:"w-4 h-4"})," HF Trading",pe&&c.jsx("span",{className:"ml-1 w-2 h-2 bg-success rounded-full animate-pulse"})]})]}),c.jsx(q,{value:"overview",className:"mt-6",children:c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs(i,{children:[c.jsxs(o,{children:[c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(M,{className:"w-5 h-5"}),"Quick Trade"]}),c.jsx(u,{children:"Click a symbol to start a trade"})]}),c.jsxs(x,{children:[c.jsx("div",{className:"grid grid-cols-4 gap-2",children:le.length>0?le.map(e=>c.jsxs(m,{variant:"outline",className:"flex flex-col h-auto py-3 hover:border-primary",onClick:()=>De(e.symbol),children:[c.jsx("span",{className:"font-bold",children:e.symbol}),c.jsxs("span",{className:"text-sm",children:["$",e.price.toFixed(2)]}),c.jsxs("span",{className:"text-xs "+(e.changePercent>=0?"text-success":"text-destructive"),children:[e.changePercent>=0?"+":"",e.changePercent.toFixed(2),"%"]})]},e.symbol)):ye.map(e=>c.jsx(m,{variant:"outline",className:"py-6",onClick:()=>De(e),children:e},e))}),ue&&c.jsx("div",{className:"text-center text-sm text-muted-foreground mt-2",children:"Updating quotes..."})]})]}),c.jsxs(i,{children:[c.jsx(o,{children:c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(X,{className:"w-5 h-5"}),"Current Positions"]})}),c.jsx(x,{children:0===R.length?c.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[c.jsx(A,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),c.jsx("p",{children:"No open positions"}),c.jsx("p",{className:"text-sm",children:"Place a trade to get started"})]}):c.jsxs("div",{className:"space-y-3",children:[R.slice(0,5).map(e=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:e.symbol}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.position>0?"+":"",e.position," shares @ $",e.avgCost.toFixed(2)]})]}),c.jsxs("div",{className:"text-right "+(e.unrealizedPnl>=0?"text-success":"text-destructive"),children:[c.jsxs("div",{className:"font-medium",children:[e.unrealizedPnl>=0?"+":"","$",e.unrealizedPnl.toFixed(2)]}),c.jsxs("div",{className:"text-sm",children:["$",e.marketValue.toFixed(2)]})]})]},e.conid)),R.length>5&&c.jsxs(m,{variant:"ghost",className:"w-full",onClick:()=>oe("positions"),children:["View all ",R.length," positions"]})]})})]})]})}),c.jsx(q,{value:"hf-trading",className:"mt-6",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs(i,{className:"border-2 "+(pe?"border-warning bg-warning/5":"border-dashed"),children:[c.jsx(o,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-3 rounded-full "+(pe?"bg-warning/20":"bg-muted"),children:c.jsx(F,{className:"w-6 h-6 "+(pe?"text-warning animate-pulse":"text-muted-foreground")})}),c.jsxs("div",{children:[c.jsxs(l,{className:"flex items-center gap-2",children:["High-Frequency Paper Trading",pe&&c.jsxs(j,{className:"bg-warning text-warning-foreground",children:[c.jsx(A,{className:"w-3 h-3 mr-1 animate-pulse"}),"LIVE"]})]}),c.jsx(u,{children:"Terminal-based worker generating 100+ trades/day for En Pensent training"})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Worker Status"}),c.jsx("div",{className:"font-medium "+(pe?"text-warning":"text-muted-foreground"),children:pe?"RUNNING":"OFFLINE"})]})]})}),c.jsxs(x,{children:[c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.total}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Trades"})]}),c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.today}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Today's Trades"})]}),c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsxs("div",{className:"text-3xl font-bold font-mono "+(ge.pnl>=0?"text-success":"text-destructive"),children:[ge.pnl>=0?"+":"","$",ge.pnl.toFixed(2)]}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Total P&L"})]}),c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsx("div",{className:"text-3xl font-bold font-mono text-warning",children:pe?"30s":"N/A"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Cycle Time"})]})]}),c.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-muted-foreground",children:[c.jsx(U,{className:"w-4 h-4"}),c.jsx("span",{children:"Auto-refresh every 5 seconds from Supabase"}),c.jsx("span",{className:"mx-2",children:"•"}),c.jsx("span",{children:"11 symbols: AAPL, MSFT, NVDA, TSLA, AMD, META, GOOGL, AMZN, SPY, QQQ, IWM"})]})]})]}),c.jsxs(i,{children:[c.jsxs(o,{children:[c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(A,{className:"w-5 h-5"}),"Live Trade Feed",he.length>0&&c.jsxs(j,{variant:"secondary",children:[he.length," recent"]})]}),c.jsx(u,{children:"Real-time trades from high-frequency worker (updates every 5s)"})]}),c.jsx(x,{children:0===he.length?c.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[c.jsx(F,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{className:"text-lg",children:"No trades yet"}),c.jsx("p",{className:"text-sm",children:"Start the high-frequency worker to see activity"}),c.jsx("code",{className:"block mt-4 p-2 bg-muted rounded text-xs",children:"node farm/workers/high-frequency-paper-trader.mjs"})]}):c.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:he.map(e=>{var t;return c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:["BUY"===e.direction?c.jsx(P,{className:"w-4 h-4 text-success"}):c.jsx(V,{className:"w-4 h-4 text-destructive"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold",children:e.symbol}),c.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleTimeString()})]}),c.jsx(j,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction}),c.jsxs(j,{variant:"outline",className:"text-xs",children:[e.shares," shares"]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Entry"})]}),e.predicted_confidence&&c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"font-mono",children:[(100*e.predicted_confidence).toFixed(0),"%"]}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Conf"})]}),void 0!==e.pnl&&null!==e.pnl&&c.jsxs("div",{className:"text-right font-mono "+(e.pnl>=0?"text-success":"text-destructive"),children:[c.jsxs("div",{children:[e.pnl>=0?"+":"","$",e.pnl.toFixed(2)]}),c.jsx("div",{className:"text-xs",children:"P&L"})]}),c.jsx(j,{variant:"outline",className:"open"===e.status?"bg-success/10 text-success":"bg-muted",children:e.status})]})]},e.id)})})})]}),he.filter(e=>"open"===e.status).length>0&&c.jsxs(i,{children:[c.jsx(o,{children:c.jsxs(l,{className:"text-lg flex items-center gap-2",children:[c.jsx(X,{className:"w-5 h-5"}),"Open HF Positions"]})}),c.jsx(x,{children:c.jsxs(S,{children:[c.jsx(H,{children:c.jsxs(Y,{children:[c.jsx(W,{children:"Symbol"}),c.jsx(W,{children:"Side"}),c.jsx(W,{className:"text-right",children:"Shares"}),c.jsx(W,{className:"text-right",children:"Entry"}),c.jsx(W,{className:"text-right",children:"Stop Loss"}),c.jsx(W,{className:"text-right",children:"Take Profit"}),c.jsx(W,{children:"Status"})]})}),c.jsx(T,{children:he.filter(e=>"open"===e.status).map(e=>{var t,n,s;return c.jsxs(Y,{children:[c.jsx(O,{className:"font-bold",children:e.symbol}),c.jsx(O,{children:c.jsx(j,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction})}),c.jsx(O,{className:"text-right font-mono",children:e.shares}),c.jsxs(O,{className:"text-right font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),c.jsxs(O,{className:"text-right font-mono text-destructive",children:["$",(null==(n=e.stop_loss)?void 0:n.toFixed(2))||"N/A"]}),c.jsxs(O,{className:"text-right font-mono text-success",children:["$",(null==(s=e.take_profit)?void 0:s.toFixed(2))||"N/A"]}),c.jsx(O,{children:c.jsx(j,{variant:"outline",className:"bg-success/10 text-success border-success/30",children:"Open"})})]},e.id)})})]})})]})]})})]})]}):c.jsxs(i,{className:"border-warning/50",children:[c.jsx(o,{children:c.jsxs(l,{className:"flex items-center gap-2 text-warning",children:[c.jsx(J,{className:"h-5 w-5"}),"Gateway Running - Login Required"]})}),c.jsxs(x,{className:"space-y-4",children:[c.jsxs(I,{variant:"default",children:[c.jsx(E,{className:"h-4 w-4"}),c.jsx(k,{children:'Bridge is running but not connected to IB Gateway. Open IB Gateway desktop app, log in, then click "Connect to Gateway".'})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(m,{onClick:ne,className:"flex-1",children:[c.jsx(J,{className:"h-4 w-4 mr-2"}),"Connect to Gateway"]}),c.jsxs(m,{variant:"outline",onClick:te,children:[c.jsx(g,{className:"h-4 w-4 mr-2"}),"Check Status"]})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"IB Gateway must be running with API enabled (port 4002 for paper trading)."})]})]}):c.jsxs(i,{className:"border-destructive/50",children:[c.jsxs(o,{children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(l,{className:"flex items-center gap-2 text-destructive",children:[c.jsx(_,{className:"h-5 w-5"}),"IB Gateway Bridge Not Running"]})}),c.jsx(u,{children:ee||"Start the IBKR Client Portal Gateway to begin trading."})]}),c.jsxs(x,{className:"space-y-4",children:[c.jsxs(I,{children:[c.jsx(E,{className:"h-4 w-4"}),c.jsx(K,{children:"Quick Setup"}),c.jsx(k,{className:"space-y-2",children:c.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-2",children:[c.jsxs("li",{children:["Download the ",c.jsx("a",{href:"https://www.interactivebrokers.com/en/trading/ib-api.php",target:"_blank",rel:"noopener",className:"text-primary underline font-medium",children:"IBKR Client Portal Gateway"})]}),c.jsxs("li",{children:["Run ",c.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.sh"})," (Mac) or ",c.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.bat"})," (Windows)"]}),c.jsxs("li",{children:["Login at ",c.jsx("strong",{children:"https://localhost:5000"})," with IBKR credentials"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Using remote access?"})," Click Gateway Settings above and enter your machine's IP"]})]})})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(m,{onClick:te,className:"flex-1",children:[c.jsx(g,{className:"h-4 w-4 mr-2"}),"Retry Connection"]}),c.jsxs(m,{variant:"outline",onClick:()=>window.open("https://localhost:5000","_blank"),children:[c.jsx(f,{className:"h-4 w-4 mr-2"}),"Open Gateway"]})]})]})]})}const we=()=>c.jsxs("div",{className:"container mx-auto py-8 px-4",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[c.jsx(Z,{className:"w-8 h-8 text-primary"}),c.jsxs("h1",{className:"text-4xl font-bold",children:[c.jsx("span",{className:"text-primary",children:"En Pensent™"})," Trading"]})]}),c.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Paper trading powered by Interactive Brokers. Start with simulated funds, graduate to real money when ready."})]}),c.jsx(G,{componentName:"IBKRTradingDashboard",children:c.jsx(pe,{})}),c.jsx("p",{className:"text-center text-xs text-muted-foreground mt-8",children:"⚠️ Paper trading uses simulated funds. No real money is at risk. When ready, switch to a live IBKR account for real trading."})]});export{we as default};
