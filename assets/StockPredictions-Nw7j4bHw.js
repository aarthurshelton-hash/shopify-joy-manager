var e=Object.defineProperty,t=(t,n,s)=>((t,n,s)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s)(t,"symbol"!=typeof n?n+"":n,s);import{aJ as n,r as s,g0 as r,s as a,j as c,C as i,p as o,t as l,L as d,w as u,x,aq as h,B as f,aF as m,v as g,cR as j,y as v,b8 as y,b9 as p,ba as w,bb as N,bc as C,a8 as b,aB as D,aC as B,aD as z,b4 as G,aE as P,aY as L,bh as k,cb as M,ad as I,g7 as q}from"./index-Byyho7FJ.js";import{A,a as K,b as H}from"./alert-D3REXXub.js";import{T as U,a as S,b as O,c as W,d as E,e as T}from"./table-kmrl49EB.js";import{C as J}from"./circle-alert-uKwVu_jn.js";import{W as Y}from"./wifi-off-BZoxCqdj.js";import{W as V}from"./wifi-ef7ehgAp.js";import{B as _}from"./briefcase-SpVNjuRd.js";import{T as R}from"./trending-down-Bz0omMsx.js";const X=n("Bolt",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]),Z=n("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),F=ee;!function(){const e=ee,t=re();for(;;)try{if(408731===-parseInt(e(438))/1+-parseInt(e(439))/2+parseInt(e(468))/3+parseInt(e(435))/4*(parseInt(e(454))/5)+-parseInt(e(471))/6*(-parseInt(e(445))/7)+-parseInt(e(436))/8*(-parseInt(e(447))/9)+-parseInt(e(450))/10*(-parseInt(e(440))/11))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const Q=function(){const e=ee,t={};t[e(449)]=e(428);const n=t;let s=!0;return function(t,r){const a=e,c={FYeYI:function(e,t){return e!==t}};c[a(465)]=n[a(449)];const i=c,o=s?function(){const e=a;if(i[e(423)](e(428),i[e(465)])){const t={..._0x8f1acd(),..._0x34978b};_0x3588dc.setItem(_0x4c6a20,_0x3ef4f0[e(453)](t))}else if(r){const n=r[e(455)](t,arguments);return r=null,n}}:function(){};return s=!1,o}}()(void 0,function(){const e=ee,t={};t[e(425)]=e(461)+"+$";const n=t;return Q.toString()[e(443)](n[e(425)])[e(448)]()[e(419)+"r"](Q)[e(443)](e(461)+"+$")});Q();const $=function(){const e={};e[ee(469)]=function(e,t){return e===t};const t=e;let n=!0;return function(e,s){const r=n?function(){if(s){if(!t[ee(469)]("RoIbU","tSvHu")){const t=s.apply(e,arguments);return s=null,t}_0x4f0872=_0x5cd4b8}}:function(){};return n=!1,r}}();function ee(e,t){e-=418;const n=re();let s=n[e];if(void 0===ee.kWyiVS){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};ee.OlxwKI=r,ee.poUFjH={},ee.kWyiVS=!0}const a=e+n[0],c=ee.poUFjH[a];if(c)s=c;else{const e=function(e){this.IgdxzP=e,this.XGnOGK=[1,0,0],this.OoFInr=function(){return"newState"},this.zNEAjj="\\w+ *\\(\\) *{\\w+ *",this.GVMlqJ="['|\"].+['|\"];? *}"};e.prototype.CkACrG=function(){const e=new RegExp(this.zNEAjj+this.GVMlqJ).test(this.OoFInr.toString())?--this.XGnOGK[1]:--this.XGnOGK[0];return this.OOqbxH(e)},e.prototype.OOqbxH=function(e){return Boolean(~e)?this.zskAWy(this.IgdxzP):e},e.prototype.zskAWy=function(e){for(let t=0,n=this.XGnOGK.length;t<n;t++)this.XGnOGK.push(Math.round(Math.random())),n=this.XGnOGK.length;return e(this.XGnOGK[0])},new e(ee).CkACrG(),s=ee.OlxwKI(s),ee.poUFjH[a]=s}return s}$(void 0,function(){const e=ee,t={RGGgj:function(e,t){return e(t)},KDGty:function(e,t){return e+t},ghgVF:e(475)+e(429)+'rn this")( )',mzLVD:function(e){return e()},aTjtQ:e(457),Bflop:e(441),cHXRy:"trace",AQOWK:function(e,t){return e<t}},n=t.mzLVD(function(){const n=e;let s;try{s=t[n(424)](Function,t[n(459)](n(460)+"nction() ",t[n(432)])+");")()}catch(r){s=window}return s}),s=n[e(452)]=n.console||{},r=[t[e(472)],e(433),e(463),"error",t[e(418)],e(442),t.cHXRy];for(let a=0;t.AQOWK(a,r[e(444)]);a++){const t=$[e(419)+"r"][e(474)].bind($),n=r[a],c=s[n]||t;t[e(466)]=$.bind($),t.toString=c[e(448)][e(473)](c),s[n]=t}})();const te=F(430)+F(421)+"l",ne=F(467)+F(464)+"0",se={};function re(){const e=["txbIwvy","q3vNvNm","nKf1Bu9iyG","yvrQDfe","yMLUza","ChjVDg90ExbL","E30Uy29UC3rYDq","qMzSB3a","y29UC3rYDwn0BW","u2DdAxK","x2jYAwrNzv91CG","CM4GDgHPCYiPka","rLLLwuK","uKDhz2O","sNzWrKi","y2XPzw50swq","swX0DuW","tgfprfa","y3rVCIGICMv0Dq","AwjFz2f0zxDHEq","vNreChG","z2HNvKy","D2fYBG","z2v0sxrLBq","mtu2yM9UtgfY","mJu1odeXmNvlyxLsta","z0HwtgO","ndCZndqWwgvRENLJ","mtmWmtm0nfvvqMXABW","ndGYouTsvM5ABq","zxHJzxb0Aw9U","DgfIBgu","C2vHCMnO","BgvUz3rO","mZe5odiZn2HNwMTSvq","Dw5KzwzPBMvK","ouDfuevTta","Dg9tDhjPBMC","BerzDNa","mte4nJbRuvreB1O","tuDgswq","y29UC29Szq","C3rYAw5NAwz5","mtyWndvXr3bXt1m","yxbWBhK","BMn0Aw9UkcKG","Bg9N","yMP3Bfy","s0rhDhK","CMv0DxjUicHMDq","kcGOlISPkYKRkq","DKHhuKS","Aw5MBW","ywXOB3n0oJqWma","C2DmtKy","x19WCM90B19F","Ahr0CdOVl2XVyW","mZmXmtq5EeH3zg5u"];return(re=function(){return e})()}se.bridgeUrl=ne,se.gatewayHost="127.0.0.1",se.gatewayPort=4002,se[F(426)]=1;const ae=se;function ce(){const e=F,t={VtDpx:function(e,t){return e(t)},bjwlV:function(e,t){return e+t},CugVs:"{}.constru"+e(429)+e(422)+" )",gHVLj:function(e,t){return e===t},gDxtG:e(446),IltuL:e(451)};if(t[e(437)](typeof window,t.gDxtG))return ae;const n=localStorage[e(434)](te);if(n)try{return{...ae,...JSON.parse(n)}}catch{if(t[e(427)]===e(451))return ae;{let t;try{t=HAfgHo[e(431)](_0x1e6416,HAfgHo[e(458)](HAfgHo[e(458)](e(460)+e(456),HAfgHo[e(470)]),");"))()}catch(s){t=_0x13f24e}return t}}return ae}function ie(){return{vHGRK:function(e){return e()}}[F(462)](ce).bridgeUrl}const oe=xe;!function(){const e=xe,t=de();for(;;)try{if(378223===-parseInt(e(329))/1+parseInt(e(355))/2+-parseInt(e(308))/3+parseInt(e(295))/4*(parseInt(e(248))/5)+parseInt(e(325))/6*(-parseInt(e(366))/7)+parseInt(e(339))/8+parseInt(e(305))/9*(parseInt(e(267))/10))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const le=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[xe(341)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=xe,t={};t.ualwX=e(337)+"+$";const n=t;return le[e(261)]()[e(258)](n[e(353)]).toString()[e(358)+"r"](le)[e(258)](e(337)+"+$")});function de(){const e=["BM90igf2ywLSyq","yxbWBhK","yMXLoG","AwiT","ww1pBwO","ANnVBG","ChjVDg90ExbL","Bg9N","C3rYAw5NAwz5","yNjPzgDLuNvUBG","l2fWAs9Hy2nVDq","DvjIsg8","EvnKD1i","DwfSD1G","Aw9UCZ9Hy2nVDq","mJu4mZG0qKDuChvK","l2fWAs9KAxnJBW","s3H6ywy","y29UC3rYDwn0BW","y29UDhjHy3qGzq","CgfWzxjuCMfKAq","Ev0Gu2vHCMnOia","p2nVBMLKpq","CMfJDa","B3jKzxiGzxjYBW","Aw9NuuG","mtu0ndLzsfnqAxG","Dg1JyLO","y2XPzw50swq","wgD0r2G","nJK2ndbhChrwsfC","z2v0t3jKzxjZ","DLHAvuK","C2vHCMnOq29UDa","C3vIBwL0DgvK","Cg9YDa","ue9tva","B3jKzxjZ","AujUtMK","z2v0uxvVDgu","C2vHCMnO","Aw5N","r1DIBNy","Dg9tDhjPBMC","AxrPB25ZigvYCG","B3i6","DgfIBgu","BNrjzd0","q29frKS","mti3mJGWnJbpvMvnuwO","ywnJB3vUDhm","yxv0AgvUDgLJyq","y29UBMvJDa","z2f0zxDHEuHVCW","CM4GDgHPCYiPka","CeneBhC","BNrZ","rvneDva","zxjYB3i","yMLUza","l2fWAs9ZzwfYyW","BI9QC29U","CNjVCJO","EMDiEKG","y21zzwO","BwvZC2fNzq","BNneu2K","igvYCM9YoG","Ev0Gq29UBMvJDa","zxjZigvYCM9YoG","CMrLCIbLCNjVCG","Ev0Gr2v0igfJyW","z2v0qwnJB3vUDa","B3vUDhmGzxjYBW","zLL0tMi","Ev0Gt3jKzxiGzG","DhjHy2u","mJaWD1HwuffH","zvrZuuC","zwnlCuS","A2rwzey","DgvK","u09OBuK","y2HLy2TdB25Uzq","Ev0GqNjPzgDLia","rKXOweC","uNrJsem","ow9gq1juyq","zxHJzxb0Aw9U","yxbWBgLJyxrPBW","mti2mda0ofDjzxP5uW","y29UBMvJDgvK","l2fWAs9WB3nPDa","Ev0Gr2v0ig9Yza","Ev0GugXHy2uGBW","l2fWAs9VCMrLCG","z2f0zxDHEvbVCG","y3rVCIGICMv0Dq","y2Xiqw4","z2v0ug9ZAxrPBW","t0PNzKO","y2fUy2vSt3jKzq","x19WCM90B19F","yuPVDeG","t29zDuu","revmrvrf","l2fWAs9ZDgf0Dq","mtKWohfivuT5rW","C3rHDhvZ","q29UDgvUDc1uEq","w0LcieDHDgv3yq","nJyXoty4EhfTqNHW","z1bZEMC","CgXHy2vpCMrLCG","B2rkuuG","B3jKzxjjza","tKH5CNC","qvzkwMS","EfzjtM0","kcGOlISPkYKRkq","DgXnzw0","nta5mdGWqNLHyxHV"];return(de=function(){return e})()}le();const ue=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[xe(341)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}();function xe(e,t){e-=246;const n=de();let s=n[e];if(void 0===xe.odkwWD){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};xe.gxeyIz=r,xe.ShibpN={},xe.odkwWD=!0}const a=e+n[0],c=xe.ShibpN[a];if(c)s=c;else{const e=function(e){this.GJYOWh=e,this.ZohWYG=[1,0,0],this.mOPmjN=function(){return"newState"},this.IxiVlj="\\w+ *\\(\\) *{\\w+ *",this.PCERXt="['|\"].+['|\"];? *}"};e.prototype.ePHWCR=function(){const e=new RegExp(this.IxiVlj+this.PCERXt).test(this.mOPmjN.toString())?--this.ZohWYG[1]:--this.ZohWYG[0];return this.UKbvKO(e)},e.prototype.UKbvKO=function(e){return Boolean(~e)?this.NPzFyF(this.GJYOWh):e},e.prototype.NPzFyF=function(e){for(let t=0,n=this.ZohWYG.length;t<n;t++)this.ZohWYG.push(Math.round(Math.random())),n=this.ZohWYG.length;return e(this.ZohWYG[0])},new e(xe).ePHWCR(),s=xe.gxeyIz(s),xe.ShibpN[a]=s}return s}ue(void 0,function(){const e=xe,t={ySdwR:function(e,t){return e(t)},RGBGW:function(e,t){return e+t},ecKqK:function(e,t){return e+t},nsDSi:e(276),ESDuP:e(264),tlMem:e(294),gPszg:function(e,t){return e<t}},n=function(){const n=e;let s;try{s=t[n(352)](Function,t.RGBGW(t[n(297)]("return (function() ","{}.constru"+n(315)+n(272)+" )"),");"))()}catch(r){s=window}return s}(),s=n.console=n.console||{},r=[e(347),"warn","info",t[e(284)],e(306),t[e(275)],t[e(338)]];for(let a=0;t[e(330)](a,r.length);a++){const t=ue[e(358)+"r"][e(346)].bind(ue),n=r[a],c=s[n]||t;t[e(320)]=ue[e(277)](ue),t[e(261)]=c[e(261)][e(277)](c),s[n]=t}})();class he{constructor(){t(this,"connected",!1)}async[oe(301)+"ction"](){const e=oe,t={tmcbZ:function(e){return e()},odJQH:"applicatio"+e(279),XgtGh:e(300),eTsQG:e(256),NJvOk:function(e,t){return e===t}};try{const n=t[e(367)](ce),s={};s[e(327)+"pe"]=t[e(332)];const r={method:"GET"};r.headers=s;const a=await fetch(ie()+(e(324)+"s"),r);if(!a.ok){if(t[e(247)]!==t[e(296)]){const t={connected:!1};return t[e(269)+e(299)]=!1,t.paperTrading=!1,t}if(_0x3e95af){const t=_0x3fbb77[e(341)](_0x42c487,arguments);return _0x223e10=null,t}}const c=await a[e(345)]();return this[e(309)]=t.NJvOk(c[e(309)],!0),{connected:t.NJvOk(c[e(349)+e(259)],!0),authenticated:!0===c.connected,paperTrading:4002===n[e(314)+"t"]}}catch(n){const t={};return t[e(309)]=!1,t[e(269)+"ted"]=!1,t.paperTrading=!1,t}}async[oe(270)](){const e=oe,t={XJVEi:function(e,t,n){return e(t,n)},FLhXG:function(e){return e()},xVINm:e(307)+e(279),uRbHo:function(e,t){return e===t}};try{const n=ce(),s={};s.host=n[e(271)+"t"],s[e(253)]=n[e(314)+"t"],s[e(246)]=n[e(246)];const r=await t.XJVEi(fetch,t[e(303)](ie)+"/api/connect",{method:e(254),headers:{"Content-Type":t[e(336)]},body:JSON[e(348)](s)});if(!r.ok)return!1;const a=await r[e(345)]();return this.connected=t[e(351)](a[e(309)],!0),this[e(309)]}catch(n){return!1}}async disconnect(){const e=oe,t=function(e,t){return e!==t},n=function(e,t,n){return e(t,n)},s="POST";try{if(!t(e(334),"OwSbV")){const t=_0x75f97c?function(){if(_0x341935){const t=_0x33dc23[e(341)](_0x5d164d,arguments);return _0x1ec331=null,t}}:function(){};return _0x4bc3b4=!1,t}await n(fetch,ie()+(e(356)+"nnect"),{method:s}),this[e(309)]=!1}catch{}}async[oe(290)+"s"](){const e=oe,t={};t.RtcHC=e(328)+e(311)+e(287),t[e(344)]=function(e,t){return e===t},t.OoYuE=e(266),t.fYtNb=e(328)+e(289)+e(291)+"r:";const n=t;try{if(n[e(344)](e(318),n[e(322)]))return _0x4526ac[e(276)](n[e(304)],_0x560841),[];{const t=await fetch(ie()+(e(350)+e(274)));if(!t.ok)return[];return(await t[e(345)]())[e(268)]||[]}}catch(s){return[]}}async[oe(317)+"ns"](e){const t=oe,n={iogQH:function(e){return e()}};try{const s=await fetch(n[t(365)](ie)+(t(310)+t(354)+t(265))+e);if(!s.ok)return[];return(await s[t(345)]()).positions||[]}catch(s){return[]}}async[oe(249)](){const e=oe,t=function(e){return e()};e(311);try{const n=await fetch(t(ie)+"/api/orders");if(!n.ok)return[];return(await n[e(345)]())[e(255)]||[]}catch(n){return[]}}async[oe(251)+oe(363)](e){const t=oe;try{const n=await fetch(ie()+(t(278)+"h?symbol=")+encodeURIComponent(e));if(!n.ok)return[];return(await n.json()).contracts||[]}catch(n){return[]}}async[oe(331)](e){const t=oe,n={};n[t(282)]=t(254),n[t(321)]="[IB Gatewa"+t(293)+"ailed",n.AtMAd=function(e,t){return e===t},n.OkwRZ="nIjEg";const s=n;try{const n={};n[t(327)+"pe"]=t(307)+t(279);const r=await fetch(ie()+(t(313)+"s"),{method:s[t(282)],headers:n,body:JSON.stringify(e)});if(!r.ok)return null;const a=await r[t(345)]();return{orderId:a[t(333)]||t(343)+Date.now(),status:a[t(326)]||t(252)}}catch(r){if(s.AtMAd(s.OkwRZ,s.OkwRZ))return null;{const e=_0x27985b[t(341)](_0x4a08c3,arguments);return _0x177b4a=null,e}}}async[oe(319)+"r"](e){const t=oe,n={PctTn:t(328)+t(312)+t(288)+":",GWbnv:t(357),vXZUI:t(335),clHAn:function(e,t,n){return e(t,n)},kdVdF:function(e){return e()},zgHzH:t(273)};try{if(n[t(260)]===n[t(250)]){const e={};return e[t(309)]=!1,e[t(269)+"ted"]=!1,e[t(360)+"ng"]=!1,e}{const s={};s.method=t(323);return(await n[t(316)](fetch,n[t(298)](ie)+(t(313)+"s/")+e,s)).ok}}catch(s){return"EXlVQ"===n[t(281)]&&(_0x76ce1d.error(n.PctTn,_0x5046ad),null)}}async[oe(257)](e){const t=oe;try{const n=await fetch(ie()+"/api/quote"+t(362)+e);if(!n.ok)return null;return await n.json()}catch{return null}}}const fe=new he;function me(){const e=["Aw9UigvYCM9YoG","zMLUza","Aw5MBW","C2vSzwn0zwrbyW","Bg9N","yxbWBhK","D2fYBG","Bg9Hze9YzgvYCW","zMLUzcbJB250CG","y3vYCMvUDa","zwqGDg8GsuiGrW","ywnJB3vUDhm","z0HotuS","tLrrsfG","y2fUy2vSBgvKlG","zxjYB3i","rKrlBfK","y2HLy2TdB25Uzq","B3vUDcbMAxjZDa","DgvK","yxrLD2f5igLZia","v2TStNO","A3HuA2C","nZi5u3fst1PT","zvHzBMy","y3rVCIGICMv0Dq","Dw9WzKK","CNvUBMLUzYbHBG","ywnJB3vUDfr5Ca","Ev0Gq2HLy2TPBG","CMfJDa","CxvHBNrPDhK","DMfYAwfUDa","q29UBMvJDgvK","ywnJB3vUDeLK","AwnRicjdB25Uzq","C3nPyvi","E30Uy29UC3rYDq","D2f5iI4","mZeXmgXRzNfcAW","Ev0Gu3rHDhvZoG","igHHCYbIzwvUia","lIbfBNn1CMuGDa","wNjLAuC","y29UBMvJDc4Grq","z2v0ug9ZAxrPBW","u1bwqxm","x19WCM90B19F","ywXS","uMTfug4","ywn0igzVCIa","tuXUvNy","A1flDxa","zKTQBfK","Bg9JywWGyNjPza","u3vJy2vZC2z1Ba","yMLUza","EuHmq2u","rhfxrvK","rhjpDgK","u3rHCNqGDgHLia","DgfIBgu","y29UC3rYDwn0BW","rKHOtwG","yxrLD2f5ignVBG","v1zwuuy","y29UBMvJDa","ChjPy2u","DNPcB3O","y3rPB24","qNjPzgDLig5VDa","yxrdzLe","zwXSzwq","DgL0Bgu","Cg9ZAxrPB25Z","t3jKzxiGrMfPBa","zcbbueKGAxmGzq","zwjAr2e","rMfPBgvKihrVia","iezVDw5K","z2v0qwnJB3vUDa","y3qGDg8Gr2f0zq","y291BNq","CxDNzKu","ntq1otmZngrPr0H4AG","wfnAvKm","Dg9tDhjPBMC","BMn0Aw9UkcKG","CMvMCMvZAerHDa","y0zOt08","CgXHy2uGB3jKzq","u0jqr0u","mtaYotqXmw92uM14ra","qNrKzKC","BMfIBgvKlG","CgXHy2vpCMrLCG","ntGZCe9pswHq","qwzYDxa","zYbJB25Uzwn0Aq","y2fUy2vSt3jKzq","otG1ntbvsvrmB1G","t3jKzxiGq2fUyW","CgfWzxjuCMfKAq","B25Z","B3jKzxjZ","u3rZDw4","ugXLyxnLihnLBa","t3jKzxiGugXHyW","C2vSzwn0qwnJBW","CgfWzxi","DK9UzxC","ihrPBwvKig91Da","C2vHCMnOq29UDa","Aw9UignOzwnRia","igzHAwXLzdOG","kcGOlISPkYKRkq","vgr2BLa","thLcEee","C2vHCMnO","u3LTyM9Sie5VDa","uenHq3e","C2LKzq","vKHQDwC","n2zXshLVzq","rwHdtMu","BwvZC2fNzq","zMTjtgS","BgvUz3rO","ihj1BM5PBMCUia","qLD0Ewy","zgvZDhj1y3rPDG","yxrLD2f5lIbdBa","C3LTyM9S","q29UBMvJDgLVBG","Ev0Gq29UBMvJDa","B3jKzxjuExbL","zgvZy3jPChrPBW","Dw50","B24UlI4","ChjVDg90ExbL","y29UBMvJDdOG","z2uGC2vYDMvYia","CI4Gq2HLy2SGzW","C3rHDhvZ","EgnLrvK","og1wD05dCq","yxv0AgvUDgLJyq","nJaXmK1uy2TTCa","C2vYDMvYigLZia","u0feEK8","sMvWCKS","ntyWnej3Bg5ouq","CM4GDgHPCYiPka","mti0oda2nJbfwK1UBu4","mJi4mJqZmJrzruXwz1m","Cfz5sM4","sfPRs20","ifnLBgvJDgvK","EfnOq2m","DgLTzwqGB3v0","BMvJDgLVBI4","y29UAwq","ALfkvwe","y29UBMvJDgvK","yxrLD2f5","q291BgqGBM90ia","y29UC29Szq","B3qGy29UBMvJDa","DhjHy2u","thPVz3q","BMfos3a","w0LcieDHDgv3yq","CevMwhK","AguGyNjPzgDLia","A1Hhteq","Dg9mB3DLCKnHCW"];return(me=function(){return e})()}function ge(e,t){e-=224;const n=me();let s=n[e];if(void 0===ge.yXJXNT){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};ge.yrvNhz=r,ge.xLnHmU={},ge.yXJXNT=!0}const a=e+n[0],c=ge.xLnHmU[a];if(c)s=c;else{const e=function(e){this.OplCtO=e,this.VuuLPC=[1,0,0],this.LUbTrW=function(){return"newState"},this.kdzEEF="\\w+ *\\(\\) *{\\w+ *",this.BwJwoT="['|\"].+['|\"];? *}"};e.prototype.fXuOcM=function(){const e=new RegExp(this.kdzEEF+this.BwJwoT).test(this.LUbTrW.toString())?--this.VuuLPC[1]:--this.VuuLPC[0];return this.WDEEgW(e)},e.prototype.WDEEgW=function(e){return Boolean(~e)?this.NIusnk(this.OplCtO):e},e.prototype.NIusnk=function(e){for(let t=0,n=this.VuuLPC.length;t<n;t++)this.VuuLPC.push(Math.round(Math.random())),n=this.VuuLPC.length;return e(this.VuuLPC[0])},new e(ge).fXuOcM(),s=ge.yrvNhz(s),ge.xLnHmU[a]=s}return s}!function(){const e=ge,t=me();for(;;)try{if(774728===parseInt(e(294))/1+parseInt(e(349))/2*(parseInt(e(225))/3)+parseInt(e(353))/4*(parseInt(e(241))/5)+-parseInt(e(286))/6*(-parseInt(e(325))/7)+parseInt(e(347))/8*(-parseInt(e(355))/9)+parseInt(e(302))/10*(parseInt(e(298))/11)+-parseInt(e(356))/12)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const je=function(){const e=ge,t={xceEY:function(e,t){return e(t)},pEfXy:e(373)+e(336)+e(378),ssiaR:function(e,t){return e===t},XSZVC:e(324),fkILk:e(267)};let n=!0;return function(s,r){const a=e,c={jQJUa:function(e,n){return t[ge(346)](e,n)},kQKup:t[a(374)],qwgfE:function(e,n){return t[a(238)](e,n)},vzBoz:t[a(287)]};if(t[a(328)]!==a(267)){c[a(364)](_0x505f62,_0x1680db),_0x8114d6.error(c[a(254)],_0x519f9b),_0x325d51(e=>({...e,connected:!1,authenticated:!1,loading:!1,error:a(280)+a(342)+_0x5430c3[a(327)]}));const e={};return e[a(365)]=!1,e[a(348)+"ted"]=!1,e[a(304)+"ng"]=!1,e}{const e=n?function(){const e=a;if(c[e(285)](c[e(270)],e(324))){if(r){const t=r[e(383)](s,arguments);return r=null,t}}else{const t=_0x30b2ec[e(264)+"r"][e(341)][e(258)](_0x49f3d7),n=_0xb87a76[_0x55d097],s=_0xd9bbe0[n]||t;t[e(249)]=_0x1c77fb[e(258)](_0x46eb75),t[e(288)]=s[e(288)][e(258)](s),_0x4bff73[n]=t}}:function(){};return n=!1,e}}}()(void 0,function(){const e=ge,t={};t.gHNMK=e(317)+"+$";const n=t;return je[e(288)]()[e(320)](n[e(390)]).toString()[e(264)+"r"](je).search(n[e(390)])});je();const ve=function(){const e=ge,t={};t[e(224)]=e(277)+"ed",t[e(372)]=e(376),t[e(331)]=function(e,t){return e!==t};const n=t;let s=!0;return function(e,t){const r=s?function(){const s=ge,r={xTkvI:function(e,t){return e(t)},EhCNe:n[s(224)],atCfQ:s(332)+"e"};if(n[s(372)]===s(299)){const e={};return e[s(275)]=s(321)+s(281),e.description=s(367)+"find contract for "+_0x183c01[s(334)],e[s(234)]=s(332)+"e",r.xTkvI(_0x173bc7,e),null}if(t){if(!n[s(331)](s(260),"DqWEY")){const n=t[s(383)](e,arguments);return t=null,n}{const e={};e.title=r[s(326)],e[s(338)+"n"]="Could not "+s(292)+s(344)+s(266)+"nection.",e[s(234)]=r[s(273)],_0x2ecbb6(e)}}}:function(){};return s=!1,r}}();ve(void 0,function(){const e=ge,t={xShCc:function(e,t){return e(t)},FHhMh:function(e,t){return e+t},DrOti:"return (fu"+e(289),yHLCe:e(239)+e(227)+e(354)+" )",ZcOlO:"log",JeprK:"exception",RkEPn:e(263)};let n;try{n=t[e(360)](Function,t[e(265)](t[e(261)]+t[e(259)],");"))()}catch(a){n=window}const s=n[e(368)]=n.console||{},r=[t.ZcOlO,e(384),e(380),e(393),t[e(352)],t[e(251)],e(370)];for(let c=0;c<r[e(329)];c++){const t=ve[e(264)+"r"][e(341)].bind(ve),n=r[c],a=s[n]||t;t[e(249)]=ve[e(258)](ve),t.toString=a[e(288)][e(258)](a),s[n]=t}})();const ye=["SPY","QQQ","AAPL","MSFT","NVDA","TSLA","AMD","META"];function pe(){const{connected:e,authenticated:t,paperTrading:n,accounts:q,selectedAccount:Z,positions:F,orders:Q,loading:$,error:ee,checkConnection:te,connectToGateway:ne,refreshData:se,placeOrder:re,cancelOrder:ae,selectAccount:ce}=function(){var e;const t=ge,n={HZkKm:"[IB Gatewa"+t(231)+t(300)+t(340),fKjlY:function(e,t,n){return e(t,n)},MLnVv:function(e,t){return e(t)},uopfI:t(257)+"ly connect"+t(388)+"ateway",qNLuY:function(e){return e()},SPVAs:function(e){return e()},cFhOO:function(e){return e()},wehSu:t(332)+"e",LyBxA:function(e,t){return e===t},ZreiG:function(e,t){return e(t)},eXYnf:"Symbol Not"+t(281),vOnew:function(e){return e()},ebZGa:function(e,t){return e(t)},rJJsm:function(e,t){return e(t)},SBPGE:t(239)+t(227)+'rn this")( )',WklNz:function(e){return e()},NTQHX:t(394),BtdfG:t(318),Stsun:function(e,t,n){return e(t,n)},ERHde:function(e,t,n){return e(t,n)},SADzO:function(e,t,n){return e(t,n)}},a={};a[t(365)]=!1,a[t(348)+t(397)]=!1,a[t(304)+"ng"]=!1,a.accounts=[],a[t(381)+t(284)]=null,a[t(276)]=[],a[t(306)]=[],a.loading=!0,a.error=null;const[c,i]=n.rJJsm(s.useState,a),o=s.useRef(null),{toast:l}=r(),d=n.fKjlY(s.useCallback,async()=>{const e=t,s={PCaCq:function(e,t){return e(t)}};i(e=>({...e,loading:!0,error:null}));const r=n[e(255)](setTimeout,()=>{const t=e;s[t(322)](i,e=>({...e,connected:!1,authenticated:!1,loading:!1,error:t(335)+t(313)+t(244)+t(375)+t(350)+"running."}))},8e3);try{const t=await fe[e(395)+e(271)]();return n[e(253)](clearTimeout,r),i(n=>({...n,connected:t[e(365)],authenticated:t[e(348)+e(397)],paperTrading:t[e(304)+"ng"],loading:!1,error:t[e(365)]?t["authentica"+e(397)]?null:"Bridge running but n"+e(369)+e(388)+e(333)+e(237)+e(283)+e(240):e(272)+e(330)+e(262)+e(256)+e(343)+"first."})),t}catch(a){n[e(253)](clearTimeout,r),i(t=>({...t,connected:!1,authenticated:!1,loading:!1,error:e(280)+"connect: "+a.message}));const t={};return t[e(365)]=!1,t[e(348)+e(397)]=!1,t[e(304)+"ng"]=!1,t}},[]),u=n[t(307)](s.useCallback,async()=>{const e=t;i(e=>({...e,loading:!0,error:null}));try{const t=await fe[e(268)]();if(t){const t={};t.title=e(235),t[e(338)+"n"]=n[e(228)],l(t),await n.qNLuY(d),await x()}else i(t=>({...t,loading:!1,error:e(280)+e(246)+"nsure IB G"+e(398)+e(229)+e(278)+e(296)}));return t}catch(s){return n.MLnVv(i,t=>({...t,loading:!1,error:e(335)+e(316)+s[e(327)]})),!1}},[l,d]),x=s.useCallback(async()=>{const e=t,n=await fe[e(282)+"s"](),s=n[e(379)](t=>t[e(236)].startsWith("DU")||t[e(230)+"e"][e(377)+"e"]().includes(e(311)));return i(e=>({...e,accounts:n,selectedAccount:s||n[0]||null})),n},[]),h=s.useCallback(async()=>{const e=t;if(!c[e(381)+e(284)])return[];const n=await fe[e(247)+"ns"](c[e(381)+"count"][e(236)]);return i(e=>({...e,positions:n})),n},[c[t(381)+t(284)]]),f=s.useCallback(async()=>{const e=t,s=await fe.getOrders();return n[e(253)](i,e=>({...e,orders:s})),s},[]),m=n[t(255)](s.useCallback,async()=>{const e=t;c[e(348)+"ted"]&&await Promise[e(250)]([n[e(248)](x),h(),n[e(291)](f)])},[c[t(348)+t(397)],x,h,f]),g=n.ERHde(s.useCallback,async e=>{const s=t;if(!c[s(381)+s(284)])return n[s(253)](l,{title:"No Account"+s(359),description:s(308)+"ect an acc"+s(396)+".",variant:n.wehSu}),null;const r=await fe[s(314)+s(232)](e[s(334)]);if(n[s(319)](r[s(329)],0))return n[s(245)](l,{title:n[s(226)],description:s(367)+s(386)+s(252)+e[s(334)],variant:s(332)+"e"}),null;const a=r[0],i={};i.accountId=c[s(381)+s(284)][s(236)],i[s(363)]=a.conid,i[s(334)]=e[s(334)],i[s(323)]=e[s(323)],i[s(233)]=e[s(233)],i.orderType=e[s(337)],i.price=e[s(269)];const o=await fe[s(297)](i);if(o){const t={};t[s(275)]=s(309)+"ed",t[s(338)+"n"]=e[s(323)]+" "+e[s(233)]+" "+e[s(334)]+" - "+o[s(345)],l(t),await n[s(312)](f)}else{const e={};e[s(275)]=s(277)+"ed",e[s(338)+"n"]=s(367)+s(292)+s(344)+"ateway con"+s(362),e[s(234)]="destructive",n[s(279)](l,e)}return o},[c["selectedAc"+t(284)],l,f]),j=s.useCallback(async e=>{const s=t,r=await fe[s(301)+"r"](e);if(r){const t={};t[s(275)]=s(303)+s(274),t[s(338)+"n"]="Order "+e+(s(243)+s(392)),n.rJJsm(l,t),await f()}return r},[l,f]),v=s.useCallback(e=>{const n=t,s=c.accounts.find(t=>t[n(236)]===e);s&&i(e=>({...e,selectedAccount:s}))},[c[t(389)]]);s.useEffect(()=>((async()=>{const e=ge;if(n[e(293)],(await n[e(399)](d))[e(348)+e(397)])if(n[e(391)]!==n[e(295)])await n[e(312)](x),await h(),await f(),o[e(387)]=n[e(255)](setInterval,()=>{m()},1e4);else{const t=kPOUPT.nkepd(_0x54e401,kPOUPT[e(357)]("return (fu"+e(289),kPOUPT[e(371)])+");");_0x2fa7a8=t()}})(),()=>{o.current&&clearInterval(o.current)}),[]),n[t(351)](s.useEffect,()=>{const e=t;c[e(381)+e(284)]&&c[e(348)+e(397)]&&h()},[null==(e=c[t(381)+t(284)])?void 0:e.accountId]);const y={...c};return y[t(395)+t(271)]=d,y["connectToG"+t(366)]=u,y.loadAccounts=x,y["loadPositi"+t(305)]=h,y[t(385)]=f,y[t(290)+"a"]=m,y[t(297)]=g,y.cancelOrder=j,y[t(310)+t(339)]=v,y}(),[ie,oe]=s.useState("overview"),[le,de]=s.useState([]),[ue,xe]=s.useState(!1),[he,me]=s.useState([]),[je,ve]=s.useState({total:0,today:0,pnl:0}),[pe,we]=s.useState(!1),[Ne,Ce]=s.useState({symbol:"SPY",side:"BUY",quantity:1,orderType:"MKT",price:0}),[be,De]=s.useState(!1);s.useEffect(()=>{const e=async()=>{try{const{data:e}=await a.from("farm_status").select("*").eq("farm_name","high-frequency-paper-trader").single();if(e){const t=new Date(e.updated_at),n=t>new Date(Date.now()-12e4);we("trading"===e.status||n)}const{data:t}=await a.from("autonomous_trades").select("*").order("created_at",{ascending:!1}).limit(50);if(t){me(t);const e=new Date;e.setHours(0,0,0,0);const n=t.filter(t=>new Date(t.created_at)>=e),s=t.reduce((e,t)=>e+(t.pnl||0),0);ve({total:t.length,today:n.length,pnl:s})}}catch(e){}};e();const t=a.channel("hf-trades").on("postgres_changes",{event:"INSERT",schema:"public",table:"autonomous_trades"},e=>{const t=e.new;me(e=>[t,...e].slice(0,50));const n=new Date;n.setHours(0,0,0,0);const s=new Date(t.created_at)>=n;ve(e=>({total:e.total+1,today:s?e.today+1:e.today,pnl:e.pnl+(t.pnl||0)}))}).subscribe(),n=setInterval(e,5e3);return()=>{clearInterval(n),t.unsubscribe()}},[]),s.useCallback(()=>{te()},[te]),s.useEffect(()=>{if(t){Be();const e=setInterval(Be,3e4);return()=>clearInterval(e)}},[t]);const Be=async()=>{xe(!0);try{const{data:e,error:t}=await a.functions.invoke("stock-data",{body:{action:"batch",symbols:ye}});!t&&(null==e?void 0:e.stocks)&&de(e.stocks.map(e=>({symbol:e.symbol,price:e.latestPrice,change:e.change,changePercent:e.changePercent})))}catch(e){}finally{xe(!1)}},ze=e=>{Ce(t=>({...t,symbol:e,side:"BUY"})),oe("trade")},Ge=s.useMemo(()=>{const e=F.reduce((e,t)=>e+t.marketValue,0),t=F.reduce((e,t)=>e+t.unrealizedPnl,0);return{totalValue:e,totalPnL:t,totalRealizedPnL:F.reduce((e,t)=>e+t.realizedPnl,0),pnlPercent:(null==Z?void 0:Z.balance)?t/Z.balance*100:0}},[F,Z]);return $?c.jsxs(i,{children:[c.jsxs(o,{children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(d,{className:"h-5 w-5 animate-spin text-primary"}),"Connecting to IB Gateway Bridge..."]})}),c.jsx(u,{children:"Checking connection to gateway"})]}),c.jsxs(x,{className:"space-y-4",children:[c.jsx(h,{value:33,className:"h-2"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Looking for the Client Portal Gateway..."}),c.jsxs(A,{children:[c.jsx(J,{className:"h-4 w-4"}),c.jsx(K,{children:"Connection taking too long?"}),c.jsxs(H,{className:"space-y-2 mt-2",children:[c.jsx("p",{children:"Your browser may be blocking the connection. Try:"}),c.jsxs("ol",{className:"list-decimal list-inside text-sm space-y-1",children:[c.jsxs("li",{children:["Click ",c.jsx("strong",{children:"Gateway Settings"})," above to configure your gateway URL"]}),c.jsx("li",{children:"If using remotely, enter your machine's IP (e.g., https://192.168.1.100:5000)"}),c.jsxs("li",{children:["Accept the ",c.jsx("strong",{children:"self-signed certificate warning"})," in your browser"]}),c.jsx("li",{children:"Login if prompted, then return here"})]})]})]}),c.jsxs(f,{variant:"outline",size:"sm",onClick:()=>window.open("https://localhost:5000","_blank"),children:[c.jsx(m,{className:"h-4 w-4 mr-2"}),"Open Gateway in New Tab"]})]})]}):e?t?c.jsxs("div",{className:"space-y-6",children:[c.jsx(i,{className:"bg-gradient-to-br from-card via-card to-primary/5 border-primary/20",children:c.jsxs(x,{className:"pt-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(j,{className:"h-5 w-5 text-primary"}),c.jsx("span",{className:"font-medium",children:"IBKR Connected"}),n&&c.jsx(v,{variant:"outline",className:"bg-primary/10 text-primary border-primary",children:"Paper Trading"})]}),c.jsxs(y,{value:(null==Z?void 0:Z.accountId)||"",onValueChange:ce,children:[c.jsx(p,{className:"w-48",children:c.jsx(w,{placeholder:"Select Account"})}),c.jsx(N,{children:q.map(e=>c.jsxs(C,{value:e.accountId,children:[e.accountId," (",e.accountType,")"]},e.accountId))})]}),c.jsx(f,{variant:"ghost",size:"icon",onClick:se,children:c.jsx(g,{className:"h-4 w-4"})})]}),Z&&c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[c.jsx(b,{className:"w-3 h-3"}),"Account Balance"]}),c.jsxs("div",{className:"text-3xl font-mono font-bold",children:["$",Z.balance.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Buying Power"}),c.jsxs("div",{className:"text-xl font-mono",children:["$",Z.buyingPower.toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})]}),F.length>0&&c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6 pt-6 border-t",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Positions Value"}),c.jsxs("div",{className:"text-xl font-bold",children:["$",Ge.totalValue.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Unrealized P&L"}),c.jsxs("div",{className:"text-xl font-bold "+(Ge.totalPnL>=0?"text-success":"text-destructive"),children:[Ge.totalPnL>=0?"+":"","$",Ge.totalPnL.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Realized P&L"}),c.jsxs("div",{className:"text-xl font-bold "+(Ge.totalRealizedPnL>=0?"text-success":"text-destructive"),children:[Ge.totalRealizedPnL>=0?"+":"","$",Ge.totalRealizedPnL.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Open Positions"}),c.jsx("div",{className:"text-xl font-bold",children:F.length})]})]})]})}),c.jsxs(D,{value:ie,onValueChange:oe,children:[c.jsxs(B,{className:"grid w-full grid-cols-2 max-w-md",children:[c.jsxs(z,{value:"overview",className:"flex items-center gap-1",children:[c.jsx(G,{className:"w-4 h-4"})," Overview"]}),c.jsxs(z,{value:"hf-trading",className:"flex items-center gap-1",children:[c.jsx(X,{className:"w-4 h-4"})," HF Trading",pe&&c.jsx("span",{className:"ml-1 w-2 h-2 bg-success rounded-full animate-pulse"})]})]}),c.jsx(P,{value:"overview",className:"mt-6",children:c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs(i,{children:[c.jsxs(o,{children:[c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(L,{className:"w-5 h-5"}),"Quick Trade"]}),c.jsx(u,{children:"Click a symbol to start a trade"})]}),c.jsxs(x,{children:[c.jsx("div",{className:"grid grid-cols-4 gap-2",children:le.length>0?le.map(e=>c.jsxs(f,{variant:"outline",className:"flex flex-col h-auto py-3 hover:border-primary",onClick:()=>ze(e.symbol),children:[c.jsx("span",{className:"font-bold",children:e.symbol}),c.jsxs("span",{className:"text-sm",children:["$",e.price.toFixed(2)]}),c.jsxs("span",{className:"text-xs "+(e.changePercent>=0?"text-success":"text-destructive"),children:[e.changePercent>=0?"+":"",e.changePercent.toFixed(2),"%"]})]},e.symbol)):ye.map(e=>c.jsx(f,{variant:"outline",className:"py-6",onClick:()=>ze(e),children:e},e))}),ue&&c.jsx("div",{className:"text-center text-sm text-muted-foreground mt-2",children:"Updating quotes..."})]})]}),c.jsxs(i,{children:[c.jsx(o,{children:c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(_,{className:"w-5 h-5"}),"Current Positions"]})}),c.jsx(x,{children:0===F.length?c.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[c.jsx(k,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),c.jsx("p",{children:"No open positions"}),c.jsx("p",{className:"text-sm",children:"Place a trade to get started"})]}):c.jsxs("div",{className:"space-y-3",children:[F.slice(0,5).map(e=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:e.symbol}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.position>0?"+":"",e.position," shares @ $",e.avgCost.toFixed(2)]})]}),c.jsxs("div",{className:"text-right "+(e.unrealizedPnl>=0?"text-success":"text-destructive"),children:[c.jsxs("div",{className:"font-medium",children:[e.unrealizedPnl>=0?"+":"","$",e.unrealizedPnl.toFixed(2)]}),c.jsxs("div",{className:"text-sm",children:["$",e.marketValue.toFixed(2)]})]})]},e.conid)),F.length>5&&c.jsxs(f,{variant:"ghost",className:"w-full",onClick:()=>oe("positions"),children:["View all ",F.length," positions"]})]})})]})]})}),c.jsx(P,{value:"hf-trading",className:"mt-6",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs(i,{className:"border-2 "+(pe?"border-warning bg-warning/5":"border-dashed"),children:[c.jsx(o,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-3 rounded-full "+(pe?"bg-warning/20":"bg-muted"),children:c.jsx(X,{className:"w-6 h-6 "+(pe?"text-warning animate-pulse":"text-muted-foreground")})}),c.jsxs("div",{children:[c.jsxs(l,{className:"flex items-center gap-2",children:["High-Frequency Paper Trading",pe&&c.jsxs(v,{className:"bg-warning text-warning-foreground",children:[c.jsx(k,{className:"w-3 h-3 mr-1 animate-pulse"}),"LIVE"]})]}),c.jsx(u,{children:"Terminal-based worker generating 100+ trades/day for En Pensent training"})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Worker Status"}),c.jsx("div",{className:"font-medium "+(pe?"text-warning":"text-muted-foreground"),children:pe?"RUNNING":"OFFLINE"})]})]})}),c.jsxs(x,{children:[c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsx("div",{className:"text-3xl font-bold font-mono",children:je.total}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Trades"})]}),c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsx("div",{className:"text-3xl font-bold font-mono",children:je.today}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Today's Trades"})]}),c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsxs("div",{className:"text-3xl font-bold font-mono "+(je.pnl>=0?"text-success":"text-destructive"),children:[je.pnl>=0?"+":"","$",je.pnl.toFixed(2)]}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Total P&L"})]}),c.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[c.jsx("div",{className:"text-3xl font-bold font-mono text-warning",children:pe?"30s":"N/A"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Cycle Time"})]})]}),c.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-muted-foreground",children:[c.jsx(M,{className:"w-4 h-4"}),c.jsx("span",{children:"Auto-refresh every 5 seconds from Supabase"}),c.jsx("span",{className:"mx-2",children:"•"}),c.jsx("span",{children:"11 symbols: AAPL, MSFT, NVDA, TSLA, AMD, META, GOOGL, AMZN, SPY, QQQ, IWM"})]})]})]}),c.jsxs(i,{children:[c.jsxs(o,{children:[c.jsxs(l,{className:"flex items-center gap-2",children:[c.jsx(k,{className:"w-5 h-5"}),"Live Trade Feed",he.length>0&&c.jsxs(v,{variant:"secondary",children:[he.length," recent"]})]}),c.jsx(u,{children:"Real-time trades from high-frequency worker (updates every 5s)"})]}),c.jsx(x,{children:0===he.length?c.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[c.jsx(X,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{className:"text-lg",children:"No trades yet"}),c.jsx("p",{className:"text-sm",children:"Start the high-frequency worker to see activity"}),c.jsx("code",{className:"block mt-4 p-2 bg-muted rounded text-xs",children:"node farm/workers/high-frequency-paper-trader.mjs"})]}):c.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:he.map(e=>{var t;return c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:["BUY"===e.direction?c.jsx(I,{className:"w-4 h-4 text-success"}):c.jsx(R,{className:"w-4 h-4 text-destructive"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold",children:e.symbol}),c.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleTimeString()})]}),c.jsx(v,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction}),c.jsxs(v,{variant:"outline",className:"text-xs",children:[e.shares," shares"]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Entry"})]}),e.predicted_confidence&&c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"font-mono",children:[(100*e.predicted_confidence).toFixed(0),"%"]}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Conf"})]}),void 0!==e.pnl&&null!==e.pnl&&c.jsxs("div",{className:"text-right font-mono "+(e.pnl>=0?"text-success":"text-destructive"),children:[c.jsxs("div",{children:[e.pnl>=0?"+":"","$",e.pnl.toFixed(2)]}),c.jsx("div",{className:"text-xs",children:"P&L"})]}),c.jsx(v,{variant:"outline",className:"open"===e.status?"bg-success/10 text-success":"bg-muted",children:e.status})]})]},e.id)})})})]}),he.filter(e=>"open"===e.status).length>0&&c.jsxs(i,{children:[c.jsx(o,{children:c.jsxs(l,{className:"text-lg flex items-center gap-2",children:[c.jsx(_,{className:"w-5 h-5"}),"Open HF Positions"]})}),c.jsx(x,{children:c.jsxs(U,{children:[c.jsx(S,{children:c.jsxs(O,{children:[c.jsx(W,{children:"Symbol"}),c.jsx(W,{children:"Side"}),c.jsx(W,{className:"text-right",children:"Shares"}),c.jsx(W,{className:"text-right",children:"Entry"}),c.jsx(W,{className:"text-right",children:"Stop Loss"}),c.jsx(W,{className:"text-right",children:"Take Profit"}),c.jsx(W,{children:"Status"})]})}),c.jsx(E,{children:he.filter(e=>"open"===e.status).map(e=>{var t,n,s;return c.jsxs(O,{children:[c.jsx(T,{className:"font-bold",children:e.symbol}),c.jsx(T,{children:c.jsx(v,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction})}),c.jsx(T,{className:"text-right font-mono",children:e.shares}),c.jsxs(T,{className:"text-right font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),c.jsxs(T,{className:"text-right font-mono text-destructive",children:["$",(null==(n=e.stop_loss)?void 0:n.toFixed(2))||"N/A"]}),c.jsxs(T,{className:"text-right font-mono text-success",children:["$",(null==(s=e.take_profit)?void 0:s.toFixed(2))||"N/A"]}),c.jsx(T,{children:c.jsx(v,{variant:"outline",className:"bg-success/10 text-success border-success/30",children:"Open"})})]},e.id)})})]})})]})]})})]})]}):c.jsxs(i,{className:"border-warning/50",children:[c.jsx(o,{children:c.jsxs(l,{className:"flex items-center gap-2 text-warning",children:[c.jsx(V,{className:"h-5 w-5"}),"Gateway Running - Login Required"]})}),c.jsxs(x,{className:"space-y-4",children:[c.jsxs(A,{variant:"default",children:[c.jsx(J,{className:"h-4 w-4"}),c.jsx(H,{children:'Bridge is running but not connected to IB Gateway. Open IB Gateway desktop app, log in, then click "Connect to Gateway".'})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(f,{onClick:ne,className:"flex-1",children:[c.jsx(V,{className:"h-4 w-4 mr-2"}),"Connect to Gateway"]}),c.jsxs(f,{variant:"outline",onClick:te,children:[c.jsx(g,{className:"h-4 w-4 mr-2"}),"Check Status"]})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"IB Gateway must be running with API enabled (port 4002 for paper trading)."})]})]}):c.jsxs(i,{className:"border-destructive/50",children:[c.jsxs(o,{children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(l,{className:"flex items-center gap-2 text-destructive",children:[c.jsx(Y,{className:"h-5 w-5"}),"IB Gateway Bridge Not Running"]})}),c.jsx(u,{children:ee||"Start the IBKR Client Portal Gateway to begin trading."})]}),c.jsxs(x,{className:"space-y-4",children:[c.jsxs(A,{children:[c.jsx(J,{className:"h-4 w-4"}),c.jsx(K,{children:"Quick Setup"}),c.jsx(H,{className:"space-y-2",children:c.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-2",children:[c.jsxs("li",{children:["Download the ",c.jsx("a",{href:"https://www.interactivebrokers.com/en/trading/ib-api.php",target:"_blank",rel:"noopener",className:"text-primary underline font-medium",children:"IBKR Client Portal Gateway"})]}),c.jsxs("li",{children:["Run ",c.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.sh"})," (Mac) or ",c.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.bat"})," (Windows)"]}),c.jsxs("li",{children:["Login at ",c.jsx("strong",{children:"https://localhost:5000"})," with IBKR credentials"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Using remote access?"})," Click Gateway Settings above and enter your machine's IP"]})]})})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(f,{onClick:te,className:"flex-1",children:[c.jsx(g,{className:"h-4 w-4 mr-2"}),"Retry Connection"]}),c.jsxs(f,{variant:"outline",onClick:()=>window.open("https://localhost:5000","_blank"),children:[c.jsx(m,{className:"h-4 w-4 mr-2"}),"Open Gateway"]})]})]})]})}const we=()=>c.jsxs("div",{className:"container mx-auto py-8 px-4",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[c.jsx(Z,{className:"w-8 h-8 text-primary"}),c.jsxs("h1",{className:"text-4xl font-bold",children:[c.jsx("span",{className:"text-primary",children:"En Pensent™"})," Trading"]})]}),c.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Paper trading powered by Interactive Brokers. Start with simulated funds, graduate to real money when ready."})]}),c.jsx(q,{componentName:"IBKRTradingDashboard",children:c.jsx(pe,{})}),c.jsx("p",{className:"text-center text-xs text-muted-foreground mt-8",children:"⚠️ Paper trading uses simulated funds. No real money is at risk. When ready, switch to a live IBKR account for real trading."})]});export{we as default};
