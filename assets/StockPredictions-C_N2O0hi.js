var e,t=Object.defineProperty,n=(e,n,s)=>((e,n,s)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s)(e,"symbol"!=typeof n?n+"":n,s);import{aJ as s,r,ew as a,s as c,j as i,C as o,p as l,t as d,L as u,w as x,x as h,aq as m,B as f,aF as g,v,cR as j,y,b8 as p,b9 as w,ba as N,bb as C,bc as b,a8 as B,aB as D,aC as z,aD as L,b4 as M,aE as G,aY as q,bh as A,cb as U,ad as P,eD as k}from"./index-DodN4URN.js";import{A as S,a as I,b as H}from"./alert-DGsisbzI.js";import{T as K,a as J,b as W,c as Y,d as O,e as T}from"./table-Dmy47xmf.js";import{C as E}from"./circle-alert-DX6iOERu.js";import{W as V}from"./wifi-off-DUJf91T6.js";import{W as Z}from"./wifi-CMpdLgVx.js";import{B as _}from"./briefcase-CgKxHy0f.js";import{T as F}from"./trending-down-L3jXWcgP.js";const R=s("Bolt",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]),X=s("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),Q=ee;!function(){const e=ee,t=ce();for(;;)try{if(887960===parseInt(e(301))/1+parseInt(e(278))/2+-parseInt(e(282))/3+-parseInt(e(303))/4*(parseInt(e(310))/5)+parseInt(e(292))/6+-parseInt(e(274))/7+parseInt(e(321))/8)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const $=function(){let e=!0;return function(t,n){const s=ee,r={};r[s(272)]=function(e,t){return e+t},r.LWTiM=function(e,t){return e+t},r[s(302)]=s(331),r.ffaKP=s(305);const a=r,c=e?function(){const e=s;if(a[e(302)]!==a[e(317)]){if(n){const s=n[e(289)](t,arguments);return n=null,s}}else _0x202bcb=_0x2ff392(a[e(272)](a.LWTiM(e(314)+e(316),"{}.constru"+e(318)+'rn this")( )'),");"))()}:function(){};return e=!1,c}}()(void 0,function(){const e=ee,t={};t[e(297)]=e(325)+"+$";const n=t;return $[e(275)]()[e(306)](n[e(297)])[e(275)]()[e(285)+"r"]($)[e(306)](e(325)+"+$")});function ee(e,t){e-=271;const n=ce();let s=n[e];if(void 0===ee.QSGNmU){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};ee.EIfLeE=r,ee.bplVln={},ee.QSGNmU=!0}const a=e+n[0],c=ee.bplVln[a];if(c)s=c;else{const e=function(e){this.bLASOL=e,this.sUpVeF=[1,0,0],this.LElYwm=function(){return"newState"},this.fsLerF="\\w+ *\\(\\) *{\\w+ *",this.aYYfkS="['|\"].+['|\"];? *}"};e.prototype.HuZyzp=function(){const e=new RegExp(this.fsLerF+this.aYYfkS).test(this.LElYwm.toString())?--this.sUpVeF[1]:--this.sUpVeF[0];return this.pkNCay(e)},e.prototype.pkNCay=function(e){return Boolean(~e)?this.UVDhYR(this.bLASOL):e},e.prototype.UVDhYR=function(e){for(let t=0,n=this.sUpVeF.length;t<n;t++)this.sUpVeF.push(Math.round(Math.random())),n=this.sUpVeF.length;return e(this.sUpVeF[0])},new e(ee).HuZyzp(),s=ee.EIfLeE(s),ee.bplVln[a]=s}return s}$();const te=function(){const e=ee,t={};t[e(271)]=e(276);const n=t;let s=!0;return function(t,r){const a=e;if(a(323)!==n[a(271)]){const e=s?function(){if(r){const e=r[a(289)](t,arguments);return r=null,e}}:function(){};return s=!1,e}{const e={..._0x411f2c(),..._0x305cde};_0x28f21f[a(313)](_0x4a7e28,_0x4f2029[a(328)](e))}}}();te(void 0,function(){const e=ee,t={};t[e(334)]=e(279),t[e(291)]=function(e,t){return e+t},t[e(288)]=e(314)+e(316),t[e(333)]=e(312)+e(318)+e(311)+" )",t[e(308)]=e(320),t[e(294)]=e(299),t[e(293)]=e(319),t.UeeLE="info",t[e(295)]=e(327),t[e(277)]="table";const n=t,s=function(){const t=e;let s;try{if(n[t(334)]!==n.ILvWL){const e=_0x180e05[t(289)](_0x3efa57,arguments);return _0x4ab002=null,e}s=Function(n[t(291)](n[t(288)],n[t(333)])+");")()}catch(r){n[t(308)]===n[t(294)]?_0x580dee=_0x15b282:s=window}return s}(),r=s.console=s[e(296)]||{},a=["log",n[e(293)],n.UeeLE,n[e(295)],e(304),n[e(277)],e(300)];for(let c=0;c<a[e(322)];c++){const t=te[e(285)+"r"][e(273)][e(332)](te),n=a[c],s=r[n]||t;t[e(281)]=te.bind(te),t[e(275)]=s[e(275)][e(332)](s),r[n]=t}})();const ne=Q(330)+Q(283)+"l",se=Q(286)+Q(284)+"0",re={};re[Q(280)]=se,re[Q(290)+"t"]="127.0.0.1",re[Q(315)+"t"]=4002,re[Q(287)]=1;const ae=re;function ce(){const e=["nfHYuLfoBW","zxHJzxb0Aw9U","vLz5r0m","C2vHCMnO","tvLcCvu","B3HzDMi","r3nKEgW","mZKYmZyXnwL3B3rqzW","CM4GDgHPCYiPka","E30Uy29UC3rYDq","C2v0sxrLBq","CMv0DxjUicHMDq","z2f0zxDHEvbVCG","BMn0Aw9UkcKG","zMzHs1a","y3rVCIGICMv0Dq","D2fYBG","AgXtrKe","mJK0ntCYmhDUBLH3BW","BgvUz3rO","ug1tvNa","CgfYC2u","kcGOlISPkYKRkq","Dw5KzwzPBMvK","zxjYB3i","C3rYAw5NAwz5","CMvTB3zLsxrLBq","AwjFz2f0zxDHEq","qvrHA1O","yMLUza","ANjzD1G","suX2v0W","zfrPEwe","uMHPBwe","ChjVDg90ExbL","ndq3oda0mePnD1Heyq","Dg9tDhjPBMC","t3rYrMC","uhLgCMS","mZuYnZu2nNLQvMTZEq","zwffv24","yNjPzgDLvxjS","x19WCM90B19F","mZGYmZy3muHqvgrTrq","x2jYAwrNzv91CG","ywXOB3n0oJqWma","y29UC3rYDwn0BW","Ahr0CdOVl2XVyW","y2XPzw50swq","rhz4tfi","yxbWBhK","z2f0zxDHEuHVCW","uhrivxa","mJqXnZi1nNDWEu1bEG","CvbREfa","Aw5ivfu","DejovKW","y29UC29Szq","qvzXuwC","z2v0sxrLBq","Cg1AuxC","DhjHy2u","mta1mJa4nNj6sKzVua","wezZywe"];return(ce=function(){return e})()}function ie(){const e=Q,t={};t[e(309)]=e(326);if(typeof window===t[e(309)])return ae;const n=localStorage[e(298)](ne);if(n)try{return{...ae,...JSON[e(324)](n)}}catch{return ae}return ae}function oe(){const e=Q;return ie()[e(280)]}const le=he;function de(){const e=["A1LuB1u","Bwv0Ag9K","ue9tva","mtCWnw1rtvbYrq","v2XkEu0","mZqWndK3nMP6zwT5sG","BM5Ly3q","Cg9ZAxrPB25Z","z2f0zxDHEvbVCG","z3bxD04","l2fWAs9WB3nPDa","B3jKzxjjza","AMjXteG","nJu0mJCZCvbrq3HL","DhjHy2u","CgfWzxjuCMfKAq","CKrzChG","zgLZy29UBMvJDa","ywLSzwq","BNrjzd0","AxrPB25ZigvYCG","mti2mensB25lyq","CLzVwvK","B3jKzxiGzxjYBW","ndu5mtC0A3vSu3Dj","Ev0Gu2vHCMnOia","y3rPB24","y29UC29Szq","AwiT","l2fWAs9Hy2nVDq","p2nVBMLKpq","v1jltxi","mJKWzhvvq1vT","zfzhzLq","D2LuChC","BxfdAeq","C3rHDhvZ","Ev0Gr2v0ig9Yza","BI9QC29U","CMrLCIbLCNjVCG","w0LcieDHDgv3yq","y29UC3rYDwn0BW","CMfJDa","odaXmLjZD0zrwG","Ev0Gr2v0igfJyW","qMDnBK4","BM93","ufPQwu8","ufzxzfi","l2fWAs9XDw90zq","B3jKzxjZ","Dg9tDhjPBMC","ndeWntC5C1LJvgH5","vfj6vwy","s3zXBu8","yMLUza","uxvktxO","yNjPzgDLuNvUBG","zxjYB3i","Ev0Gq2fUy2vSia","C3rYAw5NAwz5","Ag9ZDa","z1jJrwG","rwrWt2u","Ev0GqNjPzgDLia","ywnJB3vUDhm","l2fWAs9VCMrLCG","ENj2AKm","l2fWAs9JB25Uzq","CNjVCJO","B3vUDhmGzxjYBW","BxjctgG","Ev0Gr2v0ihbVCW","BMn0Aw9UkcKG","Ev0GugXHy2uGBW","u1HSrhy","mJi4mJC1ng1ez3frAG","yxv0AgvUDgLJyq","DgvK","r0vu","Aw9UCZ9Hy2nVDq","y2XPzw50swq","BNrZ","AeTsCvm","revmrvrf","CNPrvNa","ANnVBG","Cg9YDa","C2vHCMnO","q0LWDNq","rwTkAMC","BuvnA2W","C3vIBwL0DgvK","rwPergy","u2fmtKO","BM90igf2ywLSyq","B3i6","q29UDgvUDc1uEq","BgvUz3rO","Du1Zz2G","nJKZnMDJDNzxCq","yMXLoG","CfbNthi","txjMANC","AgvHzgvYCW","y29UBMvJDgvK","Ad9ZEw1IB2W9","ChjVDg90ExbL","y2HLy2TdB25Uzq","y29UDhjHy3rZ","C2rZvee","yuXTCxe","z2v0uxvVDgu","yxbWBhK","qvnYuvy","zxjZigvYCM9YoG","veHOBwm","E30Uy29UC3rYDq","kcGOlISPkYKRkq","y3rVCIGICMv0Dq","Aw5N","yxbWBgLJyxrPBW","t2HfueO","C2vHCMnOq29UDa","CgXHy2vpCMrLCG","zxrKBgq"];return(de=function(){return e})()}!function(){const e=he,t=de();for(;;)try{if(674786===-parseInt(e(549))/1+-parseInt(e(573))/2+-parseInt(e(521))/3+parseInt(e(540))/4*(parseInt(e(500))/5)+-parseInt(e(502))/6+parseInt(e(518))/7*(parseInt(e(597))/8)+parseInt(e(510))/9*(parseInt(e(529))/10))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ue=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[he(484)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=he,t={};t.TWVaZ=e(489)+"+$";const n=t;return ue[e(548)]()[e(585)](e(489)+"+$")[e(548)]()[e(538)+"r"](ue)[e(585)](n.TWVaZ)});ue();const xe=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[he(484)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}();function he(e,t){e-=478;const n=de();let s=n[e];if(void 0===he.pifqiM){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};he.yBquaP=r,he.rJhHJZ={},he.pifqiM=!0}const a=e+n[0],c=he.rJhHJZ[a];if(c)s=c;else{const e=function(e){this.VMwyIl=e,this.GCFNOp=[1,0,0],this.miRQMO=function(){return"newState"},this.rbGgZq="\\w+ *\\(\\) *{\\w+ *",this.ZfRhhG="['|\"].+['|\"];? *}"};e.prototype.DlJcfE=function(){const e=new RegExp(this.rbGgZq+this.ZfRhhG).test(this.miRQMO.toString())?--this.GCFNOp[1]:--this.GCFNOp[0];return this.leQuHM(e)},e.prototype.leQuHM=function(e){return Boolean(~e)?this.PmKHpk(this.VMwyIl):e},e.prototype.PmKHpk=function(e){for(let t=0,n=this.GCFNOp.length;t<n;t++)this.GCFNOp.push(Math.round(Math.random())),n=this.GCFNOp.length;return e(this.GCFNOp[0])},new e(he).DlJcfE(),s=he.yBquaP(s),he.rJhHJZ[a]=s}return s}xe(void 0,function(){const e=he,t={};t[e(587)]=function(e,t){return e+t},t.QuJMz="log",t[e(590)]="exception",t.zxhtj=e(511);const n=t,s=function(){const t=e;let s;try{s=Function(n[t(587)]("return (fu"+t(570)+(t(488)+t(490))+'rn this")( )',");"))()}catch(r){s=window}return s}(),r=s[e(524)]=s[e(524)]||{},a=[n[e(553)],"warn","info",e(555),n[e(590)],"table",n.zxhtj];for(let c=0;c<a[e(595)];c++){const t=xe.constructor[e(478)][e(552)](xe),n=a[c],s=r[n]||t;t.__proto__=xe[e(552)](xe),t[e(548)]=s[e(548)].bind(s),r[n]=t}})();class me{constructor(){n(this,e,!1)}async[(e=le(602),le(479)+le(523))](){const e=le,t={CIpvt:function(e){return e()},armJm:e(576),PVWdR:function(e,t){return e===t},TRzUf:e(482),WlJyM:e(580)};try{const n=t[e(586)](ie),s={};s[e(594)+"pe"]=e(492)+e(535);const r={};r[e(498)]=t.armJm,r[e(601)]=s;const a=await fetch(oe()+"/api/status",r);if(!a.ok){const t={};return t[e(602)]=!1,t[e(574)+e(575)]=!1,t[e(512)+"ng"]=!1,t}const c=await a.json();return this[e(602)]=!0===c[e(602)],{connected:!0===c[e(554)+e(491)],authenticated:t[e(545)](c[e(602)],!0),paperTrading:t[e(545)](n.gatewayPort,4002)}}catch(n){if(t[e(550)]!==t[e(501)]){const t={};return t[e(602)]=!1,t.authenticated=!1,t[e(512)+"ng"]=!1,t}{const t=_0x164899[e(484)](_0x205702,arguments);return _0x1812d8=null,t}}}async connect(){const e=le,t={kYToU:function(e,t,n){return e(t,n)},gpWwN:function(e){return e()},OhEPJ:e(492)+"n/json",uMsgh:function(e,t){return e===t}};try{const n=ie(),s={};s[e(558)]=n.gatewayHost,s[e(584)]=n[e(505)+"t"],s.clientId=n[e(578)];const r=await t[e(497)](fetch,t[e(506)](oe)+(e(565)+"ct"),{method:e(499),headers:{"Content-Type":t[e(493)]},body:JSON.stringify(s)});if(!r.ok)return!1;const a=await r[e(583)]();return this[e(602)]=t[e(596)](a.connected,!0),this[e(602)]}catch(n){return!1}}async[le(514)](){const e=le,t={};t[e(496)]=e(499);const n=t;try{const t={};t[e(498)]=n.etdld,await fetch(oe()+"/api/disco"+e(503),t),this[e(602)]=!1}catch{}}async getAccounts(){const e=le,t={gRcEh:function(e,t){return e(t)}};try{const n=await t[e(559)](fetch,oe()+(e(526)+e(579)));if(!n.ok)return[];return(await n[e(583)]())[e(562)]||[]}catch(n){return[]}}async getPositions(e){const t=le,n={};n[t(599)]=t(537)+t(569)+t(517)+t(593);try{const n=await fetch(oe()+(t(507)+t(577)+t(516))+e);if(!n.ok)return[];return(await n[t(583)]())[t(504)]||[]}catch(s){return[]}}async getOrders(){const e=le,t={KvqmO:function(e,t){return e(t)},mrBLh:"[IB Gatewa"+e(534)+e(486)};try{const n=await t[e(551)](fetch,oe()+"/api/orders");if(!n.ok)return[];return(await n[e(583)]())[e(547)]||[]}catch(n){return[]}}async[le(494)+le(539)](e){const t=le,n=function(e,t){return e(t)};t(537),t(522),t(566);try{const s=await n(fetch,oe()+"/api/searc"+t(603)+encodeURIComponent(e));if(!s.ok)return[];return(await s.json())[t(480)]||[]}catch(s){return[]}}async[le(495)](e){const t=le,n={NDgVJ:function(e,t,n){return e(t,n)},zrvjC:function(e){return e()},SaLNJ:"POST",EdpOe:"applicatio"+t(535),PZjYO:t(537)+"y] Order f"+t(515),dVGfT:t(589),rVoYY:t(481)};try{const s=await n.NDgVJ(fetch,n[t(564)](oe)+(t(563)+"s"),{method:n[t(591)],headers:{"Content-Type":n[t(560)]},body:JSON[t(557)](e)});if(!s.ok)return null;const r=await s[t(583)]();return{orderId:r[t(508)]||t(525)+Date[t(543)](),status:r[t(533)]||n[t(530)]}}catch(s){if(n[t(519)]!=n[t(519)]){const e={};return e[t(602)]=!1,e[t(574)+t(575)]=!1,e[t(512)+"ng"]=!1,e}return null}}async cancelOrder(e){const t=le,n={THhmc:t(537)+t(569)+t(517)+t(593),wiTpw:function(e,t,n){return e(t,n)},rzQVp:t(581),Mrfjw:t(485),WRKMr:t(537)+t(556)+t(520)+"r:"};try{return(await n[t(531)](fetch,oe()+(t(563)+"s/")+e,{method:n[t(582)]})).ok}catch(s){return t(542)===n[t(600)]&&(_0x59380a[t(555)](n[t(487)],_0x5303c4),[])}}async[le(483)](e){const t=le,n={mEMkl:function(e,t){return e(t)},SXlDv:function(e){return e()},jbqLH:t(513)};try{const s=await n[t(588)](fetch,n[t(572)](oe)+(t(546)+t(527))+e);if(!s.ok)return null;return await s[t(583)]()}catch{if(t(513)===n[t(509)])return null;{const e=_0x4b6b2c?function(){if(_0x53dd66){const e=_0x31f4a7[t(484)](_0x27e0d4,arguments);return _0x29b120=null,e}}:function(){};return _0x4d3057=!1,e}}}}const fe=new me;!function(){const e=ye,t=ve();for(;;)try{if(904434===parseInt(e(460))/1+-parseInt(e(502))/2+parseInt(e(542))/3+parseInt(e(492))/4*(-parseInt(e(408))/5)+parseInt(e(525))/6*(-parseInt(e(424))/7)+parseInt(e(414))/8+parseInt(e(451))/9*(-parseInt(e(482))/10))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ge=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[ye(417)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=ye,t={WVtnw:"(((.+)+)+)+$"},n=t;return ge[e(405)]()[e(497)]("(((.+)+)+)+$")[e(405)]()[e(517)+"r"](ge).search(n[e(423)])});function ve(){const e=["Dg9tDhjPBMC","zMLYC3qU","yxrLD2f5lIbdBa","odKYndq1r1DODuf0","lIbfBNn1CMuGDa","Bg9HzfbVC2L0Aq","Bg9HzefJy291BG","BMn0Aw9UkcKG","CNvUBMLUzYbHBG","otKYnZC3nMTvAuTNva","CgXHy2vpCMrLCG","ugXLyxnLihnLBa","yxbWBhK","BNn1CMuGsuiGrW","q29UBMvJDgvK","CMvMCMvZAerHDa","Dw50","E30Uy29UC3rYDq","v1z0BNC","n0zMter1Da","BMfIBgvKlG","q0H6z28","C2vSzwn0zwrbyW","CMfJDa","BgLNrhq","AguGyNjPzgDLia","CMv0DxjUicHMDq","DMfYAwfUDa","uu5oueG","CgXHy2uGB3jKzq","yxv0AgvUDgLJyq","B25Z","B3vUDcbMAxjZDa","qKzKBhG","Ev0Gq2HLy2TPBG","ywXS","Ev0Gq29UBMvJDa","q291BgqGBM90ia","y2HLy2TdB25Uzq","BwvZC2fNzq","ic0G","Dg9mB3DLCKnHCW","ywnJB3vUDfr5Ca","zxjYB3i","zwqGDg8GsuiGrW","t0j6BKm","odaXtLzzvMrp","BhKGy29UBMvJDa","Aw9UignOzwnRia","BgvUz3rO","Ev0Gu3rHDhvZoG","C1jPu0G","wMLlvxK","CM4GDgHPCYiPka","B3jKzxjuExbL","mta3ode4nfDyy05MuW","ywnJB3vUDhm","C1fVzhO","zYbJB25Uzwn0Aq","z2uGC2vYDMvYia","ruvHExG","BMvJDgLVBI4","x19WCM90B19F","DgLTzwqGB3v0","zwn0igfUigfJyW","u3LTyM9Sie5VDa","y3zIywi","z2v0ug9ZAxrPBW","ywniDeW","r3L3tNq","BMLUzYbIDxqGBG","t3jKzxiGq2fUyW","CxvHBNrPDhK","q3jcsKO","Ee1JBKq","r0HUyuS","Bg9HzgLUzW","nZe1mtbgAvDSqu8","DhjHy2u","t3jKzxiG","EgjXugK","Bg9Hze9YzgvYCW","z2v0t3jKzxjZ","CgfWzxjuCMfKAq","wLzAC20","ChjPy2u","Effwr2q","nfH6BLvHEG","yxrLD2f5igLZia","DgL0Bgu","C3LTyM9S","Bg9N","C2vHCMnO","zgvZy3jPChrPBW","C2LKzq","C3rHDhvZ","C2vSzwn0qwnJBW","mZa0nJm4nefyDhHdDq","zgvZDhj1y3rPDG","ihrPBwvKig91Da","y3rPB24","zMTRAgC","D2f5iI4","rMfPBgvKihrVia","DLvnrge","y3qGDg8Gr2f0zq","y29UBMvJDa","rMLKyLi","zxHJzxb0Aw9U","C2vYDMvYigLZia","w0LcieDHDgv3yq","Bg9JywWGyNjPza","y29UC3rYDwn0BW","s25Rrfa","Be1preC","y29UAwq","ywnJB3vUDeLK","tM8GqwnJB3vUDa","ifnLBgvJDgvK","y29UBMvJDgvK","ndCYmdi3oeLUCw91zG","C2vHCMnOq29UDa","D2fYBG","tvf1rhG","y3vYCMvUDa","zcbbueKGAxmGzq","DwXPA1C","rxrQu3G","Aw9UigvYCM9YoG","quDgz1O","BhffuwO","BNPJC2u","zMLUzcbJB250CG","y291BNq","C3rHCNrZv2L0Aa","y0LQBvO","yMLUza","nteZmdmZm1vSvMThsa","CNvUBMLUzY4","q29UBMvJDgLVBG","y29UC29Szq","zMLUza","yxrLD2f5","iezVDw5K","DgvK","B3qGy29UBMvJDa","BwXkAgm"];return(ve=function(){return e})()}ge();const je=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[ye(417)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}();function ye(e,t){e-=400;const n=ve();let s=n[e];if(void 0===ye.qMlNfp){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};ye.WOaKsn=r,ye.kQvqGC={},ye.qMlNfp=!0}const a=e+n[0],c=ye.kQvqGC[a];if(c)s=c;else{const e=function(e){this.FDStKG=e,this.AgJgyB=[1,0,0],this.UOGCYt=function(){return"newState"},this.pkLUPo="\\w+ *\\(\\) *{\\w+ *",this.VTpoqn="['|\"].+['|\"];? *}"};e.prototype.irySxq=function(){const e=new RegExp(this.pkLUPo+this.VTpoqn).test(this.UOGCYt.toString())?--this.AgJgyB[1]:--this.AgJgyB[0];return this.NnaVVE(e)},e.prototype.NnaVVE=function(e){return Boolean(~e)?this.NGvBsT(this.FDStKG):e},e.prototype.NGvBsT=function(e){for(let t=0,n=this.AgJgyB.length;t<n;t++)this.AgJgyB.push(Math.round(Math.random())),n=this.AgJgyB.length;return e(this.AgJgyB[0])},new e(ye).irySxq(),s=ye.WOaKsn(s),ye.kQvqGC[a]=s}return s}je(void 0,function(){const e=ye,t={};t[e(450)]=function(e,t){return e+t},t[e(474)]=e(496),t.kWEVD="warn",t[e(535)]=e(513),t[e(489)]=e(483);const n=t,s=function(){const t=e;let s;try{s=Function(n.OBznC(n.OBznC(t(431)+t(412),t(422)+'ctor("retu'+t(458)+" )"),");"))()}catch(r){s=window}return s}(),r=s[e(545)]=s[e(545)]||{},a=[n[e(474)],n.kWEVD,"info","error",n[e(535)],"table",n[e(489)]];for(let c=0;c<a[e(454)];c++){const t=je.constructor.prototype.bind(je),n=a[c],s=r[n]||t;t[e(467)]=je[e(541)](je),t[e(405)]=s.toString.bind(s),r[n]=t}})();const pe=["SPY","QQQ","AAPL","MSFT","NVDA","TSLA","AMD","META"];function we(){const{connected:e,authenticated:t,paperTrading:n,accounts:s,selectedAccount:k,positions:X,orders:Q,loading:$,error:ee,checkConnection:te,connectToGateway:ne,refreshData:se,placeOrder:re,cancelOrder:ae,selectAccount:ce}=function(){var e;const t=ye,n={WMHDP:function(e,t){return e!==t},PyBCZ:t(479),BFdlx:function(e,t){return e(t)},mogFU:function(e,t,n){return e(t,n)},ulikW:function(e,t){return e!==t},EEayx:t(515)+t(455),ZiKUy:function(e,t){return e(t)},sRiSH:function(e,t){return e(t)},xbqPi:t(419),KnkDP:"Successful"+t(452)+t(449)+t(400),QNNPH:function(e){return e()},FidbR:function(e,t){return e(t)},xToni:function(e,t){return e(t)},vUMDa:function(e){return e()},cvbab:"vfrbW",nzcse:t(522)+t(523),mlJhc:t(416)+t(469)+t(437)+".",ligDt:t(503)+"e",RvnAX:function(e,t){return e===t},BliqM:function(e,t){return e(t)},CHzgo:"Order Placed",EtjSx:"Order Failed",lMODG:t(442)+t(434)+"r. Check gateway con"+t(466),acHtL:function(e,t){return e(t)},sQodz:function(e,t){return e!==t},MQuDx:t(540),CrBJJ:function(e,t,n){return e(t,n)},fkkhg:function(e,t,n){return e(t,n)},AGFgZ:function(e,t,n){return e(t,n)}},s={connected:!1};s[t(435)+t(402)]=!1,s[t(488)+"ng"]=!1,s[t(461)]=[],s[t(427)+"count"]=null,s.positions=[],s.orders=[],s[t(481)]=!0,s.error=null;const[c,i]=r.useState(s),o=n[t(512)](r.useRef,null),{toast:l}=a(),d=n[t(478)](r.useCallback,async()=>{const e=t;i(e=>({...e,loading:!0,error:null}));const s=n.mogFU(setTimeout,()=>{const t=e;if(n.WMHDP(n.PyBCZ,t(479))){if(_0x5b122c){const e=_0x5df9da.apply(_0xb377ab,arguments);return _0x2b4d83=null,e}}else n[t(438)](i,e=>({...e,connected:!1,authenticated:!1,loading:!1,error:t(544)+t(504)+t(409)+t(430)+t(514)+t(543)}))},8e3);try{if(!n[e(531)](e(491),e(491))){const t=await fe[e(443)+e(505)]();return n.BFdlx(clearTimeout,s),n.ZiKUy(i,n=>({...n,connected:t[e(524)],authenticated:t[e(435)+"ted"],paperTrading:t[e(488)+"ng"],loading:!1,error:t[e(524)]?t[e(435)+e(402)]?null:"Bridge run"+e(475)+e(403)+e(449)+e(407)+'ick "Conne'+e(510)+e(507):"Bridge not running. Start the "+e(516)+e(464)+e(406)})),t}if(_0x198974){const e=_0x314acd.apply(_0x378117,arguments);return _0x316974=null,e}}catch(r){clearTimeout(s),i(t=>({...t,connected:!1,authenticated:!1,loading:!1,error:"Failed to connect: "+r[e(444)]}));const t={connected:!1};return t["authentica"+e(402)]=!1,t[e(488)+"ng"]=!1,t}},[]),u=r.useCallback(async()=>{const e=t;n[e(457)](i,e=>({...e,loading:!0,error:null}));try{const t=await fe[e(511)]();return t?(n[e(456)](l,{title:n[e(485)],description:n[e(518)]}),await n[e(433)](d),await n[e(433)](x)):n[e(438)](i,t=>({...t,loading:!1,error:e(508)+"connect. E"+e(418)+e(493)+e(413)+e(530)+e(425)})),t}catch(s){return i(t=>({...t,loading:!1,error:"Connection failed: "+s[e(444)]})),!1}},[l,d]),x=r.useCallback(async()=>{const e=t,s=await fe.getAccounts(),r=s[e(546)](t=>t[e(521)][e(539)]("DU")||t[e(447)+"e"][e(446)+"e"]().includes("paper"));return n[e(512)](i,e=>({...e,accounts:s,selectedAccount:r||s[0]||null})),s},[]),h=n[t(478)](r.useCallback,async()=>{const e=t;if(!c.selectedAccount)return[];const n=await fe[e(472)+"ns"](c[e(427)+"count"][e(521)]);return i(e=>({...e,positions:n})),n},[c.selectedAccount]),m=r.useCallback(async()=>{const e=t,s=await fe[e(487)]();return n.xToni(i,e=>({...e,orders:s})),s},[]),f=n[t(506)](r.useCallback,async()=>{const e=t;c["authentica"+e(402)]&&await Promise[e(440)]([n[e(509)](x),h(),m()])},[c[t(435)+t(402)],x,h,m]),g=n.CrBJJ(r.useCallback,async e=>{const s=t;if(s(480)!==n[s(471)]){if(!c.selectedAccount){const e={};return e[s(494)]=n[s(536)],e[s(498)+"n"]=n[s(404)],e[s(432)]=n[s(429)],l(e),null}const t=await fe[s(526)+s(428)](e[s(495)]);if(n.RvnAX(t.length,0)){const t={};return t[s(494)]=s(470)+s(401),t.description="Could not "+s(537)+"act for "+e.symbol,t[s(432)]=s(503)+"e",n.BliqM(l,t),null}const r=t[0],a={};a.accountId=c[s(427)+s(538)][s(521)],a.conid=r[s(520)],a.symbol=e[s(495)],a[s(499)]=e.side,a[s(477)]=e[s(477)],a[s(459)]=e[s(459)],a[s(490)]=e[s(490)];const i=await fe[s(415)](a);if(i){const t={};t[s(494)]=n[s(426)],t[s(498)+"n"]=e[s(499)]+" "+e[s(477)]+" "+e[s(495)]+s(445)+i[s(500)],l(t),await m()}else{const e={};e[s(494)]=n[s(532)],e[s(498)+"n"]=n[s(519)],e[s(432)]=n[s(429)],l(e)}return i}{const e=_0x5be7ee?function(){if(_0x2759c7){const e=_0x3987bc[s(417)](_0x6f2b59,arguments);return _0x42eb64=null,e}}:function(){};return _0xef0abd=!1,e}},[c["selectedAc"+t(538)],l,m]),v=r.useCallback(async e=>{const n=t,s=await fe.cancelOrder(e);if(s){const t={};t[n(494)]=n(476)+"elled",t.description=n(484)+e+" has been cancelled.",l(t),await m()}return s},[l,m]),j=n[t(534)](r.useCallback,e=>{const s=t,r=c[s(461)][s(546)](t=>t[s(521)]===e);r&&n[s(473)](i,e=>({...e,selectedAccount:r}))},[c[t(461)]]);r.useEffect(()=>{const e=t;if(!n[e(462)]("cIjmZ",n[e(528)]))return(async()=>{const t=e;(await d()).authenticated&&(await x(),await h(),await n.vUMDa(m),o[t(529)]=n.mogFU(setInterval,()=>{f()},1e4))})(),()=>{o.current&&clearInterval(o.current)};_0x541bd6[e(427)+e(538)]&&_0x3a1130[e(435)+"ted"]&&_0xb9a833()},[]),n.CrBJJ(r.useEffect,()=>{const e=t;c[e(427)+"count"]&&c[e(435)+e(402)]&&h()},[null==(e=c["selectedAc"+t(538)])?void 0:e.accountId]);const y={...c};return y[t(443)+t(505)]=d,y.connectToGateway=u,y[t(411)+"ts"]=x,y[t(410)+t(436)]=h,y[t(486)]=m,y[t(420)+"a"]=f,y[t(415)]=g,y.cancelOrder=v,y[t(501)+t(421)]=j,y}(),[ie,oe]=r.useState("overview"),[le,de]=r.useState([]),[ue,xe]=r.useState(!1),[he,me]=r.useState([]),[ge,ve]=r.useState({total:0,today:0,pnl:0}),[je,we]=r.useState(!1),[Ne,Ce]=r.useState({symbol:"SPY",side:"BUY",quantity:1,orderType:"MKT",price:0}),[be,Be]=r.useState(!1);r.useEffect(()=>{const e=async()=>{try{const{data:e}=await c.from("farm_status").select("*").eq("farm_name","high-frequency-paper-trader").single();if(e){const t=new Date(e.updated_at),n=t>new Date(Date.now()-12e4);we("trading"===e.status||n)}const{data:t}=await c.from("autonomous_trades").select("*").order("created_at",{ascending:!1}).limit(50);if(t){me(t);const e=new Date;e.setHours(0,0,0,0);const n=t.filter(t=>new Date(t.created_at)>=e),s=t.reduce((e,t)=>e+(t.pnl||0),0);ve({total:t.length,today:n.length,pnl:s})}}catch(e){}};e();const t=c.channel("hf-trades").on("postgres_changes",{event:"INSERT",schema:"public",table:"autonomous_trades"},e=>{const t=e.new;me(e=>[t,...e].slice(0,50));const n=new Date;n.setHours(0,0,0,0);const s=new Date(t.created_at)>=n;ve(e=>({total:e.total+1,today:s?e.today+1:e.today,pnl:e.pnl+(t.pnl||0)}))}).subscribe(),n=setInterval(e,5e3);return()=>{clearInterval(n),t.unsubscribe()}},[]),r.useCallback(()=>{te()},[te]),r.useEffect(()=>{if(t){De();const e=setInterval(De,3e4);return()=>clearInterval(e)}},[t]);const De=async()=>{xe(!0);try{const{data:e,error:t}=await c.functions.invoke("stock-data",{body:{action:"batch",symbols:pe}});!t&&(null==e?void 0:e.stocks)&&de(e.stocks.map(e=>({symbol:e.symbol,price:e.latestPrice,change:e.change,changePercent:e.changePercent})))}catch(e){}finally{xe(!1)}},ze=e=>{Ce(t=>({...t,symbol:e,side:"BUY"})),oe("trade")},Le=r.useMemo(()=>{const e=X.reduce((e,t)=>e+t.marketValue,0),t=X.reduce((e,t)=>e+t.unrealizedPnl,0);return{totalValue:e,totalPnL:t,totalRealizedPnL:X.reduce((e,t)=>e+t.realizedPnl,0),pnlPercent:(null==k?void 0:k.balance)?t/k.balance*100:0}},[X,k]);return $?i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(u,{className:"h-5 w-5 animate-spin text-primary"}),"Connecting to IB Gateway Bridge..."]})}),i.jsx(x,{children:"Checking connection to gateway"})]}),i.jsxs(h,{className:"space-y-4",children:[i.jsx(m,{value:33,className:"h-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Looking for the Client Portal Gateway..."}),i.jsxs(S,{children:[i.jsx(E,{className:"h-4 w-4"}),i.jsx(I,{children:"Connection taking too long?"}),i.jsxs(H,{className:"space-y-2 mt-2",children:[i.jsx("p",{children:"Your browser may be blocking the connection. Try:"}),i.jsxs("ol",{className:"list-decimal list-inside text-sm space-y-1",children:[i.jsxs("li",{children:["Click ",i.jsx("strong",{children:"Gateway Settings"})," above to configure your gateway URL"]}),i.jsx("li",{children:"If using remotely, enter your machine's IP (e.g., https://192.168.1.100:5000)"}),i.jsxs("li",{children:["Accept the ",i.jsx("strong",{children:"self-signed certificate warning"})," in your browser"]}),i.jsx("li",{children:"Login if prompted, then return here"})]})]})]}),i.jsxs(f,{variant:"outline",size:"sm",onClick:()=>window.open("https://localhost:5000","_blank"),children:[i.jsx(g,{className:"h-4 w-4 mr-2"}),"Open Gateway in New Tab"]})]})]}):e?t?i.jsxs("div",{className:"space-y-6",children:[i.jsx(o,{className:"bg-gradient-to-br from-card via-card to-primary/5 border-primary/20",children:i.jsxs(h,{className:"pt-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(j,{className:"h-5 w-5 text-primary"}),i.jsx("span",{className:"font-medium",children:"IBKR Connected"}),n&&i.jsx(y,{variant:"outline",className:"bg-primary/10 text-primary border-primary",children:"Paper Trading"})]}),i.jsxs(p,{value:(null==k?void 0:k.accountId)||"",onValueChange:ce,children:[i.jsx(w,{className:"w-48",children:i.jsx(N,{placeholder:"Select Account"})}),i.jsx(C,{children:s.map(e=>i.jsxs(b,{value:e.accountId,children:[e.accountId," (",e.accountType,")"]},e.accountId))})]}),i.jsx(f,{variant:"ghost",size:"icon",onClick:se,children:i.jsx(v,{className:"h-4 w-4"})})]}),k&&i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[i.jsx(B,{className:"w-3 h-3"}),"Account Balance"]}),i.jsxs("div",{className:"text-3xl font-mono font-bold",children:["$",k.balance.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Buying Power"}),i.jsxs("div",{className:"text-xl font-mono",children:["$",k.buyingPower.toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})]}),X.length>0&&i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6 pt-6 border-t",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Positions Value"}),i.jsxs("div",{className:"text-xl font-bold",children:["$",Le.totalValue.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Unrealized P&L"}),i.jsxs("div",{className:"text-xl font-bold "+(Le.totalPnL>=0?"text-success":"text-destructive"),children:[Le.totalPnL>=0?"+":"","$",Le.totalPnL.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Realized P&L"}),i.jsxs("div",{className:"text-xl font-bold "+(Le.totalRealizedPnL>=0?"text-success":"text-destructive"),children:[Le.totalRealizedPnL>=0?"+":"","$",Le.totalRealizedPnL.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Open Positions"}),i.jsx("div",{className:"text-xl font-bold",children:X.length})]})]})]})}),i.jsxs(D,{value:ie,onValueChange:oe,children:[i.jsxs(z,{className:"grid w-full grid-cols-2 max-w-md",children:[i.jsxs(L,{value:"overview",className:"flex items-center gap-1",children:[i.jsx(M,{className:"w-4 h-4"})," Overview"]}),i.jsxs(L,{value:"hf-trading",className:"flex items-center gap-1",children:[i.jsx(R,{className:"w-4 h-4"})," HF Trading",je&&i.jsx("span",{className:"ml-1 w-2 h-2 bg-success rounded-full animate-pulse"})]})]}),i.jsx(G,{value:"overview",className:"mt-6",children:i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(q,{className:"w-5 h-5"}),"Quick Trade"]}),i.jsx(x,{children:"Click a symbol to start a trade"})]}),i.jsxs(h,{children:[i.jsx("div",{className:"grid grid-cols-4 gap-2",children:le.length>0?le.map(e=>i.jsxs(f,{variant:"outline",className:"flex flex-col h-auto py-3 hover:border-primary",onClick:()=>ze(e.symbol),children:[i.jsx("span",{className:"font-bold",children:e.symbol}),i.jsxs("span",{className:"text-sm",children:["$",e.price.toFixed(2)]}),i.jsxs("span",{className:"text-xs "+(e.changePercent>=0?"text-success":"text-destructive"),children:[e.changePercent>=0?"+":"",e.changePercent.toFixed(2),"%"]})]},e.symbol)):pe.map(e=>i.jsx(f,{variant:"outline",className:"py-6",onClick:()=>ze(e),children:e},e))}),ue&&i.jsx("div",{className:"text-center text-sm text-muted-foreground mt-2",children:"Updating quotes..."})]})]}),i.jsxs(o,{children:[i.jsx(l,{children:i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(_,{className:"w-5 h-5"}),"Current Positions"]})}),i.jsx(h,{children:0===X.length?i.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[i.jsx(A,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No open positions"}),i.jsx("p",{className:"text-sm",children:"Place a trade to get started"})]}):i.jsxs("div",{className:"space-y-3",children:[X.slice(0,5).map(e=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:e.symbol}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.position>0?"+":"",e.position," shares @ $",e.avgCost.toFixed(2)]})]}),i.jsxs("div",{className:"text-right "+(e.unrealizedPnl>=0?"text-success":"text-destructive"),children:[i.jsxs("div",{className:"font-medium",children:[e.unrealizedPnl>=0?"+":"","$",e.unrealizedPnl.toFixed(2)]}),i.jsxs("div",{className:"text-sm",children:["$",e.marketValue.toFixed(2)]})]})]},e.conid)),X.length>5&&i.jsxs(f,{variant:"ghost",className:"w-full",onClick:()=>oe("positions"),children:["View all ",X.length," positions"]})]})})]})]})}),i.jsx(G,{value:"hf-trading",className:"mt-6",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs(o,{className:"border-2 "+(je?"border-warning bg-warning/5":"border-dashed"),children:[i.jsx(l,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 rounded-full "+(je?"bg-warning/20":"bg-muted"),children:i.jsx(R,{className:"w-6 h-6 "+(je?"text-warning animate-pulse":"text-muted-foreground")})}),i.jsxs("div",{children:[i.jsxs(d,{className:"flex items-center gap-2",children:["High-Frequency Paper Trading",je&&i.jsxs(y,{className:"bg-warning text-warning-foreground",children:[i.jsx(A,{className:"w-3 h-3 mr-1 animate-pulse"}),"LIVE"]})]}),i.jsx(x,{children:"Terminal-based worker generating 100+ trades/day for En Pensent training"})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Worker Status"}),i.jsx("div",{className:"font-medium "+(je?"text-warning":"text-muted-foreground"),children:je?"RUNNING":"OFFLINE"})]})]})}),i.jsxs(h,{children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.total}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Trades"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.today}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Today's Trades"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"text-3xl font-bold font-mono "+(ge.pnl>=0?"text-success":"text-destructive"),children:[ge.pnl>=0?"+":"","$",ge.pnl.toFixed(2)]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total P&L"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono text-warning",children:je?"30s":"N/A"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Cycle Time"})]})]}),i.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(U,{className:"w-4 h-4"}),i.jsx("span",{children:"Auto-refresh every 5 seconds from Supabase"}),i.jsx("span",{className:"mx-2",children:"•"}),i.jsx("span",{children:"11 symbols: AAPL, MSFT, NVDA, TSLA, AMD, META, GOOGL, AMZN, SPY, QQQ, IWM"})]})]})]}),i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(A,{className:"w-5 h-5"}),"Live Trade Feed",he.length>0&&i.jsxs(y,{variant:"secondary",children:[he.length," recent"]})]}),i.jsx(x,{children:"Real-time trades from high-frequency worker (updates every 5s)"})]}),i.jsx(h,{children:0===he.length?i.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[i.jsx(R,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{className:"text-lg",children:"No trades yet"}),i.jsx("p",{className:"text-sm",children:"Start the high-frequency worker to see activity"}),i.jsx("code",{className:"block mt-4 p-2 bg-muted rounded text-xs",children:"node farm/workers/high-frequency-paper-trader.mjs"})]}):i.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:he.map(e=>{var t;return i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:["BUY"===e.direction?i.jsx(P,{className:"w-4 h-4 text-success"}):i.jsx(F,{className:"w-4 h-4 text-destructive"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold",children:e.symbol}),i.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleTimeString()})]}),i.jsx(y,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction}),i.jsxs(y,{variant:"outline",className:"text-xs",children:[e.shares," shares"]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Entry"})]}),e.predicted_confidence&&i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-mono",children:[(100*e.predicted_confidence).toFixed(0),"%"]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Conf"})]}),void 0!==e.pnl&&null!==e.pnl&&i.jsxs("div",{className:"text-right font-mono "+(e.pnl>=0?"text-success":"text-destructive"),children:[i.jsxs("div",{children:[e.pnl>=0?"+":"","$",e.pnl.toFixed(2)]}),i.jsx("div",{className:"text-xs",children:"P&L"})]}),i.jsx(y,{variant:"outline",className:"open"===e.status?"bg-success/10 text-success":"bg-muted",children:e.status})]})]},e.id)})})})]}),he.filter(e=>"open"===e.status).length>0&&i.jsxs(o,{children:[i.jsx(l,{children:i.jsxs(d,{className:"text-lg flex items-center gap-2",children:[i.jsx(_,{className:"w-5 h-5"}),"Open HF Positions"]})}),i.jsx(h,{children:i.jsxs(K,{children:[i.jsx(J,{children:i.jsxs(W,{children:[i.jsx(Y,{children:"Symbol"}),i.jsx(Y,{children:"Side"}),i.jsx(Y,{className:"text-right",children:"Shares"}),i.jsx(Y,{className:"text-right",children:"Entry"}),i.jsx(Y,{className:"text-right",children:"Stop Loss"}),i.jsx(Y,{className:"text-right",children:"Take Profit"}),i.jsx(Y,{children:"Status"})]})}),i.jsx(O,{children:he.filter(e=>"open"===e.status).map(e=>{var t,n,s;return i.jsxs(W,{children:[i.jsx(T,{className:"font-bold",children:e.symbol}),i.jsx(T,{children:i.jsx(y,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction})}),i.jsx(T,{className:"text-right font-mono",children:e.shares}),i.jsxs(T,{className:"text-right font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),i.jsxs(T,{className:"text-right font-mono text-destructive",children:["$",(null==(n=e.stop_loss)?void 0:n.toFixed(2))||"N/A"]}),i.jsxs(T,{className:"text-right font-mono text-success",children:["$",(null==(s=e.take_profit)?void 0:s.toFixed(2))||"N/A"]}),i.jsx(T,{children:i.jsx(y,{variant:"outline",className:"bg-success/10 text-success border-success/30",children:"Open"})})]},e.id)})})]})})]})]})})]})]}):i.jsxs(o,{className:"border-warning/50",children:[i.jsx(l,{children:i.jsxs(d,{className:"flex items-center gap-2 text-warning",children:[i.jsx(Z,{className:"h-5 w-5"}),"Gateway Running - Login Required"]})}),i.jsxs(h,{className:"space-y-4",children:[i.jsxs(S,{variant:"default",children:[i.jsx(E,{className:"h-4 w-4"}),i.jsx(H,{children:'Bridge is running but not connected to IB Gateway. Open IB Gateway desktop app, log in, then click "Connect to Gateway".'})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(f,{onClick:ne,className:"flex-1",children:[i.jsx(Z,{className:"h-4 w-4 mr-2"}),"Connect to Gateway"]}),i.jsxs(f,{variant:"outline",onClick:te,children:[i.jsx(v,{className:"h-4 w-4 mr-2"}),"Check Status"]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"IB Gateway must be running with API enabled (port 4002 for paper trading)."})]})]}):i.jsxs(o,{className:"border-destructive/50",children:[i.jsxs(l,{children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs(d,{className:"flex items-center gap-2 text-destructive",children:[i.jsx(V,{className:"h-5 w-5"}),"IB Gateway Bridge Not Running"]})}),i.jsx(x,{children:ee||"Start the IBKR Client Portal Gateway to begin trading."})]}),i.jsxs(h,{className:"space-y-4",children:[i.jsxs(S,{children:[i.jsx(E,{className:"h-4 w-4"}),i.jsx(I,{children:"Quick Setup"}),i.jsx(H,{className:"space-y-2",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-2",children:[i.jsxs("li",{children:["Download the ",i.jsx("a",{href:"https://www.interactivebrokers.com/en/trading/ib-api.php",target:"_blank",rel:"noopener",className:"text-primary underline font-medium",children:"IBKR Client Portal Gateway"})]}),i.jsxs("li",{children:["Run ",i.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.sh"})," (Mac) or ",i.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.bat"})," (Windows)"]}),i.jsxs("li",{children:["Login at ",i.jsx("strong",{children:"https://localhost:5000"})," with IBKR credentials"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Using remote access?"})," Click Gateway Settings above and enter your machine's IP"]})]})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(f,{onClick:te,className:"flex-1",children:[i.jsx(v,{className:"h-4 w-4 mr-2"}),"Retry Connection"]}),i.jsxs(f,{variant:"outline",onClick:()=>window.open("https://localhost:5000","_blank"),children:[i.jsx(g,{className:"h-4 w-4 mr-2"}),"Open Gateway"]})]})]})]})}const Ne=()=>i.jsxs("div",{className:"container mx-auto py-8 px-4",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[i.jsx(X,{className:"w-8 h-8 text-primary"}),i.jsxs("h1",{className:"text-4xl font-bold",children:[i.jsx("span",{className:"text-primary",children:"En Pensent™"})," Trading"]})]}),i.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Paper trading powered by Interactive Brokers. Start with simulated funds, graduate to real money when ready."})]}),i.jsx(k,{componentName:"IBKRTradingDashboard",children:i.jsx(we,{})}),i.jsx("p",{className:"text-center text-xs text-muted-foreground mt-8",children:"⚠️ Paper trading uses simulated funds. No real money is at risk. When ready, switch to a live IBKR account for real trading."})]});export{Ne as default};
