import{d6 as e,d7 as t,cp as s,a as n,u as r,r as a,J as i,o,s as c,aH as l,aa as u,cM as d,j as m,L as x,C as f,x as h,D as p,B as g,A as v,p as w,t as j,cN as y,bC as b,S as z,a6 as C,P as N,y as D,bG as M,T as L,aq as _,z as E,cU as q,aj as B,aT as A,ca as P,b as G,d8 as K}from"./index-f_XxDhCa.js";!function(){const e=I,t=k();for(;;)try{if(743554===-parseInt(e(453))/1+-parseInt(e(474))/2*(parseInt(e(541))/3)+-parseInt(e(464))/4+-parseInt(e(494))/5+-parseInt(e(575))/6*(-parseInt(e(623))/7)+parseInt(e(462))/8+parseInt(e(589))/9*(parseInt(e(585))/10))break;t.push(t.shift())}catch(s){t.push(t.shift())}}();const S=function(){const e=I,t={};t.aQVwn=e(489);const s=t;let n=!0;return function(e,t){const r=n?function(){if(t){if(I(529)!==s.aQVwn){const s=t.apply(e,arguments);return t=null,s}return _0x3b794f}}:function(){};return n=!1,r}}()(void 0,function(){const e=I;return S[e(422)]()[e(471)]("(((.+)+)+)+$")[e(422)]()[e(577)+"r"](S)[e(471)](e(552)+"+$")});function I(e,t){e-=409;const s=k();let n=s[e];if(void 0===I.tOdtaT){var r=function(e){let t="",s="",n=t+r;for(let r,a,i=0,o=0;a=e.charAt(o++);~a&&(r=i%4?64*r+a:a,i++%4)?t+=n.charCodeAt(o+10)-10!=0?String.fromCharCode(255&r>>(-2*i&6)):i:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)s+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(s)};I.OMzlsn=r,I.kTAGAI={},I.tOdtaT=!0}const a=e+s[0],i=I.kTAGAI[a];if(i)n=i;else{const e=function(e){this.kuNZnj=e,this.erEeCj=[1,0,0],this.MWdAEN=function(){return"newState"},this.ShsklT="\\w+ *\\(\\) *{\\w+ *",this.CPItcE="['|\"].+['|\"];? *}"};e.prototype.yPTAKI=function(){const e=new RegExp(this.ShsklT+this.CPItcE).test(this.MWdAEN.toString())?--this.erEeCj[1]:--this.erEeCj[0];return this.LVItUx(e)},e.prototype.LVItUx=function(e){return Boolean(~e)?this.zxExoU(this.kuNZnj):e},e.prototype.zxExoU=function(e){for(let t=0,s=this.erEeCj.length;t<s;t++)this.erEeCj.push(Math.round(Math.random())),s=this.erEeCj.length;return e(this.erEeCj[0])},new e(I).yPTAKI(),n=I.OMzlsn(n),I.kTAGAI[a]=n}return n}function k(){const e=["iZq0ndaZyW","y2vUDgvY","BgLNAhq","C2vHCMnO","zvPAy0C","DhLWzq","nJm0q09fu1PM","BNmTC2vYAwy","zMLSBfrLEhq","y3rvuKW","y3jLyxrLrwXLBq","zw9Yz2LHlcbZzq","rMfPBgvKihrVia","uuHPqvy","D2LKDgG","ru4Guevou0vova","iIb5psiWiIb3Aq","tvvqrxu","zxjYB3i","CgvUC2vUDc5JBW","wfbRDvK","rgfiv2m","vNjtAxi","ide4ChGGj0nVCG","D1nWA0O","CwDmyLe","mZGYnJm5nvfjDvfqDG","v0Djvwu","DwrPCvO","C2X3s3K","Efb3ruG","zw5Wzw5Zzw50lG","DwPpEuS","qu1hv24","rhHJvgC","A2rLq2e","nJaWidi0ChGGjW","DgLRzLy","idiWChGGj0nVCG","ndaWideXChGGjW","t0vMzNK","Dg9vChbLCKnHCW","Bgf5zxjtAxPL","qu92yxC","phn2zYb4BwXUCW","CMPbwve","B25LCNjVCG","s0PoDKy","iJaGmca","yMvNAw5qyxrO","EeLzyNy","lI4U","yxjJ","zgfYAW","y2fUDMfZ","i0zbrKfgqq","t215tuG","CMvHzhK","tLHTyxO","BwvZlcbZzxjPzG","q0fjsLi","uwfHyKm","sw50zxiNlcbZyq","s2HKs2C","DuLnANO","zKnKEfC","E30Uy29UC3rYDq","zLz6vMu","y3rPB25mzxzLBa","q2LUEMvSjYWGjW","zw50","yMLUza","t013C0e","nZqXm0zcAwnRDq","ywXS","DMLZAxrZ","Derhq3e","DhjHBNnWyxjLBG","B0PbCMe","AxnmAwDODa","i0zerKngqG","DgzLrwi","CMvZDg9Yzq","ntaWideYChGGjW","kcGOlISPkYKRkq","t0vjCey","D2fYBG","Bg9HzcbtvKC","D0zoz2i","DfLjuei","y3jLyxrLt2jQzq","zMLSBa","ChvZAa","Dd11DgyToa","zgvMyxvSDa","C2fKsxO","Dg9eyxrHvvjm","BwLKzgXL","DgfIBgu","iZbbmeeWqq","phjLy3qGEd0I","iIb5psi","s1jxBKW","iZi5mJuYna","Aw1Hz2vtBw9VDa","Bw92zvrV","rgDzzuW","mtj6Euzvr3K","zxzLBNq","y29UC3rYDwn0BW","q2fhsw0","CwzOwuy","CMv0DxjUicHMDq","CMv2B2TLt2jQzq","Bw9Yyw50jYWGrW","A2LKu1m","A1LTrNa","mtbwB2jWyKm","iIbMAwXSpsi","v2HPDgu","icdIGkiGia","mJK4ntG0mJDxtMzJvuq","AM9PBG","vLHRywK","uxnmtwC","i2u3ztvLna","t2rbzuW","zMLSBfn0EwXL","BwfYz2LU","z2XZthO","C3rYB2TLu3r5Ba","uejuv2C","v29zwLm","AgLUz0vUywjSzq","B25SB2fK","CMvKDwnL","uM9Tyw4NlcbuAq","C3vIC3rYAw5N","qxPrthi","vM9Pq2y","BLLqCwq","z2T4y3y","D2HPDgu","DfPOu2e","CxjJB2rL","Dgv4DefSAwDU","sgXbuvi","uxfTt0u","Aw1Hz2uVC3zNkW","vvPWyMq","BwvHC3vYzvrLEa","zg1kuem","rNHYDKi","iI8+","zxjYB3jdB3jYzq","mtK0mtK2mwvOq016sa","vLHhtfy","q09IwK4","i2zHzMfMoq","mJaWmc9ZDMCIia","Agz6wKq","C3rYB2TL","iIb2Awv3qM94pq","qMXHy2S","AgLUz1f1ywXPDa","Bw92zxm","z2v0q29UDgv4Da","CMLM","iZC4nZe2yW","y29UC29Szq","C2nHBgu","tMP2DKK","yLPmzw0","C3bSAxq","phjLy3qGEd0Ima","Bw5Js1K","zM9UDa","sw1Uzue","BgvMDa","uM9Tyw4NlcbZzq","AxrHBgLJiduWma","yMnSzgW","nJaWideZChGGjW","iIbOzwLNAhq9iG","B1bMBM8","i2e4yti5zq","iZfbmueXqq","C2f2zq","CgLLy2u","B1bhALO","Dg9tDhjPBMC","EuP5wKK","C3jJ","pc9ZDMC+","DhjHy2u","CMDIysGYntuSia","Dgv4DejHC2vSAq","zhrOpsi","ihzZia","yxbWBhK","ChjVDg90ExbL","zxHJzxb0Aw9U","zhjHD0LTywDL","x19WCM90B19F","zLjivK4","EuTkAuO","BMn0Aw9UkcKG","ntaWideXChGGjW","Aw5JBhvKzxm","y29SB3i","mxW0Fdj8mhWZ","vgLTzxmGtMv3ia","qvzqDgy","uvHUu1C","BgvUz3rO","zgf0zq","yM9YzgvY","vw5RBM93BG","y3rVCIGICMv0Dq","CMv2Cwe","y3jVC3npCMLNAq","mte3ode4mejTve1TzG","whPbuxG","yw5VBNLTB3vZ","zM9UDhm","BgLUzvDPzhrO","Ahr0Chm6lY9LBG","ueDOyuy","BwLU","D1H5DvO","nZCZmdi2nfDTyKHOEG","tNjwrwO","ntq3mZy0ofvVv2r1va","rgXWCgK","y29T","AgvPz2H0"];return(k=function(){return e})()}S();const O=function(){let e=!0;return function(t,s){const n=e?function(){if(s){const e=s[I(431)](t,arguments);return s=null,e}}:function(){};return e=!1,n}}();O(void 0,function(){const e=I,t={};t.YZHfD=e(449),t[e(459)]=function(e,t){return e===t},t[e(496)]="QqmOE",t.cjhxT=e(534)+e(450)+'rn this")( )',t.OEffy="log",t.FxrvB=e(554),t[e(421)]=e(486),t[e(607)]=e(566),t[e(611)]=e(426),t[e(546)]=function(e,t){return e<t};const s=t,n=function(){const t=e,n={};n[t(501)]=s.YZHfD;const r=n;if(s[t(459)](s[t(496)],t(615))){let e;try{e=Function(t(580)+t(438)+s.cjhxT+");")()}catch(a){e=window}return e}return _0xa3f600&&_0x1da70e!==r[t(501)]&&"????.??.??"!==_0x23c787?_0x22006b:_0x41d603}(),r=n[e(637)]=n[e(637)]||{},a=[s[e(508)],s[e(620)],"info",s.oPGjZ,e(433),s.VoiCf,s[e(611)]];for(let i=0;s[e(546)](i,a.length);i++){const t=O[e(577)+"r"][e(432)].bind(O),s=a[i],n=r[s]||t;t[e(435)]=O.bind(O),t[e(422)]=n[e(422)].bind(n),r[s]=t}})();async function W(e,t,s){const n=I,r={dmJPC:n(522),fRHVN:function(e,t){return e*t},FLgDu:function(e,t){return e(t)},NjvvI:function(e,t){return e!==t},LHnhk:n(532)};return new Promise((a,i)=>{const o=n,c={NrVEj:r.dmJPC,xIYbv:function(e,t){return r[I(436)](e,t)},VXkai:function(e,t){return r.FLgDu(e,t)},KJNvF:function(e,t){return r[I(639)](e,t)},eZZcG:o(465),bcldl:r.LHnhk},l=new Image,u={};u[o(473)]=o(616)+"xml;charse"+o(561);const d=new Blob([e],u),m=URL[o(558)+"ctURL"](d);l[o(602)]=()=>{const e=o,n=document[e(478)+e(538)](r[e(619)]);n[e(482)]=5*t,n[e(467)]=5*s;const i=n[e(634)]("2d");i[e(638)](5,5),i[e(434)](l,0,0,t,s),URL[e(581)+e(477)](m),a(n)},l[o(514)]=()=>{const e=o;if(c[e(515)](c[e(472)],c[e(413)]))URL[e(581)+e(477)](m),i(new Error(e(480)+e(555)));else{const t=_0x11ebff["createElem"+e(538)](c[e(463)]);t.width=c[e(518)](_0x33fe1b,_0x4f50eb),t[e(467)]=c[e(518)](_0x4c0958,_0x1e0df9);const s=t[e(634)]("2d");s[e(638)](_0x5190ba,_0x182e3f),s[e(434)](_0x2784d6,0,0,_0x3c2c56,_0x385db1),_0x12a311["revokeObje"+e(477)](_0x6a6b24),c[e(591)](_0x1e3563,t)}},l[o(424)]=m})}async function H(e){const t=I,s=(await import(t(612)))[t(562)],n={};n[t(521)]=t(e?523:418),n[t(470)]=t(545)+"t";const r={};return r[t(482)]=200,r[t(596)]=1,r[t(441)]=n,r[t(622)+t(536)]="M",s[t(564)](t(458)+t(487)+"m",r)}async function T(){const e=I,t={};t[e(493)]=e(574),t.VXGLV="anonymous";const n=t;return new Promise((t,r)=>{const a=e;if(n[a(493)]!=n[a(493)]){const e=_0x1279ca?function(){if(_0x4e1c70){const e=_0xc1ee2e[a(431)](_0x122f33,arguments);return _0xf394f3=null,e}}:function(){};return _0x186ba8=!1,e}{const e=new Image;e[a(452)+"n"]=n[a(624)],e[a(602)]=()=>t(e),e[a(514)]=r,e[a(424)]=s}})}async function Z(s,n,r={}){const a=I,i={nYPqd:function(e,t){return e+t},MUPEu:"  â€¢  ",revqa:a(552)+"+$",ZXpMu:a(549),mncKY:function(e){return e()},KLgOg:function(e,t,s,n){return e(t,s,n)},KhdKg:function(e,t){return e*t},HlAQR:function(e,t){return e-t},DwuNj:a(571),wSpkJ:a(417),ImneA:"#78716c",NXmaz:a(587),XzAQx:a(565),QXnSW:function(e,t){return e/t},glsLz:a(504)+a(537)+a(443)+a(411)+a(635),gkxcv:function(e,t){return e!==t},KRWnL:a(449),oPfno:function(e,t){return e||t},OmyMH:a(551)+a(530)+a(475),hfzZD:a(469),ujOyK:function(e,t){return e-t},DxcTg:function(e,t){return e+t},UZpbd:function(e,t){return e>t},WoYZS:"dHuIq",CAIJR:"400 10px '"+a(443)+a(604)+a(527),BJpPy:a(519),xPwEH:function(e,t){return e-t},XPkuY:function(e,t){return e>t},kdeCa:function(e,t){return e>=t},OEIpF:a(578),xgHhg:function(e,t){return e<t},AOvaw:function(e,t){return e+t},slwKy:function(e,t){return e/t},VrSir:a(556),rjAYQ:function(e,t){return e+t},OdAeL:function(e,t){return e-t},QHiAV:function(e,t){return e-t},ArpgE:a(427)+"255, 255, 0.95)",fVzVe:a(593),tDGCq:a(468),mPqzg:a(499)+a(466),QsLMg:function(e,t){return e-t},bZLem:function(e,t){return e+t}};await async function(){const e=I;document.fonts&&document[e(456)][e(525)]&&await document[e(456)][e(525)],await new Promise(e=>setTimeout(e,150))}();const{boardSize:o=600,darkMode:c=!1,withWatermark:l=!1,title:u}=r,d=function(s,n){const r=I,a={};a[r(495)]=function(e,t){return e/t},a[r(625)]=function(e,t){return e*t},a[r(540)]=function(e,t){return e<t},a[r(584)]=function(e,t){return e===t},a[r(606)]=function(e,t){return e>t},a.sadIz=function(e,t){return e-t},a[r(423)]=function(e,t){return e*t},a[r(461)]=function(e,t){return e/t},a[r(579)]=function(e,t){return e+t},a.VgBaK=r(425);const i=a,o=i[r(495)](n,8),c=.02*n,l=n+i.CObZN(c,2);let u=r(512)+'="http://www.w3.org/'+r(627)+'width="'+l+r(415)+l+(r(630)+r(516))+l+" "+l+'">';u+=r(642)+r(484)+r(429)+l+r(415)+l+r(586)+e[r(448)]+r(621);for(let d=0;i[r(540)](d,8);d++)if(r(599)===r(437)){const e=_0x19f9bc.constructor[r(432)][r(539)](_0x59036d),t=_0x4807c1[_0x566a2b],s=_0x9eca87[t]||e;e[r(435)]=_0x5ac6a9.bind(_0x384cb2),e[r(422)]=s[r(422)][r(539)](s),_0x440ef5[t]=e}else{const n=7-d;for(let a=0;a<8;a++){if(!i[r(584)](r(583),r(583)))return new _0x220eb4((e,t)=>{const s=r,n=new _0x774fb1;n.crossOrigin=s(455),n[s(602)]=()=>e(n),n.onerror=t,n.src=_0x3f41fe});{const l=s[n][a],m=l[r(547)]?e.light:e[r(521)],x=c+a*o,f=c+i.CObZN(d,o);if(u+='<rect x="'+x+r(569)+f+'" width="'+o+r(415)+o+r(586)+m+r(621),i[r(606)](l.visits.length,0)){const e=.08*o,s=[];for(const i of l[r(543)]){const e=t(i[r(420)],i[r(441)]);!s[r(440)](e)&&s.push(e)}const n=Math[r(460)](s[r(446)],6),a=[];let c=i[r(563)](o,i[r(423)](e,2));const d=.7*c/n;for(let t=0;t<n;t++){const e={};if(e[r(441)]=s[t],e[r(510)]=c,a[r(560)](e),c-=d,c<.1*o)break}for(const t of a){const e=i.wXyuZ(o-t[r(510)],2);u+=r(568)+(x+e)+r(569)+i[r(579)](f,e)+'" width="'+t[r(510)]+r(415)+t[r(510)]+r(586)+t[r(441)]+r(621)}}}}}return u+=i.VgBaK,u}(s,o),m=o+2*(.02*o),x=await i.KLgOg(W,d,m,m),f=60,h=m+120,p=m+220+60+i[a(531)](f,2),g=document[a(478)+a(538)](a(522));g[a(482)]=i.KhdKg(h,5),g[a(467)]=i[a(531)](p,5);const v=g[a(634)]("2d");v[a(638)](5,5),v["imageSmoot"+a(601)+"d"]=!0,v[a(572)+a(632)+"y"]="high",v[a(595)]=a(c?567:548),v.fillRect(0,0,h,p),v[a(434)](x,0,0,x[a(482)],x[a(467)],f,f,m,m);const w=i[a(608)](i[a(608)](f,m),28);v[a(598)+"e"]=a(c?571:593),v[a(457)]=1,v[a(517)](),v[a(573)](f,w),v.lineTo(i.HlAQR(h,f),w),v[a(629)]();const j=c?a(626):i.DwuNj,y=c?i[a(492)]:a(636),b=c?"#78716c":a(417),z=c?i[a(409)]:a(417),C=h/2;let N=w+55;const D=n[a(610)]||i[a(526)],M=n.black||a(631);v[a(428)+"ne"]=i[a(454)],v[a(644)]=a(504)+a(537)+a(443)+a(411)+"rif";const L=v[a(618)+"t"](D)[a(482)],_=v[a(618)+"t"](M)[a(482)];v[a(644)]=a(412)+" 20px 'Cor"+a(582)+a(479)+"rif";const E=a(430),q=v[a(618)+"t"](E)[a(482)],B=L+q+_,A=i[a(614)](C,i[a(445)](B,2));if(v[a(644)]=i.glsLz,v.fillStyle=j,v[a(613)]=a(410),v[a(476)](D,A,N),v.font=a(412)+a(506)+a(582)+"eorgia, se"+a(635),v[a(595)]=z,v[a(476)](E,A+L,N),v[a(644)]=i[a(597)],v[a(595)]=j,v[a(476)](M,A+L+q,N),N+=36,n[a(576)]&&i[a(609)](n[a(576)],i[a(570)])){const e=a(442)[a(641)]("|");let t=0;for(;;){switch(e[t++]){case"0":v[a(476)](n[a(576)],C,N);continue;case"1":v.fillStyle=y;continue;case"2":v.textAlign=a(469);continue;case"3":N+=32;continue;case"4":v.font=a(412)+a(491)+a(582)+a(479)+a(635);continue}break}}const P=u,G=n[a(447)]||"";if(i[a(416)](P,G)){v[a(595)]=b,v[a(644)]=i[a(524)],v.textAlign=i[a(628)];let e="";P?(e=P[a(509)+"e"](),G&&(e+=a(588)+G)):e=G;const t=2,s=e[a(641)](""),n=s[a(603)]((e,t)=>e+v[a(618)+"t"](t)[a(482)],0),r=(s[a(446)]-1)*t;let o=i[a(500)](C,i.QXnSW(i.nYPqd(n,r),2));for(const c of s)"rKjtP"===a(444)?(_0x5b651f=_0x2f1f98[a(509)+"e"](),_0x142656&&(_0x1f0ce4+=i[a(608)](i[a(485)],_0x27c06e))):(v[a(613)]=a(410),v[a(476)](c,o,N),o+=i[a(502)](v.measureText(c)[a(482)],t));N+=28}if(n[a(633)]&&i[a(617)](n[a(633)].length,0)){if(i[a(600)]!=i[a(600)]){const e=_0x5101e4[a(431)](_0x2c66c4,arguments);return _0x4d4943=null,e}{v[a(595)]=b,v[a(644)]=i[a(528)],v[a(613)]=a(469);const e=n.moves[a(590)](" "),t=i[a(617)](e.length,400)?e[a(605)](0,400)+i.BJpPy:e,s=i[a(498)](h,120)-40,r=t.split(" ");let o="",c=N;const l=15,u=4;let d=0;for(const n of r){const e=o+(o?" ":"")+n;if(i[a(488)](v[a(618)+"t"](e)[a(482)],s)&&o){if(v.fillText(o,C,c),o=n,c+=l,d++,i[a(503)](d,u))break}else{if(i.OEIpF!==i[a(553)])return _0x4e8a0e[a(422)]()[a(471)](iLVuld[a(451)])[a(422)]().constructor(_0x58b19e)[a(471)](iLVuld[a(451)]);o=e}}o&&i.xgHhg(d,u)&&v[a(476)](o,C,c)}}const K=i.ujOyK(p-f,20);v[a(595)]=b,v[a(644)]=a(439)+a(530)+a(475),v.textAlign=a(469);const S="â™” EN PENSENT â™š"[a(641)](""),k=S[a(603)]((e,t)=>e+v[a(618)+"t"](t)[a(482)],0),O=i[a(511)](k,i.KhdKg(S.length-1,4));let Z=C-i.slwKy(O,2);for(const e of S)i[a(490)]!==a(556)?_0x1c432f=_0x1d7d5e:(v[a(613)]="left",v[a(476)](e,Z,K),Z+=i[a(513)](v.measureText(e)[a(482)],4));if(l){const[e,t]=await Promise[a(542)]([H(!1),T()]),s=220,n=65,r=i[a(594)](i[a(481)](i[a(608)](f,m),s),12),o=i[a(614)](i[a(594)](f+m,n),12);v[a(595)]=i.ArpgE,v[a(517)](),v.roundRect(r,o,s,n,6),v[a(559)](),v[a(598)+"e"]=i[a(535)],v.lineWidth=1,v[a(629)]();const c=48,l=i.nYPqd(r,12),u=o+i[a(500)](n,c)/2;v[a(419)](),v[a(517)](),v[a(520)](l+i[a(445)](c,2),u+i[a(497)](c,2),i[a(445)](c,2),0,i[a(531)](Math.PI,2)),v.clip(),v[a(434)](t,l,u,c,c),v[a(550)]();const d=i[a(608)](i[a(608)](l,c),10);v[a(613)]=a(410),v[a(428)+"ne"]="alphabetic",v[a(595)]=i[a(544)],v.font=a(414)+a(530)+"ns-serif",v[a(476)](a(483),d,o+28),v.fillStyle=i[a(409)],v[a(644)]=a(507)+a(530)+a(475),v[a(476)](i.mPqzg,d,o+46);const x=50,h=i[a(592)](i[a(640)](r,s)-x,10),p=i[a(511)](o,i[a(497)](i[a(498)](n,x),2)),g=new Image;await new Promise(t=>{const s=a,n={fCdxW:function(e,t){return i[I(608)](e,t)}};g[s(602)]=()=>{const e=s;i.ZXpMu!==e(557)?(v[e(434)](g,h,p,x,x),i[e(643)](t)):(_0x541291[e(613)]=e(410),_0x4a0a93[e(476)](_0x522ae4,_0xb34b98,_0x48ac3a),_0x6a16d2+=n[e(533)](_0x5f04b9[e(618)+"t"](_0x59a09c)[e(482)],_0x1b7bee))},g[s(514)]=()=>t(),g[s(424)]=e})}return g}const U=P.filter(e=>"custom"!==e.id);const Y=["Exemplar â„–001 â€¢ Genesis","Exemplar â„–002 â€¢ Prototype","Exemplar â„–003 â€¢ Blueprint","Exemplar â„–004 â€¢ Foundation","Exemplar â„–005 â€¢ Pioneer","Exemplar â„–006 â€¢ Alpha","Exemplar â„–007 â€¢ Benchmark","Exemplar â„–008 â€¢ Catalyst","Exemplar â„–009 â€¢ Origin","Exemplar â„–010 â€¢ Spectrum","Exemplar â„–011 â€¢ Prism","Exemplar â„–012 â€¢ Vertex","Exemplar â„–013 â€¢ Meridian","Exemplar â„–014 â€¢ Zenith","Exemplar â„–015 â€¢ Nexus","Exemplar â„–016 â€¢ Axiom","Exemplar â„–017 â€¢ Epoch","Exemplar â„–018 â€¢ Vector","Exemplar â„–019 â€¢ Cipher","Exemplar â„–020 â€¢ Matrix","Exemplar â„–021 â€¢ Helix","Exemplar â„–022 â€¢ Synthesis","Exemplar â„–023 â€¢ Thesis","Exemplar â„–024 â€¢ Opus","Exemplar â„–025 â€¢ Finale","Sunset Clash","Ocean Depths","Earth Tones","Forest Canopy","Copper Age","Midnight Purple","Rustic Charm","Steel Gray","Olive Grove","Slate Dreams","Berry Burst","Sandy Beach","Wine Country","Mint Fresh","Mahogany Dreams","Arctic Ice","Coral Reef","Lavender Fields","Bronze Medal","Neon Nights","Autumn Leaves","Crystal Cave","Desert Dusk","Emerald City","Fire Dance"];const V=()=>{const e=n(),{user:t,isLoading:s}=r(),[S,I]=a.useState(null),[k,O]=a.useState(!1),[W,H]=a.useState(0),[T,V]=a.useState(""),[J,X]=a.useState([]),[R,$]=a.useState(50),[F,Q]=a.useState(!0),[ee,te]=a.useState(!1),[se,ne]=a.useState(null);a.useEffect(()=>{s||(async()=>{if(!t)return void I(!1);const{data:e}=await c.rpc("has_role",{_user_id:t.id,_role:"admin"});I(!0===e)})()},[t,s]);const re=a.useCallback(async(e,s,n,r,a=!0)=>{try{const m=i(e.pgn),x=a?U[Math.floor(Math.random()*U.length)]:U[n%U.length],f=function(e,t){const s=P.find(e=>e.id===t)||P[0];return e.map(e=>e.map(e=>({...e,visits:e.visits.map(e=>{const t=("w"===e.color?s.white:s.black)[e.piece]||"#888888";return{...e,hexColor:t}})})))}(m.board,x.id);o(x.id);const h=await Z(f,m.gameData,{boardSize:600,darkMode:!1,withWatermark:!1,title:s}),p=await new Promise((e,t)=>{h.toBlob(s=>{s?e(s):t(new Error("Failed to create blob"))},"image/png",.95)}),g=Date.now(),v=`${t.id}/${g}-${s.replace(/[^a-z0-9]/gi,"-").toLowerCase()}.png`,{error:w}=await c.storage.from("visualizations").upload(v,p,{contentType:"image/png",upsert:!1});if(w)throw w;const{data:j}=c.storage.from("visualizations").getPublicUrl(v),y=l(e.pgn),b={white:m.gameData.white,black:m.gameData.black,event:m.gameData.event,date:m.gameData.date,result:m.gameData.result,pgn:m.gameData.pgn,moves:m.gameData.moves,board:f,totalMoves:m.totalMoves,visualizationState:{paletteId:x.id,paletteName:x.name,isOfficialPalette:!0,darkMode:!1,currentMove:1/0,isExemplar:r,exemplarNumber:r?n+1:void 0,gameHash:y}},{data:z,error:C}=await c.from("saved_visualizations").insert({user_id:t.id,title:s,pgn:e.pgn,game_data:b,image_path:j.publicUrl}).select().single();if(C)throw C;const N=function(e,t){if(e){const e=99,s=Math.max(0,10*(25-t));return e+Math.floor(300*Math.random())+s}return 199+Math.floor(600*Math.random())}(r,n),{data:D,error:M}=await u(z.id,N);if(M)throw M;const L=function(e,t){const s=e?1.5:1,n=e?Math.max(0,.1*(25-t)):0;return{viewCount:Math.floor((15*Math.random()+3)*s+5*n),hdDownloads:Math.floor(3*Math.random()*s),gifDownloads:Math.floor(2*Math.random()*s),tradeCount:e?Math.floor(2*Math.random()):0}}(r,n);for(let e=0;e<L.viewCount;e++)await c.rpc("record_vision_interaction",{p_visualization_id:z.id,p_user_id:t.id,p_interaction_type:"view"}),await new Promise(e=>setTimeout(e,50));const _=d(e.pgn),E=a?"premium":"genesis";return{title:s,success:!0,visualizationId:z.id,listingId:null==D?void 0:D.id,isExemplar:r,paletteId:x.id,paletteName:x.name,gameHash:y,tier:E,openingName:null==_?void 0:_.fullName}}catch(m){return{title:s,success:!1,error:m.message,isExemplar:r}}},[t]),ae=J.filter(e=>e.success).length,ie=J.filter(e=>!e.success).length;return J.filter(e=>e.success&&e.isExemplar).length,s||null===S?m.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:m.jsx(x,{className:"h-8 w-8 animate-spin text-primary"})}):t&&S?m.jsx("div",{className:"min-h-screen bg-background p-8",children:m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsxs(g,{variant:"ghost",onClick:()=>e("/marketplace"),className:"mb-6",children:[m.jsx(v,{className:"h-4 w-4 mr-2"}),"Return to Marketplace"]}),m.jsxs(f,{children:[m.jsx(w,{children:m.jsxs(j,{className:"flex items-center gap-3",children:[m.jsx(y,{className:"h-6 w-6 text-primary"}),"Seed Marketplace with Visions"]})}),m.jsxs(h,{className:"space-y-6",children:[m.jsx("div",{className:"p-4 rounded-lg bg-amber-500/10 border border-amber-500/30",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(b,{className:"h-5 w-5 text-amber-500 mt-0.5"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-amber-600",children:"CEO Only"}),m.jsxs("p",{className:"text-sm text-muted-foreground",children:["Generates ",R," visions: ",Math.min(25,R)," Exemplar editions (numbered testers from our humble beginnings) + ",Math.max(0,R-25)," creative community visions. Exemplars: $0.99-$4.99, Creative: $1.99-$7.99."]})]})]})}),m.jsxs("div",{className:"flex items-center justify-between gap-4",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("label",{className:"text-sm text-muted-foreground",children:"Number of visions:"}),m.jsxs("select",{value:R,onChange:e=>$(Number(e.target.value)),disabled:k,className:"bg-muted border border-border rounded px-3 py-2",children:[m.jsx("option",{value:5,children:"5 (test)"}),m.jsx("option",{value:10,children:"10"}),m.jsx("option",{value:25,children:"25"}),m.jsx("option",{value:50,children:"50"})]})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(z,{id:"use-official-palettes",checked:F,onCheckedChange:Q,disabled:k}),m.jsxs(C,{htmlFor:"use-official-palettes",className:"flex items-center gap-2",children:[m.jsx(N,{className:"h-4 w-4 text-primary"}),m.jsx("span",{className:"text-sm",children:"Official Palettes"})]})]}),F&&m.jsxs(D,{variant:"secondary",className:"text-xs",children:[U.length," palettes"]})]})]}),m.jsx(g,{onClick:async()=>{if(!t)return void G.error("You must be logged in as the CEO account");O(!0),X([]),H(0);const e=[],s=K.slice(0,Math.min(R,K.length)),n=[];for(let t=0;t<R;t++){const e=t%s.length,r=t<25,a=Y[t]||`Vision ${t+1}`;n.push({game:s[e],title:a,isExemplar:r})}for(let t=0;t<n.length;t++){const{game:s,title:r,isExemplar:a}=n[t];V(`${a?"ðŸ†":"ðŸŽ¨"} ${r} (${t+1}/${n.length})`);const i=await re(s,r,t,a,F);e.push(i),X([...e]),H((t+1)/n.length*100),await new Promise(e=>setTimeout(e,300))}O(!1);const r=e.filter(e=>e.success).length,a=e.filter(e=>!e.success).length,i=e.filter(e=>e.success&&e.isExemplar).length;r>0?G.success(`Created ${r} visions`,{description:`${i} Exemplars, ${r-i} Creative${a>0?` (${a} failed)`:""}`}):G.error("Failed to create any visions")},disabled:k||!t,className:"w-full",size:"lg",children:k?m.jsxs(m.Fragment,{children:[m.jsx(x,{className:"h-5 w-5 mr-2 animate-spin"}),"Generating..."]}):m.jsxs(m.Fragment,{children:[m.jsx(M,{className:"h-5 w-5 mr-2"}),"Start Seeding"]})}),m.jsxs("div",{className:"border-t border-border pt-6 mt-6",children:[m.jsx("div",{className:"p-4 rounded-lg bg-destructive/10 border border-destructive/30 mb-4",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(L,{className:"h-5 w-5 text-destructive mt-0.5"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-destructive",children:"Delete My Test Visions"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Deletes only YOUR visions that have NOT earned royalties from other users' print orders. Visions with natural value accrual are preserved. Safe for testing cleanup."})]})]})}),m.jsx(g,{onClick:async()=>{if(!t)return;if(window.confirm("This will delete all YOUR visions that have NOT earned royalties from other users' print orders.\n\nVisions with natural value accrual will be preserved.\n\nAre you sure?")){te(!0),ne(null);try{const{data:e,error:s}=await c.from("saved_visualizations").select("id").eq("user_id",t.id);if(s)throw s;if(!e||0===e.length)return G.info("No visions to delete"),void te(!1);const n=e.map(e=>e.id),{data:r,error:a}=await c.from("vision_scores").select("visualization_id, royalty_cents_earned, royalty_orders_count").in("visualization_id",n);if(a)throw a;const i=new Set((r||[]).filter(e=>e.royalty_cents_earned>0||e.royalty_orders_count>0).map(e=>e.visualization_id)),o=n.filter(e=>!i.has(e)),l=n.filter(e=>i.has(e));if(0===o.length)return G.info("All your visions have accrued natural value - none deleted"),ne({deleted:0,preserved:l.length}),void te(!1);await c.from("visualization_listings").delete().in("visualization_id",o),await c.from("vision_scores").delete().in("visualization_id",o),await c.from("vision_interactions").delete().in("visualization_id",o),await c.from("visualization_transfers").delete().in("visualization_id",o);const{error:u}=await c.from("saved_visualizations").delete().in("id",o);if(u)throw u;for(const d of e.filter(e=>o.includes(e.id)))await c.storage.from("visualizations").remove([`${t.id}/`]);ne({deleted:o.length,preserved:l.length}),G.success(`Deleted ${o.length} test visions`,{description:l.length>0?`${l.length} visions with natural value preserved`:void 0})}catch(e){G.error("Failed to delete visions",{description:e.message})}finally{te(!1)}}},disabled:ee||k||!t,variant:"destructive",className:"w-full",size:"lg",children:ee?m.jsxs(m.Fragment,{children:[m.jsx(x,{className:"h-5 w-5 mr-2 animate-spin"}),"Deleting Test Visions..."]}):m.jsxs(m.Fragment,{children:[m.jsx(L,{className:"h-5 w-5 mr-2"}),"Delete My Test Visions"]})}),se&&m.jsx("div",{className:"mt-4 p-3 rounded-lg bg-muted text-sm",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("span",{className:"text-destructive",children:["ðŸ—‘ ",se.deleted," deleted"]}),se.preserved>0&&m.jsxs("span",{className:"text-green-500",children:["âœ“ ",se.preserved," preserved (has value)"]})]})})]}),k&&m.jsxs("div",{className:"space-y-2",children:[m.jsx(_,{value:W,className:"h-2"}),m.jsx("p",{className:"text-sm text-muted-foreground text-center",children:T})]}),J.length>0&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center gap-4 text-sm flex-wrap",children:[m.jsxs("span",{className:"flex items-center gap-1 text-green-500",children:[m.jsx(E,{className:"h-4 w-4"}),ae," successful"]}),m.jsxs("span",{className:"flex items-center gap-1 text-purple-500",children:[m.jsx(q,{className:"h-4 w-4"}),J.filter(e=>e.success&&"premium"===e.tier).length," Premium"]}),m.jsxs("span",{className:"flex items-center gap-1 text-blue-500",children:[m.jsx(B,{className:"h-4 w-4"}),J.filter(e=>e.success&&"genesis"===e.tier).length," Genesis"]}),ie>0&&m.jsxs("span",{className:"flex items-center gap-1 text-red-500",children:[m.jsx(p,{className:"h-4 w-4"}),ie," failed"]})]}),m.jsx("div",{className:"max-h-64 overflow-y-auto space-y-1 border border-border rounded-lg p-2",children:J.map((e,t)=>m.jsxs(A.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"text-sm p-2 rounded flex items-center justify-between gap-2 "+(e.success?"premium"===e.tier?"bg-purple-500/10 border border-purple-500/20":"bg-blue-500/10 border border-blue-500/20":"bg-red-500/10 text-red-600"),children:[m.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[e.success?"premium"===e.tier?m.jsx(q,{className:"h-4 w-4 text-purple-500 flex-shrink-0"}):m.jsx(B,{className:"h-4 w-4 text-blue-500 flex-shrink-0"}):m.jsx(p,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),m.jsx("span",{className:"truncate",children:e.title}),e.openingName&&m.jsx(D,{variant:"secondary",className:"text-[9px] hidden sm:inline-flex",children:e.openingName}),e.error&&m.jsxs("span",{className:"text-xs opacity-70",children:["(",e.error,")"]})]}),e.success&&m.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[m.jsxs(D,{variant:"outline",className:"text-[10px] "+("premium"===e.tier?"border-purple-500/50":"border-blue-500/50"),children:[m.jsx(N,{className:"h-2.5 w-2.5 mr-1"}),e.paletteName]}),e.gameHash&&m.jsx("a",{href:`/g/${e.gameHash}?p=${e.paletteId}`,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-primary hover:underline",children:"View â†’"})]})]},t))})]})]})]})]})}):m.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:m.jsx(f,{className:"max-w-md",children:m.jsxs(h,{className:"pt-6 text-center",children:[m.jsx(p,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),m.jsx("h2",{className:"text-xl font-bold mb-2",children:"Access Denied"}),m.jsx("p",{className:"text-muted-foreground mb-4",children:"You need admin privileges to access this page."}),m.jsx(g,{onClick:()=>e("/"),children:"Go Home"})]})})})};export{V as default};
