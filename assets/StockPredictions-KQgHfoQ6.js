var e,t=Object.defineProperty,n=(e,n,s)=>((e,n,s)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s)(e,"symbol"!=typeof n?n+"":n,s);import{aJ as s,r,ew as a,s as c,j as i,C as o,p as l,t as d,L as u,w as x,x as h,aq as f,B as m,aF as g,v,cR as j,y,b8 as p,b9 as w,ba as N,bb as b,bc as C,a8 as D,aB as B,aC as z,aD as q,b4 as M,aE as A,aY as L,bh as P,cb as k,ad as G,eD as U}from"./index-C3fhkH_G.js";import{A as I,a as K,b as S}from"./alert-BHEOajlb.js";import{T as _,a as W,b as E,c as O,d as R,e as J}from"./table-DG-uPZdw.js";import{C as Y}from"./circle-alert-DgkMn7bC.js";import{W as T}from"./wifi-off-D4BgY3Sd.js";import{W as H}from"./wifi-D1uSxzok.js";import{B as Z}from"./briefcase-RdgnroQC.js";import{T as V}from"./trending-down-lbG30IP0.js";const F=s("Bolt",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]),Q=s("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),X=te;!function(){const e=te,t=ne();for(;;)try{if(188783===parseInt(e(393))/1+-parseInt(e(372))/2*(-parseInt(e(359))/3)+parseInt(e(394))/4+parseInt(e(374))/5+-parseInt(e(355))/6+-parseInt(e(354))/7+parseInt(e(400))/8*(parseInt(e(353))/9))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const $=function(){const e=te,t={};t[e(381)]="kVsKV",t[e(385)]="tTkpq";const n=t;let s=!0;return function(t,r){const a=e;if(n[a(381)]!==n.NEIkU){const e=s?function(){if(r){const e=r[a(389)](t,arguments);return r=null,e}}:function(){};return s=!1,e}if(_0x42b93d){const e=_0x5e8e8e[a(389)](_0x122415,arguments);return _0x13e952=null,e}}}()(void 0,function(){const e=te,t={};t[e(362)]=e(352)+"+$";const n=t;return $.toString()[e(404)](e(352)+"+$").toString()[e(358)+"r"]($)[e(404)](n[e(362)])});$();const ee=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[te(389)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}();function te(e,t){e-=349;const n=ne();let s=n[e];if(void 0===te.LbAVQA){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};te.mTdiCt=r,te.KOclez={},te.LbAVQA=!0}const a=e+n[0],c=te.KOclez[a];if(c)s=c;else{const e=function(e){this.yNiFcN=e,this.yQVRRO=[1,0,0],this.BhniLM=function(){return"newState"},this.wRHiMf="\\w+ *\\(\\) *{\\w+ *",this.lEjgBg="['|\"].+['|\"];? *}"};e.prototype.mzOmRq=function(){const e=new RegExp(this.wRHiMf+this.lEjgBg).test(this.BhniLM.toString())?--this.yQVRRO[1]:--this.yQVRRO[0];return this.ZiikJG(e)},e.prototype.ZiikJG=function(e){return Boolean(~e)?this.ocSWQK(this.yNiFcN):e},e.prototype.ocSWQK=function(e){for(let t=0,n=this.yQVRRO.length;t<n;t++)this.yQVRRO.push(Math.round(Math.random())),n=this.yQVRRO.length;return e(this.yQVRRO[0])},new e(te).mzOmRq(),s=te.mTdiCt(s),te.KOclez[a]=s}return s}function ne(){const e=["CKT3Ehm","EuTZzNC","C2vHCMnO","AvDNvfq","y2XPzw50swq","z2v0sxrLBq","y29UC29Szq","kcGOlISPkYKRkq","mJDyuMn1tfi","mJeXmJKWmw9nDvrOvW","mtqYnZCZnNz3Eerluq","CMv0DxjUicHMDq","ChjVDg90ExbL","y29UC3rYDwn0BW","m1j6wfPAsG","Dfb6CMu","CMvTB3zLsxrLBq","wvPxueu","uvPkEve","CgfYC2u","B3joD0W","Aw5MBW","E30Uy29UC3rYDq","DhjHy2u","rwjRC1u","Cxjfu24","wxHzAKC","nZuZmdm2s29Rt3Dk","whv4yMq","mta2ndbxqwPgt20","zxHJzxb0Aw9U","CgDQs2u","yMLUza","C2v0sxrLBq","z1vUre0","Dw5KzwzPBMvK","suzwufG","DgfIBgu","yNjPzgDLvxjS","x2jYAwrNzv91CG","tKvjA1u","Dg9tDhjPBMC","ywXOB3n0oJqWma","Ahr0CdOVl2XVyW","yxbWBhK","C3rYAw5NAwz5","tez6D1G","mti3lJaUmc4X","ntq1nJHfEwPrAg0","mZq0ntjxDfrfyMK","yuvPwLy","CM4GDgHPCYiPka","uMDJwvC","Bg9N","twvksMS","nZy0nJGWC1njq3z0","DMrvELa"];return(ne=function(){return e})()}ee(void 0,function(){const e=te,t={iWgTT:function(e,t){return e+t},pgjKe:function(e){return e()},LFzwX:e(398),RgcYW:"error",rKwxs:e(375),QZJyQ:function(e,t){return e<t}};let n;try{const s=Function(t[e(405)](e(356)+"nction() ",e(367)+'ctor("retu'+e(396)+" )")+");");n=t[e(376)](s)}catch(a){n=window}const s=n[e(351)]=n[e(351)]||{},r=[t[e(391)],"warn",e(366),t[e(397)],t[e(402)],e(382),e(368)];for(let c=0;t[e(363)](c,r.length);c++){const t=ee.constructor[e(357)][e(377)](ee),n=r[c],a=s[n]||t;t.__proto__=ee[e(377)](ee),t.toString=a[e(386)].bind(a),s[n]=t}})();const se="ib_gateway"+X(384)+"l",re=X(388)+X(387)+"0",ae={};ae[X(383)]=re,ae.gatewayHost=X(392),ae.gatewayPort=4002,ae[X(349)]=1;const ce=ae;function ie(){const e=X,t={};t[e(370)]=function(e,t){return e===t},t[e(399)]=e(380),t[e(395)]=function(e,t){return e===t},t[e(401)]=e(379),t[e(360)]=function(e,t){return e!==t},t[e(365)]=e(403),t[e(371)]=e(373);const n=t;if(typeof window===n[e(399)])return ce;const s=localStorage[e(350)](se);if(s){if(n.aEiZV(n.vdUzP,e(369))){if(n[e(370)](typeof _0x4cc362,n[e(399)]))return _0x56c4f7;const t=_0x36a92c[e(350)](_0x575475);if(t)try{return{..._0x186346,..._0x476cad[e(364)](t)}}catch{return _0x533db9}return _0x299fbf}try{if(n.tPzre(n.orNwL,n[e(371)]))return{...ce,...JSON[e(364)](s)};{const e=_0x545359?function(){if(_0x9721ec){const e=_0x5d4b41.apply(_0x209195,arguments);return _0x47b422=null,e}}:function(){};return _0x19fef5=!1,e}}catch{return ce}}return ce}function oe(){return ie().bridgeUrl}const le=xe;!function(){const e=xe,t=me();for(;;)try{if(595108===-parseInt(e(437))/1*(parseInt(e(421))/2)+-parseInt(e(404))/3*(-parseInt(e(423))/4)+-parseInt(e(473))/5*(-parseInt(e(432))/6)+parseInt(e(445))/7*(parseInt(e(348))/8)+parseInt(e(471))/9+parseInt(e(448))/10+parseInt(e(397))/11)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const de=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[xe(455)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=xe,t={};t[e(367)]=e(364)+"+$";const n=t;return de[e(415)]()[e(441)](n[e(367)])[e(415)]().constructor(de).search(e(364)+"+$")});de();const ue=function(){let e=!0;return function(t,n){const s=e?function(){const e=xe;if(n){if(e(438)==e(438)){const s=n[e(455)](t,arguments);return n=null,s}{const e=_0x1684d0?function(){if(_0x5b359c){const e=_0xb44a51.apply(_0x10cae2,arguments);return _0x3330b4=null,e}}:function(){};return _0x54b672=!1,e}}}:function(){};return e=!1,s}}();function xe(e,t){e-=334;const n=me();let s=n[e];if(void 0===xe.cJPtcC){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};xe.XdHmuo=r,xe.KOtcPw={},xe.cJPtcC=!0}const a=e+n[0],c=xe.KOtcPw[a];if(c)s=c;else{const e=function(e){this.QzVxtO=e,this.GkeAAq=[1,0,0],this.alhavx=function(){return"newState"},this.PwDuQp="\\w+ *\\(\\) *{\\w+ *",this.SPNMqM="['|\"].+['|\"];? *}"};e.prototype.FephYM=function(){const e=new RegExp(this.PwDuQp+this.SPNMqM).test(this.alhavx.toString())?--this.GkeAAq[1]:--this.GkeAAq[0];return this.JrxajH(e)},e.prototype.JrxajH=function(e){return Boolean(~e)?this.pEFMLt(this.QzVxtO):e},e.prototype.pEFMLt=function(e){for(let t=0,n=this.GkeAAq.length;t<n;t++)this.GkeAAq.push(Math.round(Math.random())),n=this.GkeAAq.length;return e(this.GkeAAq[0])},new e(xe).FephYM(),s=xe.XdHmuo(s),xe.KOtcPw[a]=s}return s}ue(void 0,function(){const e=xe,t={};t[e(463)]=function(e,t){return e+t},t[e(373)]=e(352)+e(381),t[e(414)]=e(468)+'ctor("return this")( )',t[e(413)]=e(369),t.JbHjd="error",t[e(422)]=e(403);const n=t,s=function(){const t=e;let s;try{s=Function(n[t(463)](n.zZJNL+n[t(414)],");"))()}catch(r){s=window}return s}(),r=s[e(465)]=s.console||{},a=["log",e(375),n[e(413)],n[e(345)],n[e(422)],e(402),e(343)];for(let c=0;c<a[e(407)];c++){const t=ue[e(384)+"r"].prototype[e(334)](ue),n=a[c],s=r[n]||t;t[e(359)]=ue.bind(ue),t[e(415)]=s[e(415)][e(334)](s),r[n]=t}})();class he{constructor(){n(this,e,!1)}async[(e=le(338),"checkConne"+le(335))](){const e=le,t={};t[e(378)]=e(439)+e(355)+e(470)+e(420),t[e(374)]=e(372),t[e(371)]=e(362),t[e(411)]=e(466),t[e(427)]=e(431),t.OPYMj=function(e,t){return e===t},t[e(356)]=function(e,t){return e!==t};const n=t;try{if(n.ScuAc!==n[e(371)]){const t=ie(),s={};s[e(394)+"pe"]=e(457)+e(467);const r={};r[e(450)]=n[e(411)],r[e(387)]=s;const a=await fetch(oe()+(e(376)+"s"),r);if(!a.ok){if(n.anKKj===e(431)){const t={};return t[e(338)]=!1,t[e(336)+e(357)]=!1,t[e(456)+"ng"]=!1,t}{const t={};return t[e(338)]=!1,t[e(336)+e(357)]=!1,t[e(456)+"ng"]=!1,t}}const c=await a[e(433)]();return this[e(338)]=!0===c[e(338)],{connected:!0===c[e(464)+"ing"],authenticated:n[e(341)](c[e(338)],!0),paperTrading:n[e(341)](t[e(408)+"t"],4002)}}{_0x2d282d[e(426)](n[e(378)],_0x3de03b[e(388)]);const t={};return t[e(338)]=!1,t[e(336)+e(357)]=!1,t[e(456)+"ng"]=!1,t}}catch(s){if(n[e(356)]("zYril",e(417)))return _0x3d7bf7.error(e(439)+e(393)+e(365),_0x4d9ee9),[];{const t={};return t[e(338)]=!1,t["authentica"+e(357)]=!1,t[e(456)+"ng"]=!1,t}}}async[le(442)](){const e=le,t={OOvyE:e(439)+e(440)+e(337)+"r:",grsUF:function(e,t){return e!==t},RcIEb:e(412),EmtZh:function(e,t,n){return e(t,n)},ZdIUP:e(436),bfOyq:e(457)+e(467),yWdiA:function(e,t){return e===t}};try{if(t[e(462)](t[e(401)],t[e(401)]))return _0x4fe7c9.error(t[e(476)],_0xebdf16),[];{const n=ie(),s={};s[e(361)]=n[e(350)+"t"],s[e(428)]=n[e(408)+"t"],s[e(446)]=n[e(446)];const r=await t.EmtZh(fetch,oe()+(e(368)+"ct"),{method:t[e(390)],headers:{"Content-Type":t.bfOyq},body:JSON.stringify(s)});if(!r.ok)return!1;const a=await r.json();return this.connected=t[e(358)](a[e(338)],!0),this[e(338)]}}catch(n){return!1}}async[le(360)](){const e=le,t={nRkdV:function(e,t,n){return e(t,n)},UVkzv:function(e){return e()},csBuP:e(436)};try{await t[e(453)](fetch,t[e(472)](oe)+(e(380)+e(363)),{method:t.csBuP}),this[e(338)]=!1}catch{}}async[le(389)+"s"](){const e=le,t={ngbst:function(e){return e()},JKHOl:function(e,t){return e===t},agTeD:e(385),gHYou:e(439)+e(440)+"ounts error:"};try{const n=await fetch(t[e(419)](oe)+"/api/accou"+e(406));if(!n.ok)return[];return(await n[e(433)]())[e(454)]||[]}catch(n){return t[e(395)](e(385),t[e(458)])?[]:null}}async getPositions(e){const t=le,n={CqhnE:function(e){return e()},twbAY:function(e,t){return e!==t},eFAAX:t(439)+t(447)+"itions err"+t(461)};try{const s=await fetch(n[t(429)](oe)+"/api/posit"+t(469)+t(377)+e);if(!s.ok)return[];return(await s[t(433)]())[t(349)]||[]}catch(s){if(n[t(475)](t(474),t(474))){const e=_0xce427b[t(455)](_0x311b41,arguments);return _0x2df62d=null,e}return[]}}async[le(400)](){const e=le,t={xcCqT:function(e,t){return e(t)},FTmTe:e(439)+e(393)+"ers error:"};try{const n=await t[e(444)](fetch,oe()+(e(443)+"s"));if(!n.ok)return[];return(await n[e(433)]()).orders||[]}catch(n){return[]}}async[le(353)+le(460)](e){const t=le,n={zvRAu:t(435),jtKGK:function(e){return e()}};try{if(n[t(340)]!==t(399)){const s=await fetch(n[t(339)](oe)+(t(425)+t(451))+encodeURIComponent(e));if(!s.ok)return[];return(await s[t(433)]()).contracts||[]}{const e=_0x4820d8?function(){if(_0x410afd){const e=_0x388849.apply(_0x138a59,arguments);return _0x4b084=null,e}}:function(){};return _0x4ec8b8=!1,e}}catch(s){return[]}}async[le(424)](e){const t=le,n={};n.DWhdw=t(457)+t(467),n[t(449)]="[IB Gateway] Order f"+t(354),n[t(416)]=t(396);const s=n;try{const n={};n[t(394)+"pe"]=s.DWhdw;const r=await fetch(oe()+"/api/orders",{method:t(436),headers:n,body:JSON[t(347)](e)});if(!r.ok)return null;const a=await r[t(433)]();return{orderId:a.orderId||t(379)+Date.now(),status:a.status||s[t(416)]}}catch(r){return null}}async[le(382)+"r"](e){const t=le,n={};n[t(386)]=t(452),n[t(392)]=function(e,t){return e!==t},n[t(370)]=t(430);const s=n;try{const n={};n[t(450)]=s[t(386)];return(await fetch(oe()+(t(443)+"s/")+e,n)).ok}catch(r){if(!s[t(392)](s[t(370)],t(430)))return!1;if(_0x2ba23c){const e=_0x409bf0[t(455)](_0x4fd6cf,arguments);return _0x3a6c30=null,e}}}async[le(405)](e){const t=le,n={EUSxT:function(e,t){return e(t)},muZoQ:function(e){return e()}};try{const s=await n[t(409)](fetch,n[t(383)](oe)+(t(410)+"?conid=")+e);if(!s.ok)return null;return await s.json()}catch{return null}}}const fe=new he;function me(){const e=["rvvtEfq","l2fWAs9XDw90zq","y2nQCM4","uvnov0y","t3HNCuO","ENPkswC","Dg9tDhjPBMC","tMXewxi","ELLYAwW","zxjYB3i","BMDIC3q","yMXLoG","mtGXmduWtvHlDevg","uKzewNK","mteYDM5sEhvP","CgXHy2vpCMrLCG","l2fWAs9ZzwfYyW","Bg9N","yw5ls2O","Cg9YDa","q3fOBKu","qNDNvhm","BKTMA20","mZm0nZG4uNPnshjd","ANnVBG","zuzbqvG","t3LRzMG","ue9tva","mtnQBLjlzu8","BKfktNe","w0LcieDHDgv3yq","Ev0Gr2v0igfJyW","C2vHCMnO","y29UBMvJDa","l2fWAs9VCMrLCG","EgndCvq","nJe4otrps1P0EgG","y2XPzw50swq","Ev0Gr2v0ihbVCW","ndGWnZqXmfDgC2Lvzq","qMrMrge","Bwv0Ag9K","Ad9ZEw1IB2W9","revmrvrf","BLjRzfy","ywnJB3vUDhm","yxbWBhK","CgfWzxjuCMfKAq","yxbWBgLJyxrPBW","ywDuzuq","CNjVCJO","CMfJDa","B3i6","z3jZvuy","yMP0vLG","yNjPzgDLuNvUBG","y29UC29Szq","r0vu","BI9QC29U","E30Uy29UC3rYDq","Aw9UCZ9Hy2nVDq","BM90igf2ywLSyq","mtCWmta5qwvIy2jd","vvzRENy","nvj0r3fswG","vNPzrgG","DhDIqvK","t092Euu","Ev0Gq29UBMvJDa","yMLUza","y3rPB24","yxv0AgvUDgLJyq","B3vUDhmGzxjYBW","y29UBMvJDgvK","ANrlr0S","ENzsqxu","t1bztwO","Ev0Gu2vHCMnOia","DhjHy2u","y29UDhjHy3qGzq","sMjiAMq","z0HzB3u","C3rYAw5NAwz5","nZj2EeDlEhO","Cg9ZAxrPB25Z","z2f0zxDHEuHVCW","rLrTvgu","CMv0DxjUicHMDq","C2vHCMnOq29UDa","ywLSzwq","Ev0GqNjPzgDLia","EffvrNm","DgvK","EvDKAue","x19WCM90B19F","zgLZy29UBMvJDa","Ag9ZDa","sfzkzK0","BM5Ly3q","kcGOlISPkYKRkq","zxjZigvYCM9YoG","CMrLCIbLCNjVCG","r0zWEge","l2fWAs9JB25Uzq","Aw5MBW","ywjQzwe","D2nmChm","txDZCM0","ELPktKW","u2n1qwm","D2fYBG","l2fWAs9ZDgf0Dq","BNrjzd0","qLj0Cfq","AwiT","l2fWAs9KAxnJBW","BMn0Aw9UkcKG","y2fUy2vSt3jKzq","BxvAB1e","y29UC3rYDwn0BW","wfDsyK0","zunxr3O","AgvHzgvYCW","BwvZC2fNzq","z2v0qwnJB3vUDa","wMrjvva","Ev0Gq2fUy2vSia","z0T1wgG","Ev0Gr2v0ig9Yza","q29UDgvUDc1uEq","sKTit2W","C3vIBwL0DgvK","ntC4ntuWnvD1rLnurW","B3jKzxiGzxjYBW","DfP5s3C","z2v0t3jKzxjZ","uMnjrwi","DgfIBgu","zxHJzxb0Aw9U","nJu0nJbLAKzcqxe","z2v0uxvVDgu","BNrZ","BgvUz3rO","z2f0zxDHEvbVCG"];return(me=function(){return e})()}!function(){const e=je,t=ye();for(;;)try{if(544522===-parseInt(e(532))/1+parseInt(e(501))/2*(-parseInt(e(541))/3)+parseInt(e(611))/4+parseInt(e(567))/5*(-parseInt(e(441))/6)+parseInt(e(559))/7+-parseInt(e(469))/8*(-parseInt(e(440))/9)+parseInt(e(476))/10*(parseInt(e(560))/11))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ge=function(){const e=je,t={};t[e(545)]=function(e,t){return e!==t};const n=t;let s=!0;return function(t,r){const a=e,c={teaSM:function(e,t){return e(t)},hmdWk:function(e,t){return n.aYJke(e,t)},vvRUh:a(522)},i=s?function(){const e=a;if(c[e(475)](c.vvRUh,e(570))){if(r){const n=r[e(542)](t,arguments);return r=null,n}}else _0x930efd[e(521)]&&c[e(588)](_0x3c6a7e,_0x2e06de[e(521)])}:function(){};return s=!1,i}}()(void 0,function(){const e=je;return ge[e(514)]().search(e(580)+"+$")[e(514)]()[e(525)+"r"](ge)[e(444)](e(580)+"+$")});ge();const ve=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[je(542)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}();function je(e,t){e-=439;const n=ye();let s=n[e];if(void 0===je.AyTtay){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};je.sgDRRb=r,je.WgCmeP={},je.AyTtay=!0}const a=e+n[0],c=je.WgCmeP[a];if(c)s=c;else{const e=function(e){this.OLYqWN=e,this.unaDSl=[1,0,0],this.wtRaeG=function(){return"newState"},this.WvvvnQ="\\w+ *\\(\\) *{\\w+ *",this.duxghG="['|\"].+['|\"];? *}"};e.prototype.iNqunD=function(){const e=new RegExp(this.WvvvnQ+this.duxghG).test(this.wtRaeG.toString())?--this.unaDSl[1]:--this.unaDSl[0];return this.MvmZKF(e)},e.prototype.MvmZKF=function(e){return Boolean(~e)?this.CYNfmr(this.OLYqWN):e},e.prototype.CYNfmr=function(e){for(let t=0,n=this.unaDSl.length;t<n;t++)this.unaDSl.push(Math.round(Math.random())),n=this.unaDSl.length;return e(this.unaDSl[0])},new e(je).iNqunD(),s=je.sgDRRb(s),je.WgCmeP[a]=s}return s}function ye(){const e=["t0nkyLK","ywnJB3vUDfr5Ca","CNvUBMLUzY4","mZa1nde2tvLsweTo","v1nVy2K","zMLUzcbJB250CG","y291BNq","y29UBMvJDgvK","q29UBMvJDgLVBG","Ag1Kv2S","mtb0B3LsEfq","BhKGy29UBMvJDa","ENHWuhm","sLnxBLi","BgvUz3rO","y2fUy2vSt3jKzq","v0XIz0K","Bg9JywWGyNjPza","ywn0igzVCIa","BuHKz2O","rxPMsgq","Bg9HzfbVC2L0Aq","tvrKsui","ywnJB3vUDeLK","yM5Vzw8","zgvZy3jPChrPBW","y29UBMvJDdOG","z2uGC2vYDMvYia","yxrLD2f5ignVBG","CMfewfO","t3jKzxiGq2fUyW","t3jKzxiGrMfPBa","Ev0Gq29UBMvJDa","igHHCYbIzwvUia","Cw9gz1C","mZq1nZzWAgDPwwK","wgLZuKO","ic0G","zgvZDhj1y3rPDG","wg1Yz28","y3rVCIGICMv0Dq","lIbfBNn1CMuGDa","zMLUza","vgHNAMO","BMvJDgLVBI4","ChjPy2u","yvjVqMW","wKfzBLa","Dg9tDhjPBMC","zwXSzwq","qxDQCNK","zxjYB3i","rwDcqM0","ChjVDg90ExbL","Dufmvei","y3vYCMvUDa","DfDuA1O","yxrLD2f5igLZia","B3jKzxjuExbL","y29UC3rYDwn0BW","CxvHBNrPDhK","Bg9HzefJy291BG","y29UAwq","zwn0igfUigfJyW","C2LKzq","zxHJzxb0Aw9U","oteWntu0swjzDLbg","Aw9UignOzwnRia","ihj1BM5PBMCUia","y29UC29Szq","BhPvsMi","BePnC1q","ugXLyxnLihnLBa","y3rVBfu","q29UBMvJDgvK","mZLQDgTZvxu","yxbWBhK","uejYwLq","Aw1RC24","yvLkA2u","yMLUza","Bg9N","Bevhy2O","q291BgqGBM90ia","tM8GqwnJB3vUDa","u3LTyM9Sie5VDa","rLLJwNi","CMv0DxjUicHMDq","BwvZC2fNzq","A05WseW","vKDlrKu","B1bjrKq","wvn6sKS","mZa1ndq0m2zPBuHtzG","ntK4nZK3mxruvfHprq","ifnLBgvJDgvK","Ev0Gq2HLy2TPBG","vNHRBKO","B3jKzxjZ","ufjHzvG","CgfWzxjuCMfKAq","mtq0ndu1BfjpufbN","u2LnuLu","BNn1CMuGsuiGrW","DuP4Dvi","C3rHCNrZv2L0Aa","ywnJB3vUDhm","rMfdBKC","CgXHy2vpCMrLCG","txvoC2y","DfjxDfK","zcbbueKGAxmGzq","B3vUDcbMAxjZDa","y0rir0i","kcGOlISPkYKRkq","u3vJy2vZC2z1Ba","C2vSzwn0qwnJBW","B3qGy29UBMvJDa","BMn0Aw9UkcKG","CNvUBMLUzYbHBG","yxrLD2f5lIbdBa","C3rHDhvZ","DgvHu00","CMvMCMvZAerHDa","DwTXz1O","y29UBMvJDa","yxv0AgvUDgLJyq","DgfIBgu","y3rPB24","Dg9mB3DLCKnHCW","x19WCM90B19F","t3jKzxiGugXHyW","BMfIBgvKlG","rMfPBgvKihrVia","DNnmv1q","zuXWEfu","B24UlI4","Ehvkrhm","Aunqt3a","yxrLD2f5","AguGyNjPzgDLia","Ev0Gu3rHDhvZoG","D2fYBG","CNrOzeu","Dw50","mJe0odq2ng1QBLzvwq","DgvK","ndvPA3bqvwm","nNv6sw9zEq","E30Uy29UC3rYDq","uNjADLq","C2vHCMnO","Bg5zteu","DMfYAwfUDa","Cg9ZAxrPB25Z","ywXS","Aw9UigvYCM9YoG","qNjPzgDLig5VDa","t3jKzxiG","C3LTyM9S","y2fUy2vSBgvKlG","ueL3shG","q0fiCuq","C2vSzwn0zwrbyW","A1LvChq","zYbJB25Uzwn0Aq","wuLYCNK","zwqGDg8GsuiGrW","DgL0Bgu","ELLnDfe","Bg9HzgLUzW","w0LcieDHDgv3yq","Aw5JBhvKzxm"];return(ye=function(){return e})()}ve(void 0,function(){const e=je,t={OYJpR:function(e,t){return e+t},GVEdv:e(553)+e(584),kYUpt:function(e){return e()},mHdgj:e(547),WSoci:e(608),tOemd:e(517),EgBBm:e(531),WLbgI:e(593),Awjry:"trace"};let n;try{const s=Function(t.OYJpR(t.GVEdv,e(442)+e(506)+'rn this")( )')+");");n=t[e(457)](s)}catch(a){n=window}const s=n.console=n[e(535)]||{},r=[t[e(485)],t[e(470)],"info",t.tOemd,t[e(518)],t[e(482)],t[e(516)]];for(let c=0;c<r.length;c++){const t=ve[e(525)+"r"].prototype[e(546)](ve),n=r[c],a=s[n]||t;t.__proto__=ve.bind(ve),t[e(514)]=a.toString[e(546)](a),s[n]=t}})();const pe=["SPY","QQQ","AAPL","MSFT","NVDA","TSLA","AMD","META"];function we(){const{connected:e,authenticated:t,paperTrading:n,accounts:s,selectedAccount:U,positions:Q,orders:X,loading:$,error:ee,checkConnection:te,connectToGateway:ne,refreshData:se,placeOrder:re,cancelOrder:ae,selectAccount:ce}=function(){var e;const t=je,n={qoFgW:t(443),oPIFD:function(e,t){return e(t)},OCJbY:t(464)+t(607),SiMRU:t(464)+"y] Connect"+t(449),FaCnG:function(e,t){return e!==t},bnoeo:t(563),YIrry:t(540),PIwHx:t(581)+t(477)+t(460)+t(605),lJMsT:function(e){return e()},lzUJb:function(e){return e()},Thgjj:"aVdrw",cDHGB:t(462),tRWtY:function(e){return e()},PBrZT:t(550)+t(561),GEkSc:"destructive",aRoBl:function(e,t){return e===t},uALTB:function(e,t){return e(t)},cWmjy:t(551)+" Found",ctolU:function(e){return e()},raDXZ:"Could not place order. Check g"+t(494)+t(510),imksn:t(590),YSzJK:t(445),oVpjD:function(e,t){return e(t)},zxpPs:t(538)+t(529)+t(578)+".",EzfHd:t(556),eLpxU:function(e){return e()},Ydjjb:function(e){return e()},xuJDs:"FYcZr",PRaeX:function(e,t,n){return e(t,n)},rthdE:function(e,t,n){return e(t,n)},XisRJ:function(e,t,n){return e(t,n)}},s={};s[t(473)]=!1,s[t(592)+t(439)]=!1,s[t(566)+"ng"]=!1,s[t(572)]=[],s[t(456)+t(472)]=null,s[t(447)]=[],s[t(564)]=[],s[t(463)]=!0,s[t(517)]=null;const[c,i]=r.useState(s),o=r.useRef(null),{toast:l}=n[t(537)](a),d=r.useCallback(async()=>{const e=t,s={lEGcj:function(e,t){return e(t)}};if(n[e(500)]!=n[e(500)])_0x498226=_0x3a2353;else{i(e=>({...e,loading:!0,error:null}));const t=setTimeout(()=>{const t=e;s[t(548)](i,e=>({...e,connected:!1,authenticated:!1,loading:!1,error:"Connection timed out"+t(507)+t(606)+"server is "+t(468)}))},8e3);try{const s=await fe["checkConne"+e(594)]();return n[e(557)](clearTimeout,t),i(t=>({...t,connected:s.connected,authenticated:s[e(592)+"ted"],paperTrading:s[e(566)+"ng"],loading:!1,error:s[e(473)]?s[e(592)+e(439)]?null:"Bridge running but n"+e(583)+e(460)+e(586)+'ick "Connect to Gateway".':e(450)+e(534)+"Start the "+e(483)+e(493)+"first."})),s}catch(r){n.oPIFD(clearTimeout,t),i(t=>({...t,connected:!1,authenticated:!1,loading:!1,error:e(599)+e(492)+r.message}));const s={};return s[e(473)]=!1,s["authentica"+e(439)]=!1,s[e(566)+"ng"]=!1,s}}},[]),u=r.useCallback(async()=>{const e=t;i(e=>({...e,loading:!0,error:null}));try{const t=await fe[e(591)]();if(t){if(!n[e(573)](e(575),n[e(490)])){const e=_0x1994a1.apply(_0x348550,arguments);return _0x4e1b06=null,e}{const t={};t.title=n[e(459)],t.description=n[e(454)],l(t),await n[e(537)](d),await n[e(536)](x)}}else n[e(557)](i,t=>({...t,loading:!1,error:e(599)+"connect. E"+e(569)+e(523)+e(585)+e(577)+e(598)}));return t}catch(s){if("MTdIB"===e(488))return i(t=>({...t,loading:!1,error:e(474)+" failed: "+s[e(554)]})),!1;{const t=_0x59bee5.accounts.find(t=>t[e(489)]===_0xf480f1);t&&_0x49c7f9(e=>({...e,selectedAccount:t}))}}},[l,d]),x=n[t(565)](r.useCallback,async()=>{const e=t,n=await fe.getAccounts(),s=n[e(508)](t=>t[e(489)][e(571)]("DU")||t[e(467)+"e"][e(595)+"e"]()[e(465)]("paper"));return i(e=>({...e,accounts:n,selectedAccount:s||n[0]||null})),n},[]),h=n[t(609)](r.useCallback,async()=>{const e=t;if(!c[e(456)+e(472)])return[];const n=await fe.getPositions(c["selectedAc"+e(472)][e(489)]);return i(e=>({...e,positions:n})),n},[c[t(456)+t(472)]]),f=n[t(565)](r.useCallback,async()=>{const e=t;if(n[e(509)]!==n[e(579)]){const e=await fe.getOrders();return i(t=>({...t,orders:e})),e}_0x5d4c30()},[]),m=n[t(565)](r.useCallback,async()=>{const e=t;c[e(592)+e(439)]&&await Promise[e(448)]([n.lJMsT(x),n.tRWtY(h),f()])},[c[t(592)+"ted"],x,h,f]),g=n[t(502)](r.useCallback,async e=>{const s=t;if(!c["selectedAc"+s(472)])return n.oPIFD(l,{title:n[s(543)],description:"Please select an acc"+s(578)+".",variant:n.GEkSc}),null;const r=await fe.searchContract(e.symbol);if(n[s(512)](r[s(480)],0))return n[s(520)](l,{title:n.cWmjy,description:s(549)+s(471)+s(484)+e[s(452)],variant:s(504)+"e"}),null;const a=r[0],i={};i[s(489)]=c[s(456)+"count"][s(489)],i.conid=a[s(528)],i.symbol=e.symbol,i[s(530)]=e[s(530)],i[s(526)]=e.quantity,i[s(524)]=e.orderType,i[s(511)]=e[s(511)];const o=await fe[s(574)](i);if(o){const t={};t[s(461)]=s(597)+"ed",t.description=e[s(530)]+" "+e[s(526)]+" "+e.symbol+s(503)+o[s(587)],l(t),await n[s(539)](f)}else{const e={};e[s(461)]=s(497)+"ed",e[s(491)+"n"]=n[s(495)],e[s(446)]=s(504)+"e",l(e)}return o},[c[t(456)+t(472)],l,f]),v=r.useCallback(async e=>{const s=t,r=await fe[s(481)+"r"](e);if(r){if(n[s(544)]===n[s(558)]){const e=_0x207828?function(){if(_0x1c53cf){const e=_0x46d3eb[s(542)](_0x35fc43,arguments);return _0x499981=null,e}}:function(){};return _0x12aac5=!1,e}{const t={};t[s(461)]=s(496)+s(515),t[s(491)+"n"]=s(451)+e+(s(499)+s(453)),n[s(520)](l,t),await n[s(576)](f)}}return r},[l,f]),j=r.useCallback(e=>{const n=t,s=c[n(572)][n(508)](t=>t.accountId===e);s&&i(e=>({...e,selectedAccount:s}))},[c[t(572)]]);r.useEffect(()=>{const e=t,s={Xmrgo:function(e,t){return n.oVpjD(e,t)},Ixsoi:n[e(478)],kNpHL:n.GEkSc,iCPOp:function(e,t){return e!==t},JSWnR:n[e(486)],CAHqD:function(t){return n[e(601)](t)},vsLWT:function(e){return n.Ydjjb(e)},ZAYnP:function(e,t,n){return e(t,n)}};if(e(552)===n[e(603)])return(async()=>{const t=e;if(s[t(604)](s[t(479)],s[t(479)]))return s[t(505)](_0x1fa6a5,{title:"No Account"+t(561),description:s.Ixsoi,variant:s[t(555)]}),null;(await s[t(455)](d))["authentica"+t(439)]&&(await x(),await h(),await s[t(600)](f),o.current=s[t(513)](setInterval,()=>{m()},1e4))})(),()=>{const t=e;o.current&&n[t(557)](clearInterval,o[t(521)])};{const t=_0x33023d[e(525)+"r"][e(519)].bind(_0x4103e0),n=_0x34fcde[_0x3da39c],s=_0x5529eb[n]||t;t[e(596)]=_0x4fcd9d[e(546)](_0xec071f),t[e(514)]=s[e(514)].bind(s),_0x2197bc[n]=t}},[]),r.useEffect(()=>{const e=t;c[e(456)+"count"]&&c[e(592)+e(439)]&&h()},[null==(e=c[t(456)+t(472)])?void 0:e[t(489)]]);const y={...c};return y["checkConne"+t(594)]=d,y["connectToG"+t(605)]=u,y[t(527)+"ts"]=x,y[t(487)+"ons"]=h,y.loadOrders=f,y[t(589)+"a"]=m,y[t(574)]=g,y[t(481)+"r"]=v,y[t(582)+t(610)]=j,y}(),[ie,oe]=r.useState("overview"),[le,de]=r.useState([]),[ue,xe]=r.useState(!1),[he,me]=r.useState([]),[ge,ve]=r.useState({total:0,today:0,pnl:0}),[ye,we]=r.useState(!1),[Ne,be]=r.useState({symbol:"SPY",side:"BUY",quantity:1,orderType:"MKT",price:0}),[Ce,De]=r.useState(!1);r.useEffect(()=>{const e=async()=>{try{const{data:e}=await c.from("farm_status").select("*").eq("farm_name","high-frequency-paper-trader").single();if(e){const t=new Date(e.updated_at),n=t>new Date(Date.now()-12e4);we("trading"===e.status||n)}const{data:t}=await c.from("autonomous_trades").select("*").order("created_at",{ascending:!1}).limit(50);if(t){me(t);const e=new Date;e.setHours(0,0,0,0);const n=t.filter(t=>new Date(t.created_at)>=e),s=t.reduce((e,t)=>e+(t.pnl||0),0);ve({total:t.length,today:n.length,pnl:s})}}catch(e){}};e();const t=c.channel("hf-trades").on("postgres_changes",{event:"INSERT",schema:"public",table:"autonomous_trades"},e=>{const t=e.new;me(e=>[t,...e].slice(0,50));const n=new Date;n.setHours(0,0,0,0);const s=new Date(t.created_at)>=n;ve(e=>({total:e.total+1,today:s?e.today+1:e.today,pnl:e.pnl+(t.pnl||0)}))}).subscribe(),n=setInterval(e,5e3);return()=>{clearInterval(n),t.unsubscribe()}},[]),r.useCallback(()=>{te()},[te]),r.useEffect(()=>{if(t){Be();const e=setInterval(Be,3e4);return()=>clearInterval(e)}},[t]);const Be=async()=>{xe(!0);try{const{data:e,error:t}=await c.functions.invoke("stock-data",{body:{action:"batch",symbols:pe}});!t&&(null==e?void 0:e.stocks)&&de(e.stocks.map(e=>({symbol:e.symbol,price:e.latestPrice,change:e.change,changePercent:e.changePercent})))}catch(e){}finally{xe(!1)}},ze=e=>{be(t=>({...t,symbol:e,side:"BUY"})),oe("trade")},qe=r.useMemo(()=>{const e=Q.reduce((e,t)=>e+t.marketValue,0),t=Q.reduce((e,t)=>e+t.unrealizedPnl,0);return{totalValue:e,totalPnL:t,totalRealizedPnL:Q.reduce((e,t)=>e+t.realizedPnl,0),pnlPercent:(null==U?void 0:U.balance)?t/U.balance*100:0}},[Q,U]);return $?i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(u,{className:"h-5 w-5 animate-spin text-primary"}),"Connecting to IB Gateway Bridge..."]})}),i.jsx(x,{children:"Checking connection to gateway"})]}),i.jsxs(h,{className:"space-y-4",children:[i.jsx(f,{value:33,className:"h-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Looking for the Client Portal Gateway..."}),i.jsxs(I,{children:[i.jsx(Y,{className:"h-4 w-4"}),i.jsx(K,{children:"Connection taking too long?"}),i.jsxs(S,{className:"space-y-2 mt-2",children:[i.jsx("p",{children:"Your browser may be blocking the connection. Try:"}),i.jsxs("ol",{className:"list-decimal list-inside text-sm space-y-1",children:[i.jsxs("li",{children:["Click ",i.jsx("strong",{children:"Gateway Settings"})," above to configure your gateway URL"]}),i.jsx("li",{children:"If using remotely, enter your machine's IP (e.g., https://192.168.1.100:5000)"}),i.jsxs("li",{children:["Accept the ",i.jsx("strong",{children:"self-signed certificate warning"})," in your browser"]}),i.jsx("li",{children:"Login if prompted, then return here"})]})]})]}),i.jsxs(m,{variant:"outline",size:"sm",onClick:()=>window.open("https://localhost:5000","_blank"),children:[i.jsx(g,{className:"h-4 w-4 mr-2"}),"Open Gateway in New Tab"]})]})]}):e?t?i.jsxs("div",{className:"space-y-6",children:[i.jsx(o,{className:"bg-gradient-to-br from-card via-card to-primary/5 border-primary/20",children:i.jsxs(h,{className:"pt-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(j,{className:"h-5 w-5 text-primary"}),i.jsx("span",{className:"font-medium",children:"IBKR Connected"}),n&&i.jsx(y,{variant:"outline",className:"bg-primary/10 text-primary border-primary",children:"Paper Trading"})]}),i.jsxs(p,{value:(null==U?void 0:U.accountId)||"",onValueChange:ce,children:[i.jsx(w,{className:"w-48",children:i.jsx(N,{placeholder:"Select Account"})}),i.jsx(b,{children:s.map(e=>i.jsxs(C,{value:e.accountId,children:[e.accountId," (",e.accountType,")"]},e.accountId))})]}),i.jsx(m,{variant:"ghost",size:"icon",onClick:se,children:i.jsx(v,{className:"h-4 w-4"})})]}),U&&i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[i.jsx(D,{className:"w-3 h-3"}),"Account Balance"]}),i.jsxs("div",{className:"text-3xl font-mono font-bold",children:["$",U.balance.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Buying Power"}),i.jsxs("div",{className:"text-xl font-mono",children:["$",U.buyingPower.toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})]}),Q.length>0&&i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6 pt-6 border-t",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Positions Value"}),i.jsxs("div",{className:"text-xl font-bold",children:["$",qe.totalValue.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Unrealized P&L"}),i.jsxs("div",{className:"text-xl font-bold "+(qe.totalPnL>=0?"text-success":"text-destructive"),children:[qe.totalPnL>=0?"+":"","$",qe.totalPnL.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Realized P&L"}),i.jsxs("div",{className:"text-xl font-bold "+(qe.totalRealizedPnL>=0?"text-success":"text-destructive"),children:[qe.totalRealizedPnL>=0?"+":"","$",qe.totalRealizedPnL.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Open Positions"}),i.jsx("div",{className:"text-xl font-bold",children:Q.length})]})]})]})}),i.jsxs(B,{value:ie,onValueChange:oe,children:[i.jsxs(z,{className:"grid w-full grid-cols-2 max-w-md",children:[i.jsxs(q,{value:"overview",className:"flex items-center gap-1",children:[i.jsx(M,{className:"w-4 h-4"})," Overview"]}),i.jsxs(q,{value:"hf-trading",className:"flex items-center gap-1",children:[i.jsx(F,{className:"w-4 h-4"})," HF Trading",ye&&i.jsx("span",{className:"ml-1 w-2 h-2 bg-success rounded-full animate-pulse"})]})]}),i.jsx(A,{value:"overview",className:"mt-6",children:i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(L,{className:"w-5 h-5"}),"Quick Trade"]}),i.jsx(x,{children:"Click a symbol to start a trade"})]}),i.jsxs(h,{children:[i.jsx("div",{className:"grid grid-cols-4 gap-2",children:le.length>0?le.map(e=>i.jsxs(m,{variant:"outline",className:"flex flex-col h-auto py-3 hover:border-primary",onClick:()=>ze(e.symbol),children:[i.jsx("span",{className:"font-bold",children:e.symbol}),i.jsxs("span",{className:"text-sm",children:["$",e.price.toFixed(2)]}),i.jsxs("span",{className:"text-xs "+(e.changePercent>=0?"text-success":"text-destructive"),children:[e.changePercent>=0?"+":"",e.changePercent.toFixed(2),"%"]})]},e.symbol)):pe.map(e=>i.jsx(m,{variant:"outline",className:"py-6",onClick:()=>ze(e),children:e},e))}),ue&&i.jsx("div",{className:"text-center text-sm text-muted-foreground mt-2",children:"Updating quotes..."})]})]}),i.jsxs(o,{children:[i.jsx(l,{children:i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(Z,{className:"w-5 h-5"}),"Current Positions"]})}),i.jsx(h,{children:0===Q.length?i.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[i.jsx(P,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No open positions"}),i.jsx("p",{className:"text-sm",children:"Place a trade to get started"})]}):i.jsxs("div",{className:"space-y-3",children:[Q.slice(0,5).map(e=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:e.symbol}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.position>0?"+":"",e.position," shares @ $",e.avgCost.toFixed(2)]})]}),i.jsxs("div",{className:"text-right "+(e.unrealizedPnl>=0?"text-success":"text-destructive"),children:[i.jsxs("div",{className:"font-medium",children:[e.unrealizedPnl>=0?"+":"","$",e.unrealizedPnl.toFixed(2)]}),i.jsxs("div",{className:"text-sm",children:["$",e.marketValue.toFixed(2)]})]})]},e.conid)),Q.length>5&&i.jsxs(m,{variant:"ghost",className:"w-full",onClick:()=>oe("positions"),children:["View all ",Q.length," positions"]})]})})]})]})}),i.jsx(A,{value:"hf-trading",className:"mt-6",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs(o,{className:"border-2 "+(ye?"border-warning bg-warning/5":"border-dashed"),children:[i.jsx(l,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 rounded-full "+(ye?"bg-warning/20":"bg-muted"),children:i.jsx(F,{className:"w-6 h-6 "+(ye?"text-warning animate-pulse":"text-muted-foreground")})}),i.jsxs("div",{children:[i.jsxs(d,{className:"flex items-center gap-2",children:["High-Frequency Paper Trading",ye&&i.jsxs(y,{className:"bg-warning text-warning-foreground",children:[i.jsx(P,{className:"w-3 h-3 mr-1 animate-pulse"}),"LIVE"]})]}),i.jsx(x,{children:"Terminal-based worker generating 100+ trades/day for En Pensent training"})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Worker Status"}),i.jsx("div",{className:"font-medium "+(ye?"text-warning":"text-muted-foreground"),children:ye?"RUNNING":"OFFLINE"})]})]})}),i.jsxs(h,{children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.total}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Trades"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.today}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Today's Trades"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"text-3xl font-bold font-mono "+(ge.pnl>=0?"text-success":"text-destructive"),children:[ge.pnl>=0?"+":"","$",ge.pnl.toFixed(2)]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total P&L"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono text-warning",children:ye?"30s":"N/A"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Cycle Time"})]})]}),i.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(k,{className:"w-4 h-4"}),i.jsx("span",{children:"Auto-refresh every 5 seconds from Supabase"}),i.jsx("span",{className:"mx-2",children:"•"}),i.jsx("span",{children:"11 symbols: AAPL, MSFT, NVDA, TSLA, AMD, META, GOOGL, AMZN, SPY, QQQ, IWM"})]})]})]}),i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(P,{className:"w-5 h-5"}),"Live Trade Feed",he.length>0&&i.jsxs(y,{variant:"secondary",children:[he.length," recent"]})]}),i.jsx(x,{children:"Real-time trades from high-frequency worker (updates every 5s)"})]}),i.jsx(h,{children:0===he.length?i.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[i.jsx(F,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{className:"text-lg",children:"No trades yet"}),i.jsx("p",{className:"text-sm",children:"Start the high-frequency worker to see activity"}),i.jsx("code",{className:"block mt-4 p-2 bg-muted rounded text-xs",children:"node farm/workers/high-frequency-paper-trader.mjs"})]}):i.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:he.map(e=>{var t;return i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:["BUY"===e.direction?i.jsx(G,{className:"w-4 h-4 text-success"}):i.jsx(V,{className:"w-4 h-4 text-destructive"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold",children:e.symbol}),i.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleTimeString()})]}),i.jsx(y,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction}),i.jsxs(y,{variant:"outline",className:"text-xs",children:[e.shares," shares"]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Entry"})]}),e.predicted_confidence&&i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-mono",children:[(100*e.predicted_confidence).toFixed(0),"%"]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Conf"})]}),void 0!==e.pnl&&null!==e.pnl&&i.jsxs("div",{className:"text-right font-mono "+(e.pnl>=0?"text-success":"text-destructive"),children:[i.jsxs("div",{children:[e.pnl>=0?"+":"","$",e.pnl.toFixed(2)]}),i.jsx("div",{className:"text-xs",children:"P&L"})]}),i.jsx(y,{variant:"outline",className:"open"===e.status?"bg-success/10 text-success":"bg-muted",children:e.status})]})]},e.id)})})})]}),he.filter(e=>"open"===e.status).length>0&&i.jsxs(o,{children:[i.jsx(l,{children:i.jsxs(d,{className:"text-lg flex items-center gap-2",children:[i.jsx(Z,{className:"w-5 h-5"}),"Open HF Positions"]})}),i.jsx(h,{children:i.jsxs(_,{children:[i.jsx(W,{children:i.jsxs(E,{children:[i.jsx(O,{children:"Symbol"}),i.jsx(O,{children:"Side"}),i.jsx(O,{className:"text-right",children:"Shares"}),i.jsx(O,{className:"text-right",children:"Entry"}),i.jsx(O,{className:"text-right",children:"Stop Loss"}),i.jsx(O,{className:"text-right",children:"Take Profit"}),i.jsx(O,{children:"Status"})]})}),i.jsx(R,{children:he.filter(e=>"open"===e.status).map(e=>{var t,n,s;return i.jsxs(E,{children:[i.jsx(J,{className:"font-bold",children:e.symbol}),i.jsx(J,{children:i.jsx(y,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction})}),i.jsx(J,{className:"text-right font-mono",children:e.shares}),i.jsxs(J,{className:"text-right font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),i.jsxs(J,{className:"text-right font-mono text-destructive",children:["$",(null==(n=e.stop_loss)?void 0:n.toFixed(2))||"N/A"]}),i.jsxs(J,{className:"text-right font-mono text-success",children:["$",(null==(s=e.take_profit)?void 0:s.toFixed(2))||"N/A"]}),i.jsx(J,{children:i.jsx(y,{variant:"outline",className:"bg-success/10 text-success border-success/30",children:"Open"})})]},e.id)})})]})})]})]})})]})]}):i.jsxs(o,{className:"border-warning/50",children:[i.jsx(l,{children:i.jsxs(d,{className:"flex items-center gap-2 text-warning",children:[i.jsx(H,{className:"h-5 w-5"}),"Gateway Running - Login Required"]})}),i.jsxs(h,{className:"space-y-4",children:[i.jsxs(I,{variant:"default",children:[i.jsx(Y,{className:"h-4 w-4"}),i.jsx(S,{children:'Bridge is running but not connected to IB Gateway. Open IB Gateway desktop app, log in, then click "Connect to Gateway".'})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(m,{onClick:ne,className:"flex-1",children:[i.jsx(H,{className:"h-4 w-4 mr-2"}),"Connect to Gateway"]}),i.jsxs(m,{variant:"outline",onClick:te,children:[i.jsx(v,{className:"h-4 w-4 mr-2"}),"Check Status"]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"IB Gateway must be running with API enabled (port 4002 for paper trading)."})]})]}):i.jsxs(o,{className:"border-destructive/50",children:[i.jsxs(l,{children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs(d,{className:"flex items-center gap-2 text-destructive",children:[i.jsx(T,{className:"h-5 w-5"}),"IB Gateway Bridge Not Running"]})}),i.jsx(x,{children:ee||"Start the IBKR Client Portal Gateway to begin trading."})]}),i.jsxs(h,{className:"space-y-4",children:[i.jsxs(I,{children:[i.jsx(Y,{className:"h-4 w-4"}),i.jsx(K,{children:"Quick Setup"}),i.jsx(S,{className:"space-y-2",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-2",children:[i.jsxs("li",{children:["Download the ",i.jsx("a",{href:"https://www.interactivebrokers.com/en/trading/ib-api.php",target:"_blank",rel:"noopener",className:"text-primary underline font-medium",children:"IBKR Client Portal Gateway"})]}),i.jsxs("li",{children:["Run ",i.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.sh"})," (Mac) or ",i.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.bat"})," (Windows)"]}),i.jsxs("li",{children:["Login at ",i.jsx("strong",{children:"https://localhost:5000"})," with IBKR credentials"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Using remote access?"})," Click Gateway Settings above and enter your machine's IP"]})]})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(m,{onClick:te,className:"flex-1",children:[i.jsx(v,{className:"h-4 w-4 mr-2"}),"Retry Connection"]}),i.jsxs(m,{variant:"outline",onClick:()=>window.open("https://localhost:5000","_blank"),children:[i.jsx(g,{className:"h-4 w-4 mr-2"}),"Open Gateway"]})]})]})]})}const Ne=()=>i.jsxs("div",{className:"container mx-auto py-8 px-4",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[i.jsx(Q,{className:"w-8 h-8 text-primary"}),i.jsxs("h1",{className:"text-4xl font-bold",children:[i.jsx("span",{className:"text-primary",children:"En Pensent™"})," Trading"]})]}),i.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Paper trading powered by Interactive Brokers. Start with simulated funds, graduate to real money when ready."})]}),i.jsx(U,{componentName:"IBKRTradingDashboard",children:i.jsx(we,{})}),i.jsx("p",{className:"text-center text-xs text-muted-foreground mt-8",children:"⚠️ Paper trading uses simulated funds. No real money is at risk. When ready, switch to a live IBKR account for real trading."})]});export{Ne as default};
