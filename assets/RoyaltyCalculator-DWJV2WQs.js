const e='import React, { useState } from \'react\';\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \'@/components/ui/card\';\nimport { Slider } from \'@/components/ui/slider\';\nimport { Badge } from \'@/components/ui/badge\';\nimport { Calculator, DollarSign, TrendingUp, ShoppingBag, Sparkles, Info } from \'lucide-react\';\nimport { MEMBERSHIP_ECONOMICS } from \'@/lib/visualizations/visionScoring\';\nimport { PROFIT_ECONOMICS, estimateOrderCosts, calculateProfitDistribution } from \'@/lib/economics/profitBasedRoyalties\';\nimport { useRandomGameArt } from \'@/hooks/useRandomGameArt\';\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from \'@/components/ui/tooltip\';\n\n// Average print prices by size with size keys\nconst PRINT_PRICES = {\n  small: { label: \'8Ã—10"\', price: 29.99, sizeKey: \'8x10\' },\n  medium: { label: \'16Ã—20"\', price: 49.99, sizeKey: \'16x20\' },\n  large: { label: \'24Ã—36"\', price: 79.99, sizeKey: \'24x36\' },\n};\n\nexport const RoyaltyCalculator: React.FC = () => {\n  const [ordersPerMonth, setOrdersPerMonth] = useState(10);\n  const [selectedSize, setSelectedSize] = useState<\'small\' | \'medium\' | \'large\'>(\'medium\');\n  const backgroundImages = useRandomGameArt(1);\n  \n  const printInfo = PRINT_PRICES[selectedSize];\n  const avgPrintPrice = printInfo.price;\n  \n  // Calculate using profit-based economics\n  const priceCents = Math.round(avgPrintPrice * 100);\n  const orderCosts = estimateOrderCosts(\'print\', printInfo.sizeKey, priceCents);\n  const distribution = calculateProfitDistribution(orderCosts);\n  \n  const profitPerOrder = distribution.grossProfitCents / 100;\n  const valueAddedPerOrder = distribution.valueAppreciationPoolCents / 100;\n  \n  const monthlyValueAdded = valueAddedPerOrder * ordersPerMonth;\n  const yearlyValueAdded = monthlyValueAdded * 12;\n  \n  const valueAppreciationRate = PROFIT_ECONOMICS.valueAppreciationRate * 100;\n  const marketplaceFeePercent = MEMBERSHIP_ECONOMICS.marketplaceTransactionFee * 100;\n  \n  // Milestones\n  const milestones = [\n    { label: \'Coffee Fund\', amount: 50, emoji: \'â˜•\' },\n    { label: \'Nice Dinner\', amount: 200, emoji: \'ðŸ½ï¸\' },\n    { label: \'Weekend Trip\', amount: 500, emoji: \'âœˆï¸\' },\n    { label: \'New Camera\', amount: 1000, emoji: \'ðŸ“·\' },\n    { label: \'Vacation Fund\', amount: 2500, emoji: \'ðŸ–ï¸\' },\n  ];\n  \n  const nextMilestone = milestones.find(m => m.amount > yearlyValueAdded) || milestones[milestones.length - 1];\n  const progressToMilestone = Math.min((yearlyValueAdded / nextMilestone.amount) * 100, 100);\n\n  return (\n    <Card className="relative overflow-hidden border-2 border-primary/30 bg-gradient-to-br from-primary/5 to-green-500/5">\n      {/* Subtle AI Art Background */}\n      {backgroundImages[0] && (\n        <div \n          className="absolute inset-0 opacity-[0.08] bg-cover bg-center"\n          style={{ backgroundImage: `url(${backgroundImages[0]})` }}\n        />\n      )}\n      <div className="absolute inset-0 bg-gradient-to-br from-background/85 to-background/95" />\n      \n      <CardHeader className="relative z-10">\n        <div className="flex items-center gap-3">\n          <CardTitle className="text-xl flex items-center gap-2">\n            <Calculator className="h-5 w-5 text-primary" />\n            Value Calculator\n          </CardTitle>\n          <Badge className="bg-green-500/20 text-green-600 border-green-500/30">\n            <Sparkles className="h-3 w-3 mr-1" />\n            Interactive\n          </Badge>\n        </div>\n        <CardDescription>\n          See how much value accrues to your visions from print orders\n        </CardDescription>\n      </CardHeader>\n      \n      <CardContent className="relative z-10 space-y-6">\n        {/* Orders Per Month Slider */}\n        <div className="space-y-3">\n          <div className="flex items-center justify-between">\n            <label className="text-sm font-medium flex items-center gap-2">\n              <ShoppingBag className="h-4 w-4 text-muted-foreground" />\n              Orders per month\n            </label>\n            <span className="text-2xl font-bold text-primary">{ordersPerMonth}</span>\n          </div>\n          <Slider\n            value={[ordersPerMonth]}\n            onValueChange={(v) => setOrdersPerMonth(v[0])}\n            min={1}\n            max={100}\n            step={1}\n            className="[&>span:first-child]:bg-primary/20 [&_[role=slider]]:bg-primary"\n          />\n          <div className="flex justify-between text-xs text-muted-foreground">\n            <span>1 order</span>\n            <span>50 orders</span>\n            <span>100 orders</span>\n          </div>\n        </div>\n        \n        {/* Average Print Price Selector */}\n        <div className="space-y-3">\n          <label className="text-sm font-medium flex items-center gap-2">\n            <DollarSign className="h-4 w-4 text-muted-foreground" />\n            Average print size\n          </label>\n          <div className="grid grid-cols-3 gap-2">\n            {(Object.entries(PRINT_PRICES) as [keyof typeof PRINT_PRICES, typeof PRINT_PRICES[keyof typeof PRINT_PRICES]][]).map(([key, { label, price }]) => (\n              <button\n                key={key}\n                onClick={() => setSelectedSize(key)}\n                className={`p-3 rounded-lg border text-center transition-all ${\n                  selectedSize === key \n                    ? \'border-primary bg-primary/10 text-primary\' \n                    : \'border-border/50 bg-background/50 hover:border-primary/50\'\n                }`}\n              >\n                <p className="text-sm font-medium">{label}</p>\n                <p className="text-xs text-muted-foreground">${price}</p>\n              </button>\n            ))}\n          </div>\n        </div>\n        \n        {/* Results Display */}\n        <div className="grid sm:grid-cols-2 gap-4 pt-4 border-t border-border/50">\n          <div className="p-4 rounded-lg bg-green-500/10 border border-green-500/30">\n            <div className="flex items-center gap-2 mb-1">\n              <p className="text-sm text-muted-foreground">Monthly Value Added</p>\n              <TooltipProvider>\n                <Tooltip>\n                  <TooltipTrigger>\n                    <Info className="h-3.5 w-3.5 text-muted-foreground" />\n                  </TooltipTrigger>\n                  <TooltipContent className="max-w-xs">\n                    <p className="text-xs">\n                      <strong>Profit-based:</strong> ${avgPrintPrice} order â†’ ${profitPerOrder.toFixed(2)} profit after fulfillment costs â†’ ${valueAddedPerOrder.toFixed(2)} ({valueAppreciationRate}% of profit) adds to vision value\n                    </p>\n                  </TooltipContent>\n                </Tooltip>\n              </TooltipProvider>\n            </div>\n            <p className="text-3xl font-bold text-green-500">\n              +${monthlyValueAdded.toFixed(2)}\n            </p>\n            <p className="text-xs text-muted-foreground mt-1">\n              {ordersPerMonth} Ã— ${valueAddedPerOrder.toFixed(2)} (17% of profit)\n            </p>\n          </div>\n          \n          <div className="p-4 rounded-lg bg-primary/10 border border-primary/30">\n            <p className="text-sm text-muted-foreground mb-1">Yearly Value Growth</p>\n            <p className="text-3xl font-bold text-primary">\n              +${yearlyValueAdded.toFixed(2)}\n            </p>\n            <p className="text-xs text-muted-foreground mt-1">\n              Sell on marketplace ({marketplaceFeePercent}% fee)\n            </p>\n          </div>\n        </div>\n        \n        {/* Milestone Progress */}\n        <div className="p-4 rounded-lg bg-background/50 border border-border/50 space-y-3">\n          <div className="flex items-center justify-between">\n            <span className="text-sm font-medium flex items-center gap-2">\n              <TrendingUp className="h-4 w-4 text-primary" />\n              Progress to: {nextMilestone.emoji} {nextMilestone.label}\n            </span>\n            <span className="text-sm text-muted-foreground">\n              ${yearlyValueAdded.toFixed(0)} / ${nextMilestone.amount}\n            </span>\n          </div>\n          <div className="h-3 rounded-full bg-muted/30 overflow-hidden">\n            <div \n              className="h-full bg-gradient-to-r from-primary to-green-500 transition-all duration-500"\n              style={{ width: `${progressToMilestone}%` }}\n            />\n          </div>\n          \n          {/* Milestone badges */}\n          <div className="flex flex-wrap gap-2 pt-2">\n            {milestones.map((milestone, i) => (\n              <Badge \n                key={i}\n                variant={yearlyValueAdded >= milestone.amount ? \'default\' : \'outline\'}\n                className={yearlyValueAdded >= milestone.amount \n                  ? \'bg-green-500/20 text-green-600 border-green-500/30\' \n                  : \'opacity-50\'\n                }\n              >\n                {milestone.emoji} ${milestone.amount}\n              </Badge>\n            ))}\n          </div>\n        </div>\n        \n        {/* Disclaimer */}\n        <div className="text-xs text-muted-foreground text-center space-y-1 border-t border-border/50 pt-4">\n          <p className="italic">\n            Value based on {valueAppreciationRate}% of order <strong>profit</strong> (not revenue).\n          </p>\n          <p className="text-[10px] text-muted-foreground/70">\n            <strong>No automatic payouts.</strong> Sell, trade, or gift your vision to another member to realize gains.\n          </p>\n        </div>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default RoyaltyCalculator;';export{e as default};
