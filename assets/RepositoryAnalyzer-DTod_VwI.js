const n='import { useState } from \'react\';\nimport { Button } from \'@/components/ui/button\';\nimport { Input } from \'@/components/ui/input\';\nimport { Label } from \'@/components/ui/label\';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \'@/components/ui/card\';\nimport { Collapsible, CollapsibleContent, CollapsibleTrigger } from \'@/components/ui/collapsible\';\nimport { GitBranch, Key, ChevronDown, Loader2, Search } from \'lucide-react\';\nimport { useCodeAnalysis } from \'@/hooks/useCodeAnalysis\';\n\ninterface RepositoryAnalyzerProps {\n  onAnalysisComplete?: () => void;\n}\n\nexport function RepositoryAnalyzer({ onAnalysisComplete }: RepositoryAnalyzerProps) {\n  const [repositoryUrl, setRepositoryUrl] = useState(\'\');\n  const [githubToken, setGithubToken] = useState(\'\');\n  const [showToken, setShowToken] = useState(false);\n  const { analyzeRepository, isAnalyzing } = useCodeAnalysis();\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!repositoryUrl.trim()) return;\n\n    const result = await analyzeRepository(repositoryUrl, githubToken || undefined);\n    if (result && onAnalysisComplete) {\n      onAnalysisComplete();\n    }\n  };\n\n  const exampleRepos = [\n    { name: \'React\', url: \'facebook/react\' },\n    { name: \'Vue\', url: \'vuejs/vue\' },\n    { name: \'Next.js\', url: \'vercel/next.js\' },\n    { name: \'Tailwind CSS\', url: \'tailwindlabs/tailwindcss\' },\n  ];\n\n  return (\n    <Card className="border-primary/20">\n      <CardHeader>\n        <CardTitle className="flex items-center gap-2">\n          <GitBranch className="h-5 w-5 text-primary" />\n          Analyze Repository\n        </CardTitle>\n        <CardDescription>\n          Enter a GitHub repository URL to analyze its code evolution patterns\n        </CardDescription>\n      </CardHeader>\n      <CardContent>\n        <form onSubmit={handleSubmit} className="space-y-4">\n          <div className="space-y-2">\n            <Label htmlFor="repository">Repository URL</Label>\n            <div className="flex gap-2">\n              <Input\n                id="repository"\n                placeholder="github.com/owner/repo or owner/repo"\n                value={repositoryUrl}\n                onChange={(e) => setRepositoryUrl(e.target.value)}\n                disabled={isAnalyzing}\n              />\n              <Button type="submit" disabled={isAnalyzing || !repositoryUrl.trim()}>\n                {isAnalyzing ? (\n                  <>\n                    <Loader2 className="mr-2 h-4 w-4 animate-spin" />\n                    Analyzing\n                  </>\n                ) : (\n                  <>\n                    <Search className="mr-2 h-4 w-4" />\n                    Analyze\n                  </>\n                )}\n              </Button>\n            </div>\n          </div>\n\n          <div className="flex flex-wrap gap-2">\n            <span className="text-sm text-muted-foreground">Try:</span>\n            {exampleRepos.map((repo) => (\n              <Button\n                key={repo.url}\n                type="button"\n                variant="outline"\n                size="sm"\n                onClick={() => setRepositoryUrl(repo.url)}\n                disabled={isAnalyzing}\n              >\n                {repo.name}\n              </Button>\n            ))}\n          </div>\n\n          <Collapsible open={showToken} onOpenChange={setShowToken}>\n            <CollapsibleTrigger asChild>\n              <Button variant="ghost" size="sm" className="w-full justify-between">\n                <span className="flex items-center gap-2">\n                  <Key className="h-4 w-4" />\n                  GitHub Token (optional)\n                </span>\n                <ChevronDown className={`h-4 w-4 transition-transform ${showToken ? \'rotate-180\' : \'\'}`} />\n              </Button>\n            </CollapsibleTrigger>\n            <CollapsibleContent className="pt-2">\n              <div className="space-y-2">\n                <Label htmlFor="token">Personal Access Token</Label>\n                <Input\n                  id="token"\n                  type="password"\n                  placeholder="ghp_xxxxxxxxxxxx"\n                  value={githubToken}\n                  onChange={(e) => setGithubToken(e.target.value)}\n                  disabled={isAnalyzing}\n                />\n                <p className="text-xs text-muted-foreground">\n                  Provide a token to access private repos or avoid rate limits. \n                  Token is not stored and only used for this analysis.\n                </p>\n              </div>\n            </CollapsibleContent>\n          </Collapsible>\n        </form>\n      </CardContent>\n    </Card>\n  );\n}\n';export{n as default};
