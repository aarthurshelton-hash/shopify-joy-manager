const n="/**\n * Bias Detection System for En Pensent Benchmarks\n * \n * Real-time monitoring of prediction color bias\n */\n\nexport interface ColorBiasMetrics {\n  whitePredictionRate: number;\n  blackPredictionRate: number;\n  drawPredictionRate: number;\n  biasScore: number;\n  isBalanced: boolean;\n}\n\nexport interface PredictionAttempt {\n  hybridPrediction?: 'white_wins' | 'black_wins' | 'draw';\n  actualResult?: 'white_wins' | 'black_wins' | 'draw';\n  [key: string]: any;\n}\n\nexport function detectColorBias(predictions: PredictionAttempt[]): ColorBiasMetrics {\n  const total = predictions.length;\n  if (total === 0) {\n    return {\n      whitePredictionRate: 0,\n      blackPredictionRate: 0,\n      drawPredictionRate: 0,\n      biasScore: 100,\n      isBalanced: false,\n    };\n  }\n  \n  const whiteCount = predictions.filter(p => p.hybridPrediction === 'white_wins').length;\n  const blackCount = predictions.filter(p => p.hybridPrediction === 'black_wins').length;\n  const drawCount = predictions.filter(p => p.hybridPrediction === 'draw').length;\n  \n  const whiteRate = (whiteCount / total) * 100;\n  const blackRate = (blackCount / total) * 100;\n  const drawRate = (drawCount / total) * 100;\n  \n  // Target: 50% white, 35% black, 15% draw\n  const whiteDeviation = Math.abs(whiteRate - 50);\n  const blackDeviation = Math.abs(blackRate - 35);\n  const drawDeviation = Math.abs(drawRate - 15);\n  \n  const biasScore = (whiteDeviation + blackDeviation + drawDeviation) / 3;\n  const isBalanced = biasScore < 15;\n  \n  return {\n    whitePredictionRate: whiteRate,\n    blackPredictionRate: blackRate,\n    drawPredictionRate: drawRate,\n    biasScore,\n    isBalanced,\n  };\n}\n\nexport function logBiasWarning(metrics: ColorBiasMetrics): void {\n  if (!metrics.isBalanced) {\n    console.warn(`⚠️ COLOR BIAS DETECTED: Score ${metrics.biasScore.toFixed(1)}%`);\n    console.warn(`  Distribution: W:${metrics.whitePredictionRate.toFixed(1)}% B:${metrics.blackPredictionRate.toFixed(1)}% D:${metrics.drawPredictionRate.toFixed(1)}%`);\n    console.warn(`  Target: W:50% B:35% D:15%`);\n  }\n}\n";export{n as default};
