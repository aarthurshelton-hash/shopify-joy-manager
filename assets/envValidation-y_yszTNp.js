const n="/**\n * Environment Variable Validation\n * \n * Validates all required environment variables at runtime.\n * Fails fast with clear error messages if configuration is missing.\n */\n\nimport { z } from 'zod';\n\n/**\n * Schema for required environment variables\n */\nconst envSchema = z.object({\n  // Supabase Configuration (Required)\n  VITE_SUPABASE_URL: z.string().url().min(1, 'Supabase URL is required'),\n  VITE_SUPABASE_PUBLISHABLE_KEY: z.string().min(1, 'Supabase publishable key is required'),\n  \n  // Trading Configuration (Optional but validated if present)\n  IB_BRIDGE_URL: z.string().url().optional(),\n  IB_GATEWAY_HOST: z.string().default('127.0.0.1'),\n  IB_GATEWAY_PORT: z.string().regex(/^\\d+$/).default('4002'),\n  \n  // Price Data APIs (Optional)\n  ALPHA_VANTAGE_API_KEY: z.string().optional(),\n  POLYGON_API_KEY: z.string().optional(),\n  \n  // Notifications (Optional)\n  SLACK_WEBHOOK_URL: z.string().url().optional(),\n});\n\n/**\n * Validated environment variables\n */\nexport type ValidatedEnv = z.infer<typeof envSchema>;\n\n/**\n * Validates environment variables and returns typed config\n * Throws error on invalid/missing required variables\n */\nexport function validateEnv(): ValidatedEnv {\n  try {\n    const env = envSchema.parse({\n      VITE_SUPABASE_URL: import.meta.env.VITE_SUPABASE_URL,\n      VITE_SUPABASE_PUBLISHABLE_KEY: import.meta.env.VITE_SUPABASE_PUBLISHABLE_KEY,\n      IB_BRIDGE_URL: import.meta.env.IB_BRIDGE_URL,\n      IB_GATEWAY_HOST: import.meta.env.IB_GATEWAY_HOST,\n      IB_GATEWAY_PORT: import.meta.env.IB_GATEWAY_PORT,\n      ALPHA_VANTAGE_API_KEY: import.meta.env.ALPHA_VANTAGE_API_KEY,\n      POLYGON_API_KEY: import.meta.env.POLYGON_API_KEY,\n      SLACK_WEBHOOK_URL: import.meta.env.SLACK_WEBHOOK_URL,\n    });\n    \n    console.log('[EnvValidation] ✓ All environment variables validated');\n    return env;\n  } catch (error) {\n    if (error instanceof z.ZodError) {\n      const issues = error.issues.map(i => `  - ${i.path.join('.')}: ${i.message}`).join('\\n');\n      console.error(`[EnvValidation] ✗ Environment validation failed:\\n${issues}`);\n      throw new Error(`Environment validation failed:\\n${issues}`);\n    }\n    throw error;\n  }\n}\n\n/**\n * Safe getter for environment variables with defaults\n */\nexport function getEnvVar(key: keyof ValidatedEnv, defaultValue?: string): string | undefined {\n  const env = validateEnv();\n  return (env[key] as string) ?? defaultValue;\n}\n\n/**\n * Check if trading configuration is complete\n */\nexport function isTradingEnabled(): boolean {\n  try {\n    const env = validateEnv();\n    return !!env.IB_BRIDGE_URL;\n  } catch {\n    return false;\n  }\n}\n\n/**\n * Check if price data APIs are configured\n */\nexport function isPriceDataEnabled(): boolean {\n  try {\n    const env = validateEnv();\n    return !!(env.ALPHA_VANTAGE_API_KEY || env.POLYGON_API_KEY);\n  } catch {\n    return false;\n  }\n}\n";export{n as default};
