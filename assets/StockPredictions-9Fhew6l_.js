var e,t=Object.defineProperty,n=(e,n,s)=>((e,n,s)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s)(e,"symbol"!=typeof n?n+"":n,s);import{aJ as s,r,ew as a,s as c,j as i,C as o,p as l,t as d,L as u,w as x,x as h,aq as m,B as f,aF as g,v as y,cR as j,y as v,b8 as p,b9 as w,ba as N,bb as b,bc as C,a8 as B,aB as D,aC as z,aD as q,b4 as L,aE as k,aY as I,bh as P,cb as G,ad as M,eD as A}from"./index-DEc03Eh1.js";import{A as K,a as U,b as S}from"./alert-Ch13TtbJ.js";import{T as H,a as V,b as E,c as O,d as T,e as W}from"./table-DYdus2r1.js";import{C as Y}from"./circle-alert-DXStgCMH.js";import{W as _}from"./wifi-off-DJq6gc6Q.js";import{W as F}from"./wifi-2R6GHKx8.js";import{B as J}from"./briefcase-BAx2fG-1.js";import{T as Z}from"./trending-down-IGGanLOz.js";const R=s("Bolt",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]),X=s("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),Q=ae;!function(){const e=ae,t=ie();for(;;)try{if(189499===-parseInt(e(216))/1*(parseInt(e(230))/2)+parseInt(e(208))/3+-parseInt(e(224))/4+-parseInt(e(201))/5+parseInt(e(231))/6*(parseInt(e(210))/7)+-parseInt(e(200))/8*(-parseInt(e(199))/9)+parseInt(e(203))/10*(parseInt(e(237))/11))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const $=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[ae(217)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=ae;return $[e(234)]().search(e(194)+"+$")[e(234)]()[e(207)+"r"]($)[e(209)](e(194)+"+$")});$();const ee=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,s}}();ee(void 0,function(){const e=ae,t={ONxsc:e(193),fvDRd:function(e,t){return e(t)},vwoRH:function(e,t){return e+t},IIush:"return (fu"+e(204),Mnrhq:function(e){return e()},zECyy:e(221),adEei:e(223),pLoVe:"info",ESSaH:e(239),aIXfw:e(241),vDftd:e(218)};let n;try{if(t[e(227)]!=t[e(227)])return{..._0x2e5647,..._0x417c8b[e(213)](_0x2f1e24)};{const s=t[e(233)](Function,t[e(235)](t.IIush+"{}.constru"+e(195)+'rn this")( )',");"));n=t[e(197)](s)}}catch(a){if(t.zECyy!==e(221)){const t=_0x374276[e(217)](_0x1c8e63,arguments);return _0x2c2733=null,t}n=window}const s=n[e(225)]=n.console||{},r=[e(236),t[e(205)],t[e(219)],t[e(228)],t.aIXfw,t[e(206)],e(238)];for(let c=0;c<r[e(212)];c++){const t=ee.constructor.prototype[e(232)](ee),n=r[c],a=s[n]||t;t.__proto__=ee[e(232)](ee),t[e(234)]=a[e(234)].bind(a),s[n]=t}})();const te=Q(196)+"_bridge_url",ne=Q(229)+"alhost:4000",se={};se[Q(240)]=ne,se[Q(222)+"t"]=Q(215),se[Q(211)+"t"]=4002,se.clientId=1;const re=se;function ae(e,t){e-=193;const n=ie();let s=n[e];if(void 0===ae.bdGWHV){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};ae.HMVoDz=r,ae.ygQNQB={},ae.bdGWHV=!0}const a=e+n[0],c=ae.ygQNQB[a];if(c)s=c;else{const e=function(e){this.ZUdTrc=e,this.UPyNWn=[1,0,0],this.QnjPDB=function(){return"newState"},this.tWIOWd="\\w+ *\\(\\) *{\\w+ *",this.ztzhFA="['|\"].+['|\"];? *}"};e.prototype.TQVpKj=function(){const e=new RegExp(this.tWIOWd+this.ztzhFA).test(this.QnjPDB.toString())?--this.UPyNWn[1]:--this.UPyNWn[0];return this.LkIkrv(e)},e.prototype.LkIkrv=function(e){return Boolean(~e)?this.nBzNTx(this.ZUdTrc):e},e.prototype.nBzNTx=function(e){for(let t=0,n=this.UPyNWn.length;t<n;t++)this.UPyNWn.push(Math.round(Math.random())),n=this.UPyNWn.length;return e(this.UPyNWn[0])},new e(ae).TQVpKj(),s=ae.HMVoDz(s),ae.ygQNQB[a]=s}return s}function ce(){const e=Q,t={};t[e(198)]=function(e,t){return e===t};if(t[e(198)](typeof window,e(220)))return re;const n=localStorage.getItem(te);if(n)try{return{...re,...JSON[e(213)](n)}}catch{return re}return re}function ie(){const e=["DhjHy2u","zxjYB3i","yNjPzgDLvxjS","zxHJzxb0Aw9U","y21Hsee","kcGOlISPkYKRkq","y3rVCIGICMv0Dq","AwjFz2f0zxDHEq","tw5YAhe","q0D1vgy","mta3ntmYq0TPExLh","otz2swvyq0G","mtaYndC3mePUEw5pDq","v0X2z2q","mtb6ALnStvG","BMn0Aw9UkcKG","ywrfzwK","DKrMDgq","y29UC3rYDwn0BW","mteYnZa0m0LOsMfJtq","C2vHCMnO","mte4nZqXre9oEKXo","z2f0zxDHEvbVCG","BgvUz3rO","CgfYC2u","C3rYAw5NAwz5","mti3lJaUmc4X","mvbhrxjXAG","yxbWBhK","DgfIBgu","CeXVvMu","Dw5KzwzPBMvK","whbktwm","z2f0zxDHEuHVCW","D2fYBG","mtq0otC0ogfjvKf0rq","y29UC29Szq","C2v0sxrLBq","t054C2m","rvntyuG","Ahr0CdOVl2XVyW","nZqXotrKBxPWyMi","ndj2D01vy2u","yMLUza","zNzeuMq","Dg9tDhjPBMC","DNDVuKG","Bg9N","mtCXoda3ovHpCwXgDq"];return(ie=function(){return e})()}function oe(){return ce().bridgeUrl}function le(e,t){e-=342;const n=ue();let s=n[e];if(void 0===le.FNrHja){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};le.mVuxaH=r,le.qmNSEz={},le.FNrHja=!0}const a=e+n[0],c=le.qmNSEz[a];if(c)s=c;else{const e=function(e){this.gICYSs=e,this.qOFaVT=[1,0,0],this.iRDQZZ=function(){return"newState"},this.wMOrje="\\w+ *\\(\\) *{\\w+ *",this.rFZhOQ="['|\"].+['|\"];? *}"};e.prototype.TKBjBK=function(){const e=new RegExp(this.wMOrje+this.rFZhOQ).test(this.iRDQZZ.toString())?--this.qOFaVT[1]:--this.qOFaVT[0];return this.NRMYUX(e)},e.prototype.NRMYUX=function(e){return Boolean(~e)?this.jipAWz(this.gICYSs):e},e.prototype.jipAWz=function(e){for(let t=0,n=this.qOFaVT.length;t<n;t++)this.qOFaVT.push(Math.round(Math.random())),n=this.qOFaVT.length;return e(this.qOFaVT[0])},new e(le).TKBjBK(),s=le.mVuxaH(s),le.qmNSEz[a]=s}return s}const de=le;function ue(){const e=["x19WCM90B19F","B3vUDhmGzxjYBW","yxbWBgLJyxrPBW","q0zys3C","l2fWAs9KAxnJBW","yMXLoG","BM93","ue9tva","ChbovLy","Ev0Gr2v0ig9Yza","zxHJzxb0Aw9U","kcGOlISPkYKRkq","Aw9UCZ9Hy2nVDq","BgvUz3rO","nJaZnZKWANz3q2fN","z2f0zxDHEvbVCG","Ev0GqNjPzgDLia","AxrPB25ZigvYCG","Ev0Gu2vHCMnOia","wvnevw4","Bg9N","nZb4EuDdD2W","y3rVCIGICMv0Dq","l2fWAs9VCMrLCG","C2vHCMnOq29UDa","uKjZq1i","mZq1ote4oxfqEKDOCq","nte3nta1nef4vuHVsG","ywnJB3vUDhm","l2fWAs9Hy2nVDq","Cg9YDa","z2f0zxDHEuHVCW","Ev0GugXHy2uGBW","qML2vhm","zxjYB3i","l2fWAs9JB25Uzq","B3jKzxjZ","z2v0uxvVDgu","y29UC3rYDwn0BW","y2fUy2vSt3jKzq","B3jKzxjjza","te54t0O","C2vHCMnO","mtC4otm5mKrgB0P4Aa","swPKrfO","D2fYBG","y29UC29Szq","CgfWzxjuCMfKAq","Aw5N","CNjVCJO","ANnVBG","revmrvrf","BI9QC29U","BwvZC2fNzq","ExL5u04","DwLjEwq","z2v0qwnJB3vUDa","y29UBMvJDgvK","otG1nZyZmw9YAvPXva","mZjnsuzqBe0","Ev0Gq2fUy2vSia","tMHdANy","zNnft0m","ndm0mdLWs2jKBxa","tuL5r3G","Cg9ZAxrPB25Z","z2v0t3jKzxjZ","C3vIBwL0DgvK","DgvK","AMLXtNK","CgXHy2vpCMrLCG","Ev0Gr2v0igfJyW","vurrsMe","Bwv0Ag9K","r1bzrgS","yNfJAKK","zxjZigvYCM9YoG","Ad9ZEw1IB2W9","BKDxAK8","CxjYywe","BM5Ly3q","CffLzuC","BK5rzfu","Ev0Gq29UBMvJDa","yMLUza","mtG4mdqYnenisurKrG","l2fWAs9ZDgf0Dq","zgLZy29UBMvJDa","w0LcieDHDgv3yq","r0vu","AgrVtLq","E30Uy29UC3rYDq","zfnOy04","ywLSzwq","rhzSCgK","ALfgsNO","wKr6uui","CMv0DxjUicHMDq","tgv2rfy","sLDKDxu","BKXHEfe","yvD1r1i","ChjVDg90ExbL","CM4GDgHPCYiPka","yxv0AgvUDgLJyq","B3jKzxiGzxjYBW","EeHpy20","C3vwuKm","DhjHy2u","t1LYvfq","yxbWBhK","BMn0Aw9UkcKG","Dg9tDhjPBMC","rwrLDg0","z2v0ug9ZAxrPBW","CMXftfK","Ev0Gr2v0ihbVCW","q29UDgvUDc1uEq","p2nVBMLKpq","BM90igf2ywLSyq","BNrZ","wxrrCfu","s1jHrxy","A3nbBMu","igvYCM9YoG","wfb4DhG"];return(ue=function(){return e})()}!function(){const e=le,t=ue();for(;;)try{if(781177===parseInt(e(376))/1*(-parseInt(e(460))/2)+-parseInt(e(465))/3+-parseInt(e(356))/4+-parseInt(e(453))/5+parseInt(e(398))/6+parseInt(e(371))/7+parseInt(e(372))/8*(parseInt(e(466))/9))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const xe=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[le(423)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}()(void 0,function(){const e=le,t={};t[e(357)]=e(450)+"+$";const n=t;return xe[e(425)]()[e(355)](e(450)+"+$")[e(425)]().constructor(xe)[e(355)](n.IjdDZ)});xe();const he=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[le(423)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}();he(void 0,function(){const e=le,t={UDQJa:e(435),nNQdU:function(e,t){return e+t},GPYDk:function(e,t){return e+t},LevDV:e(410)+e(424),YSDUn:e(404)+e(461)+e(416)+" )",ppNVV:function(e){return e()},RBsCR:e(459),mrXKA:"info",pbjmV:e(449),cjFdj:function(e,t){return e<t},EIbGb:function(e,t){return e!==t},CFXKw:e(409)},n=t[e(447)](function(){const n=e;if(t[n(385)]!==n(368)){let e;try{e=Function(t[n(395)](t[n(387)](t[n(411)],t[n(458)]),");"))()}catch(s){e=window}return e}return _0x7b6d8c.error(n(401)+"y] Get ord"+n(389),_0x2bc5e7),[]}),s=n[e(359)]=n[e(359)]||{},r=[t[e(464)],e(358),t.mrXKA,e(347),t.pbjmV,"table",e(421)];for(let a=0;t.cjFdj(a,r[e(452)]);a++){if(t.EIbGb(t[e(442)],t[e(442)]))return null;{const t=he[e(351)+"r"][e(415)][e(397)](he),n=r[a],c=s[n]||t;t[e(439)]=he[e(397)](he),t.toString=c.toString[e(397)](c),s[n]=t}}})();class me{constructor(){n(this,e,!1)}async checkConnection(){const e=de,t={MIyGx:function(e,t,n){return e(t,n)},jQFJz:function(e){return e()},suVRC:e(402),hdoNT:function(e,t){return e===t}};try{const n=ce(),s={};s[e(430)+"pe"]="applicatio"+e(365);const r=await t[e(377)](fetch,t[e(408)](oe)+(e(399)+"s"),{method:t[e(420)],headers:s});if(!r.ok){if(e(426)!==e(436)){const t={};return t[e(370)]=!1,t[e(417)+e(381)]=!1,t[e(360)+"ng"]=!1,t}if(_0x26dcc6){const t=_0x3bca90[e(423)](_0xd99dc1,arguments);return _0x33f250=null,t}}const a=await r.json();this[e(370)]=t[e(403)](a[e(370)],!0);const c={};return c[e(370)]=!0===a["bridgeRunn"+e(361)],c[e(417)+e(381)]=!0===a[e(370)],c[e(360)+"ng"]=4002===n.gatewayPort,c}catch(n){const t={};return t[e(370)]=!1,t[e(417)+e(381)]=!1,t[e(360)+"ng"]=!1,t}}async connect(){const e=de,t={ofOCo:function(e,t,n){return e(t,n)},MDENn:function(e){return e()},BivTs:e(446),NhCjv:function(e,t){return e===t}};try{const n=ce(),s={};s["Content-Type"]=e(441)+"n/json";const r={};r.host=n[e(344)+"t"],r[e(343)]=n[e(454)+"t"],r.clientId=n.clientId;const a=await t.ofOCo(fetch,t.MDENn(oe)+(e(348)+"ct"),{method:t[e(346)],headers:s,body:JSON.stringify(r)});if(!a.ok)return!1;const c=await a[e(363)]();return this.connected=t[e(374)](c[e(370)],!0),this[e(370)]}catch(n){return!1}}async[(e=de(370),de(400))](){const e=de,t={};t[e(392)]=function(e,t){return e===t},t.nLaxQ=e(375);const n=t;try{if(n.qrraa(n[e(413)],n[e(413)])){const t={};t[e(386)]=e(446),await fetch(oe()+(e(443)+e(393)),t),this[e(370)]=!1}else _0x43f10c=_0x579271}catch{}}async[de(369)+"s"](){const e=de,t={kFqPU:"return (fu"+e(424),JWduu:"{}.constru"+e(461)+'rn this")( )',dShcN:function(e){return e()},ELykf:e(414),LNxOJ:e(401)+e(384)+e(440)+"r:"};try{const n=await fetch(t[e(405)](oe)+(e(342)+e(433)));if(!n.ok)return[];return(await n[e(363)]())[e(467)]||[]}catch(n){if(e(391)!==t.ELykf)return[];_0x29af7=_0x3754f2(YjfZrx.kFqPU+YjfZrx[e(412)]+");")()}}async[de(427)+"ns"](e){const t=de,n=function(e){return e()};try{const s=await fetch(n(oe)+"/api/posit"+t(451)+"ntId="+e);if(!s.ok)return[];return(await s[t(363)]())[t(378)]||[]}catch(s){return[]}}async[de(379)](){const e=de,t={OYrTT:function(e,t){return e(t)}};try{const n=await t[e(422)](fetch,oe()+(e(462)+"s"));if(!n.ok)return[];return(await n[e(363)]())[e(349)]||[]}catch(n){return[]}}async[de(463)+"ract"](e){const t=de,n={xdswv:function(e,t){return e(t)},xHOcm:function(e){return e()},twcsI:t(401)+t(457)+"contract e"+t(362)};try{const s=await n.xdswv(fetch,n[t(419)](oe)+"/api/searc"+t(390)+encodeURIComponent(e));if(!s.ok)return[];return(await s[t(363)]()).contracts||[]}catch(s){if(t(407)==t(407))return[];if(_0x552527){const e=_0x3d7854.apply(_0x7a2315,arguments);return _0x29c0b2=null,e}}}async[de(383)](e){const t=de,n={yyySN:function(e,t,n){return e(t,n)},GIHTB:function(e){return e()},pQeeG:t(441)+t(365),rlELY:t(401)+"y] Order f"+t(406),XPxtx:t(380)};try{const s=await n[t(367)](fetch,n.GIHTB(oe)+(t(462)+"s"),{method:t(446),headers:{"Content-Type":n[t(394)]},body:JSON.stringify(e)});if(!s.ok)return null;const r=await s[t(363)]();return{orderId:r[t(353)]||"ib-"+Date[t(445)](),status:r.status||n[t(438)]}}catch(s){return null}}async[de(352)+"r"](e){const t=de,n={bqcjI:function(e){return e()},YtQpU:t(364)};try{return(await fetch(n[t(388)](oe)+(t(462)+"s/")+e,{method:n[t(434)]})).ok}catch(s){return!1}}async[de(350)](e){const t=de,n={IYvlt:function(e,t){return e(t)},jiqNy:function(e){return e()}};try{const s=await n.IYvlt(fetch,n[t(382)](oe)+"/api/quote"+t(431)+e);if(!s.ok)return null;return await s.json()}catch{return null}}}const fe=new me;function ge(){const e=["CMv0DxjUicHMDq","DgvK","tvzSqw0","rNL3sLa","yNH2Dfi","ic0G","Bg9Hze9YzgvYCW","Bg9HzefJy291BG","yvDPsuq","ogXuBNHNqW","rLzRsMi","igHHCYbIzwvUia","CM4GDgHPCYiPka","DMfYAwfUDa","Dg9tDhjPBMC","AwnRicjdB25Uzq","C3LTyM9S","q29UBMvJDgLVBG","uMXuA1y","wfrQBvO","y29UBMvJDgvK","y2fUy2vSBgvKlG","ExHJEfq","Aw9UignOzwnRia","vg1AA0S","iezVDw5K","ywnJB3vUDhm","EwDNCKK","Ev0Gq29UBMvJDa","q3DqteG","Dg9mB3DLCKnHCW","q291BgqGBM90ia","qKvNENq","tg1nueW","qNjPzgDLig5VDa","Aw5MBW","D2fYBG","BgvUz3rO","mte4nZu5oxPxD1nMsW","y3rPB24","C2vSzwn0qwnJBW","B3jKzxjuExbL","zgvZDhj1y3rPDG","zwqGDg8GsuiGrW","y29UC29Szq","BwvZC2fNzq","yMLUza","y29UBMvJDdOG","BMn0Aw9UkcKG","qNjPzgDLihj1BG","BMLUzYbIDxqGBG","t3jKzxiGq2fUyW","u3rHCNqGDgHLia","zLzYzva","C3rHCNrZv2L0Aa","EvPgC20","z2v0qwnJB3vUDa","t3jKzxiG","BvrcEgq","AguGyNjPzgDLia","DgL0Bgu","t3jKzxiGugXHyW","Bg9N","DhjHy2u","z2uGC2vYDMvYia","sMDvEuK","ywrKywu","tM8GqwnJB3vUDa","ChjVDg90ExbL","Bg9HzfbVC2L0Aq","Be10sfO","C3rHDhvZ","ifnLBgvJDgvK","u3vJy2vZC2z1Ba","CgfWzxjuCMfKAq","whnmA2q","yxbWBhK","zYbJB25Uzwn0Aq","y29UC3rYDwn0BW","wvDgquS","uuHtD0y","CgXHy2vpCMrLCG","Bg9HzgLUzW","zwXSzwq","y29UBMvJDc4Grq","mJr5vKXkEhu","uNDfD2y","B1z3zhm","x19WCM90B19F","C2LKzq","nJK3mtCZzM1jvNDl","ody0mJe5nKLtD3vwAG","ywnJB3vUDeLK","B3vUDcbMAxjZDa","B3jKzxjZ","tK1tCNC","CKPVz3G","y29UAwq","zxHJzxb0Aw9U","AwTeyvG","zxjYB3i","yxrLD2f5","C2vSzwn0zwrbyW","ywn0igzVCIa","y29UBMvJDa","u3LTyM9Sie5VDa","yxrLD2f5ignVBG","tNHXr2e","wNrpsKy","y3vYCMvUDa","nJuZmJy5uNzPAhDi","rMXXt2y","DgfIBgu","ChjPy2u","CI4Gq2HLy2SGzW","C2vHCMnOq29UDa","BhKGy29UBMvJDa","BMfIBgvKlG","zMLYC3qU","BhboB0G","CxvHBNrPDhK","zwn0igfUigfJyW","CMvMCMvZAerHDa","kcGOlISPkYKRkq","uLzNDLC","wNrSBgi","mJiWmdG3mKnmvwryuq","ugXLyxnLihnLBa","rwXHt2S","mZyZnuzUyvbkAW","mtaXmM9svwflAq","yNDrte4","mNjuAwPrAG","vgzUqKC","z2XAAxC","z2v0ug9ZAxrPBW","BNn1CMuGsuiGrW","s1z3te0","t3jKzxiGrMfPBa","ywnJB3vUDfr5Ca","rfvst08","DNjHuui","yxv0AgvUDgLJyq","Bgr3t1y","ywXS","mJGYntb4zvL3rMe","y291BNq","r1bYqxu","ALbfrLa","DgLTzwqGB3v0","ihj1BM5PBMCUia","BNfyDhO","C2vYDMvYigLZia","CNvUBMLUzY4","ihrPBwvKig91Da","B25Z","Bg9JywWGyNjPza","yxrLD2f5lIbdBa","nZu4ngXzsu9dBa","CgfWzxi","w0LcieDHDgv3yq","rMfPBgvKihrVia","y1rgDhm","y2fUy2vSt3jKzq","C2vHCMnO","zLrwy0i","y2HLy2TdB25Uzq","zgvZy3jPChrPBW"];return(ge=function(){return e})()}!function(){const e=je,t=ge();for(;;)try{if(732636===-parseInt(e(308))/1*(-parseInt(e(330))/2)+-parseInt(e(288))/3*(parseInt(e(375))/4)+-parseInt(e(327))/5*(-parseInt(e(356))/6)+-parseInt(e(236))/7*(-parseInt(e(283))/8)+-parseInt(e(289))/9+parseInt(e(343))/10*(parseInt(e(328))/11)+-parseInt(e(324))/12)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ye=function(){const e=je,t={};t[e(268)]=e(368);const n=t;let s=!0;return function(t,r){const a=e;if(a(368)===n[a(268)]){const e=s?function(){if(r){const e=r.apply(t,arguments);return r=null,e}}:function(){};return s=!1,e}({fTVcB:function(e){return e()}})[a(363)](_0x2f99e1)}}()(void 0,function(){const e=je;return ye[e(380)]()[e(362)](e(321)+"+$")[e(380)]()[e(276)+"r"](ye).search(e(321)+"+$")});function je(e,t){e-=214;const n=ge();let s=n[e];if(void 0===je.kgUVBH){var r=function(e){let t="",n="",s=t+r;for(let r,a,c=0,i=0;a=e.charAt(i++);~a&&(r=c%4?64*r+a:a,c++%4)?t+=s.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};je.UjNliQ=r,je.KwAEmF={},je.kgUVBH=!0}const a=e+n[0],c=je.KwAEmF[a];if(c)s=c;else{const e=function(e){this.RmNDpk=e,this.gxiqKd=[1,0,0],this.LtpkNc=function(){return"newState"},this.qKacAK="\\w+ *\\(\\) *{\\w+ *",this.wbkTMx="['|\"].+['|\"];? *}"};e.prototype.wikdLt=function(){const e=new RegExp(this.qKacAK+this.wbkTMx).test(this.LtpkNc.toString())?--this.gxiqKd[1]:--this.gxiqKd[0];return this.salzdj(e)},e.prototype.salzdj=function(e){return Boolean(~e)?this.TRHiPn(this.RmNDpk):e},e.prototype.TRHiPn=function(e){for(let t=0,n=this.gxiqKd.length;t<n;t++)this.gxiqKd.push(Math.round(Math.random())),n=this.gxiqKd.length;return e(this.gxiqKd[0])},new e(je).wikdLt(),s=je.UjNliQ(s),je.KwAEmF[a]=s}return s}ye();const ve=function(){let e=!0;return function(t,n){const s=e?function(){if(n){const e=n[je(274)](t,arguments);return n=null,e}}:function(){};return e=!1,s}}();ve(void 0,function(){const e=je,t={yggrI:function(e,t){return e!==t},yNyPu:function(e,t){return e(t)},bwQLN:'{}.constructor("retu'+e(378)+" )",XsLkd:"log",rJogx:e(234),tsyJS:e(233),oVwds:"error",Ztllb:e(296),jPEFP:e(310),fKtKd:e(261)},n=function(){const n=e;if(t[n(225)](n(332),"GpBby")){let e;try{e=t.yNyPu(Function,n(366)+n(246)+t[n(329)]+");")()}catch(s){e=window}return e}{const e={};return e[n(258)]=n(303)+n(223),e[n(365)+"n"]="Could not find contr"+n(301)+_0x264149[n(214)],e[n(379)]=n(240)+"e",_0xbd27d9(e),null}}(),s=n[e(242)]=n[e(242)]||{},r=[t[e(273)],t[e(294)],t.tsyJS,t[e(285)],t[e(323)],t[e(346)],t.fKtKd];for(let a=0;a<r[e(235)];a++){const t=ve[e(276)+"r"][e(266)].bind(ve),n=r[a],c=s[n]||t;t[e(286)]=ve[e(244)](ve),t[e(380)]=c.toString[e(244)](c),s[n]=t}})();const pe=["SPY","QQQ","AAPL","MSFT","NVDA","TSLA","AMD","META"];function we(){const{connected:e,authenticated:t,paperTrading:n,accounts:s,selectedAccount:A,positions:X,orders:Q,loading:$,error:ee,checkConnection:te,connectToGateway:ne,refreshData:se,placeOrder:re,cancelOrder:ae,selectAccount:ce}=function(){var e;const t=je,n={fPtLC:"nvaBz",addae:function(e,t){return e(t)},yxcxT:t(265)+t(270),FywJP:function(e,t){return e===t},aWiID:"[IB Gateway] Checkin"+t(275)+"on...",vraQB:function(e,t){return e(t)},XTjmZ:t(358)+t(226)+"ion error:",FVkJb:t(321)+"+$",bxvtR:function(e,t){return e===t},QHSwF:t(222),kcPFO:function(e,t){return e(t)},BEgzt:function(e,t){return e(t)},KVwLM:function(e){return e()},lJbVB:function(e){return e()},YWFAK:function(e,t){return e(t)},VSalB:function(e,t){return e(t)},BIgUq:function(e,t){return e(t)},ZtOJF:t(336)+"ed",NxqGa:t(229)+"place orde"+t(312)+t(304)+"nection.",DUROO:t(240)+"e",JgUyI:"ldwOV",yZFsm:t(325)+t(319)+t(291)+".",ikDaX:"Symbol Not"+t(223),ElaOk:t(249)+t(281),jsrdQ:function(e,t){return e!==t},RlTkV:"qGYOm",RwEwf:function(e,t,n){return e(t,n)},RVgvW:function(e,t,n){return e(t,n)},uzyQm:function(e,t,n){return e(t,n)}},s={connected:!1};s[t(340)+t(367)]=!1,s[t(272)+"ng"]=!1,s.accounts=[],s[t(300)+t(344)]=null,s.positions=[],s[t(292)]=[],s[t(280)]=!0,s[t(298)]=null;const[c,i]=r.useState(s),o=r.useRef(null),{toast:l}=n[t(335)](a),d=r.useCallback(async()=>{const e=t,s={nqXtz:function(e,t){return e===t},uNILv:n.fPtLC,FlqOf:function(e,t){return n[je(264)](e,t)},lpNoH:n[e(220)],TfnBG:e(240)+"e"};if(!n[e(369)]("mTBxd",e(256))){const t={};return t[e(258)]=s[e(317)],t[e(365)+"n"]="Please sel"+e(319)+e(291)+".",t[e(379)]=s[e(331)],_0x51ed1c(t),null}{i(e=>({...e,loading:!0,error:null}));const t=setTimeout(()=>{const t=e;if(!s[t(349)]("nvaBz",s.uNILv)){const e=_0x4d3bc5?function(){if(_0x829e39){const e=_0x39f8fa[t(274)](_0x80d1c7,arguments);return _0x29c0ef=null,e}}:function(){};return _0x38aab6=!1,e}s[t(309)](i,e=>({...e,connected:!1,authenticated:!1,loading:!1,error:"Connection timed out. Ensure t"+t(257)+t(350)+"running."}))},8e3);try{const s=await fe["checkConne"+e(237)]();return clearTimeout(t),n[e(264)](i,t=>({...t,connected:s[e(218)],authenticated:s[e(340)+e(367)],paperTrading:s[e(272)+"ng"],loading:!1,error:s[e(218)]?s[e(340)+e(367)]?null:e(247)+e(248)+"ot connect"+e(241)+e(355)+e(381)+'ct to Gateway".':e(232)+e(348)+e(250)+e(354)+e(262)+e(316)})),s}catch(r){n[e(339)](clearTimeout,t),i(t=>({...t,connected:!1,authenticated:!1,loading:!1,error:e(359)+e(245)+r[e(243)]}));const s={connected:!1};return s[e(340)+e(367)]=!1,s[e(272)+"ng"]=!1,s}}},[]),u=r.useCallback(async()=>{const e=t;if(!n[e(370)]("TmZkK",n[e(278)]))return _0x1f8cc0[e(380)]()[e(362)](kaSxZC[e(376)]).toString()[e(276)+"r"](_0x2b4759)[e(362)](kaSxZC[e(376)]);n.kcPFO(i,e=>({...e,loading:!0,error:null}));try{const t=await fe[e(302)]();if(t){const t={title:"Connected"};t.description=e(271)+e(314)+e(241)+e(299),n[e(230)](l,t),await n[e(335)](d),await n.lJbVB(x)}else n.BEgzt(i,t=>({...t,loading:!1,error:e(359)+e(282)+e(334)+"ateway is running and API is e"+e(315)}));return t}catch(s){return i(t=>({...t,loading:!1,error:e(215)+" failed: "+s[e(243)]})),!1}},[l,d]),x=n[t(284)](r.useCallback,async()=>{const e=t,s=await fe[e(254)+"s"](),r=s.find(t=>t.accountId[e(252)]("DU")||t[e(337)+"e"][e(228)+"e"]().includes(e(357)));return n[e(277)](i,e=>({...e,accounts:s,selectedAccount:r||s[0]||null})),s},[]),h=r.useCallback(async()=>{const e=t;if(!c.selectedAccount)return[];const n=await fe[e(333)+"ns"](c[e(300)+e(344)].accountId);return i(e=>({...e,positions:n})),n},[c[t(300)+t(344)]]),m=r.useCallback(async()=>{const e=await fe.getOrders();return n.VSalB(i,t=>({...t,orders:e})),e},[]),f=r.useCallback(async()=>{const e=t;c[e(340)+e(367)]&&await Promise[e(342)]([x(),n.lJbVB(h),m()])},[c[t(340)+"ted"],x,h,m]),g=n[t(322)](r.useCallback,async e=>{const s=t;if(n[s(263)]===s(341)){if(!c[s(300)+"count"])return n.vraQB(l,{title:s(265)+s(270),description:n[s(253)],variant:n[s(338)]}),null;const t=await fe[s(313)+"ract"](e[s(214)]);if(0===t.length){const t={};return t[s(258)]=n[s(297)],t[s(365)+"n"]="Could not find contr"+s(301)+e[s(214)],t[s(379)]=n.DUROO,l(t),null}const r=t[0],a={};a[s(290)]=c[s(300)+s(344)][s(290)],a[s(295)]=r[s(295)],a[s(214)]=e[s(214)],a.side=e[s(287)],a.quantity=e[s(318)],a[s(239)]=e[s(239)],a[s(311)]=e[s(311)];const i=await fe[s(279)](a);if(i){const t={};t[s(258)]=s(259)+"ed",t[s(365)+"n"]=e[s(287)]+" "+e.quantity+" "+e.symbol+s(371)+i[s(269)],l(t),await m()}else{const e={};e.title=n[s(306)],e[s(365)+"n"]=n[s(305)],e[s(379)]=s(240)+"e",l(e)}return i}n.BIgUq(_0x253043,{title:n.ZtOJF,description:n[s(305)],variant:n[s(338)]})},[c[t(300)+t(344)],l,m]),y=r.useCallback(async e=>{const s=t,r=await fe[s(361)+"r"](e);return r&&(n.VSalB(l,{title:n[s(326)],description:s(255)+e+(s(377)+s(219))}),await m()),r},[l,m]),j=r.useCallback(e=>{const s=t,r={};r[s(227)]=s(358)+"y] Connection check "+s(347);const a=r,o=c[s(224)].find(t=>t[s(290)]===e);o&&(n.jsrdQ("GPrAu",s(345))?(_0x329804[s(234)](a[s(227)]),_0x85c705(e=>({...e,connected:!1,authenticated:!1,loading:!1,error:s(215)+s(352)+". Ensure the bridge server is "+s(351)}))):i(e=>({...e,selectedAccount:o})))},[c.accounts]);n.uzyQm(r.useEffect,()=>{const e={fVreP:function(e,t){return e===t},cTFts:function(e,t){return n[je(264)](e,t)}};return(async()=>{const e=je,t=function(e){return e()};(await d())[e(340)+e(367)]&&(n[e(216)]!==e(293)?(await x(),await n[e(335)](h),await m(),o[e(307)]=setInterval(()=>{t(f)},1e4)):_0x441ffc[e(300)+"count"]&&_0x403b62[e(340)+e(367)]&&_0x4c7383())})(),()=>{const t=je;if(e[t(251)](t(231),t(231)))o[t(307)]&&e[t(360)](clearInterval,o[t(307)]);else{const e=_0x5e6da2[t(276)+"r"][t(266)][t(244)](_0x2888b5),n=_0x114862[_0x2da794],s=_0x142afb[n]||e;e[t(286)]=_0xb63c51[t(244)](_0x1c588d),e[t(380)]=s[t(380)][t(244)](s),_0x4ab453[n]=e}}},[]),r.useEffect(()=>{const e=t;c[e(300)+e(344)]&&c[e(340)+"ted"]&&h()},[null==(e=c[t(300)+t(344)])?void 0:e[t(290)]]);const v={...c};return v[t(364)+t(237)]=d,v["connectToG"+t(299)]=u,v[t(373)+"ts"]=x,v[t(267)+t(353)]=h,v[t(372)]=m,v[t(320)+"a"]=f,v.placeOrder=g,v[t(361)+"r"]=y,v[t(238)+"unt"]=j,v}(),[ie,oe]=r.useState("overview"),[le,de]=r.useState([]),[ue,xe]=r.useState(!1),[he,me]=r.useState([]),[ge,ye]=r.useState({total:0,today:0,pnl:0}),[ve,we]=r.useState(!1),[Ne,be]=r.useState({symbol:"SPY",side:"BUY",quantity:1,orderType:"MKT",price:0}),[Ce,Be]=r.useState(!1);r.useEffect(()=>{const e=async()=>{try{const{data:e}=await c.from("farm_status").select("*").eq("farm_name","high-frequency-paper-trader").single();if(e){const t=new Date(e.updated_at),n=t>new Date(Date.now()-12e4);we("trading"===e.status||n)}const{data:t}=await c.from("autonomous_trades").select("*").order("created_at",{ascending:!1}).limit(50);if(t){me(t);const e=new Date;e.setHours(0,0,0,0);const n=t.filter(t=>new Date(t.created_at)>=e),s=t.reduce((e,t)=>e+(t.pnl||0),0);ye({total:t.length,today:n.length,pnl:s})}}catch(e){}};e();const t=c.channel("hf-trades").on("postgres_changes",{event:"INSERT",schema:"public",table:"autonomous_trades"},e=>{const t=e.new;me(e=>[t,...e].slice(0,50));const n=new Date;n.setHours(0,0,0,0);const s=new Date(t.created_at)>=n;ye(e=>({total:e.total+1,today:s?e.today+1:e.today,pnl:e.pnl+(t.pnl||0)}))}).subscribe(),n=setInterval(e,5e3);return()=>{clearInterval(n),t.unsubscribe()}},[]),r.useCallback(()=>{te()},[te]),r.useEffect(()=>{if(t){De();const e=setInterval(De,3e4);return()=>clearInterval(e)}},[t]);const De=async()=>{xe(!0);try{const{data:e,error:t}=await c.functions.invoke("stock-data",{body:{action:"batch",symbols:pe}});!t&&(null==e?void 0:e.stocks)&&de(e.stocks.map(e=>({symbol:e.symbol,price:e.latestPrice,change:e.change,changePercent:e.changePercent})))}catch(e){}finally{xe(!1)}},ze=e=>{be(t=>({...t,symbol:e,side:"BUY"})),oe("trade")},qe=r.useMemo(()=>{const e=X.reduce((e,t)=>e+t.marketValue,0),t=X.reduce((e,t)=>e+t.unrealizedPnl,0);return{totalValue:e,totalPnL:t,totalRealizedPnL:X.reduce((e,t)=>e+t.realizedPnl,0),pnlPercent:(null==A?void 0:A.balance)?t/A.balance*100:0}},[X,A]);return $?i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(u,{className:"h-5 w-5 animate-spin text-primary"}),"Connecting to IB Gateway Bridge..."]})}),i.jsx(x,{children:"Checking connection to gateway"})]}),i.jsxs(h,{className:"space-y-4",children:[i.jsx(m,{value:33,className:"h-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Looking for the Client Portal Gateway..."}),i.jsxs(K,{children:[i.jsx(Y,{className:"h-4 w-4"}),i.jsx(U,{children:"Connection taking too long?"}),i.jsxs(S,{className:"space-y-2 mt-2",children:[i.jsx("p",{children:"Your browser may be blocking the connection. Try:"}),i.jsxs("ol",{className:"list-decimal list-inside text-sm space-y-1",children:[i.jsxs("li",{children:["Click ",i.jsx("strong",{children:"Gateway Settings"})," above to configure your gateway URL"]}),i.jsx("li",{children:"If using remotely, enter your machine's IP (e.g., https://192.168.1.100:5000)"}),i.jsxs("li",{children:["Accept the ",i.jsx("strong",{children:"self-signed certificate warning"})," in your browser"]}),i.jsx("li",{children:"Login if prompted, then return here"})]})]})]}),i.jsxs(f,{variant:"outline",size:"sm",onClick:()=>window.open("https://localhost:5000","_blank"),children:[i.jsx(g,{className:"h-4 w-4 mr-2"}),"Open Gateway in New Tab"]})]})]}):e?t?i.jsxs("div",{className:"space-y-6",children:[i.jsx(o,{className:"bg-gradient-to-br from-card via-card to-primary/5 border-primary/20",children:i.jsxs(h,{className:"pt-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(j,{className:"h-5 w-5 text-primary"}),i.jsx("span",{className:"font-medium",children:"IBKR Connected"}),n&&i.jsx(v,{variant:"outline",className:"bg-primary/10 text-primary border-primary",children:"Paper Trading"})]}),i.jsxs(p,{value:(null==A?void 0:A.accountId)||"",onValueChange:ce,children:[i.jsx(w,{className:"w-48",children:i.jsx(N,{placeholder:"Select Account"})}),i.jsx(b,{children:s.map(e=>i.jsxs(C,{value:e.accountId,children:[e.accountId," (",e.accountType,")"]},e.accountId))})]}),i.jsx(f,{variant:"ghost",size:"icon",onClick:se,children:i.jsx(y,{className:"h-4 w-4"})})]}),A&&i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[i.jsx(B,{className:"w-3 h-3"}),"Account Balance"]}),i.jsxs("div",{className:"text-3xl font-mono font-bold",children:["$",A.balance.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Buying Power"}),i.jsxs("div",{className:"text-xl font-mono",children:["$",A.buyingPower.toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})]}),X.length>0&&i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6 pt-6 border-t",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Positions Value"}),i.jsxs("div",{className:"text-xl font-bold",children:["$",qe.totalValue.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Unrealized P&L"}),i.jsxs("div",{className:"text-xl font-bold "+(qe.totalPnL>=0?"text-success":"text-destructive"),children:[qe.totalPnL>=0?"+":"","$",qe.totalPnL.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Realized P&L"}),i.jsxs("div",{className:"text-xl font-bold "+(qe.totalRealizedPnL>=0?"text-success":"text-destructive"),children:[qe.totalRealizedPnL>=0?"+":"","$",qe.totalRealizedPnL.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Open Positions"}),i.jsx("div",{className:"text-xl font-bold",children:X.length})]})]})]})}),i.jsxs(D,{value:ie,onValueChange:oe,children:[i.jsxs(z,{className:"grid w-full grid-cols-2 max-w-md",children:[i.jsxs(q,{value:"overview",className:"flex items-center gap-1",children:[i.jsx(L,{className:"w-4 h-4"})," Overview"]}),i.jsxs(q,{value:"hf-trading",className:"flex items-center gap-1",children:[i.jsx(R,{className:"w-4 h-4"})," HF Trading",ve&&i.jsx("span",{className:"ml-1 w-2 h-2 bg-success rounded-full animate-pulse"})]})]}),i.jsx(k,{value:"overview",className:"mt-6",children:i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(I,{className:"w-5 h-5"}),"Quick Trade"]}),i.jsx(x,{children:"Click a symbol to start a trade"})]}),i.jsxs(h,{children:[i.jsx("div",{className:"grid grid-cols-4 gap-2",children:le.length>0?le.map(e=>i.jsxs(f,{variant:"outline",className:"flex flex-col h-auto py-3 hover:border-primary",onClick:()=>ze(e.symbol),children:[i.jsx("span",{className:"font-bold",children:e.symbol}),i.jsxs("span",{className:"text-sm",children:["$",e.price.toFixed(2)]}),i.jsxs("span",{className:"text-xs "+(e.changePercent>=0?"text-success":"text-destructive"),children:[e.changePercent>=0?"+":"",e.changePercent.toFixed(2),"%"]})]},e.symbol)):pe.map(e=>i.jsx(f,{variant:"outline",className:"py-6",onClick:()=>ze(e),children:e},e))}),ue&&i.jsx("div",{className:"text-center text-sm text-muted-foreground mt-2",children:"Updating quotes..."})]})]}),i.jsxs(o,{children:[i.jsx(l,{children:i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(J,{className:"w-5 h-5"}),"Current Positions"]})}),i.jsx(h,{children:0===X.length?i.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[i.jsx(P,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No open positions"}),i.jsx("p",{className:"text-sm",children:"Place a trade to get started"})]}):i.jsxs("div",{className:"space-y-3",children:[X.slice(0,5).map(e=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:e.symbol}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.position>0?"+":"",e.position," shares @ $",e.avgCost.toFixed(2)]})]}),i.jsxs("div",{className:"text-right "+(e.unrealizedPnl>=0?"text-success":"text-destructive"),children:[i.jsxs("div",{className:"font-medium",children:[e.unrealizedPnl>=0?"+":"","$",e.unrealizedPnl.toFixed(2)]}),i.jsxs("div",{className:"text-sm",children:["$",e.marketValue.toFixed(2)]})]})]},e.conid)),X.length>5&&i.jsxs(f,{variant:"ghost",className:"w-full",onClick:()=>oe("positions"),children:["View all ",X.length," positions"]})]})})]})]})}),i.jsx(k,{value:"hf-trading",className:"mt-6",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs(o,{className:"border-2 "+(ve?"border-warning bg-warning/5":"border-dashed"),children:[i.jsx(l,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 rounded-full "+(ve?"bg-warning/20":"bg-muted"),children:i.jsx(R,{className:"w-6 h-6 "+(ve?"text-warning animate-pulse":"text-muted-foreground")})}),i.jsxs("div",{children:[i.jsxs(d,{className:"flex items-center gap-2",children:["High-Frequency Paper Trading",ve&&i.jsxs(v,{className:"bg-warning text-warning-foreground",children:[i.jsx(P,{className:"w-3 h-3 mr-1 animate-pulse"}),"LIVE"]})]}),i.jsx(x,{children:"Terminal-based worker generating 100+ trades/day for En Pensent training"})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Worker Status"}),i.jsx("div",{className:"font-medium "+(ve?"text-warning":"text-muted-foreground"),children:ve?"RUNNING":"OFFLINE"})]})]})}),i.jsxs(h,{children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.total}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Trades"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono",children:ge.today}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Today's Trades"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"text-3xl font-bold font-mono "+(ge.pnl>=0?"text-success":"text-destructive"),children:[ge.pnl>=0?"+":"","$",ge.pnl.toFixed(2)]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total P&L"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold font-mono text-warning",children:ve?"30s":"N/A"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Cycle Time"})]})]}),i.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(G,{className:"w-4 h-4"}),i.jsx("span",{children:"Auto-refresh every 5 seconds from Supabase"}),i.jsx("span",{className:"mx-2",children:"•"}),i.jsx("span",{children:"11 symbols: AAPL, MSFT, NVDA, TSLA, AMD, META, GOOGL, AMZN, SPY, QQQ, IWM"})]})]})]}),i.jsxs(o,{children:[i.jsxs(l,{children:[i.jsxs(d,{className:"flex items-center gap-2",children:[i.jsx(P,{className:"w-5 h-5"}),"Live Trade Feed",he.length>0&&i.jsxs(v,{variant:"secondary",children:[he.length," recent"]})]}),i.jsx(x,{children:"Real-time trades from high-frequency worker (updates every 5s)"})]}),i.jsx(h,{children:0===he.length?i.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[i.jsx(R,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{className:"text-lg",children:"No trades yet"}),i.jsx("p",{className:"text-sm",children:"Start the high-frequency worker to see activity"}),i.jsx("code",{className:"block mt-4 p-2 bg-muted rounded text-xs",children:"node farm/workers/high-frequency-paper-trader.mjs"})]}):i.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:he.map(e=>{var t;return i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:["BUY"===e.direction?i.jsx(M,{className:"w-4 h-4 text-success"}):i.jsx(Z,{className:"w-4 h-4 text-destructive"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold",children:e.symbol}),i.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleTimeString()})]}),i.jsx(v,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction}),i.jsxs(v,{variant:"outline",className:"text-xs",children:[e.shares," shares"]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Entry"})]}),e.predicted_confidence&&i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-mono",children:[(100*e.predicted_confidence).toFixed(0),"%"]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Conf"})]}),void 0!==e.pnl&&null!==e.pnl&&i.jsxs("div",{className:"text-right font-mono "+(e.pnl>=0?"text-success":"text-destructive"),children:[i.jsxs("div",{children:[e.pnl>=0?"+":"","$",e.pnl.toFixed(2)]}),i.jsx("div",{className:"text-xs",children:"P&L"})]}),i.jsx(v,{variant:"outline",className:"open"===e.status?"bg-success/10 text-success":"bg-muted",children:e.status})]})]},e.id)})})})]}),he.filter(e=>"open"===e.status).length>0&&i.jsxs(o,{children:[i.jsx(l,{children:i.jsxs(d,{className:"text-lg flex items-center gap-2",children:[i.jsx(J,{className:"w-5 h-5"}),"Open HF Positions"]})}),i.jsx(h,{children:i.jsxs(H,{children:[i.jsx(V,{children:i.jsxs(E,{children:[i.jsx(O,{children:"Symbol"}),i.jsx(O,{children:"Side"}),i.jsx(O,{className:"text-right",children:"Shares"}),i.jsx(O,{className:"text-right",children:"Entry"}),i.jsx(O,{className:"text-right",children:"Stop Loss"}),i.jsx(O,{className:"text-right",children:"Take Profit"}),i.jsx(O,{children:"Status"})]})}),i.jsx(T,{children:he.filter(e=>"open"===e.status).map(e=>{var t,n,s;return i.jsxs(E,{children:[i.jsx(W,{className:"font-bold",children:e.symbol}),i.jsx(W,{children:i.jsx(v,{variant:"BUY"===e.direction?"default":"destructive",children:e.direction})}),i.jsx(W,{className:"text-right font-mono",children:e.shares}),i.jsxs(W,{className:"text-right font-mono",children:["$",null==(t=e.entry_price)?void 0:t.toFixed(2)]}),i.jsxs(W,{className:"text-right font-mono text-destructive",children:["$",(null==(n=e.stop_loss)?void 0:n.toFixed(2))||"N/A"]}),i.jsxs(W,{className:"text-right font-mono text-success",children:["$",(null==(s=e.take_profit)?void 0:s.toFixed(2))||"N/A"]}),i.jsx(W,{children:i.jsx(v,{variant:"outline",className:"bg-success/10 text-success border-success/30",children:"Open"})})]},e.id)})})]})})]})]})})]})]}):i.jsxs(o,{className:"border-warning/50",children:[i.jsx(l,{children:i.jsxs(d,{className:"flex items-center gap-2 text-warning",children:[i.jsx(F,{className:"h-5 w-5"}),"Gateway Running - Login Required"]})}),i.jsxs(h,{className:"space-y-4",children:[i.jsxs(K,{variant:"default",children:[i.jsx(Y,{className:"h-4 w-4"}),i.jsx(S,{children:'Bridge is running but not connected to IB Gateway. Open IB Gateway desktop app, log in, then click "Connect to Gateway".'})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(f,{onClick:ne,className:"flex-1",children:[i.jsx(F,{className:"h-4 w-4 mr-2"}),"Connect to Gateway"]}),i.jsxs(f,{variant:"outline",onClick:te,children:[i.jsx(y,{className:"h-4 w-4 mr-2"}),"Check Status"]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"IB Gateway must be running with API enabled (port 4002 for paper trading)."})]})]}):i.jsxs(o,{className:"border-destructive/50",children:[i.jsxs(l,{children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs(d,{className:"flex items-center gap-2 text-destructive",children:[i.jsx(_,{className:"h-5 w-5"}),"IB Gateway Bridge Not Running"]})}),i.jsx(x,{children:ee||"Start the IBKR Client Portal Gateway to begin trading."})]}),i.jsxs(h,{className:"space-y-4",children:[i.jsxs(K,{children:[i.jsx(Y,{className:"h-4 w-4"}),i.jsx(U,{children:"Quick Setup"}),i.jsx(S,{className:"space-y-2",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-2",children:[i.jsxs("li",{children:["Download the ",i.jsx("a",{href:"https://www.interactivebrokers.com/en/trading/ib-api.php",target:"_blank",rel:"noopener",className:"text-primary underline font-medium",children:"IBKR Client Portal Gateway"})]}),i.jsxs("li",{children:["Run ",i.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.sh"})," (Mac) or ",i.jsx("code",{className:"bg-muted px-1 rounded text-sm",children:"bin/run.bat"})," (Windows)"]}),i.jsxs("li",{children:["Login at ",i.jsx("strong",{children:"https://localhost:5000"})," with IBKR credentials"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Using remote access?"})," Click Gateway Settings above and enter your machine's IP"]})]})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(f,{onClick:te,className:"flex-1",children:[i.jsx(y,{className:"h-4 w-4 mr-2"}),"Retry Connection"]}),i.jsxs(f,{variant:"outline",onClick:()=>window.open("https://localhost:5000","_blank"),children:[i.jsx(g,{className:"h-4 w-4 mr-2"}),"Open Gateway"]})]})]})]})}const Ne=()=>i.jsxs("div",{className:"container mx-auto py-8 px-4",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[i.jsx(X,{className:"w-8 h-8 text-primary"}),i.jsxs("h1",{className:"text-4xl font-bold",children:[i.jsx("span",{className:"text-primary",children:"En Pensent™"})," Trading"]})]}),i.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Paper trading powered by Interactive Brokers. Start with simulated funds, graduate to real money when ready."})]}),i.jsx(A,{componentName:"IBKRTradingDashboard",children:i.jsx(we,{})}),i.jsx("p",{className:"text-center text-xs text-muted-foreground mt-8",children:"⚠️ Paper trading uses simulated funds. No real money is at risk. When ready, switch to a live IBKR account for real trading."})]});export{Ne as default};
