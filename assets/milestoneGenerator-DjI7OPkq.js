const n="/**\n * En Pensent Core SDK - Milestone Generator\n * \n * Generates trajectory milestones from signature analysis\n */\n\nimport { TemporalSignature, TrajectoryMilestone, PatternMatch } from '../types';\n\n/**\n * Generate milestones based on pattern analysis\n */\nexport function generateMilestones(\n  signature: TemporalSignature,\n  _matches: PatternMatch[],\n  currentPosition: number,\n  totalExpectedLength: number\n): TrajectoryMilestone[] {\n  const milestones: TrajectoryMilestone[] = [];\n  const remaining = totalExpectedLength - currentPosition;\n  \n  if (remaining <= 0) return milestones;\n  \n  addCriticalDecisionPoint(milestones, signature, currentPosition, remaining);\n  addTrajectoryConfirmation(milestones, currentPosition, remaining);\n  addArchetypeMilestone(milestones, signature, currentPosition, remaining);\n  addCriticalMomentMilestones(milestones, signature, currentPosition);\n  \n  // Sort by index and return top 5\n  milestones.sort((a, b) => a.predictedIndex - b.predictedIndex);\n  return milestones.slice(0, 5);\n}\n\nfunction addCriticalDecisionPoint(\n  milestones: TrajectoryMilestone[],\n  signature: TemporalSignature,\n  currentPosition: number,\n  remaining: number\n): void {\n  const criticalPoint = Math.floor(currentPosition + remaining * 0.25);\n  milestones.push({\n    predictedIndex: criticalPoint,\n    event: 'Critical Decision Point',\n    probability: 0.75,\n    impact: signature.intensity > 0.6 ? 0.8 : 0.5,\n    recommendation: signature.temporalFlow.trend === 'accelerating' \n      ? 'Maintain momentum' \n      : 'Consider strategic pivot'\n  });\n}\n\nfunction addTrajectoryConfirmation(\n  milestones: TrajectoryMilestone[],\n  currentPosition: number,\n  remaining: number\n): void {\n  const confirmationPoint = Math.floor(currentPosition + remaining * 0.5);\n  milestones.push({\n    predictedIndex: confirmationPoint,\n    event: 'Trajectory Confirmation',\n    probability: 0.65,\n    impact: 0.6,\n    recommendation: 'Evaluate if current pattern holds'\n  });\n}\n\nfunction addArchetypeMilestone(\n  milestones: TrajectoryMilestone[],\n  signature: TemporalSignature,\n  currentPosition: number,\n  remaining: number\n): void {\n  if (signature.archetype && remaining > 10) {\n    const archetypeMilestone = Math.floor(currentPosition + remaining * 0.7);\n    milestones.push({\n      predictedIndex: archetypeMilestone,\n      event: `${formatArchetype(signature.archetype)} Phase`,\n      probability: 0.7,\n      impact: 0.7,\n      recommendation: getArchetypeRecommendation(signature.archetype)\n    });\n  }\n}\n\nfunction addCriticalMomentMilestones(\n  milestones: TrajectoryMilestone[],\n  signature: TemporalSignature,\n  currentPosition: number\n): void {\n  for (const moment of signature.criticalMoments.slice(0, 2)) {\n    if (moment.index > currentPosition) {\n      milestones.push({\n        predictedIndex: moment.index,\n        event: moment.description,\n        probability: moment.severity,\n        impact: moment.severity,\n        recommendation: `Prepare for ${moment.type}`\n      });\n    }\n  }\n}\n\n/**\n * Format archetype name for display\n */\nexport function formatArchetype(archetype: string): string {\n  return archetype\n    .split('_')\n    .map(word => word.charAt(0).toUpperCase() + word.slice(1))\n    .join(' ');\n}\n\n/**\n * Get recommendation for archetype\n */\nexport function getArchetypeRecommendation(archetype: string): string {\n  const recommendations: Record<string, string> = {\n    'rapid_growth': 'Sustain growth rate while building infrastructure',\n    'refactor_cycle': 'Complete refactoring before adding new features',\n    'tech_debt_spiral': 'Address technical debt immediately',\n    'stability_plateau': 'Consider innovation to avoid stagnation',\n    'feature_burst': 'Consolidate gains and improve test coverage',\n    'death_march': 'Reduce scope and prioritize sustainability',\n    'kingside_attack': 'Press the attack while maintaining defense',\n    'queenside_attack': 'Expand territorial control',\n    'central_domination': 'Leverage central control for flexibility',\n    'tactical_chaos': 'Calculate carefully, avoid simplification'\n  };\n  \n  return recommendations[archetype] ?? 'Continue current strategy with vigilance';\n}\n";export{n as default};
