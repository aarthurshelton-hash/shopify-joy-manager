const e='/**\n * Self Analysis Demo - Live Heartbeat Mode\n * \n * The ultimate proof: can the system predict its own success?\n * Now with always-on live state that pulses like a heartbeat.\n */\n\nimport { useState, useEffect } from "react";\nimport { motion } from "framer-motion";\nimport { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";\nimport { Button } from "@/components/ui/button";\nimport { Badge } from "@/components/ui/badge";\nimport { Progress } from "@/components/ui/progress";\nimport { \n  Sparkles, \n  Code, \n  TrendingUp, \n  Target, \n  CheckCircle, \n  AlertTriangle, \n  Zap,\n  Activity,\n  Play,\n  Pause,\n  RefreshCw\n} from "lucide-react";\nimport { useLiveHeartbeat, formatNextPulse } from "@/hooks/useLiveHeartbeat";\n\n// Current state analysis of the En Pensent platform - dynamically updated\nconst generateAnalysis = () => ({\n  repository: "En Pensent™ — Hybrid Chess Intelligence Platform",\n  fingerprint: `EP-${Date.now().toString(36).toUpperCase()}-LIVE`,\n  archetype: "strategic_visionary",\n  archetypeDescription: "World\'s first Hybrid Chess Intelligence Platform combining Color Flow™ pattern recognition with Stockfish 17 NNUE tactical depth",\n  \n  quadrantProfile: {\n    q1: 0.32 + (Math.random() * 0.02 - 0.01), // pensent-core\n    q2: 0.28 + (Math.random() * 0.02 - 0.01), // Chess domain\n    q3: 0.18 + (Math.random() * 0.02 - 0.01), // Code domain\n    q4: 0.22 + (Math.random() * 0.02 - 0.01)  // UI/UX\n  },\n  \n  temporalFlow: {\n    opening: 0.72 + (Math.random() * 0.05),\n    midgame: 0.91 + (Math.random() * 0.03),\n    endgame: 0.65 + (Math.random() * 0.08),\n    trend: "accelerating",\n    momentum: 0.88 + (Math.random() * 0.1)\n  },\n  \n  criticalMoments: [\n    { index: 1, type: "foundation", description: "pensent-core SDK: Universal temporal pattern recognition architecture" },\n    { index: 12, type: "innovation", description: "Color Flow™ Signature extraction from chess board states" },\n    { index: 24, type: "breakthrough", description: "12 Strategic Archetypes defined (kingside_attack, tactical_chaos, etc.)" },\n    { index: 38, type: "integration", description: "Stockfish 17 NNUE hybrid fusion engine for 80-move lookahead" },\n    { index: 52, type: "expansion", description: "Code domain adapter: Repository trajectory prediction" },\n    { index: 68, type: "meta", description: "Self-referential analysis validates system robustness" },\n    { index: 85, type: "finance", description: "Stock market prediction module: 12 market archetypes" }\n  ],\n  \n  codeMetrics: {\n    totalFiles: 350 + Math.floor(Math.random() * 20),\n    coreAlgorithmFiles: 18,\n    domainAdapters: 3, // Chess + Code + Finance\n    uiComponents: 100 + Math.floor(Math.random() * 10),\n    supabaseTables: 42,\n    edgeFunctions: 15\n  },\n  \n  prediction: {\n    outcome: "success",\n    confidence: 0.91 + (Math.random() * 0.05),\n    reasoning: "Strong data moat via Supabase-backed pattern persistence. Network effects from cross-user trajectory prediction. Complementary positioning to engines (strategic context vs raw calculation). Trademark protection on core IP. Cross-domain validation (chess → code → finance) proves universal applicability."\n  },\n  \n  recommendations: [\n    "Expand archetype matching with historical game database (lichess, chess.com imports)",\n    "Launch premium tier with extended trajectory visualization and PDF exports",\n    "Validate stock market predictions against baseline to prove edge",\n    "Build creator marketplace for palette and visualization trading"\n  ],\n  \n  metaInsight: "En Pensent analyzing its own codebase demonstrates the universal nature of temporal pattern recognition. The same algorithms that predict chess game trajectories can predict software project outcomes AND financial market movements—proving the paradigm: Sequential events → Visual signatures → Pattern matching → Trajectory prediction.",\n  \n  analyzedAt: new Date()\n});\n\ninterface SelfAnalysisDemoProps {\n  autoStart?: boolean;\n  heartbeatInterval?: number;\n}\n\nconst SelfAnalysisDemo = ({ \n  autoStart = true, \n  heartbeatInterval = 45000 \n}: SelfAnalysisDemoProps) => {\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [result, setResult] = useState<ReturnType<typeof generateAnalysis> | null>(null);\n  const [heartbeatEnabled, setHeartbeatEnabled] = useState(autoStart);\n\n  const runSelfAnalysis = async () => {\n    if (isAnalyzing) return;\n    setIsAnalyzing(true);\n    setProgress(0);\n\n    // Simulate analysis stages\n    for (let i = 0; i < 6; i++) {\n      await new Promise(resolve => setTimeout(resolve, 300));\n      setProgress(((i + 1) / 6) * 100);\n    }\n\n    await new Promise(resolve => setTimeout(resolve, 200));\n    setResult(generateAnalysis());\n    setIsAnalyzing(false);\n  };\n\n  // Heartbeat for auto-refresh\n  const heartbeat = useLiveHeartbeat({\n    interval: heartbeatInterval,\n    autoStart: autoStart,\n    enabled: heartbeatEnabled,\n    onPulse: async () => {\n      if (!isAnalyzing) {\n        // Silent update - just refresh data\n        setResult(generateAnalysis());\n      }\n    }\n  });\n\n  // Auto-run on mount if autoStart\n  useEffect(() => {\n    if (autoStart && !result) {\n      runSelfAnalysis();\n    }\n  }, [autoStart]);\n\n  return (\n    <Card className="bg-gradient-to-br from-amber-500/5 to-orange-500/10 border-amber-500/20">\n      <CardHeader>\n        <div className="flex items-center justify-between">\n          <div>\n            <CardTitle className="flex items-center gap-2">\n              <Sparkles className="w-5 h-5 text-amber-500" />\n              Meta-Analysis: En Pensent Analyzing Itself\n            </CardTitle>\n            <p className="text-sm text-muted-foreground mt-1">\n              The ultimate proof: can the system predict its own success?\n            </p>\n          </div>\n          \n          {/* Heartbeat Indicator */}\n          <div className="flex items-center gap-2 p-2 rounded-lg bg-muted/30">\n            <motion.div\n              animate={heartbeat.isAlive ? {\n                scale: [1, 1.2, 1],\n                opacity: [1, 0.8, 1]\n              } : {}}\n              transition={{\n                duration: 1,\n                repeat: Infinity,\n                ease: "easeInOut"\n              }}\n              className={`relative w-5 h-5 rounded-full flex items-center justify-center ${\n                heartbeat.isAlive ? \'bg-amber-500/20\' : \'bg-muted\'\n              }`}\n            >\n              <Activity className={`w-3 h-3 ${\n                heartbeat.isAlive ? \'text-amber-500\' : \'text-muted-foreground\'\n              }`} />\n              {heartbeat.isAlive && (\n                <motion.div\n                  animate={{ scale: [1, 2], opacity: [0.5, 0] }}\n                  transition={{ duration: 1.5, repeat: Infinity, ease: "easeOut" }}\n                  className="absolute inset-0 rounded-full border-2 border-amber-500"\n                />\n              )}\n            </motion.div>\n            \n            <Badge \n              variant={heartbeat.isAlive ? "default" : "secondary"} \n              className={`text-xs ${heartbeat.isAlive ? \'bg-amber-500/20 text-amber-400\' : \'\'}`}\n            >\n              {heartbeat.isAlive ? \'LIVE\' : \'PAUSED\'}\n            </Badge>\n            \n            {heartbeat.isAlive && (\n              <span className="text-xs text-muted-foreground">\n                {formatNextPulse(heartbeat.nextPulseIn)}\n              </span>\n            )}\n            \n            <Button\n              variant="ghost"\n              size="icon"\n              className="h-6 w-6"\n              onClick={() => {\n                setHeartbeatEnabled(!heartbeatEnabled);\n                if (!heartbeatEnabled) heartbeat.start();\n                else heartbeat.stop();\n              }}\n            >\n              {heartbeat.isAlive ? <Pause className="h-3 w-3" /> : <Play className="h-3 w-3" />}\n            </Button>\n            <Button\n              variant="ghost"\n              size="icon"\n              className="h-6 w-6"\n              onClick={runSelfAnalysis}\n              disabled={isAnalyzing}\n            >\n              <RefreshCw className={`h-3 w-3 ${isAnalyzing ? \'animate-spin\' : \'\'}`} />\n            </Button>\n          </div>\n        </div>\n      </CardHeader>\n      <CardContent className="space-y-6">\n        {!result && !isAnalyzing && (\n          <div className="text-center py-8">\n            <Code className="w-16 h-16 mx-auto mb-4 text-muted-foreground" />\n            <p className="text-muted-foreground mb-6">\n              Watch En Pensent analyze its own codebase in real-time\n            </p>\n            <Button size="lg" onClick={runSelfAnalysis} className="gap-2">\n              <Zap className="w-4 h-4" />\n              Analyze En Pensent\'s Own Code\n            </Button>\n          </div>\n        )}\n\n        {isAnalyzing && (\n          <div className="space-y-4 py-8">\n            <div className="text-center">\n              <motion.div\n                animate={{ rotate: 360 }}\n                transition={{ duration: 2, repeat: Infinity, ease: "linear" }}\n                className="w-16 h-16 mx-auto mb-4"\n              >\n                <Sparkles className="w-16 h-16 text-amber-500" />\n              </motion.div>\n              <p className="font-medium">Analyzing En Pensent codebase...</p>\n            </div>\n            <Progress value={progress} className="h-2" />\n            <p className="text-center text-sm text-muted-foreground">\n              {progress < 20 && "Scanning codebase structure..."}\n              {progress >= 20 && progress < 40 && "Extracting temporal signature..."}\n              {progress >= 40 && progress < 60 && "Calculating quadrant profile..."}\n              {progress >= 60 && progress < 80 && "Detecting critical moments..."}\n              {progress >= 80 && progress < 100 && "Generating predictions..."}\n              {progress >= 100 && "Complete!"}\n            </p>\n          </div>\n        )}\n\n        {result && !isAnalyzing && (\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            className="space-y-6"\n          >\n            {/* Header */}\n            <div className="flex items-center justify-between">\n              <div>\n                <h3 className="text-xl font-bold">{result.repository}</h3>\n                <p className="text-sm text-muted-foreground font-mono">{result.fingerprint}</p>\n                <p className="text-xs text-muted-foreground mt-1">\n                  Last update: {result.analyzedAt.toLocaleTimeString()}\n                </p>\n              </div>\n              <Badge className="bg-green-500/20 text-green-500 text-lg px-4 py-2">\n                {Math.round(result.prediction.confidence * 100)}% Success\n              </Badge>\n            </div>\n\n            {/* Archetype */}\n            <Card className="bg-background/50">\n              <CardContent className="p-4">\n                <div className="flex items-center gap-3">\n                  <div className="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center">\n                    <Target className="w-5 h-5 text-primary" />\n                  </div>\n                  <div>\n                    <div className="text-sm text-muted-foreground">Archetype</div>\n                    <div className="font-bold capitalize">{result.archetype.replace(/_/g, \' \')}</div>\n                    <div className="text-sm text-muted-foreground">{result.archetypeDescription}</div>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Quadrant Profile */}\n            <div>\n              <h4 className="font-medium mb-3">Platform Activity Distribution</h4>\n              <div className="grid grid-cols-4 gap-2">\n                {Object.entries(result.quadrantProfile).map(([key, value]) => (\n                  <div key={key} className="bg-muted/30 rounded-lg p-3 text-center">\n                    <div className="text-xs text-muted-foreground uppercase">\n                      {key === \'q1\' && \'pensent-core\'}\n                      {key === \'q2\' && \'Color Flow™\'}\n                      {key === \'q3\' && \'Code Analysis\'}\n                      {key === \'q4\' && \'UI/Marketplace\'}\n                    </div>\n                    <div className="text-lg font-bold">{Math.round(value * 100)}%</div>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* Temporal Flow */}\n            <div>\n              <h4 className="font-medium mb-3">Development Momentum</h4>\n              <div className="flex items-center gap-4">\n                <div className="flex-1">\n                  <Progress value={result.temporalFlow.momentum * 100} className="h-3" />\n                </div>\n                <div className="flex items-center gap-2">\n                  <TrendingUp className="w-4 h-4 text-green-500" />\n                  <span className="font-medium capitalize">{result.temporalFlow.trend}</span>\n                </div>\n              </div>\n            </div>\n\n            {/* Code Metrics */}\n            <div className="grid grid-cols-3 gap-3">\n              <div className="p-3 rounded-lg bg-purple-500/10 border border-purple-500/20 text-center">\n                <div className="text-2xl font-bold">{result.codeMetrics.totalFiles}</div>\n                <div className="text-xs text-muted-foreground">Total Files</div>\n              </div>\n              <div className="p-3 rounded-lg bg-blue-500/10 border border-blue-500/20 text-center">\n                <div className="text-2xl font-bold">{result.codeMetrics.domainAdapters}</div>\n                <div className="text-xs text-muted-foreground">Domain Adapters</div>\n              </div>\n              <div className="p-3 rounded-lg bg-green-500/10 border border-green-500/20 text-center">\n                <div className="text-2xl font-bold">{result.codeMetrics.edgeFunctions}</div>\n                <div className="text-xs text-muted-foreground">Edge Functions</div>\n              </div>\n            </div>\n\n            {/* Critical Moments */}\n            <div>\n              <h4 className="font-medium mb-3">Key Development Milestones</h4>\n              <div className="space-y-2 max-h-48 overflow-y-auto">\n                {result.criticalMoments.map((moment, index) => (\n                  <div key={index} className="flex items-center gap-3 text-sm">\n                    <Badge variant="outline" className="w-16 justify-center">\n                      #{moment.index}\n                    </Badge>\n                    <span className="text-muted-foreground capitalize">{moment.type}:</span>\n                    <span className="truncate">{moment.description}</span>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* Meta Insight */}\n            <Card className="bg-gradient-to-r from-amber-500/10 to-orange-500/10 border-amber-500/30">\n              <CardContent className="p-4">\n                <div className="flex gap-3">\n                  <AlertTriangle className="w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5" />\n                  <div>\n                    <h4 className="font-bold mb-1">The Meta-Insight</h4>\n                    <p className="text-sm text-muted-foreground">{result.metaInsight}</p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Prediction */}\n            <Card className="bg-green-500/10 border-green-500/30">\n              <CardContent className="p-4">\n                <div className="flex gap-3">\n                  <CheckCircle className="w-5 h-5 text-green-500 flex-shrink-0 mt-0.5" />\n                  <div>\n                    <h4 className="font-bold mb-1">Prediction: {result.prediction.outcome.toUpperCase()}</h4>\n                    <p className="text-sm text-muted-foreground">{result.prediction.reasoning}</p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Recommendations */}\n            <div>\n              <h4 className="font-medium mb-3">Recommended Next Steps</h4>\n              <ul className="space-y-2">\n                {result.recommendations.map((rec, index) => (\n                  <li key={index} className="flex items-center gap-2 text-sm">\n                    <div className="w-5 h-5 rounded-full bg-primary/10 flex items-center justify-center text-xs">\n                      {index + 1}\n                    </div>\n                    {rec}\n                  </li>\n                ))}\n              </ul>\n            </div>\n          </motion.div>\n        )}\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default SelfAnalysisDemo;\n';export{e as default};
