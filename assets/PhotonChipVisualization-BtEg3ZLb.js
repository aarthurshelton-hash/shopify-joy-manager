const n='/**\n * PhotonChipVisualization - Live Photonic Computing Blueprint\n * \n * Real-time visualization of the 64x64 silicon photonics waveguide matrix\n * Shows photon energy states, wave propagation, and domain processing\n */\n\nimport { useEffect, useRef, useState } from \'react\';\nimport { motion } from \'framer-motion\';\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \'@/components/ui/card\';\nimport { Badge } from \'@/components/ui/badge\';\nimport { Progress } from \'@/components/ui/progress\';\nimport { \n  Zap, \n  Activity, \n  Grid3X3, \n  Waves,\n  Cpu,\n  Eye,\n  Fingerprint,\n  ArrowRight\n} from \'lucide-react\';\nimport {\n  QuadrantRadar,\n  TemporalFlowChart,\n  ArchetypeBadge,\n  PredictionGauge\n} from \'@/components/pensent-ui\';\n\n// 64x64 grid cell state\ninterface WaveguideCell {\n  x: number;\n  y: number;\n  energy: number; // 0-1 (low to high photon energy)\n  phase: number; // 0-360 degrees\n  active: boolean;\n  domain: string | null;\n}\n\n// Domain processor state\ninterface DomainProcessor {\n  name: string;\n  type: string;\n  active: boolean;\n  load: number;\n  photonCount: number;\n  lastSignal: number;\n}\n\ninterface PhotonChipVisualizationProps {\n  liveData?: boolean;\n  domainSignatures?: Array<{\n    domain: string;\n    quadrantProfile: { q1: number; q2: number; q3: number; q4: number };\n    temporalFlow: { early: number; mid: number; late: number };\n    archetype: string;\n    fingerprint: string;\n    intensity: number;\n  }>;\n}\n\nexport function PhotonChipVisualization({ \n  liveData = true,\n  domainSignatures = []\n}: PhotonChipVisualizationProps) {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const [cells, setCells] = useState<WaveguideCell[]>([]);\n  const [processors, setProcessors] = useState<DomainProcessor[]>([\n    { name: \'Chess (Brain)\', type: \'ring_resonator_array\', active: true, load: 0.73, photonCount: 1024, lastSignal: Date.now() },\n    { name: \'Code (Blood)\', type: \'Mach_Zehnder_interferometer\', active: true, load: 0.45, photonCount: 2048, lastSignal: Date.now() },\n    { name: \'Market (Nerves)\', type: \'wavelength_multiplexing_bus\', active: true, load: 0.89, photonCount: 4096, lastSignal: Date.now() },\n    { name: \'Light (Vision)\', type: \'photonic_neural_network\', active: true, load: 0.62, photonCount: 8192, lastSignal: Date.now() },\n    { name: \'Bio (Life)\', type: \'biophotonic_sensing\', active: false, load: 0.0, photonCount: 0, lastSignal: 0 },\n    { name: \'Music (Heart)\', type: \'frequency_comb_generator\', active: true, load: 0.34, photonCount: 512, lastSignal: Date.now() },\n  ]);\n  const [totalPhotons, setTotalPhotons] = useState(15872);\n  const [busLoad, setBusLoad] = useState(0.67);\n  const [animationFrame, setAnimationFrame] = useState(0);\n\n  // Initialize 64x64 grid\n  useEffect(() => {\n    const initialCells: WaveguideCell[] = [];\n    for (let y = 0; y < 64; y++) {\n      for (let x = 0; x < 64; x++) {\n        initialCells.push({\n          x,\n          y,\n          energy: Math.random() * 0.3,\n          phase: Math.random() * 360,\n          active: false,\n          domain: null\n        });\n      }\n    }\n    setCells(initialCells);\n  }, []);\n\n  // Animate photon propagation\n  useEffect(() => {\n    if (!liveData) return;\n\n    const interval = setInterval(() => {\n      setAnimationFrame(prev => prev + 1);\n      \n      setCells(prevCells => {\n        return prevCells.map(cell => {\n          // Create wave patterns\n          const waveX = Math.sin(cell.x * 0.1 + animationFrame * 0.05) * 0.5 + 0.5;\n          const waveY = Math.cos(cell.y * 0.1 + animationFrame * 0.03) * 0.5 + 0.5;\n          \n          // Domain-specific activation patterns\n          let domain = null;\n          let active = false;\n          \n          // Chess: diagonal patterns (kingside/queenside)\n          if ((cell.x + cell.y) % 8 === animationFrame % 8) {\n            domain = \'chess\';\n            active = true;\n          }\n          // Code: horizontal bands (commit waves)\n          else if (cell.y % 4 === (animationFrame / 2) % 4) {\n            domain = \'code\';\n            active = true;\n          }\n          // Market: vertical spikes (price movements)\n          else if (cell.x % 16 === animationFrame % 16 && cell.y > 32) {\n            domain = \'market\';\n            active = true;\n          }\n          // Light: circular ripples\n          else {\n            const centerDist = Math.sqrt(Math.pow(cell.x - 32, 2) + Math.pow(cell.y - 32, 2));\n            if (Math.abs(centerDist - (animationFrame % 32)) < 3) {\n              domain = \'light\';\n              active = true;\n            }\n          }\n\n          return {\n            ...cell,\n            energy: (waveX + waveY) / 2 * (active ? 0.9 : 0.3),\n            phase: (cell.phase + 2) % 360,\n            active,\n            domain\n          };\n        });\n      });\n\n      // Update processors\n      setProcessors(prev => prev.map(p => ({\n        ...p,\n        load: Math.max(0.1, Math.min(0.95, p.load + (Math.random() - 0.5) * 0.1)),\n        photonCount: p.active ? Math.floor(p.load * 10000) : 0,\n        lastSignal: p.active ? Date.now() : p.lastSignal\n      })));\n\n      // Update totals\n      setTotalPhotons(processors.reduce((sum, p) => sum + p.photonCount, 0));\n      setBusLoad(Math.random() * 0.3 + 0.5);\n\n    }, 100);\n\n    return () => clearInterval(interval);\n  }, [liveData, animationFrame, processors]);\n\n  // Render canvas\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const ctx = canvas.getContext(\'2d\');\n    if (!ctx) return;\n\n    const cellSize = 4;\n    canvas.width = 64 * cellSize;\n    canvas.height = 64 * cellSize;\n\n    ctx.fillStyle = \'#0a0a0f\';\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n    cells.forEach(cell => {\n      const x = cell.x * cellSize;\n      const y = cell.y * cellSize;\n      \n      // Color based on domain and energy\n      let color;\n      if (cell.domain === \'chess\') {\n        color = `hsla(${200 + cell.phase}, 80%, ${50 + cell.energy * 30}%, ${cell.energy})`;\n      } else if (cell.domain === \'code\') {\n        color = `hsla(${120 + cell.phase}, 70%, ${50 + cell.energy * 30}%, ${cell.energy})`;\n      } else if (cell.domain === \'market\') {\n        color = `hsla(${40 + cell.phase}, 90%, ${50 + cell.energy * 30}%, ${cell.energy})`;\n      } else if (cell.domain === \'light\') {\n        color = `hsla(${280 + cell.phase}, 100%, ${60 + cell.energy * 20}%, ${cell.energy})`;\n      } else {\n        color = `hsla(220, 20%, ${20 + cell.energy * 20}%, ${cell.energy * 0.5})`;\n      }\n\n      ctx.fillStyle = color;\n      ctx.fillRect(x, y, cellSize - 1, cellSize - 1);\n    });\n  }, [cells]);\n\n  // Mock signatures if none provided\n  const displaySignatures = domainSignatures.length > 0 ? domainSignatures : [\n    {\n      domain: \'chess\',\n      quadrantProfile: { q1: 0.73, q2: 0.45, q3: 0.62, q4: 0.28 },\n      temporalFlow: { early: 0.35, mid: 0.68, late: 0.52 },\n      archetype: \'kingside_attack\',\n      fingerprint: \'cf-7a3b9f2\',\n      intensity: 0.77\n    },\n    {\n      domain: \'code\',\n      quadrantProfile: { q1: 0.82, q2: 0.34, q3: 0.21, q4: 0.45 },\n      temporalFlow: { early: 0.42, mid: 0.89, late: 0.33 },\n      archetype: \'feature_rush\',\n      fingerprint: \'code-8f2c1d4\',\n      intensity: 0.68\n    },\n    {\n      domain: \'market\',\n      quadrantProfile: { q1: 0.91, q2: 0.23, q3: 0.15, q4: 0.67 },\n      temporalFlow: { early: 0.28, mid: 0.45, late: 0.91 },\n      archetype: \'breakout_momentum\',\n      fingerprint: \'mkt-9e4a7b1\',\n      intensity: 0.89\n    },\n    {\n      domain: \'light\',\n      quadrantProfile: { q1: 0.56, q2: 0.78, q3: 0.43, q4: 0.67 },\n      temporalFlow: { early: 0.67, mid: 0.52, late: 0.89 },\n      archetype: \'interference_cascade\',\n      fingerprint: \'phn-3d8e5f2\',\n      intensity: 0.74\n    }\n  ];\n\n  return (\n    <div className="space-y-6">\n      {/* Header */}\n      <div className="flex items-center justify-between">\n        <div className="flex items-center gap-3">\n          <div className="p-2 rounded-lg bg-gradient-to-br from-purple-500/20 to-blue-500/20 border border-purple-500/30">\n            <Cpu className="h-6 w-6 text-purple-400" />\n          </div>\n          <div>\n            <h2 className="text-2xl font-bold">Photonic Computing Matrix</h2>\n            <p className="text-sm text-muted-foreground">64x64 Silicon Waveguide Array - Universal Pattern Processing</p>\n          </div>\n        </div>\n        <div className="flex items-center gap-4">\n          <Badge variant="outline" className="gap-2">\n            <Zap className="h-3 w-3 text-yellow-400" />\n            {totalPhotons.toLocaleString()} Photons\n          </Badge>\n          <Badge variant="outline" className="gap-2">\n            <Activity className="h-3 w-3 text-green-400" />\n            Bus Load: {Math.round(busLoad * 100)}%\n          </Badge>\n        </div>\n      </div>\n\n      {/* Main Grid */}\n      <div className="grid lg:grid-cols-3 gap-6">\n        {/* Waveguide Matrix */}\n        <Card className="lg:col-span-2 overflow-hidden">\n          <CardHeader className="pb-2">\n            <div className="flex items-center justify-between">\n              <div className="flex items-center gap-2">\n                <Grid3X3 className="h-4 w-4 text-purple-400" />\n                <CardTitle className="text-lg">Live Waveguide Activity</CardTitle>\n              </div>\n              <div className="flex items-center gap-2 text-xs">\n                <span className="flex items-center gap-1">\n                  <div className="w-2 h-2 rounded-full bg-blue-400" /> Chess\n                </span>\n                <span className="flex items-center gap-1">\n                  <div className="w-2 h-2 rounded-full bg-green-400" /> Code\n                </span>\n                <span className="flex items-center gap-1">\n                  <div className="w-2 h-2 rounded-full bg-amber-400" /> Market\n                </span>\n                <span className="flex items-center gap-1">\n                  <div className="w-2 h-2 rounded-full bg-purple-400" /> Light\n                </span>\n              </div>\n            </div>\n            <CardDescription>\n              Real-time photon propagation through 4,096 waveguide resonators\n            </CardDescription>\n          </CardHeader>\n          <CardContent className="pt-0">\n            <div className="relative">\n              <canvas \n                ref={canvasRef}\n                className="w-full rounded-lg border border-muted"\n                style={{ imageRendering: \'pixelated\' }}\n              />\n              <div className="absolute bottom-2 right-2 flex items-center gap-2 text-xs text-muted-foreground bg-background/80 px-2 py-1 rounded">\n                <Waves className="h-3 w-3" />\n                λ = 1550nm\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Domain Processors */}\n        <Card>\n          <CardHeader>\n            <div className="flex items-center gap-2">\n              <Eye className="h-4 w-4 text-cyan-400" />\n              <CardTitle className="text-lg">Domain Processors</CardTitle>\n            </div>\n            <CardDescription>\n              27 photonic processing units active\n            </CardDescription>\n          </CardHeader>\n          <CardContent className="space-y-3">\n            {processors.map((processor) => (\n              <motion.div\n                key={processor.name}\n                initial={{ opacity: 0, x: -20 }}\n                animate={{ opacity: 1, x: 0 }}\n                className={`p-3 rounded-lg border ${\n                  processor.active \n                    ? \'bg-muted/30 border-muted\' \n                    : \'bg-muted/10 border-muted/50 opacity-50\'\n                }`}\n              >\n                <div className="flex items-center justify-between mb-2">\n                  <div className="flex items-center gap-2">\n                    <div className={`w-2 h-2 rounded-full ${\n                      processor.active ? \'bg-green-400 animate-pulse\' : \'bg-gray-400\'\n                    }`} />\n                    <span className="font-medium text-sm">{processor.name}</span>\n                  </div>\n                  <span className="text-xs text-muted-foreground">\n                    {processor.photonCount.toLocaleString()} φ\n                  </span>\n                </div>\n                <div className="space-y-1">\n                  <div className="flex items-center justify-between text-xs">\n                    <span className="text-muted-foreground">{processor.type}</span>\n                    <span>{Math.round(processor.load * 100)}%</span>\n                  </div>\n                  <Progress value={processor.load * 100} className="h-1" />\n                </div>\n              </motion.div>\n            ))}\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Domain Signatures */}\n      <div className="grid md:grid-cols-2 xl:grid-cols-4 gap-4">\n        {displaySignatures.map((sig, index) => (\n          <motion.div\n            key={sig.domain}\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: index * 0.1 }}\n          >\n            <Card className="overflow-hidden">\n              <CardHeader className="pb-2">\n                <div className="flex items-center justify-between">\n                  <div className="flex items-center gap-2">\n                    {sig.domain === \'chess\' && <Grid3X3 className="h-4 w-4 text-blue-400" />}\n                    {sig.domain === \'code\' && <Activity className="h-4 w-4 text-green-400" />}\n                    {sig.domain === \'market\' && <Zap className="h-4 w-4 text-amber-400" />}\n                    {sig.domain === \'light\' && <Eye className="h-4 w-4 text-purple-400" />}\n                    <CardTitle className="text-sm capitalize">{sig.domain}</CardTitle>\n                  </div>\n                  <ArchetypeBadge \n                    archetype={sig.archetype}\n                    category="universal"\n                    size="sm"\n                  />\n                </div>\n              </CardHeader>\n              <CardContent className="space-y-4">\n                {/* Fingerprint */}\n                <div className="flex items-center gap-2 text-xs">\n                  <Fingerprint className="h-3 w-3 text-muted-foreground" />\n                  <code className="text-muted-foreground font-mono">{sig.fingerprint}</code>\n                </div>\n\n                {/* Mini Quadrant Radar */}\n                <div className="flex justify-center">\n                  <QuadrantRadar\n                    data={sig.quadrantProfile}\n                    size={120}\n                    showLabels={false}\n                    showValues={false}\n                    animated={false}\n                  />\n                </div>\n\n                {/* Mini Temporal Flow */}\n                <TemporalFlowChart\n                  data={{\n                    opening: sig.temporalFlow.early,\n                    midgame: sig.temporalFlow.mid,\n                    endgame: sig.temporalFlow.late\n                  }}\n                  height={60}\n                  showLabels={false}\n                  showValues={false}\n                  colorScheme="default"\n                />\n\n                {/* Intensity */}\n                <div className="space-y-1">\n                  <div className="flex items-center justify-between text-xs">\n                    <span className="text-muted-foreground">Intensity</span>\n                    <span>{Math.round(sig.intensity * 100)}%</span>\n                  </div>\n                  <Progress value={sig.intensity * 100} className="h-1" />\n                </div>\n              </CardContent>\n            </Card>\n          </motion.div>\n        ))}\n      </div>\n\n      {/* Universal Bus Status */}\n      <Card>\n        <CardHeader>\n          <div className="flex items-center gap-2">\n            <ArrowRight className="h-4 w-4 text-cyan-400" />\n            <CardTitle className="text-lg">Universal Photonic Bus</CardTitle>\n          </div>\n          <CardDescription>\n            128-channel wavelength division multiplexing - All adapters communicate here\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className="grid grid-cols-16 gap-1">\n            {Array.from({ length: 128 }).map((_, i) => {\n              const active = i < busLoad * 128;\n              const wavelength = 1530 + i * 0.8; // C-band wavelengths\n              return (\n                <motion.div\n                  key={i}\n                  className={`h-8 rounded-sm ${active ? \'bg-gradient-to-t\' : \'bg-muted\'}`}\n                  style={{\n                    background: active \n                      ? `linear-gradient(to top, hsl(${200 + i}, 70%, 50%), hsl(${200 + i}, 70%, 70%))`\n                      : undefined\n                  }}\n                  initial={{ scaleY: 0 }}\n                  animate={{ scaleY: active ? 1 : 0.3 }}\n                  transition={{ delay: i * 0.01 }}\n                  title={`λ = ${wavelength.toFixed(1)}nm`}\n                />\n              );\n            })}\n          </div>\n          <div className="flex justify-between text-xs text-muted-foreground mt-2">\n            <span>1530nm (C-band start)</span>\n            <span>1550nm (Center)</span>\n            <span>1565nm (C-band end)</span>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\nexport default PhotonChipVisualization;\n';export{n as default};
