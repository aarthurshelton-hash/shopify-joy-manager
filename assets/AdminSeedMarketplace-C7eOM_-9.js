import{d6 as e,d7 as t,cp as n,a as r,u as s,r as a,J as i,o,s as c,aH as l,aa as u,cM as d,j as m,L as f,C as x,x as h,D as p,B as v,A as g,p as w,t as j,cN as y,bC as b,S as C,a6 as N,P as D,y as M,bG as z,T as L,aq as B,z as _,cU as E,aj as A,aT as G,ca as S,b as q,d8 as k}from"./index-DeSwrHRg.js";!function(){const e=P,t=W();for(;;)try{if(534642===-parseInt(e(212))/1*(parseInt(e(329))/2)+-parseInt(e(247))/3*(-parseInt(e(250))/4)+parseInt(e(187))/5+-parseInt(e(280))/6*(parseInt(e(285))/7)+-parseInt(e(219))/8+parseInt(e(233))/9+parseInt(e(333))/10)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const I=function(){const e=P,t={};t[e(195)]=function(e,t){return e+t},t[e(292)]=e(360)+e(356),t.ywuUH="bytDR";const n=t;let r=!0;return function(t,s){const a=e,i={kCOuk:function(e){return e()},JXHYQ:function(e,t){return e(t)},gZcce:function(e,t){return n[P(195)](e,t)},RIUGQ:function(e,t){return n[P(195)](e,t)},gNYye:n[a(292)],iOuta:function(e,t){return e!==t},VGfcI:a(395),eSDWQ:a(184),bKxjr:n[a(289)]},o=r?function(){const e=a;if(!i[e(307)](e(340),i[e(298)])){let t;try{t=i[e(393)](_0x423298,i[e(354)](i[e(318)](i.gNYye,e(321)+e(287)+e(359)+" )"),");"))()}catch(n){t=_0x398764}return t}if(s){if(i[e(277)]!==i[e(240)]){const e=s.apply(t,arguments);return s=null,e}_0x514eaa[e(181)](_0x22646c,_0x16cc72,_0xbb05fb,_0x577963,_0x10b369),i[e(205)](_0x25cb0f)}}:function(){};return r=!1,o}}()(void 0,function(){const e=P;return I[e(244)]().search("(((.+)+)+)+$")[e(244)]()[e(201)+"r"](I)[e(375)](e(239)+"+$")});function W(){const e=["vw5RBM93BG","uxLktMq","A0npDwS","BwLKzgXL","zgvMyxvSDa","AgnLrMq","seDvBfm","BwLU","EuXOC2O","ntm1ntC2thzvtLHo","t0XQsui","y2XPCa","Aw1Hz2uVC3zNkW","phn2zYb4BwXUCW","r0z0Exm","zgjHwKO","ndi3mJm5mNPxBM5Pua","psjODhrWoI8VDW","v0jsyuK","zhrOpsi","Bvvjuwe","zgngrLG","AxnmAwDODa","CMvHzhK","AgLkCLK","ChvZAa","DMLZAxrZ","q2LUEMvSjYWGjW","pc9ZDMC+","D2HPDgu","ndiWnZuWmfvWwwPRuW","zLfkDe0","zenluwK","CgzdtwS","vvb3reW","zM9UDa","kcGOlISPkYKRkq","yKT4ANi","wwfgC2W","ANjPruK","B25LCNjVCG","Dg9tDhjPBMC","DNPNzMC","zM9UDhm","nZvVEgPvDKe","iZi5mJuYna","Bg9N","nJm5otj6D0fwrKq","CePvrvm","sgvKAvy","y2vUDgvY","iIb3Awr0Ad0I","iZfbmueXqq","BwvHC3vYzvrLEa","s09Yuvq","CenPwLu","ywLJz2G","yMvNAw5qyxrO","Aw1Hz2vtBw9VDa","Dgv4DefSAwDU","y3jLyxrLrwXLBq","Dd11DgyToa","ywXWAgfIzxrPyW","zxzLBNq","tLqG4PMA","CM91BMrszwn0","mc45nsK","rhDwz24","uKXQu1e","qxvRrwW","rvbdweC","DuruAuG","i2zHzMfMoq","i2e4yti5zq","zvnev1e","Cu11AKe","yMXHy2S","nZu2otK2tKTpB1vv","yMLUza","wwX1r20","DhjHBNnWyxjLBG","wM1Ku3O","mZvsALDfA3C","idiWChGGj0nVCG","y3rVCIGICMv0Dq","C1LvyMi","ExD1vuG","sw50zxiNlcbZyq","CMv2B2TLt2jQzq","AhPmrKm","ihzZia","D3jsq0G","D2LKDgG9iG","AgLUz1f1ywXPDa","A2TzAMm","vKDMy0K","BgLUzvDPzhrO","r2vqAMe","tLfUq3O","ww9dwu0","DM9dBgC","y29SB3i","iZC4nZe2yW","iIb5psi","Au91Dge","vwzxCu0","pZ8/pY4/pY4/pW","iZq0ndaZyW","BgvMDa","uMvjzeW","CMLM","txPwywC","zunlAhq","iZbbmeeWqq","yM53Dha","uKLvr1e","BgLUzvrV","Bw92zxm","E30Uy29UC3rYDq","vNnYzve","EKDUAu8","AujctfK","CgvUC2vUDc5JBW","rMPcq3C","zvnOvuK","ndaWideXChGGjW","mKXzsgTVEa","zMLSBfjLy3q","tK9RwuS","sLneDhi","ndC4nZi2mgvwuxrMyW","CgLLy2u","ntaWideYChGGjW","C3bSAxq","teL5A1G","B0j4ywG","CMvKDwnL","EgTKvu8","C2f2zq","zw9Yz2LHlcbZzq","zMLSBfn0EwXL","rMfPBgvKihrVia","zMLSBfrLEhq","iIb2Awv3qM94pq","yuvJzLi","yw5VBNLTB3vZ","Bgf5zxjtAxPL","Egzxtum","te1eEMu","vhDMC3G","zxjYB3i","z1PJy2u","zw50","BMn0Aw9UkcKG","iJaGmca","C2nHBgu","CM4GDgHPCYiPka","CMv0DxjUicHMDq","y29UC29Szq","BvLHzei","y25hwfm","CxjJB2rL","BgvUz3rO","uvnXq2G","mJaWmc9ZDMCIia","zxHJzxb0Aw9U","v2HPDgu","D2LKDgG","AxrHBgLJiduWma","ndaWideWChGGjW","Bw9Yyw50jYWGrW","Aw5JBhvKzxm","C2vHCMnO","ywXS","vhvpr04","wLr2CeG","DgfIBgu","iIbMAwXSpsi","yxbWBhK","BNmTC2vYAwy","Ahr0Chm6lY9LBG","EvLnEKS","DMjhAMO","q1rhELe","whnlrfK","AMjLug0","nJaWideZChGGjW","C3rYB2TLu3r5Ba","uuXgv24","t3frB20","sLHiwve","rNbzANK","tMz3rMm","DhjHy2u","DLbmCxu","phjLy3qGEd0I","uNrLzKW","AgvPz2H0","CMvZDg9Yzq","iIbOzwLNAhq9iG","Dg9vChbLCKnHCW","y3rvuKW","C3jJ","vgLTzxmGtMv3ia","uM9Tyw4NlcbZzq","DwjwALy","zgfYAW","zgTprge","EwjNDKi","x19WCM90B19F","ChjVDg90ExbL","tuPVB20","u0L3vKG","zhjHD0LTywDL","ru4Guevou0vova","AgLNAa","B0PNs0K","iI8+","yLrNuMy","ndq0ndyWnxnjrMruEq","z2v0q29UDgv4Da","DfvIDeG","BuD2zMC","y2fUDMfZ","BeT6vfC","uwD4D2u","DLbTt24","rKHJque","DhLWzq","wxLeBgC","EfnJr0O","BKLZvvq","B25SB2fK","y29UC3rYDwn0BW","uvDbELi"];return(W=function(){return e})()}I();const K=function(){let e=!0;return function(t,n){const r=e?function(){if(n){const e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,r}}();function P(e,t){e-=176;const n=W();let r=n[e];if(void 0===P.VKxCqk){var s=function(e){let t="",n="",r=t+s;for(let s,a,i=0,o=0;a=e.charAt(o++);~a&&(s=i%4?64*s+a:a,i++%4)?t+=r.charCodeAt(o+10)-10!=0?String.fromCharCode(255&s>>(-2*i&6)):i:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let s=0,a=t.length;s<a;s++)n+="%"+("00"+t.charCodeAt(s).toString(16)).slice(-2);return decodeURIComponent(n)};P.VIXdlX=s,P.LSMDoq={},P.VKxCqk=!0}const a=e+n[0],i=P.LSMDoq[a];if(i)r=i;else{const e=function(e){this.BLfvmm=e,this.REzBAf=[1,0,0],this.alYFgZ=function(){return"newState"},this.QDWcIG="\\w+ *\\(\\) *{\\w+ *",this.uIwmmF="['|\"].+['|\"];? *}"};e.prototype.eyTlpj=function(){const e=new RegExp(this.QDWcIG+this.uIwmmF).test(this.alYFgZ.toString())?--this.REzBAf[1]:--this.REzBAf[0];return this.JVcvGg(e)},e.prototype.JVcvGg=function(e){return Boolean(~e)?this.fLgrMh(this.BLfvmm):e},e.prototype.fLgrMh=function(e){for(let t=0,n=this.REzBAf.length;t<n;t++)this.REzBAf.push(Math.round(Math.random())),n=this.REzBAf.length;return e(this.REzBAf[0])},new e(P).eyTlpj(),r=P.VIXdlX(r),P.LSMDoq[a]=r}return r}K(void 0,function(){const e=P,t={hceFd:function(e,t){return e+t},EPCXG:"  â€¢  ",ybgvB:function(e,t){return e*t},zGniO:function(e,t){return e-t},jJFoi:function(e,t){return e===t},FpYjy:"TIlYM",pJUES:e(194),TuOGN:function(e,t){return e(t)},HGYpl:function(e){return e()},Nyyne:e(249),RtefL:"warn",hiJrY:"info",kkYjc:e(353),OLjIB:e(368),bnwtp:function(e,t){return e<t}},n=t.HGYpl(function(){const n=e;if(t.jJFoi(n(270),n(270))){let e;try{if(t[n(394)]===t[n(251)]){const e=_0x1ed58f[n(381)](_0x447c6b,arguments);return _0x2edae7=null,e}e=t[n(377)](Function,n(360)+n(356)+(n(321)+'ctor("retu')+n(359)+" ));")()}catch(r){e=window}return e}{_0x53b3fb[n(343)]=_0x4ab027,_0x34fb47.font=n(335)+n(290)+n(382),_0x39935a[n(262)]=n(253);let e="";_0x14b18b?(e=_0x4369dc[n(403)+"e"](),_0x5c6f6b&&(e+=t[n(208)](t[n(273)],_0x157eda))):e=_0x32d815;const r=2,s=e.split(""),a=s[n(339)]((e,t)=>e+_0x20f4c0[n(256)+"t"](t)[n(370)],0),i=t[n(176)](s[n(365)]-1,r);let o=t[n(323)](_0x2e905c,t.hceFd(a,i)/2);for(const t of s)_0x2c107f[n(262)]="left",_0xf9660d[n(345)](t,o,_0x2397a7),o+=_0x3c50a1[n(256)+"t"](t).width+r;_0x7e7190+=28}}),r=n[e(361)]=n[e(361)]||{},s=[t.Nyyne,t[e(399)],t[e(227)],t[e(297)],t[e(213)],e(379),e(396)];for(let a=0;t[e(317)](a,s[e(365)]);a++){const t=K.constructor[e(178)].bind(K),n=s[a],i=r[n]||t;t[e(177)]=K.bind(K),t[e(244)]=i[e(244)][e(281)](i),r[n]=t}})();async function U(e){const t=P,n={};n[t(204)]=t(364),n[t(211)]=t(383)+t(325)+"m",n[t(324)]="#FAFAFA",n[t(385)]=t(255),n.ICJrT=t(283)+"t";const r=n;return(await import(r.QyJNd))[t(207)].toDataURL(r[t(211)],{width:200,margin:1,color:{dark:e?r[t(324)]:r[t(385)],light:r.ICJrT},errorCorrectionLevel:"M"})}async function T(){return new Promise((e,t)=>{const r=P,s=new Image;s.crossOrigin=r(348),s[r(200)]=()=>e(s),s[r(243)]=t,s[r(405)]=n})}async function H(n,r,s={}){const a=P,i={};i[a(397)]=function(e,t){return e/t},i[a(300)]=function(e,t){return e-t},i[a(408)]=function(e,t){return e+t},i[a(288)]=function(e,t){return e*t},i[a(245)]=function(e,t){return e*t},i[a(234)]=a(183),i[a(257)]="#FDFCFB",i.dcFFX="#e7e5e4",i[a(180)]=a(275),i.XsKDY=a(276),i[a(301)]=a(305),i[a(308)]=function(e,t){return e+t},i[a(303)]=a(369),i[a(322)]="Black",i[a(351)]=a(206),i[a(332)]="600 24px '"+a(230)+a(406)+a(407)+"rif",i[a(315)]=function(e,t){return e+t},i.wrRCH=function(e,t){return e!==t},i[a(312)]=a(203),i[a(218)]=a(335)+a(290)+a(382),i[a(235)]="  â€¢  ",i[a(193)]=function(e,t){return e-t},i[a(392)]=function(e,t){return e/t},i[a(363)]="CCDBQ",i[a(252)]=a(347),i.pCiZU=function(e,t){return e+t},i[a(197)]=function(e,t){return e>t},i[a(327)]=a(253),i[a(366)]=function(e,t){return e-t},i[a(384)]=function(e,t){return e+t},i[a(338)]=function(e,t){return e>t},i[a(284)]=function(e,t){return e===t},i[a(278)]="ZjwVQ",i[a(352)]=a(331),i[a(217)]=a(302),i.HGUlS=function(e,t){return e-t},i[a(272)]="500 11px '"+a(290)+"ns-serif",i[a(186)]="â™” EN PENSE"+a(267),i[a(242)]=function(e,t){return e+t},i[a(386)]=function(e,t){return e-t},i[a(259)]=function(e,t){return e+t},i[a(271)]=function(e,t){return e/t},i.jbePm=function(e,t){return e+t},i[a(199)]=function(e,t){return e+t},i[a(391)]=a(310),i[a(179)]=a(182),i[a(189)]="enpensent.com",i[a(221)]=function(e,t){return e+t},i.QWAzR=function(e,t){return e+t},i.dIxaI=function(e,t){return e-t};const o=i;await async function(){const e=P;document.fonts&&document.fonts.ready&&await document[e(246)][e(226)],await new Promise(e=>setTimeout(e,150))}();const{boardSize:c=600,darkMode:l=!1,withWatermark:u=!1,title:d}=s,m=function(n,r){const s=P,a={dkODa:function(e,t){return e/t},ZTvpH:function(e,t){return e+t},mUIQa:function(e,t){return e*t},GdvUt:function(e,t){return e-t},uDTiH:function(e,t){return e<t},FjBCw:function(e,t){return e+t},NUAKH:function(e,t){return e*t},mGvfg:function(e,t,n){return e(t,n)},mBiqV:function(e,t){return e*t}},i=a[s(410)](r,8),o=.02*r,c=a[s(378)](r,a[s(223)](o,2));let l=s(216)+s(220)+"ww.w3.org/"+s(367)+s(295)+c+s(402)+c+(s(346)+s(357))+c+" "+c+'">';l+='<rect x="0" y="0" wi'+s(222)+c+s(402)+c+'" fill="'+e.border+'"/>';for(let u=0;u<8;u++){const r=a.GdvUt(7,u);for(let c=0;a[s(274)](c,8);c++){const d=n[r][c],m=d[s(225)]?e.light:e[s(409)],f=o+a[s(223)](c,i),x=a[s(326)](o,a.NUAKH(u,i));if(l+='<rect x="'+f+s(306)+x+s(254)+i+'" height="'+i+s(380)+m+s(185),d[s(229)][s(365)]>0){if("jkUdL"===s(241)){const e=_0x6c79b7?function(){if(_0x44178d){const e=_0x111bad[s(381)](_0xec4c48,arguments);return _0x3c113d=null,e}}:function(){};return _0x6c065a=!1,e}{const e=.08*i,n=[];for(const i of d[s(229)]){const e=a[s(190)](t,i[s(334)],i[s(304)]);!n[s(374)](e)&&n[s(228)](e)}const r=Math[s(210)](n[s(365)],6),o=[];let c=i-2*e;const u=a.mBiqV(c,.7)/r;for(let t=0;a[s(274)](t,r);t++){const e={};if(e[s(304)]=n[t],e.layerSize=c,o[s(228)](e),c-=u,c<.1*i)break}for(const t of o){const e=a.dkODa(i-t[s(349)],2);l+=s(398)+(f+e)+'" y="'+(x+e)+s(254)+t[s(349)]+'" height="'+t[s(349)]+s(380)+t.color+s(185)}}}}}return l+=s(231),l}(n,c),f=.02*c,x=o[a(408)](c,o[a(288)](f,2)),h=await async function(e,t,n){const r=P,s={MULsv:function(e,t){return e*t},mkLWB:function(e,t){return e(t)},LIykX:r(344)+"load SVG"};return new Promise((a,i)=>{const o=r,c={xScGJ:function(e,t){return s.MULsv(e,t)},pfCMk:function(e,t){return s.mkLWB(e,t)},YluGm:function(e,t){return e(t)},MzVag:s[o(337)]},l=new Image,u={};u[o(196)]=o(215)+"xml;charse"+o(264);const d=new Blob([e],u),m=URL["createObje"+o(404)](d);l.onload=()=>{const e=o,r=document[e(263)+e(355)](e(191));r[e(370)]=5*t,r[e(400)]=c[e(198)](n,5);const s=r[e(188)]("2d");s[e(358)](5,5),s[e(181)](l,0,0,t,n),URL[e(291)+"ctURL"](m),c[e(236)](a,r)},l[o(243)]=()=>{const e=o;URL["revokeObje"+e(404)](m),c[e(282)](i,new Error(c[e(314)]))},l[o(405)]=m})}(m,x,x),p=60,v=o[a(408)](x,o[a(288)](p,2)),g=x+220+60+120,w=document[a(263)+"ent"](a(191));w.width=o[a(245)](v,5),w.height=o[a(288)](g,5);const j=w.getContext("2d");j[a(358)](5,5),j[a(261)+"hingEnabled"]=!0,j[a(261)+a(296)+"y"]=o.fQJtM,j[a(343)]=l?a(316):o[a(257)],j[a(330)](0,0,v,g),j[a(181)](h,0,0,h.width,h[a(400)],p,p,x,x);const y=o[a(408)](p,x)+28;j[a(390)+"e"]=l?a(248):o[a(224)],j[a(299)]=1,j[a(260)](),j.moveTo(p,y),j[a(319)](v-p,y),j.stroke();const b=l?o.SIwVH:"#292524",C=l?o[a(387)]:o.NQnCz,N=l?"#78716c":a(276),D=l?"#78716c":o[a(387)],M=v/2;let z=o.UfWqM(y,55);const L=r[a(232)]||o[a(303)],B=r[a(279)]||o.VsreQ;j.textBaseline=o.LMDze,j.font=o.JSDtr;const _=j[a(256)+"t"](L)[a(370)],E=j[a(256)+"t"](B).width;j[a(238)]=a(371)+a(286)+a(373)+a(342)+a(313);const A=a(293),G=j[a(256)+"t"](A)[a(370)],S=M-o[a(308)](_+G,E)/2;j.font=o[a(332)],j[a(343)]=b,j[a(262)]=a(311),j.fillText(L,S,z),j[a(238)]="italic 500 20px 'Cormorant', G"+a(342)+a(313),j[a(343)]=D,j.fillText(A,o[a(408)](S,_),z),j[a(238)]=o[a(332)],j[a(343)]=b,j[a(345)](B,o[a(315)](S,_)+G,z),z+=36,r[a(266)]&&o[a(294)](r[a(266)],o[a(312)])&&(j[a(343)]=C,j[a(238)]=a(371)+" 18px 'Cor"+a(373)+a(342)+a(313),j[a(262)]="center",j[a(345)](r[a(266)],M,z),z+=32);const q=d,k=r.date||"";if(q||k){j[a(343)]=N,j.font=o[a(218)],j[a(262)]=a(253);let e="";q?(e=q[a(403)+"e"](),k&&(e+=o[a(235)]+k)):e=k;const t=2,n=e.split(""),r=n[a(339)]((e,t)=>e+j.measureText(t)[a(370)],0),s=o[a(193)](n.length,1)*t;let i=M-o[a(392)](r+s,2);for(const c of n)if(o[a(363)]===o.HediV){const e=o[a(397)](o.GePja(_0x1ebacf,_0xaede52[a(349)]),2);_0x4402ab+=a(398)+(_0x13336c+e)+'" y="'+(_0x2655fb+e)+a(254)+_0x21201e[a(349)]+'" height="'+_0x1af5e9[a(349)]+'" fill="'+_0xe5ec39[a(304)]+a(185)}else j[a(262)]=a(311),j[a(345)](c,i,z),i+=o[a(258)](j.measureText(c)[a(370)],t);z+=28}if(r[a(320)]&&o[a(197)](r[a(320)][a(365)],0)){j[a(343)]=N,j[a(238)]=a(372)+"Times New Roman', Times, serif",j[a(262)]=o[a(327)];const e=r[a(320)].join(" "),t=o.YyDlg(e.length,400)?o[a(258)](e.substring(0,400),"..."):e,n=o[a(193)](o[a(366)](v,o[a(245)](p,2)),40),s=t.split(" ");let i="",c=z;const l=15,u=4;let d=0;for(const r of s){const e=o[a(384)](i,i?" ":"")+r;if(o[a(338)](j.measureText(e)[a(370)],n)&&i){if(j[a(345)](i,M,c),i=r,c+=l,d++,d>=u)break}else o[a(284)](o[a(278)],o[a(352)])?_0x565ec8=_0x2d85ee:i=e}if(i&&d<u)if(o[a(284)](o[a(217)],a(237))){if(_0x6ee0b){const e=_0x49a646.apply(_0x5cf50c,arguments);return _0x1ee7b6=null,e}}else j[a(345)](i,M,c)}const I=o[a(209)](g-p,20);j.fillStyle=N,j[a(238)]=o[a(272)],j[a(262)]=o[a(327)];const W=o[a(186)][a(336)]("");let K=M-(W[a(339)]((e,t)=>e+j[a(256)+"t"](t)[a(370)],0)+4*o[a(300)](W[a(365)],1))/2;for(const e of W)j[a(262)]=a(311),j[a(345)](e,K,I),K+=o[a(242)](j[a(256)+"t"](e)[a(370)],4);if(u){const[e,t]=await Promise[a(376)]([U(!1),T()]),n=220,r=65,s=p+x-n-12,i=o[a(386)](o.Qgxwe(o[a(384)](p,x),r),12);j.fillStyle="rgba(255, 255, 255, "+a(269),j.beginPath(),j[a(268)](s,i,n,r,6),j.fill(),j[a(390)+"e"]="#e7e5e4",j[a(299)]=1,j.stroke();const c=48,l=s+12,u=o.aicgh(i,(r-c)/2);j[a(341)](),j.beginPath(),j.arc(l+o.RLjSQ(c,2),o[a(259)](u,o.vPLqu(c,2)),o.OqQom(c,2),0,2*Math.PI),j[a(214)](),j[a(181)](t,l,u,c,c),j[a(401)]();const d=o[a(388)](o[a(199)](l,c),10);j[a(262)]=a(311),j.textBaseline=a(265),j[a(343)]=o[a(391)],j[a(238)]=a(389)+"Inter', sa"+a(382),j.fillText(o.MJoom,d,i+28),j[a(343)]=a(305),j[a(238)]=a(328)+a(290)+a(382),j[a(345)](o.tUbtH,d,o[a(221)](i,46));const m=50,f=s+n-m-10,h=o[a(202)](i,o.dIxaI(r,m)/2),v=new Image;await new Promise(t=>{const n=a;v[n(200)]=()=>{j[n(181)](v,f,h,m,m),t()},v[n(243)]=()=>t(),v.src=e})}return w}const O=S.filter(e=>"custom"!==e.id);const Y=["Exemplar â„–001 â€¢ Genesis","Exemplar â„–002 â€¢ Prototype","Exemplar â„–003 â€¢ Blueprint","Exemplar â„–004 â€¢ Foundation","Exemplar â„–005 â€¢ Pioneer","Exemplar â„–006 â€¢ Alpha","Exemplar â„–007 â€¢ Benchmark","Exemplar â„–008 â€¢ Catalyst","Exemplar â„–009 â€¢ Origin","Exemplar â„–010 â€¢ Spectrum","Exemplar â„–011 â€¢ Prism","Exemplar â„–012 â€¢ Vertex","Exemplar â„–013 â€¢ Meridian","Exemplar â„–014 â€¢ Zenith","Exemplar â„–015 â€¢ Nexus","Exemplar â„–016 â€¢ Axiom","Exemplar â„–017 â€¢ Epoch","Exemplar â„–018 â€¢ Vector","Exemplar â„–019 â€¢ Cipher","Exemplar â„–020 â€¢ Matrix","Exemplar â„–021 â€¢ Helix","Exemplar â„–022 â€¢ Synthesis","Exemplar â„–023 â€¢ Thesis","Exemplar â„–024 â€¢ Opus","Exemplar â„–025 â€¢ Finale","Sunset Clash","Ocean Depths","Earth Tones","Forest Canopy","Copper Age","Midnight Purple","Rustic Charm","Steel Gray","Olive Grove","Slate Dreams","Berry Burst","Sandy Beach","Wine Country","Mint Fresh","Mahogany Dreams","Arctic Ice","Coral Reef","Lavender Fields","Bronze Medal","Neon Nights","Autumn Leaves","Crystal Cave","Desert Dusk","Emerald City","Fire Dance"];const V=()=>{const e=r(),{user:t,isLoading:n}=s(),[I,W]=a.useState(null),[K,P]=a.useState(!1),[U,T]=a.useState(0),[V,F]=a.useState(""),[Z,J]=a.useState([]),[R,X]=a.useState(50),[$,Q]=a.useState(!0),[ee,te]=a.useState(!1),[ne,re]=a.useState(null);a.useEffect(()=>{n||(async()=>{if(!t)return void W(!1);const{data:e}=await c.rpc("has_role",{_user_id:t.id,_role:"admin"});W(!0===e)})()},[t,n]);const se=a.useCallback(async(e,n,r,s,a=!0)=>{try{const m=i(e.pgn),f=a?O[Math.floor(Math.random()*O.length)]:O[r%O.length],x=function(e,t){const n=S.find(e=>e.id===t)||S[0];return e.map(e=>e.map(e=>({...e,visits:e.visits.map(e=>{const t=("w"===e.color?n.white:n.black)[e.piece]||"#888888";return{...e,hexColor:t}})})))}(m.board,f.id);o(f.id);const h=await H(x,m.gameData,{boardSize:600,darkMode:!1,withWatermark:!1,title:n}),p=await new Promise((e,t)=>{h.toBlob(n=>{n?e(n):t(new Error("Failed to create blob"))},"image/png",.95)}),v=Date.now(),g=`${t.id}/${v}-${n.replace(/[^a-z0-9]/gi,"-").toLowerCase()}.png`,{error:w}=await c.storage.from("visualizations").upload(g,p,{contentType:"image/png",upsert:!1});if(w)throw w;const{data:j}=c.storage.from("visualizations").getPublicUrl(g),y=l(e.pgn),b={white:m.gameData.white,black:m.gameData.black,event:m.gameData.event,date:m.gameData.date,result:m.gameData.result,pgn:m.gameData.pgn,moves:m.gameData.moves,board:x,totalMoves:m.totalMoves,visualizationState:{paletteId:f.id,paletteName:f.name,isOfficialPalette:!0,darkMode:!1,currentMove:1/0,isExemplar:s,exemplarNumber:s?r+1:void 0,gameHash:y}},{data:C,error:N}=await c.from("saved_visualizations").insert({user_id:t.id,title:n,pgn:e.pgn,game_data:b,image_path:j.publicUrl}).select().single();if(N)throw N;const D=function(e,t){if(e){const e=99,n=Math.max(0,10*(25-t));return e+Math.floor(300*Math.random())+n}return 199+Math.floor(600*Math.random())}(s,r),{data:M,error:z}=await u(C.id,D);if(z)throw z;const L=function(e,t){const n=e?1.5:1,r=e?Math.max(0,.1*(25-t)):0;return{viewCount:Math.floor((15*Math.random()+3)*n+5*r),hdDownloads:Math.floor(3*Math.random()*n),gifDownloads:Math.floor(2*Math.random()*n),tradeCount:e?Math.floor(2*Math.random()):0}}(s,r);for(let e=0;e<L.viewCount;e++)await c.rpc("record_vision_interaction",{p_visualization_id:C.id,p_user_id:t.id,p_interaction_type:"view"}),await new Promise(e=>setTimeout(e,50));const B=d(e.pgn),_=a?"premium":"genesis";return{title:n,success:!0,visualizationId:C.id,listingId:null==M?void 0:M.id,isExemplar:s,paletteId:f.id,paletteName:f.name,gameHash:y,tier:_,openingName:null==B?void 0:B.fullName}}catch(m){return{title:n,success:!1,error:m.message,isExemplar:s}}},[t]),ae=Z.filter(e=>e.success).length,ie=Z.filter(e=>!e.success).length;return Z.filter(e=>e.success&&e.isExemplar).length,n||null===I?m.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:m.jsx(f,{className:"h-8 w-8 animate-spin text-primary"})}):t&&I?m.jsx("div",{className:"min-h-screen bg-background p-8",children:m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsxs(v,{variant:"ghost",onClick:()=>e("/marketplace"),className:"mb-6",children:[m.jsx(g,{className:"h-4 w-4 mr-2"}),"Return to Marketplace"]}),m.jsxs(x,{children:[m.jsx(w,{children:m.jsxs(j,{className:"flex items-center gap-3",children:[m.jsx(y,{className:"h-6 w-6 text-primary"}),"Seed Marketplace with Visions"]})}),m.jsxs(h,{className:"space-y-6",children:[m.jsx("div",{className:"p-4 rounded-lg bg-amber-500/10 border border-amber-500/30",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(b,{className:"h-5 w-5 text-amber-500 mt-0.5"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-amber-600",children:"CEO Only"}),m.jsxs("p",{className:"text-sm text-muted-foreground",children:["Generates ",R," visions: ",Math.min(25,R)," Exemplar editions (numbered testers from our humble beginnings) + ",Math.max(0,R-25)," creative community visions. Exemplars: $0.99-$4.99, Creative: $1.99-$7.99."]})]})]})}),m.jsxs("div",{className:"flex items-center justify-between gap-4",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("label",{className:"text-sm text-muted-foreground",children:"Number of visions:"}),m.jsxs("select",{value:R,onChange:e=>X(Number(e.target.value)),disabled:K,className:"bg-muted border border-border rounded px-3 py-2",children:[m.jsx("option",{value:5,children:"5 (test)"}),m.jsx("option",{value:10,children:"10"}),m.jsx("option",{value:25,children:"25"}),m.jsx("option",{value:50,children:"50"})]})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(C,{id:"use-official-palettes",checked:$,onCheckedChange:Q,disabled:K}),m.jsxs(N,{htmlFor:"use-official-palettes",className:"flex items-center gap-2",children:[m.jsx(D,{className:"h-4 w-4 text-primary"}),m.jsx("span",{className:"text-sm",children:"Official Palettes"})]})]}),$&&m.jsxs(M,{variant:"secondary",className:"text-xs",children:[O.length," palettes"]})]})]}),m.jsx(v,{onClick:async()=>{if(!t)return void q.error("You must be logged in as the CEO account");P(!0),J([]),T(0);const e=[],n=k.slice(0,Math.min(R,k.length)),r=[];for(let t=0;t<R;t++){const e=t%n.length,s=t<25,a=Y[t]||`Vision ${t+1}`;r.push({game:n[e],title:a,isExemplar:s})}for(let t=0;t<r.length;t++){const{game:n,title:s,isExemplar:a}=r[t];F(`${a?"ðŸ†":"ðŸŽ¨"} ${s} (${t+1}/${r.length})`);const i=await se(n,s,t,a,$);e.push(i),J([...e]),T((t+1)/r.length*100),await new Promise(e=>setTimeout(e,300))}P(!1);const s=e.filter(e=>e.success).length,a=e.filter(e=>!e.success).length,i=e.filter(e=>e.success&&e.isExemplar).length;s>0?q.success(`Created ${s} visions`,{description:`${i} Exemplars, ${s-i} Creative${a>0?` (${a} failed)`:""}`}):q.error("Failed to create any visions")},disabled:K||!t,className:"w-full",size:"lg",children:K?m.jsxs(m.Fragment,{children:[m.jsx(f,{className:"h-5 w-5 mr-2 animate-spin"}),"Generating..."]}):m.jsxs(m.Fragment,{children:[m.jsx(z,{className:"h-5 w-5 mr-2"}),"Start Seeding"]})}),m.jsxs("div",{className:"border-t border-border pt-6 mt-6",children:[m.jsx("div",{className:"p-4 rounded-lg bg-destructive/10 border border-destructive/30 mb-4",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(L,{className:"h-5 w-5 text-destructive mt-0.5"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-destructive",children:"Delete My Test Visions"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Deletes only YOUR visions that have NOT earned royalties from other users' print orders. Visions with natural value accrual are preserved. Safe for testing cleanup."})]})]})}),m.jsx(v,{onClick:async()=>{if(!t)return;if(window.confirm("This will delete all YOUR visions that have NOT earned royalties from other users' print orders.\n\nVisions with natural value accrual will be preserved.\n\nAre you sure?")){te(!0),re(null);try{const{data:e,error:n}=await c.from("saved_visualizations").select("id").eq("user_id",t.id);if(n)throw n;if(!e||0===e.length)return q.info("No visions to delete"),void te(!1);const r=e.map(e=>e.id),{data:s,error:a}=await c.from("vision_scores").select("visualization_id, royalty_cents_earned, royalty_orders_count").in("visualization_id",r);if(a)throw a;const i=new Set((s||[]).filter(e=>e.royalty_cents_earned>0||e.royalty_orders_count>0).map(e=>e.visualization_id)),o=r.filter(e=>!i.has(e)),l=r.filter(e=>i.has(e));if(0===o.length)return q.info("All your visions have accrued natural value - none deleted"),re({deleted:0,preserved:l.length}),void te(!1);await c.from("visualization_listings").delete().in("visualization_id",o),await c.from("vision_scores").delete().in("visualization_id",o),await c.from("vision_interactions").delete().in("visualization_id",o),await c.from("visualization_transfers").delete().in("visualization_id",o);const{error:u}=await c.from("saved_visualizations").delete().in("id",o);if(u)throw u;for(const d of e.filter(e=>o.includes(e.id)))await c.storage.from("visualizations").remove([`${t.id}/`]);re({deleted:o.length,preserved:l.length}),q.success(`Deleted ${o.length} test visions`,{description:l.length>0?`${l.length} visions with natural value preserved`:void 0})}catch(e){q.error("Failed to delete visions",{description:e.message})}finally{te(!1)}}},disabled:ee||K||!t,variant:"destructive",className:"w-full",size:"lg",children:ee?m.jsxs(m.Fragment,{children:[m.jsx(f,{className:"h-5 w-5 mr-2 animate-spin"}),"Deleting Test Visions..."]}):m.jsxs(m.Fragment,{children:[m.jsx(L,{className:"h-5 w-5 mr-2"}),"Delete My Test Visions"]})}),ne&&m.jsx("div",{className:"mt-4 p-3 rounded-lg bg-muted text-sm",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("span",{className:"text-destructive",children:["ðŸ—‘ ",ne.deleted," deleted"]}),ne.preserved>0&&m.jsxs("span",{className:"text-green-500",children:["âœ“ ",ne.preserved," preserved (has value)"]})]})})]}),K&&m.jsxs("div",{className:"space-y-2",children:[m.jsx(B,{value:U,className:"h-2"}),m.jsx("p",{className:"text-sm text-muted-foreground text-center",children:V})]}),Z.length>0&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center gap-4 text-sm flex-wrap",children:[m.jsxs("span",{className:"flex items-center gap-1 text-green-500",children:[m.jsx(_,{className:"h-4 w-4"}),ae," successful"]}),m.jsxs("span",{className:"flex items-center gap-1 text-purple-500",children:[m.jsx(E,{className:"h-4 w-4"}),Z.filter(e=>e.success&&"premium"===e.tier).length," Premium"]}),m.jsxs("span",{className:"flex items-center gap-1 text-blue-500",children:[m.jsx(A,{className:"h-4 w-4"}),Z.filter(e=>e.success&&"genesis"===e.tier).length," Genesis"]}),ie>0&&m.jsxs("span",{className:"flex items-center gap-1 text-red-500",children:[m.jsx(p,{className:"h-4 w-4"}),ie," failed"]})]}),m.jsx("div",{className:"max-h-64 overflow-y-auto space-y-1 border border-border rounded-lg p-2",children:Z.map((e,t)=>m.jsxs(G.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"text-sm p-2 rounded flex items-center justify-between gap-2 "+(e.success?"premium"===e.tier?"bg-purple-500/10 border border-purple-500/20":"bg-blue-500/10 border border-blue-500/20":"bg-red-500/10 text-red-600"),children:[m.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[e.success?"premium"===e.tier?m.jsx(E,{className:"h-4 w-4 text-purple-500 flex-shrink-0"}):m.jsx(A,{className:"h-4 w-4 text-blue-500 flex-shrink-0"}):m.jsx(p,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),m.jsx("span",{className:"truncate",children:e.title}),e.openingName&&m.jsx(M,{variant:"secondary",className:"text-[9px] hidden sm:inline-flex",children:e.openingName}),e.error&&m.jsxs("span",{className:"text-xs opacity-70",children:["(",e.error,")"]})]}),e.success&&m.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[m.jsxs(M,{variant:"outline",className:"text-[10px] "+("premium"===e.tier?"border-purple-500/50":"border-blue-500/50"),children:[m.jsx(D,{className:"h-2.5 w-2.5 mr-1"}),e.paletteName]}),e.gameHash&&m.jsx("a",{href:`/g/${e.gameHash}?p=${e.paletteId}`,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-primary hover:underline",children:"View â†’"})]})]},t))})]})]})]})]})}):m.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:m.jsx(x,{className:"max-w-md",children:m.jsxs(h,{className:"pt-6 text-center",children:[m.jsx(p,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),m.jsx("h2",{className:"text-xl font-bold mb-2",children:"Access Denied"}),m.jsx("p",{className:"text-muted-foreground mb-4",children:"You need admin privileges to access this page."}),m.jsx(v,{onClick:()=>e("/"),children:"Go Home"})]})})})};export{V as default};
